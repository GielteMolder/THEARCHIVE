(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Rd={exports:{}},vo={};var k_;function IA(){if(k_)return vo;k_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:c}}return vo.Fragment=t,vo.jsx=i,vo.jsxs=i,vo}var L_;function CA(){return L_||(L_=1,Rd.exports=IA()),Rd.exports}var j=CA(),Id={exports:{}},bt={};var U_;function xA(){if(U_)return bt;U_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),O=Symbol.iterator;function Y(D){return D===null||typeof D!="object"?null:(D=O&&D[O]||D["@@iterator"],typeof D=="function"?D:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,nt={};function pt(D,K,et){this.props=D,this.context=K,this.refs=nt,this.updater=et||Z}pt.prototype.isReactComponent={},pt.prototype.setState=function(D,K){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,K,"setState")},pt.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function vt(){}vt.prototype=pt.prototype;function Et(D,K,et){this.props=D,this.context=K,this.refs=nt,this.updater=et||Z}var Qt=Et.prototype=new vt;Qt.constructor=Et,it(Qt,pt.prototype),Qt.isPureReactComponent=!0;var oe=Array.isArray;function ot(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(D,K,et){var st=et.ref;return{$$typeof:s,type:D,key:K,ref:st!==void 0?st:null,props:et}}function V(D,K){return I(D.type,K,D.props)}function x(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function k(D){var K={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(et){return K[et]})}var w=/\/+/g;function $t(D,K){return typeof D=="object"&&D!==null&&D.key!=null?k(""+D.key):K.toString(36)}function wt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(ot,ot):(D.status="pending",D.then(function(K){D.status==="pending"&&(D.status="fulfilled",D.value=K)},function(K){D.status==="pending"&&(D.status="rejected",D.reason=K)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function H(D,K,et,st,yt){var St=typeof D;(St==="undefined"||St==="boolean")&&(D=null);var Dt=!1;if(D===null)Dt=!0;else switch(St){case"bigint":case"string":case"number":Dt=!0;break;case"object":switch(D.$$typeof){case s:case t:Dt=!0;break;case T:return Dt=D._init,H(Dt(D._payload),K,et,st,yt)}}if(Dt)return yt=yt(D),Dt=st===""?"."+$t(D,0):st,oe(yt)?(et="",Dt!=null&&(et=Dt.replace(w,"$&/")+"/"),H(yt,K,et,"",function(Vi){return Vi})):yt!=null&&(x(yt)&&(yt=V(yt,et+(yt.key==null||D&&D.key===yt.key?"":(""+yt.key).replace(w,"$&/")+"/")+Dt)),K.push(yt)),1;Dt=0;var ge=st===""?".":st+":";if(oe(D))for(var ee=0;ee<D.length;ee++)st=D[ee],St=ge+$t(st,ee),Dt+=H(st,K,et,St,yt);else if(ee=Y(D),typeof ee=="function")for(D=ee.call(D),ee=0;!(st=D.next()).done;)st=st.value,St=ge+$t(st,ee++),Dt+=H(st,K,et,St,yt);else if(St==="object"){if(typeof D.then=="function")return H(wt(D),K,et,st,yt);throw K=String(D),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Dt}function W(D,K,et){if(D==null)return D;var st=[],yt=0;return H(D,st,"","",function(St){return K.call(et,St,yt++)}),st}function ct(D){if(D._status===-1){var K=D._result;K=K(),K.then(function(et){(D._status===0||D._status===-1)&&(D._status=1,D._result=et)},function(et){(D._status===0||D._status===-1)&&(D._status=2,D._result=et)}),D._status===-1&&(D._status=0,D._result=K)}if(D._status===1)return D._result.default;throw D._result}var Ut=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},qt={map:W,forEach:function(D,K,et){W(D,function(){K.apply(this,arguments)},et)},count:function(D){var K=0;return W(D,function(){K++}),K},toArray:function(D){return W(D,function(K){return K})||[]},only:function(D){if(!x(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return bt.Activity=S,bt.Children=qt,bt.Component=pt,bt.Fragment=i,bt.Profiler=o,bt.PureComponent=Et,bt.StrictMode=a,bt.Suspense=v,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,bt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return C.H.useMemoCache(D)}},bt.cache=function(D){return function(){return D.apply(null,arguments)}},bt.cacheSignal=function(){return null},bt.cloneElement=function(D,K,et){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var st=it({},D.props),yt=D.key;if(K!=null)for(St in K.key!==void 0&&(yt=""+K.key),K)!A.call(K,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&K.ref===void 0||(st[St]=K[St]);var St=arguments.length-2;if(St===1)st.children=et;else if(1<St){for(var Dt=Array(St),ge=0;ge<St;ge++)Dt[ge]=arguments[ge+2];st.children=Dt}return I(D.type,yt,st)},bt.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},bt.createElement=function(D,K,et){var st,yt={},St=null;if(K!=null)for(st in K.key!==void 0&&(St=""+K.key),K)A.call(K,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(yt[st]=K[st]);var Dt=arguments.length-2;if(Dt===1)yt.children=et;else if(1<Dt){for(var ge=Array(Dt),ee=0;ee<Dt;ee++)ge[ee]=arguments[ee+2];yt.children=ge}if(D&&D.defaultProps)for(st in Dt=D.defaultProps,Dt)yt[st]===void 0&&(yt[st]=Dt[st]);return I(D,St,yt)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(D){return{$$typeof:g,render:D}},bt.isValidElement=x,bt.lazy=function(D){return{$$typeof:T,_payload:{_status:-1,_result:D},_init:ct}},bt.memo=function(D,K){return{$$typeof:y,type:D,compare:K===void 0?null:K}},bt.startTransition=function(D){var K=C.T,et={};C.T=et;try{var st=D(),yt=C.S;yt!==null&&yt(et,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(ot,Ut)}catch(St){Ut(St)}finally{K!==null&&et.types!==null&&(K.types=et.types),C.T=K}},bt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},bt.use=function(D){return C.H.use(D)},bt.useActionState=function(D,K,et){return C.H.useActionState(D,K,et)},bt.useCallback=function(D,K){return C.H.useCallback(D,K)},bt.useContext=function(D){return C.H.useContext(D)},bt.useDebugValue=function(){},bt.useDeferredValue=function(D,K){return C.H.useDeferredValue(D,K)},bt.useEffect=function(D,K){return C.H.useEffect(D,K)},bt.useEffectEvent=function(D){return C.H.useEffectEvent(D)},bt.useId=function(){return C.H.useId()},bt.useImperativeHandle=function(D,K,et){return C.H.useImperativeHandle(D,K,et)},bt.useInsertionEffect=function(D,K){return C.H.useInsertionEffect(D,K)},bt.useLayoutEffect=function(D,K){return C.H.useLayoutEffect(D,K)},bt.useMemo=function(D,K){return C.H.useMemo(D,K)},bt.useOptimistic=function(D,K){return C.H.useOptimistic(D,K)},bt.useReducer=function(D,K,et){return C.H.useReducer(D,K,et)},bt.useRef=function(D){return C.H.useRef(D)},bt.useState=function(D){return C.H.useState(D)},bt.useSyncExternalStore=function(D,K,et){return C.H.useSyncExternalStore(D,K,et)},bt.useTransition=function(){return C.H.useTransition()},bt.version="19.2.3",bt}var P_;function ym(){return P_||(P_=1,Id.exports=xA()),Id.exports}var ie=ym(),Cd={exports:{}},Eo={},xd={exports:{}},Nd={};var z_;function NA(){return z_||(z_=1,(function(s){function t(H,W){var ct=H.length;H.push(W);t:for(;0<ct;){var Ut=ct-1>>>1,qt=H[Ut];if(0<o(qt,W))H[Ut]=W,H[ct]=qt,ct=Ut;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var W=H[0],ct=H.pop();if(ct!==W){H[0]=ct;t:for(var Ut=0,qt=H.length,D=qt>>>1;Ut<D;){var K=2*(Ut+1)-1,et=H[K],st=K+1,yt=H[st];if(0>o(et,ct))st<qt&&0>o(yt,et)?(H[Ut]=yt,H[st]=ct,Ut=st):(H[Ut]=et,H[K]=ct,Ut=K);else if(st<qt&&0>o(yt,ct))H[Ut]=yt,H[st]=ct,Ut=st;else break t}}return W}function o(H,W){var ct=H.sortIndex-W.sortIndex;return ct!==0?ct:H.id-W.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var v=[],y=[],T=1,S=null,O=3,Y=!1,Z=!1,it=!1,nt=!1,pt=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,Et=typeof setImmediate<"u"?setImmediate:null;function Qt(H){for(var W=i(y);W!==null;){if(W.callback===null)a(y);else if(W.startTime<=H)a(y),W.sortIndex=W.expirationTime,t(v,W);else break;W=i(y)}}function oe(H){if(it=!1,Qt(H),!Z)if(i(v)!==null)Z=!0,ot||(ot=!0,k());else{var W=i(y);W!==null&&wt(oe,W.startTime-H)}}var ot=!1,C=-1,A=5,I=-1;function V(){return nt?!0:!(s.unstable_now()-I<A)}function x(){if(nt=!1,ot){var H=s.unstable_now();I=H;var W=!0;try{t:{Z=!1,it&&(it=!1,vt(C),C=-1),Y=!0;var ct=O;try{e:{for(Qt(H),S=i(v);S!==null&&!(S.expirationTime>H&&V());){var Ut=S.callback;if(typeof Ut=="function"){S.callback=null,O=S.priorityLevel;var qt=Ut(S.expirationTime<=H);if(H=s.unstable_now(),typeof qt=="function"){S.callback=qt,Qt(H),W=!0;break e}S===i(v)&&a(v),Qt(H)}else a(v);S=i(v)}if(S!==null)W=!0;else{var D=i(y);D!==null&&wt(oe,D.startTime-H),W=!1}}break t}finally{S=null,O=ct,Y=!1}W=void 0}}finally{W?k():ot=!1}}}var k;if(typeof Et=="function")k=function(){Et(x)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,$t=w.port2;w.port1.onmessage=x,k=function(){$t.postMessage(null)}}else k=function(){pt(x,0)};function wt(H,W){C=pt(function(){H(s.unstable_now())},W)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return O},s.unstable_next=function(H){switch(O){case 1:case 2:case 3:var W=3;break;default:W=O}var ct=O;O=W;try{return H()}finally{O=ct}},s.unstable_requestPaint=function(){nt=!0},s.unstable_runWithPriority=function(H,W){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ct=O;O=H;try{return W()}finally{O=ct}},s.unstable_scheduleCallback=function(H,W,ct){var Ut=s.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Ut+ct:Ut):ct=Ut,H){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=ct+qt,H={id:T++,callback:W,priorityLevel:H,startTime:ct,expirationTime:qt,sortIndex:-1},ct>Ut?(H.sortIndex=ct,t(y,H),i(v)===null&&H===i(y)&&(it?(vt(C),C=-1):it=!0,wt(oe,ct-Ut))):(H.sortIndex=qt,t(v,H),Z||Y||(Z=!0,ot||(ot=!0,k()))),H},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(H){var W=O;return function(){var ct=O;O=W;try{return H.apply(this,arguments)}finally{O=ct}}}})(Nd)),Nd}var j_;function DA(){return j_||(j_=1,xd.exports=NA()),xd.exports}var Dd={exports:{}},We={};var B_;function OA(){if(B_)return We;B_=1;var s=ym();function t(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(v,y,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:v,containerInfo:y,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return We.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,We.createPortal=function(v,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(v,y,null,T)},We.flushSync=function(v){var y=d.T,T=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=y,a.p=T,a.d.f()}},We.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(v,y))},We.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},We.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var T=y.as,S=g(T,y.crossOrigin),O=typeof y.integrity=="string"?y.integrity:void 0,Y=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?a.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:O,fetchPriority:Y}):T==="script"&&a.d.X(v,{crossOrigin:S,integrity:O,fetchPriority:Y,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},We.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=g(y.as,y.crossOrigin);a.d.M(v,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(v)},We.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,S=g(T,y.crossOrigin);a.d.L(v,T,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},We.preloadModule=function(v,y){if(typeof v=="string")if(y){var T=g(y.as,y.crossOrigin);a.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(v)},We.requestFormReset=function(v){a.d.r(v)},We.unstable_batchedUpdates=function(v,y){return v(y)},We.useFormState=function(v,y,T){return d.H.useFormState(v,y,T)},We.useFormStatus=function(){return d.H.useHostTransitionStatus()},We.version="19.2.3",We}var q_;function VA(){if(q_)return Dd.exports;q_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Dd.exports=OA(),Dd.exports}var H_;function MA(){if(H_)return Eo;H_=1;var s=DA(),t=ym(),i=VA();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return v(h),e;if(f===l)return v(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var p=!1,E=h.child;E;){if(E===r){p=!0,r=h,l=f;break}if(E===l){p=!0,l=h,r=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===r){p=!0,r=f,l=h;break}if(E===l){p=!0,l=f,r=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function T(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=T(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,O=Symbol.for("react.element"),Y=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),pt=Symbol.for("react.profiler"),vt=Symbol.for("react.consumer"),Et=Symbol.for("react.context"),Qt=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=x&&e[x]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function $t(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case it:return"Fragment";case pt:return"Profiler";case nt:return"StrictMode";case oe:return"Suspense";case ot:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case Et:return e.displayName||"Context";case vt:return(e._context.displayName||"Context")+".Consumer";case Qt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:$t(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return $t(e(n))}catch{}}return null}var wt=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Ut=[],qt=-1;function D(e){return{current:e}}function K(e){0>qt||(e.current=Ut[qt],Ut[qt]=null,qt--)}function et(e,n){qt++,Ut[qt]=e.current,e.current=n}var st=D(null),yt=D(null),St=D(null),Dt=D(null);function ge(e,n){switch(et(St,n),et(yt,e),et(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?r_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=r_(n),e=s_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(st),et(st,e)}function ee(){K(st),K(yt),K(St)}function Vi(e){e.memoizedState!==null&&et(Dt,e);var n=st.current,r=s_(n,e.type);n!==r&&(et(yt,e),et(st,r))}function F(e){yt.current===e&&(K(st),K(yt)),Dt.current===e&&(K(Dt),po._currentValue=ct)}var dt,he;function fe(e){if(dt===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);dt=n&&n[1]||"",he=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+dt+e+he}var He=!1;function ls(e,n){if(!e||He)return"";He=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var z=q}Reflect.construct(e,[],X)}else{try{X.call()}catch(q){z=q}e.call(X.prototype)}}else{try{throw Error()}catch(q){z=q}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var R=p.split(`
`),P=E.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===P.length)for(l=R.length-1,h=P.length-1;1<=l&&0<=h&&R[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==P[h]){var G=`
`+R[l].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=l&&0<=h);break}}}finally{He=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?fe(r):""}function pl(e,n){switch(e.tag){case 26:case 27:case 5:return fe(e.type);case 16:return fe("Lazy");case 13:return e.child!==n&&n!==null?fe("Suspense Fallback"):fe("Suspense");case 19:return fe("SuspenseList");case 0:case 15:return ls(e.type,!1);case 11:return ls(e.type.render,!1);case 1:return ls(e.type,!0);case 31:return fe("Activity");default:return""}}function gl(e){try{var n="",r=null;do n+=pl(e,r),r=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var be=Object.prototype.hasOwnProperty,ke=s.unstable_scheduleCallback,or=s.unstable_cancelCallback,Ih=s.unstable_shouldYield,Zo=s.unstable_requestPaint,sn=s.unstable_now,os=s.unstable_getCurrentPriorityLevel,yl=s.unstable_ImmediatePriority,_l=s.unstable_UserBlockingPriority,ur=s.unstable_NormalPriority,Ch=s.unstable_LowPriority,Wo=s.unstable_IdlePriority,tu=s.log,eu=s.unstable_setDisableYieldValue,Bn=null,Ge=null;function In(e){if(typeof tu=="function"&&eu(e),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(Bn,e)}catch{}}var ye=Math.clz32?Math.clz32:iu,nu=Math.log,Zs=Math.LN2;function iu(e){return e>>>=0,e===0?32:31-(nu(e)/Zs|0)|0}var si=256,us=262144,Ae=4194304;function ai(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function li(e,n,r){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=ai(l):(p&=E,p!==0?h=ai(p):r||(r=E&~e,r!==0&&(h=ai(r))))):(E=l&~f,E!==0?h=ai(E):p!==0?h=ai(p):r||(r=l&~e,r!==0&&(h=ai(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function qn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function xh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ru(){var e=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),e}function oi(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function cs(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Nh(e,n,r,l,h,f){var p=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,P=e.hiddenUpdates;for(r=p&~r;0<r;){var G=31-ye(r),X=1<<G;E[G]=0,R[G]=-1;var z=P[G];if(z!==null)for(P[G]=null,G=0;G<z.length;G++){var q=z[G];q!==null&&(q.lane&=-536870913)}r&=~X}l!==0&&hs(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function hs(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-ye(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|r&261930}function vl(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var l=31-ye(r),h=1<<l;h&n|e[l]&n&&(e[l]|=n),r&=~h}}function El(e,n){var r=n&-n;return r=(r&42)!==0?1:fs(r),(r&(e.suspendedLanes|n))!==0?0:r}function fs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Mi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function su(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:C_(e.type))}function Hn(e,n){var r=W.p;try{return W.p=e,n()}finally{W.p=r}}var Gn=Math.random().toString(36).slice(2),Se="__reactFiber$"+Gn,Pe="__reactProps$"+Gn,ui="__reactContainer$"+Gn,Ws="__reactEvents$"+Gn,Dh="__reactListeners$"+Gn,au="__reactHandles$"+Gn,lu="__reactResources$"+Gn,ci="__reactMarker$"+Gn;function ta(e){delete e[Se],delete e[Pe],delete e[Ws],delete e[Dh],delete e[au]}function hi(e){var n=e[Se];if(n)return n;for(var r=e.parentNode;r;){if(n=r[ui]||r[Se]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=f_(e);e!==null;){if(r=e[Se])return r;e=f_(e)}return n}e=r,r=e.parentNode}return null}function Cn(e){if(e=e[Se]||e[ui]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function yn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function fi(e){var n=e[lu];return n||(n=e[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function we(e){e[ci]=!0}var Tl=new Set,bl={};function di(e,n){mi(e,n),mi(e+"Capture",n)}function mi(e,n){for(bl[e]=n,e=0;e<n.length;e++)Tl.add(n[e])}var Al=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Sl={},wl={};function ou(e){return be.call(wl,e)?!0:be.call(Sl,e)?!1:Al.test(e)?wl[e]=!0:(Sl[e]=!0,!1)}function ea(e,n,r){if(ou(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function _n(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Re(e,n,r,l){if(l===null)e.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+l)}}function ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Rl(e,n,r){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Yt(e){if(!e._valueTracker){var n=cr(e)?"checked":"value";e._valueTracker=Rl(e,n,""+e[n])}}function ds(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return e&&(l=cr(e)?e.checked?"true":"false":e.value),e=l,e!==r?(n.setValue(e),!0):!1}function pi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ms=/[\n"\\]/g;function on(e){return e.replace(ms,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function na(e,n,r,l,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ze(n)):e.value!==""+ze(n)&&(e.value=""+ze(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Il(e,p,ze(n)):r!=null?Il(e,p,ze(r)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+ze(E):e.removeAttribute("name")}function uu(e,n,r,l,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Yt(e);return}r=r!=null?""+ze(r):"",n=n!=null?""+ze(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Yt(e)}function Il(e,n,r){n==="number"&&pi(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function hr(e,n,r,l){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&l&&(e[r].defaultSelected=!0)}else{for(r=""+ze(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function cu(e,n,r){if(n!=null&&(n=""+ze(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+ze(r):""}function fr(e,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(wt(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=ze(n),e.defaultValue=r,l=e.textContent,l===r&&l!==""&&l!==null&&(e.value=l),Yt(e)}function un(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cl(e,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,r):typeof r!="number"||r===0||hu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function xl(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&Cl(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Cl(e,f,n[f])}function ia(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ra(e){return dr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Fn(){}var Nl=null;function xn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mr=null,gi=null;function ps(e){var n=Cn(e);if(n&&(e=n.stateNode)){var r=e[Pe]||null;t:switch(e=n.stateNode,n.type){case"input":if(na(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+on(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==e&&l.form===e.form){var h=l[Pe]||null;if(!h)throw Error(a(90));na(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===e.form&&ds(l)}break t;case"textarea":cu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&hr(e,!!r.multiple,n,!1)}}}var sa=!1;function pr(e,n,r){if(sa)return e(n,r);sa=!0;try{var l=e(n);return l}finally{if(sa=!1,(mr!==null||gi!==null)&&(sc(),mr&&(n=mr,e=gi,gi=mr=null,ps(n),e)))for(n=0;n<e.length;n++)ps(e[n])}}function Qn(e,n){var r=e.stateNode;if(r===null)return null;var l=r[Pe]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gs=!1;if(Nn)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){gs=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{gs=!1}var yi=null,Dl=null,ys=null;function Ol(){if(ys)return ys;var e,n=Dl,r=n.length,l,h="value"in yi?yi.value:yi.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var p=r-e;for(l=1;l<=p&&n[r-l]===h[f-l];l++);return ys=h.slice(e,1<l?1-l:void 0)}function _s(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ki(){return!0}function Yn(){return!1}function Fe(e){function n(r,l,h,f,p){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ki:Yn,this.isPropagationStopped=Yn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),n}var Li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_i=Fe(Li),gr=S({},Li,{view:0,detail:0}),Vl=Fe(gr),yr,aa,vi,la=S({},gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_r,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vi&&(vi&&e.type==="mousemove"?(yr=e.screenX-vi.screenX,aa=e.screenY-vi.screenY):aa=yr=0,vi=e),yr)},movementY:function(e){return"movementY"in e?e.movementY:aa}}),Ml=Fe(la),vs=S({},la,{dataTransfer:0}),du=Fe(vs),mu=S({},gr,{relatedTarget:0}),Es=Fe(mu),kl=S({},Li,{animationName:0,elapsedTime:0,pseudoElement:0}),pu=Fe(kl),oa=S({},Li,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gu=Fe(oa),yu=S({},Li,{data:0}),Ei=Fe(yu),_u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Eu[e])?!!n[e]:!1}function _r(){return Tu}var an=S({},gr,{key:function(e){if(e.key){var n=_u[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=_s(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_r,charCode:function(e){return e.type==="keypress"?_s(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_s(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bu=Fe(an),Au=S({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ui=Fe(Au),u=S({},gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_r}),m=Fe(u),_=S({},Li,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Fe(_),L=S({},la,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Fe(L),tt=S({},Li,{newState:0,oldState:0}),Rt=Fe(tt),_e=[9,13,27,32],Ht=Nn&&"CompositionEvent"in window,ue=null;Nn&&"documentMode"in document&&(ue=document.documentMode);var Dn=Nn&&"TextEvent"in window&&!ue,Ti=Nn&&(!Ht||ue&&8<ue&&11>=ue),Kn=" ",Xn=!1;function Ts(e,n){switch(e){case"keyup":return _e.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ua(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ca=!1;function JT(e,n){switch(e){case"compositionend":return ua(n);case"keypress":return n.which!==32?null:(Xn=!0,Kn);case"textInput":return e=n.data,e===Kn&&Xn?null:e;default:return null}}function ZT(e,n){if(ca)return e==="compositionend"||!Ht&&Ts(e,n)?(e=Ol(),ys=Dl=yi=null,ca=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ti&&n.locale!=="ko"?null:n.data;default:return null}}var WT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!WT[e.type]:n==="textarea"}function gp(e,n,r,l){mr?gi?gi.push(l):gi=[l]:mr=l,n=fc(n,"onChange"),0<n.length&&(r=new _i("onChange","change",null,r,l),e.push({event:r,listeners:n}))}var Ll=null,Ul=null;function tb(e){Zy(e,0)}function Su(e){var n=yn(e);if(ds(n))return e}function yp(e,n){if(e==="change")return n}var _p=!1;if(Nn){var Oh;if(Nn){var Vh="oninput"in document;if(!Vh){var vp=document.createElement("div");vp.setAttribute("oninput","return;"),Vh=typeof vp.oninput=="function"}Oh=Vh}else Oh=!1;_p=Oh&&(!document.documentMode||9<document.documentMode)}function Ep(){Ll&&(Ll.detachEvent("onpropertychange",Tp),Ul=Ll=null)}function Tp(e){if(e.propertyName==="value"&&Su(Ul)){var n=[];gp(n,Ul,e,xn(e)),pr(tb,n)}}function eb(e,n,r){e==="focusin"?(Ep(),Ll=n,Ul=r,Ll.attachEvent("onpropertychange",Tp)):e==="focusout"&&Ep()}function nb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Su(Ul)}function ib(e,n){if(e==="click")return Su(n)}function rb(e,n){if(e==="input"||e==="change")return Su(n)}function sb(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var vn=typeof Object.is=="function"?Object.is:sb;function Pl(e,n){if(vn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!be.call(n,h)||!vn(e[h],n[h]))return!1}return!0}function bp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ap(e,n){var r=bp(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=n&&l>=n)return{node:r,offset:n-e};e=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=bp(r)}}function Sp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Sp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function wp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=pi(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=pi(e.document)}return n}function Mh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var ab=Nn&&"documentMode"in document&&11>=document.documentMode,ha=null,kh=null,zl=null,Lh=!1;function Rp(e,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Lh||ha==null||ha!==pi(l)||(l=ha,"selectionStart"in l&&Mh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),zl&&Pl(zl,l)||(zl=l,l=fc(kh,"onSelect"),0<l.length&&(n=new _i("onSelect","select",null,n,r),e.push({event:n,listeners:l}),n.target=ha)))}function bs(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var fa={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionrun:bs("Transition","TransitionRun"),transitionstart:bs("Transition","TransitionStart"),transitioncancel:bs("Transition","TransitionCancel"),transitionend:bs("Transition","TransitionEnd")},Uh={},Ip={};Nn&&(Ip=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function As(e){if(Uh[e])return Uh[e];if(!fa[e])return e;var n=fa[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Ip)return Uh[e]=n[r];return e}var Cp=As("animationend"),xp=As("animationiteration"),Np=As("animationstart"),lb=As("transitionrun"),ob=As("transitionstart"),ub=As("transitioncancel"),Dp=As("transitionend"),Op=new Map,Ph="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ph.push("scrollEnd");function $n(e,n){Op.set(e,n),di(n,[e])}var wu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},On=[],da=0,zh=0;function Ru(){for(var e=da,n=zh=da=0;n<e;){var r=On[n];On[n++]=null;var l=On[n];On[n++]=null;var h=On[n];On[n++]=null;var f=On[n];if(On[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&Vp(r,h,f)}}function Iu(e,n,r,l){On[da++]=e,On[da++]=n,On[da++]=r,On[da++]=l,zh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function jh(e,n,r,l){return Iu(e,n,r,l),Cu(e)}function Ss(e,n){return Iu(e,null,null,n),Cu(e)}function Vp(e,n,r){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ye(r),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function Cu(e){if(50<lo)throw lo=0,$f=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ma={};function cb(e,n,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(e,n,r,l){return new cb(e,n,r,l)}function Bh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pi(e,n){var r=e.alternate;return r===null?(r=En(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Mp(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function xu(e,n,r,l,h,f){var p=0;if(l=e,typeof e=="function")Bh(e)&&(p=1);else if(typeof e=="string")p=pA(e,r,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=En(31,r,n,h),e.elementType=I,e.lanes=f,e;case it:return ws(r.children,h,f,n);case nt:p=8,h|=24;break;case pt:return e=En(12,r,n,h|2),e.elementType=pt,e.lanes=f,e;case oe:return e=En(13,r,n,h),e.elementType=oe,e.lanes=f,e;case ot:return e=En(19,r,n,h),e.elementType=ot,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Et:p=10;break t;case vt:p=9;break t;case Qt:p=11;break t;case C:p=14;break t;case A:p=16,l=null;break t}p=29,r=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=En(p,r,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function ws(e,n,r,l){return e=En(7,e,l,n),e.lanes=r,e}function qh(e,n,r){return e=En(6,e,null,n),e.lanes=r,e}function kp(e){var n=En(18,null,null,0);return n.stateNode=e,n}function Hh(e,n,r){return n=En(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Lp=new WeakMap;function Vn(e,n){if(typeof e=="object"&&e!==null){var r=Lp.get(e);return r!==void 0?r:(n={value:e,source:n,stack:gl(n)},Lp.set(e,n),n)}return{value:e,source:n,stack:gl(n)}}var pa=[],ga=0,Nu=null,jl=0,Mn=[],kn=0,vr=null,bi=1,Ai="";function zi(e,n){pa[ga++]=jl,pa[ga++]=Nu,Nu=e,jl=n}function Up(e,n,r){Mn[kn++]=bi,Mn[kn++]=Ai,Mn[kn++]=vr,vr=e;var l=bi;e=Ai;var h=32-ye(l)-1;l&=~(1<<h),r+=1;var f=32-ye(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,bi=1<<32-ye(n)+h|r<<h|l,Ai=f+e}else bi=1<<f|r<<h|l,Ai=e}function Gh(e){e.return!==null&&(zi(e,1),Up(e,1,0))}function Fh(e){for(;e===Nu;)Nu=pa[--ga],pa[ga]=null,jl=pa[--ga],pa[ga]=null;for(;e===vr;)vr=Mn[--kn],Mn[kn]=null,Ai=Mn[--kn],Mn[kn]=null,bi=Mn[--kn],Mn[kn]=null}function Pp(e,n){Mn[kn++]=bi,Mn[kn++]=Ai,Mn[kn++]=vr,bi=n.id,Ai=n.overflow,vr=e}var Qe=null,se=null,Pt=!1,Er=null,Ln=!1,Qh=Error(a(519));function Tr(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bl(Vn(n,e)),Qh}function zp(e){var n=e.stateNode,r=e.type,l=e.memoizedProps;switch(n[Se]=e,n[Pe]=l,r){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(r=0;r<uo.length;r++)Nt(uo[r],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),uu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),fr(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||n_(n.textContent,r)?(l.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),l.onScroll!=null&&Nt("scroll",n),l.onScrollEnd!=null&&Nt("scrollend",n),l.onClick!=null&&(n.onclick=Fn),n=!0):n=!1,n||Tr(e,!0)}function jp(e){for(Qe=e.return;Qe;)switch(Qe.tag){case 5:case 31:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:Qe=Qe.return}}function ya(e){if(e!==Qe)return!1;if(!Pt)return jp(e),Pt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||hd(e.type,e.memoizedProps)),r=!r),r&&se&&Tr(e),jp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));se=h_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));se=h_(e)}else n===27?(n=se,kr(e.type)?(e=gd,gd=null,se=e):se=n):se=Qe?Pn(e.stateNode.nextSibling):null;return!0}function Rs(){se=Qe=null,Pt=!1}function Yh(){var e=Er;return e!==null&&(dn===null?dn=e:dn.push.apply(dn,e),Er=null),e}function Bl(e){Er===null?Er=[e]:Er.push(e)}var Kh=D(null),Is=null,ji=null;function br(e,n,r){et(Kh,n._currentValue),n._currentValue=r}function Bi(e){e._currentValue=Kh.current,K(Kh)}function Xh(e,n,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===r)break;e=e.return}}function $h(e,n,r,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Xh(f.return,r,e),l||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),Xh(p,r,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function _a(e,n,r,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;vn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===Dt.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(po):e=[po])}h=h.return}e!==null&&$h(n,e,r,l),n.flags|=262144}function Du(e){for(e=e.firstContext;e!==null;){if(!vn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Cs(e){Is=e,ji=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ye(e){return Bp(Is,e)}function Ou(e,n){return Is===null&&Cs(e),Bp(e,n)}function Bp(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},ji===null){if(e===null)throw Error(a(308));ji=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ji=ji.next=n;return r}var hb=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},fb=s.unstable_scheduleCallback,db=s.unstable_NormalPriority,Ie={$$typeof:Et,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jh(){return{controller:new hb,data:new Map,refCount:0}}function ql(e){e.refCount--,e.refCount===0&&fb(db,function(){e.controller.abort()})}var Hl=null,Zh=0,va=0,Ea=null;function mb(e,n){if(Hl===null){var r=Hl=[];Zh=0,va=nd(),Ea={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Zh++,n.then(qp,qp),n}function qp(){if(--Zh===0&&Hl!==null){Ea!==null&&(Ea.status="fulfilled");var e=Hl;Hl=null,va=0,Ea=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function pb(e,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var Hp=H.S;H.S=function(e,n){Ry=sn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&mb(e,n),Hp!==null&&Hp(e,n)};var xs=D(null);function Wh(){var e=xs.current;return e!==null?e:ne.pooledCache}function Vu(e,n){n===null?et(xs,xs.current):et(xs,n.pool)}function Gp(){var e=Wh();return e===null?null:{parent:Ie._currentValue,pool:e}}var Ta=Error(a(460)),tf=Error(a(474)),Mu=Error(a(542)),ku={then:function(){}};function Fp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Qp(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Fn,Fn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Kp(e),e;default:if(typeof n.status=="string")n.then(Fn,Fn);else{if(e=ne,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Kp(e),e}throw Ds=n,Ta}}function Ns(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ds=r,Ta):r}}var Ds=null;function Yp(){if(Ds===null)throw Error(a(459));var e=Ds;return Ds=null,e}function Kp(e){if(e===Ta||e===Mu)throw Error(a(483))}var ba=null,Gl=0;function Lu(e){var n=Gl;return Gl+=1,ba===null&&(ba=[]),Qp(ba,e,n)}function Fl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Uu(e,n){throw n.$$typeof===O?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Xp(e){function n(M,N){if(e){var U=M.deletions;U===null?(M.deletions=[N],M.flags|=16):U.push(N)}}function r(M,N){if(!e)return null;for(;N!==null;)n(M,N),N=N.sibling;return null}function l(M){for(var N=new Map;M!==null;)M.key!==null?N.set(M.key,M):N.set(M.index,M),M=M.sibling;return N}function h(M,N){return M=Pi(M,N),M.index=0,M.sibling=null,M}function f(M,N,U){return M.index=U,e?(U=M.alternate,U!==null?(U=U.index,U<N?(M.flags|=67108866,N):U):(M.flags|=67108866,N)):(M.flags|=1048576,N)}function p(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function E(M,N,U,Q){return N===null||N.tag!==6?(N=qh(U,M.mode,Q),N.return=M,N):(N=h(N,U),N.return=M,N)}function R(M,N,U,Q){var ht=U.type;return ht===it?G(M,N,U.props.children,Q,U.key):N!==null&&(N.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===A&&Ns(ht)===N.type)?(N=h(N,U.props),Fl(N,U),N.return=M,N):(N=xu(U.type,U.key,U.props,null,M.mode,Q),Fl(N,U),N.return=M,N)}function P(M,N,U,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?(N=Hh(U,M.mode,Q),N.return=M,N):(N=h(N,U.children||[]),N.return=M,N)}function G(M,N,U,Q,ht){return N===null||N.tag!==7?(N=ws(U,M.mode,Q,ht),N.return=M,N):(N=h(N,U),N.return=M,N)}function X(M,N,U){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=qh(""+N,M.mode,U),N.return=M,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Y:return U=xu(N.type,N.key,N.props,null,M.mode,U),Fl(U,N),U.return=M,U;case Z:return N=Hh(N,M.mode,U),N.return=M,N;case A:return N=Ns(N),X(M,N,U)}if(wt(N)||k(N))return N=ws(N,M.mode,U,null),N.return=M,N;if(typeof N.then=="function")return X(M,Lu(N),U);if(N.$$typeof===Et)return X(M,Ou(M,N),U);Uu(M,N)}return null}function z(M,N,U,Q){var ht=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ht!==null?null:E(M,N,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Y:return U.key===ht?R(M,N,U,Q):null;case Z:return U.key===ht?P(M,N,U,Q):null;case A:return U=Ns(U),z(M,N,U,Q)}if(wt(U)||k(U))return ht!==null?null:G(M,N,U,Q,null);if(typeof U.then=="function")return z(M,N,Lu(U),Q);if(U.$$typeof===Et)return z(M,N,Ou(M,U),Q);Uu(M,U)}return null}function q(M,N,U,Q,ht){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return M=M.get(U)||null,E(N,M,""+Q,ht);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case Y:return M=M.get(Q.key===null?U:Q.key)||null,R(N,M,Q,ht);case Z:return M=M.get(Q.key===null?U:Q.key)||null,P(N,M,Q,ht);case A:return Q=Ns(Q),q(M,N,U,Q,ht)}if(wt(Q)||k(Q))return M=M.get(U)||null,G(N,M,Q,ht,null);if(typeof Q.then=="function")return q(M,N,U,Lu(Q),ht);if(Q.$$typeof===Et)return q(M,N,U,Ou(N,Q),ht);Uu(N,Q)}return null}function lt(M,N,U,Q){for(var ht=null,jt=null,ut=N,Ct=N=0,Vt=null;ut!==null&&Ct<U.length;Ct++){ut.index>Ct?(Vt=ut,ut=null):Vt=ut.sibling;var Bt=z(M,ut,U[Ct],Q);if(Bt===null){ut===null&&(ut=Vt);break}e&&ut&&Bt.alternate===null&&n(M,ut),N=f(Bt,N,Ct),jt===null?ht=Bt:jt.sibling=Bt,jt=Bt,ut=Vt}if(Ct===U.length)return r(M,ut),Pt&&zi(M,Ct),ht;if(ut===null){for(;Ct<U.length;Ct++)ut=X(M,U[Ct],Q),ut!==null&&(N=f(ut,N,Ct),jt===null?ht=ut:jt.sibling=ut,jt=ut);return Pt&&zi(M,Ct),ht}for(ut=l(ut);Ct<U.length;Ct++)Vt=q(ut,M,Ct,U[Ct],Q),Vt!==null&&(e&&Vt.alternate!==null&&ut.delete(Vt.key===null?Ct:Vt.key),N=f(Vt,N,Ct),jt===null?ht=Vt:jt.sibling=Vt,jt=Vt);return e&&ut.forEach(function(jr){return n(M,jr)}),Pt&&zi(M,Ct),ht}function mt(M,N,U,Q){if(U==null)throw Error(a(151));for(var ht=null,jt=null,ut=N,Ct=N=0,Vt=null,Bt=U.next();ut!==null&&!Bt.done;Ct++,Bt=U.next()){ut.index>Ct?(Vt=ut,ut=null):Vt=ut.sibling;var jr=z(M,ut,Bt.value,Q);if(jr===null){ut===null&&(ut=Vt);break}e&&ut&&jr.alternate===null&&n(M,ut),N=f(jr,N,Ct),jt===null?ht=jr:jt.sibling=jr,jt=jr,ut=Vt}if(Bt.done)return r(M,ut),Pt&&zi(M,Ct),ht;if(ut===null){for(;!Bt.done;Ct++,Bt=U.next())Bt=X(M,Bt.value,Q),Bt!==null&&(N=f(Bt,N,Ct),jt===null?ht=Bt:jt.sibling=Bt,jt=Bt);return Pt&&zi(M,Ct),ht}for(ut=l(ut);!Bt.done;Ct++,Bt=U.next())Bt=q(ut,M,Ct,Bt.value,Q),Bt!==null&&(e&&Bt.alternate!==null&&ut.delete(Bt.key===null?Ct:Bt.key),N=f(Bt,N,Ct),jt===null?ht=Bt:jt.sibling=Bt,jt=Bt);return e&&ut.forEach(function(RA){return n(M,RA)}),Pt&&zi(M,Ct),ht}function te(M,N,U,Q){if(typeof U=="object"&&U!==null&&U.type===it&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case Y:t:{for(var ht=U.key;N!==null;){if(N.key===ht){if(ht=U.type,ht===it){if(N.tag===7){r(M,N.sibling),Q=h(N,U.props.children),Q.return=M,M=Q;break t}}else if(N.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===A&&Ns(ht)===N.type){r(M,N.sibling),Q=h(N,U.props),Fl(Q,U),Q.return=M,M=Q;break t}r(M,N);break}else n(M,N);N=N.sibling}U.type===it?(Q=ws(U.props.children,M.mode,Q,U.key),Q.return=M,M=Q):(Q=xu(U.type,U.key,U.props,null,M.mode,Q),Fl(Q,U),Q.return=M,M=Q)}return p(M);case Z:t:{for(ht=U.key;N!==null;){if(N.key===ht)if(N.tag===4&&N.stateNode.containerInfo===U.containerInfo&&N.stateNode.implementation===U.implementation){r(M,N.sibling),Q=h(N,U.children||[]),Q.return=M,M=Q;break t}else{r(M,N);break}else n(M,N);N=N.sibling}Q=Hh(U,M.mode,Q),Q.return=M,M=Q}return p(M);case A:return U=Ns(U),te(M,N,U,Q)}if(wt(U))return lt(M,N,U,Q);if(k(U)){if(ht=k(U),typeof ht!="function")throw Error(a(150));return U=ht.call(U),mt(M,N,U,Q)}if(typeof U.then=="function")return te(M,N,Lu(U),Q);if(U.$$typeof===Et)return te(M,N,Ou(M,U),Q);Uu(M,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,N!==null&&N.tag===6?(r(M,N.sibling),Q=h(N,U),Q.return=M,M=Q):(r(M,N),Q=qh(U,M.mode,Q),Q.return=M,M=Q),p(M)):r(M,N)}return function(M,N,U,Q){try{Gl=0;var ht=te(M,N,U,Q);return ba=null,ht}catch(ut){if(ut===Ta||ut===Mu)throw ut;var jt=En(29,ut,null,M.mode);return jt.lanes=Q,jt.return=M,jt}}}var Os=Xp(!0),$p=Xp(!1),Ar=!1;function ef(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Sr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wr(e,n,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Cu(e),Vp(e,null,r),n}return Iu(e,l,n,r),Cu(e)}function Ql(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,vl(e,r)}}function rf(e,n){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var sf=!1;function Yl(){if(sf){var e=Ea;if(e!==null)throw e}}function Kl(e,n,r,l){sf=!1;var h=e.updateQueue;Ar=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,P=R.next;R.next=null,p===null?f=P:p.next=P,p=R;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==p&&(E===null?G.firstBaseUpdate=P:E.next=P,G.lastBaseUpdate=R))}if(f!==null){var X=h.baseState;p=0,G=P=R=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(Ot&z)===z:(l&z)===z){z!==0&&z===va&&(sf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var lt=e,mt=E;z=n;var te=r;switch(mt.tag){case 1:if(lt=mt.payload,typeof lt=="function"){X=lt.call(te,X,z);break t}X=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=mt.payload,z=typeof lt=="function"?lt.call(te,X,z):lt,z==null)break t;X=S({},X,z);break t;case 2:Ar=!0}}z=E.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(P=G=q,R=X):G=G.next=q,p|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(R=X),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Nr|=p,e.lanes=p,e.memoizedState=X}}function Jp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Zp(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Jp(r[e],n)}var Aa=D(null),Pu=D(0);function Wp(e,n){e=$i,et(Pu,e),et(Aa,n),$i=e|n.baseLanes}function af(){et(Pu,$i),et(Aa,Aa.current)}function lf(){$i=Pu.current,K(Aa),K(Pu)}var Tn=D(null),Un=null;function Rr(e){var n=e.alternate;et(ve,ve.current&1),et(Tn,e),Un===null&&(n===null||Aa.current!==null||n.memoizedState!==null)&&(Un=e)}function of(e){et(ve,ve.current),et(Tn,e),Un===null&&(Un=e)}function tg(e){e.tag===22?(et(ve,ve.current),et(Tn,e),Un===null&&(Un=e)):Ir()}function Ir(){et(ve,ve.current),et(Tn,Tn.current)}function bn(e){K(Tn),Un===e&&(Un=null),K(ve)}var ve=D(0);function zu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||md(r)||pd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var qi=0,It=null,Zt=null,Ce=null,ju=!1,Sa=!1,Vs=!1,Bu=0,Xl=0,wa=null,gb=0;function me(){throw Error(a(321))}function uf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!vn(e[r],n[r]))return!1;return!0}function cf(e,n,r,l,h,f){return qi=f,It=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?Ug:wf,Vs=!1,f=r(l,h),Vs=!1,Sa&&(f=ng(n,r,l,h)),eg(e),f}function eg(e){H.H=Zl;var n=Zt!==null&&Zt.next!==null;if(qi=0,Ce=Zt=It=null,ju=!1,Xl=0,wa=null,n)throw Error(a(300));e===null||xe||(e=e.dependencies,e!==null&&Du(e)&&(xe=!0))}function ng(e,n,r,l){It=e;var h=0;do{if(Sa&&(wa=null),Xl=0,Sa=!1,25<=h)throw Error(a(301));if(h+=1,Ce=Zt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Pg,f=n(r,l)}while(Sa);return f}function yb(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?$l(n):n,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(It.flags|=1024),n}function hf(){var e=Bu!==0;return Bu=0,e}function ff(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function df(e){if(ju){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ju=!1}qi=0,Ce=Zt=It=null,Sa=!1,Xl=Bu=0,wa=null}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?It.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function Ee(){if(Zt===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var n=Ce===null?It.memoizedState:Ce.next;if(n!==null)Ce=n,Zt=e;else{if(e===null)throw It.alternate===null?Error(a(467)):Error(a(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Ce===null?It.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $l(e){var n=Xl;return Xl+=1,wa===null&&(wa=[]),e=Qp(wa,e,n),n=It,(Ce===null?n.memoizedState:Ce.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Ug:wf),e}function Hu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return $l(e);if(e.$$typeof===Et)return Ye(e)}throw Error(a(438,String(e)))}function mf(e){var n=null,r=It.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=qu(),It.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),l=0;l<e;l++)r[l]=V;return n.index++,r}function Hi(e,n){return typeof n=="function"?n(e):n}function Gu(e){var n=Ee();return pf(n,Zt,e)}function pf(e,n,r){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,R=null,P=n,G=!1;do{var X=P.lane&-536870913;if(X!==P.lane?(Ot&X)===X:(qi&X)===X){var z=P.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),X===va&&(G=!0);else if((qi&z)===z){P=P.next,z===va&&(G=!0);continue}else X={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=X,p=f):R=R.next=X,It.lanes|=z,Nr|=z;X=P.action,Vs&&r(f,X),f=P.hasEagerState?P.eagerState:r(f,X)}else z={lane:X,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=z,p=f):R=R.next=z,It.lanes|=X,Nr|=X;P=P.next}while(P!==null&&P!==n);if(R===null?p=f:R.next=E,!vn(f,e.memoizedState)&&(xe=!0,G&&(r=Ea,r!==null)))throw r;e.memoizedState=f,e.baseState=p,e.baseQueue=R,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function gf(e){var n=Ee(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);vn(f,n.memoizedState)||(xe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function ig(e,n,r){var l=It,h=Ee(),f=Pt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!vn((Zt||h).memoizedState,r);if(p&&(h.memoizedState=r,xe=!0),h=h.queue,vf(ag.bind(null,l,h,e),[e]),h.getSnapshot!==n||p||Ce!==null&&Ce.memoizedState.tag&1){if(l.flags|=2048,Ra(9,{destroy:void 0},sg.bind(null,l,h,r,n),null),ne===null)throw Error(a(349));f||(qi&127)!==0||rg(l,n,r)}return r}function rg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=It.updateQueue,n===null?(n=qu(),It.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function sg(e,n,r,l){n.value=r,n.getSnapshot=l,lg(n)&&og(e)}function ag(e,n,r){return r(function(){lg(n)&&og(e)})}function lg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!vn(e,r)}catch{return!0}}function og(e){var n=Ss(e,2);n!==null&&mn(n,e,2)}function yf(e){var n=ln();if(typeof e=="function"){var r=e;if(e=r(),Vs){In(!0);try{r()}finally{In(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:e},n}function ug(e,n,r,l){return e.baseState=r,pf(e,Zt,typeof l=="function"?l:Hi)}function _b(e,n,r,l,h){if(Yu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};H.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,cg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function cg(e,n){var r=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=H.T,p={};H.T=p;try{var E=r(h,l),R=H.S;R!==null&&R(p,E),hg(e,n,E)}catch(P){_f(e,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),H.T=f}}else try{f=r(h,l),hg(e,n,f)}catch(P){_f(e,n,P)}}function hg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){fg(e,n,l)},function(l){return _f(e,n,l)}):fg(e,n,r)}function fg(e,n,r){n.status="fulfilled",n.value=r,dg(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,cg(e,r)))}function _f(e,n,r){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,dg(n),n=n.next;while(n!==l)}e.action=null}function dg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function mg(e,n){return n}function pg(e,n){if(Pt){var r=ne.formState;if(r!==null){t:{var l=It;if(Pt){if(se){e:{for(var h=se,f=Ln;h.nodeType!==8;){if(!f){h=null;break e}if(h=Pn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){se=Pn(h.nextSibling),l=h.data==="F!";break t}}Tr(l)}l=!1}l&&(n=r[0])}}return r=ln(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mg,lastRenderedState:n},r.queue=l,r=Mg.bind(null,It,l),l.dispatch=r,l=yf(!1),f=Sf.bind(null,It,!1,l.queue),l=ln(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,r=_b.bind(null,It,h,f,r),h.dispatch=r,l.memoizedState=e,[n,r,!1]}function gg(e){var n=Ee();return yg(n,Zt,e)}function yg(e,n,r){if(n=pf(e,n,mg)[0],e=Gu(Hi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=$l(n)}catch(p){throw p===Ta?Mu:p}else l=n;n=Ee();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(It.flags|=2048,Ra(9,{destroy:void 0},vb.bind(null,h,r),null)),[l,f,e]}function vb(e,n){e.action=n}function _g(e){var n=Ee(),r=Zt;if(r!==null)return yg(n,r,e);Ee(),n=n.memoizedState,r=Ee();var l=r.queue.dispatch;return r.memoizedState=e,[n,l,!1]}function Ra(e,n,r,l){return e={tag:e,create:r,deps:l,inst:n,next:null},n=It.updateQueue,n===null&&(n=qu(),It.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,n.lastEffect=e),e}function vg(){return Ee().memoizedState}function Fu(e,n,r,l){var h=ln();It.flags|=e,h.memoizedState=Ra(1|n,{destroy:void 0},r,l===void 0?null:l)}function Qu(e,n,r,l){var h=Ee();l=l===void 0?null:l;var f=h.memoizedState.inst;Zt!==null&&l!==null&&uf(l,Zt.memoizedState.deps)?h.memoizedState=Ra(n,f,r,l):(It.flags|=e,h.memoizedState=Ra(1|n,f,r,l))}function Eg(e,n){Fu(8390656,8,e,n)}function vf(e,n){Qu(2048,8,e,n)}function Eb(e){It.flags|=4;var n=It.updateQueue;if(n===null)n=qu(),It.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function Tg(e){var n=Ee().memoizedState;return Eb({ref:n,nextImpl:e}),function(){if((Gt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function bg(e,n){return Qu(4,2,e,n)}function Ag(e,n){return Qu(4,4,e,n)}function Sg(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function wg(e,n,r){r=r!=null?r.concat([e]):null,Qu(4,4,Sg.bind(null,n,e),r)}function Ef(){}function Rg(e,n){var r=Ee();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&uf(n,l[1])?l[0]:(r.memoizedState=[e,n],e)}function Ig(e,n){var r=Ee();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&uf(n,l[1]))return l[0];if(l=e(),Vs){In(!0);try{e()}finally{In(!1)}}return r.memoizedState=[l,n],l}function Tf(e,n,r){return r===void 0||(qi&1073741824)!==0&&(Ot&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=Cy(),It.lanes|=e,Nr|=e,r)}function Cg(e,n,r,l){return vn(r,n)?r:Aa.current!==null?(e=Tf(e,r,l),vn(e,n)||(xe=!0),e):(qi&42)===0||(qi&1073741824)!==0&&(Ot&261930)===0?(xe=!0,e.memoizedState=r):(e=Cy(),It.lanes|=e,Nr|=e,n)}function xg(e,n,r,l,h){var f=W.p;W.p=f!==0&&8>f?f:8;var p=H.T,E={};H.T=E,Sf(e,!1,n,r);try{var R=h(),P=H.S;if(P!==null&&P(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=pb(R,l);Jl(e,n,G,wn(e))}else Jl(e,n,l,wn(e))}catch(X){Jl(e,n,{then:function(){},status:"rejected",reason:X},wn())}finally{W.p=f,p!==null&&E.types!==null&&(p.types=E.types),H.T=p}}function Tb(){}function bf(e,n,r,l){if(e.tag!==5)throw Error(a(476));var h=Ng(e).queue;xg(e,h,n,ct,r===null?Tb:function(){return Dg(e),r(l)})}function Ng(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:ct},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Dg(e){var n=Ng(e);n.next===null&&(n=e.alternate.memoizedState),Jl(e,n.next.queue,{},wn())}function Af(){return Ye(po)}function Og(){return Ee().memoizedState}function Vg(){return Ee().memoizedState}function bb(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=wn();e=Sr(r);var l=wr(n,e,r);l!==null&&(mn(l,n,r),Ql(l,n,r)),n={cache:Jh()},e.payload=n;return}n=n.return}}function Ab(e,n,r){var l=wn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Yu(e)?kg(n,r):(r=jh(e,n,r,l),r!==null&&(mn(r,e,l),Lg(r,n,l)))}function Mg(e,n,r){var l=wn();Jl(e,n,r,l)}function Jl(e,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Yu(e))kg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,r);if(h.hasEagerState=!0,h.eagerState=E,vn(E,p))return Iu(e,n,h,0),ne===null&&Ru(),!1}catch{}if(r=jh(e,n,h,l),r!==null)return mn(r,e,l),Lg(r,n,l),!0}return!1}function Sf(e,n,r,l){if(l={lane:2,revertLane:nd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Yu(e)){if(n)throw Error(a(479))}else n=jh(e,r,l,2),n!==null&&mn(n,e,2)}function Yu(e){var n=e.alternate;return e===It||n!==null&&n===It}function kg(e,n){Sa=ju=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Lg(e,n,r){if((r&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,vl(e,r)}}var Zl={readContext:Ye,use:Hu,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me,useHostTransitionStatus:me,useFormState:me,useActionState:me,useOptimistic:me,useMemoCache:me,useCacheRefresh:me};Zl.useEffectEvent=me;var Ug={readContext:Ye,use:Hu,useCallback:function(e,n){return ln().memoizedState=[e,n===void 0?null:n],e},useContext:Ye,useEffect:Eg,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Fu(4194308,4,Sg.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Fu(4194308,4,e,n)},useInsertionEffect:function(e,n){Fu(4,2,e,n)},useMemo:function(e,n){var r=ln();n=n===void 0?null:n;var l=e();if(Vs){In(!0);try{e()}finally{In(!1)}}return r.memoizedState=[l,n],l},useReducer:function(e,n,r){var l=ln();if(r!==void 0){var h=r(n);if(Vs){In(!0);try{r(n)}finally{In(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=Ab.bind(null,It,e),[l.memoizedState,e]},useRef:function(e){var n=ln();return e={current:e},n.memoizedState=e},useState:function(e){e=yf(e);var n=e.queue,r=Mg.bind(null,It,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Ef,useDeferredValue:function(e,n){var r=ln();return Tf(r,e,n)},useTransition:function(){var e=yf(!1);return e=xg.bind(null,It,e.queue,!0,!1),ln().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var l=It,h=ln();if(Pt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),ne===null)throw Error(a(349));(Ot&127)!==0||rg(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Eg(ag.bind(null,l,f,e),[e]),l.flags|=2048,Ra(9,{destroy:void 0},sg.bind(null,l,f,r,n),null),r},useId:function(){var e=ln(),n=ne.identifierPrefix;if(Pt){var r=Ai,l=bi;r=(l&~(1<<32-ye(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Bu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=gb++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Af,useFormState:pg,useActionState:pg,useOptimistic:function(e){var n=ln();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Sf.bind(null,It,!0,r),r.dispatch=n,[e,n]},useMemoCache:mf,useCacheRefresh:function(){return ln().memoizedState=bb.bind(null,It)},useEffectEvent:function(e){var n=ln(),r={impl:e};return n.memoizedState=r,function(){if((Gt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},wf={readContext:Ye,use:Hu,useCallback:Rg,useContext:Ye,useEffect:vf,useImperativeHandle:wg,useInsertionEffect:bg,useLayoutEffect:Ag,useMemo:Ig,useReducer:Gu,useRef:vg,useState:function(){return Gu(Hi)},useDebugValue:Ef,useDeferredValue:function(e,n){var r=Ee();return Cg(r,Zt.memoizedState,e,n)},useTransition:function(){var e=Gu(Hi)[0],n=Ee().memoizedState;return[typeof e=="boolean"?e:$l(e),n]},useSyncExternalStore:ig,useId:Og,useHostTransitionStatus:Af,useFormState:gg,useActionState:gg,useOptimistic:function(e,n){var r=Ee();return ug(r,Zt,e,n)},useMemoCache:mf,useCacheRefresh:Vg};wf.useEffectEvent=Tg;var Pg={readContext:Ye,use:Hu,useCallback:Rg,useContext:Ye,useEffect:vf,useImperativeHandle:wg,useInsertionEffect:bg,useLayoutEffect:Ag,useMemo:Ig,useReducer:gf,useRef:vg,useState:function(){return gf(Hi)},useDebugValue:Ef,useDeferredValue:function(e,n){var r=Ee();return Zt===null?Tf(r,e,n):Cg(r,Zt.memoizedState,e,n)},useTransition:function(){var e=gf(Hi)[0],n=Ee().memoizedState;return[typeof e=="boolean"?e:$l(e),n]},useSyncExternalStore:ig,useId:Og,useHostTransitionStatus:Af,useFormState:_g,useActionState:_g,useOptimistic:function(e,n){var r=Ee();return Zt!==null?ug(r,Zt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:mf,useCacheRefresh:Vg};Pg.useEffectEvent=Tg;function Rf(e,n,r,l){n=e.memoizedState,r=r(l,n),r=r==null?n:S({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var If={enqueueSetState:function(e,n,r){e=e._reactInternals;var l=wn(),h=Sr(l);h.payload=n,r!=null&&(h.callback=r),n=wr(e,h,l),n!==null&&(mn(n,e,l),Ql(n,e,l))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var l=wn(),h=Sr(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=wr(e,h,l),n!==null&&(mn(n,e,l),Ql(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=wn(),l=Sr(r);l.tag=2,n!=null&&(l.callback=n),n=wr(e,l,r),n!==null&&(mn(n,e,r),Ql(n,e,r))}};function zg(e,n,r,l,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Pl(r,l)||!Pl(h,f):!0}function jg(e,n,r,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==e&&If.enqueueReplaceState(n,n.state,null)}function Ms(e,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(e=e.defaultProps){r===n&&(r=S({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function Bg(e){wu(e)}function qg(e){console.error(e)}function Hg(e){wu(e)}function Ku(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Gg(e,n,r){try{var l=e.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Cf(e,n,r){return r=Sr(r),r.tag=3,r.payload={element:null},r.callback=function(){Ku(e,n)},r}function Fg(e){return e=Sr(e),e.tag=3,e}function Qg(e,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){Gg(n,r,l)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Gg(n,r,l),typeof h!="function"&&(Dr===null?Dr=new Set([this]):Dr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function Sb(e,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&_a(n,r,h,!0),r=Tn.current,r!==null){switch(r.tag){case 31:case 13:return Un===null?ac():r.alternate===null&&pe===0&&(pe=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===ku?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Wf(e,l,h)),!1;case 22:return r.flags|=65536,l===ku?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Wf(e,l,h)),!1}throw Error(a(435,r.tag))}return Wf(e,l,h),ac(),!1}if(Pt)return n=Tn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Qh&&(e=Error(a(422),{cause:l}),Bl(Vn(e,r)))):(l!==Qh&&(n=Error(a(423),{cause:l}),Bl(Vn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Vn(l,r),h=Cf(e.stateNode,l,h),rf(e,h),pe!==4&&(pe=2)),!1;var f=Error(a(520),{cause:l});if(f=Vn(f,r),ao===null?ao=[f]:ao.push(f),pe!==4&&(pe=2),n===null)return!0;l=Vn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Cf(r.stateNode,l,e),rf(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Dr===null||!Dr.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Fg(h),Qg(h,e,r,l),rf(r,h),!1}r=r.return}while(r!==null);return!1}var xf=Error(a(461)),xe=!1;function Ke(e,n,r,l){n.child=e===null?$p(n,null,r,l):Os(n,e.child,r,l)}function Yg(e,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return Cs(n),l=cf(e,n,r,p,f,h),E=hf(),e!==null&&!xe?(ff(e,n,h),Gi(e,n,h)):(Pt&&E&&Gh(n),n.flags|=1,Ke(e,n,l,h),n.child)}function Kg(e,n,r,l,h){if(e===null){var f=r.type;return typeof f=="function"&&!Bh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Xg(e,n,f,l,h)):(e=xu(r.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Uf(e,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:Pl,r(p,l)&&e.ref===n.ref)return Gi(e,n,h)}return n.flags|=1,e=Pi(f,l),e.ref=n.ref,e.return=n,n.child=e}function Xg(e,n,r,l,h){if(e!==null){var f=e.memoizedProps;if(Pl(f,l)&&e.ref===n.ref)if(xe=!1,n.pendingProps=l=f,Uf(e,h))(e.flags&131072)!==0&&(xe=!0);else return n.lanes=e.lanes,Gi(e,n,h)}return Nf(e,n,r,l,h)}function $g(e,n,r,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Jg(e,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vu(n,f!==null?f.cachePool:null),f!==null?Wp(n,f):af(),tg(n);else return l=n.lanes=536870912,Jg(e,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(Vu(n,f.cachePool),Wp(n,f),Ir(),n.memoizedState=null):(e!==null&&Vu(n,null),af(),Ir());return Ke(e,n,h,r),n.child}function Wl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Jg(e,n,r,l,h){var f=Wh();return f=f===null?null:{parent:Ie._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Vu(n,null),af(),tg(n),e!==null&&_a(e,n,l,!0),n.childLanes=h,null}function Xu(e,n){return n=Ju({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Zg(e,n,r){return Os(n,e.child,null,r),e=Xu(n,n.pendingProps),e.flags|=2,bn(n),n.memoizedState=null,e}function wb(e,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Pt){if(l.mode==="hidden")return e=Xu(n,l),n.lanes=536870912,Wl(null,e);if(of(n),(e=se)?(e=c_(e,Ln),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:vr!==null?{id:bi,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},r=kp(e),r.return=n,n.child=r,Qe=n,se=null)):e=null,e===null)throw Tr(n);return n.lanes=536870912,null}return Xu(n,l)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(of(n),h)if(n.flags&256)n.flags&=-257,n=Zg(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(xe||_a(e,n,r,!1),h=(r&e.childLanes)!==0,xe||h){if(l=ne,l!==null&&(p=El(l,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,Ss(e,p),mn(l,e,p),xf;ac(),n=Zg(e,n,r)}else e=f.treeContext,se=Pn(p.nextSibling),Qe=n,Pt=!0,Er=null,Ln=!1,e!==null&&Pp(n,e),n=Xu(n,l),n.flags|=4096;return n}return e=Pi(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function $u(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Nf(e,n,r,l,h){return Cs(n),r=cf(e,n,r,l,void 0,h),l=hf(),e!==null&&!xe?(ff(e,n,h),Gi(e,n,h)):(Pt&&l&&Gh(n),n.flags|=1,Ke(e,n,r,h),n.child)}function Wg(e,n,r,l,h,f){return Cs(n),n.updateQueue=null,r=ng(n,l,r,h),eg(e),l=hf(),e!==null&&!xe?(ff(e,n,f),Gi(e,n,f)):(Pt&&l&&Gh(n),n.flags|=1,Ke(e,n,r,f),n.child)}function ty(e,n,r,l,h){if(Cs(n),n.stateNode===null){var f=ma,p=r.contextType;typeof p=="object"&&p!==null&&(f=Ye(p)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=If,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},ef(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?Ye(p):ma,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Rf(n,r,p,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&If.enqueueReplaceState(f,f.state,null),Kl(n,l,f,h),Yl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Ms(r,E);f.props=R;var P=f.context,G=r.contextType;p=ma,typeof G=="object"&&G!==null&&(p=Ye(G));var X=r.getDerivedStateFromProps;G=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==p)&&jg(n,f,l,p),Ar=!1;var z=n.memoizedState;f.state=z,Kl(n,l,f,h),Yl(),P=n.memoizedState,E||z!==P||Ar?(typeof X=="function"&&(Rf(n,r,X,l),P=n.memoizedState),(R=Ar||zg(n,r,R,l,z,P,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=p,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,nf(e,n),p=n.memoizedProps,G=Ms(r,p),f.props=G,X=n.pendingProps,z=f.context,P=r.contextType,R=ma,typeof P=="object"&&P!==null&&(R=Ye(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==X||z!==R)&&jg(n,f,l,R),Ar=!1,z=n.memoizedState,f.state=z,Kl(n,l,f,h),Yl();var q=n.memoizedState;p!==X||z!==q||Ar||e!==null&&e.dependencies!==null&&Du(e.dependencies)?(typeof E=="function"&&(Rf(n,r,E,l),q=n.memoizedState),(G=Ar||zg(n,r,G,l,z,q,R)||e!==null&&e.dependencies!==null&&Du(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=R,l=G):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,$u(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Os(n,e.child,null,h),n.child=Os(n,null,r,h)):Ke(e,n,r,h),n.memoizedState=f.state,e=n.child):e=Gi(e,n,h),e}function ey(e,n,r,l){return Rs(),n.flags|=256,Ke(e,n,r,l),n.child}var Df={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Of(e){return{baseLanes:e,cachePool:Gp()}}function Vf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Sn),e}function ny(e,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(ve.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Pt){if(h?Rr(n):Ir(),(e=se)?(e=c_(e,Ln),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:vr!==null?{id:bi,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},r=kp(e),r.return=n,n.child=r,Qe=n,se=null)):e=null,e===null)throw Tr(n);return pd(e)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Ir(),h=n.mode,E=Ju({mode:"hidden",children:E},h),l=ws(l,h,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Of(r),l.childLanes=Vf(e,p,r),n.memoizedState=Df,Wl(null,l)):(Rr(n),Mf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Rr(n),n.flags&=-257,n=kf(e,n,r)):n.memoizedState!==null?(Ir(),n.child=e.child,n.flags|=128,n=null):(Ir(),E=l.fallback,h=n.mode,l=Ju({mode:"visible",children:l.children},h),E=ws(E,h,r,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Os(n,e.child,null,r),l=n.child,l.memoizedState=Of(r),l.childLanes=Vf(e,p,r),n.memoizedState=Df,n=Wl(null,l));else if(Rr(n),pd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var P=p.dgst;p=P,l=Error(a(419)),l.stack="",l.digest=p,Bl({value:l,source:null,stack:null}),n=kf(e,n,r)}else if(xe||_a(e,n,r,!1),p=(r&e.childLanes)!==0,xe||p){if(p=ne,p!==null&&(l=El(p,r),l!==0&&l!==R.retryLane))throw R.retryLane=l,Ss(e,l),mn(p,e,l),xf;md(E)||ac(),n=kf(e,n,r)}else md(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,se=Pn(E.nextSibling),Qe=n,Pt=!0,Er=null,Ln=!1,e!==null&&Pp(n,e),n=Mf(n,l.children),n.flags|=4096);return n}return h?(Ir(),E=l.fallback,h=n.mode,R=e.child,P=R.sibling,l=Pi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,P!==null?E=Pi(P,E):(E=ws(E,h,r,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Wl(null,l),l=n.child,E=e.child.memoizedState,E===null?E=Of(r):(h=E.cachePool,h!==null?(R=Ie._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Gp(),E={baseLanes:E.baseLanes|r,cachePool:h}),l.memoizedState=E,l.childLanes=Vf(e,p,r),n.memoizedState=Df,Wl(e.child,l)):(Rr(n),r=e.child,e=r.sibling,r=Pi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=r,n.memoizedState=null,r)}function Mf(e,n){return n=Ju({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ju(e,n){return e=En(22,e,null,n),e.lanes=0,e}function kf(e,n,r){return Os(n,e.child,null,r),e=Mf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function iy(e,n,r){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Xh(e.return,n,r)}function Lf(e,n,r,l,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function ry(e,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=ve.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,et(ve,p),Ke(e,n,l,r),l=Pt?jl:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&iy(e,r,n);else if(e.tag===19)iy(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&zu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Lf(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&zu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Lf(n,!0,r,null,f,l);break;case"together":Lf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Gi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Nr|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(_a(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Pi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Pi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Uf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Du(e)))}function Rb(e,n,r){switch(n.tag){case 3:ge(n,n.stateNode.containerInfo),br(n,Ie,e.memoizedState.cache),Rs();break;case 27:case 5:Vi(n);break;case 4:ge(n,n.stateNode.containerInfo);break;case 10:br(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,of(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Rr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?ny(e,n,r):(Rr(n),e=Gi(e,n,r),e!==null?e.sibling:null);Rr(n);break;case 19:var h=(e.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(_a(e,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return ry(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(ve,ve.current),l)break;return null;case 22:return n.lanes=0,$g(e,n,r,n.pendingProps);case 24:br(n,Ie,e.memoizedState.cache)}return Gi(e,n,r)}function sy(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)xe=!0;else{if(!Uf(e,r)&&(n.flags&128)===0)return xe=!1,Rb(e,n,r);xe=(e.flags&131072)!==0}else xe=!1,Pt&&(n.flags&1048576)!==0&&Up(n,jl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=Ns(n.elementType),n.type=e,typeof e=="function")Bh(e)?(l=Ms(e,l),n.tag=1,n=ty(null,n,e,l,r)):(n.tag=0,n=Nf(null,n,e,l,r));else{if(e!=null){var h=e.$$typeof;if(h===Qt){n.tag=11,n=Yg(null,n,e,l,r);break t}else if(h===C){n.tag=14,n=Kg(null,n,e,l,r);break t}}throw n=$t(e)||e,Error(a(306,n,""))}}return n;case 0:return Nf(e,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=Ms(l,n.pendingProps),ty(e,n,l,h,r);case 3:t:{if(ge(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,nf(e,n),Kl(n,l,null,r);var p=n.memoizedState;if(l=p.cache,br(n,Ie,l),l!==f.cache&&$h(n,[Ie],r,!0),Yl(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ey(e,n,l,r);break t}else if(l!==h){h=Vn(Error(a(424)),n),Bl(h),n=ey(e,n,l,r);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,se=Pn(e.firstChild),Qe=n,Pt=!0,Er=null,Ln=!0,r=$p(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Rs(),l===h){n=Gi(e,n,r);break t}Ke(e,n,l,r)}n=n.child}return n;case 26:return $u(e,n),e===null?(r=g_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Pt||(r=n.type,e=n.pendingProps,l=dc(St.current).createElement(r),l[Se]=n,l[Pe]=e,Xe(l,r,e),we(l),n.stateNode=l):n.memoizedState=g_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Vi(n),e===null&&Pt&&(l=n.stateNode=d_(n.type,n.pendingProps,St.current),Qe=n,Ln=!0,h=se,kr(n.type)?(gd=h,se=Pn(l.firstChild)):se=h),Ke(e,n,n.pendingProps.children,r),$u(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Pt&&((h=l=se)&&(l=nA(l,n.type,n.pendingProps,Ln),l!==null?(n.stateNode=l,Qe=n,se=Pn(l.firstChild),Ln=!1,h=!0):h=!1),h||Tr(n)),Vi(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,l=f.children,hd(h,f)?l=null:p!==null&&hd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=cf(e,n,yb,null,null,r),po._currentValue=h),$u(e,n),Ke(e,n,l,r),n.child;case 6:return e===null&&Pt&&((e=r=se)&&(r=iA(r,n.pendingProps,Ln),r!==null?(n.stateNode=r,Qe=n,se=null,e=!0):e=!1),e||Tr(n)),null;case 13:return ny(e,n,r);case 4:return ge(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Os(n,null,l,r):Ke(e,n,l,r),n.child;case 11:return Yg(e,n,n.type,n.pendingProps,r);case 7:return Ke(e,n,n.pendingProps,r),n.child;case 8:return Ke(e,n,n.pendingProps.children,r),n.child;case 12:return Ke(e,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,br(n,n.type,l.value),Ke(e,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Cs(n),h=Ye(h),l=l(h),n.flags|=1,Ke(e,n,l,r),n.child;case 14:return Kg(e,n,n.type,n.pendingProps,r);case 15:return Xg(e,n,n.type,n.pendingProps,r);case 19:return ry(e,n,r);case 31:return wb(e,n,r);case 22:return $g(e,n,r,n.pendingProps);case 24:return Cs(n),l=Ye(Ie),e===null?(h=Wh(),h===null&&(h=ne,f=Jh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},ef(n),br(n,Ie,h)):((e.lanes&r)!==0&&(nf(e,n),Kl(n,null,null,r),Yl()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),br(n,Ie,l)):(l=f.cache,br(n,Ie,l),l!==h.cache&&$h(n,[Ie],r,!0))),Ke(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Fi(e){e.flags|=4}function Pf(e,n,r,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Oy())e.flags|=8192;else throw Ds=ku,tf}else e.flags&=-16777217}function ay(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!T_(n))if(Oy())e.flags|=8192;else throw Ds=ku,tf}function Zu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ru():536870912,e.lanes|=n,Na|=n)}function to(e,n){if(!Pt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ae(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=r,n}function Ib(e,n,r){var l=n.pendingProps;switch(Fh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(n),null;case 1:return ae(n),null;case 3:return r=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Bi(Ie),ee(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ya(n)?Fi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Yh())),ae(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Fi(n),f!==null?(ae(n),ay(n,f)):(ae(n),Pf(n,h,null,l,r))):f?f!==e.memoizedState?(Fi(n),ae(n),ay(n,f)):(ae(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Fi(n),ae(n),Pf(n,h,e,l,r)),null;case 27:if(F(n),r=St.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Fi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ae(n),null}e=st.current,ya(n)?zp(n):(e=d_(h,l,r),n.stateNode=e,Fi(n))}return ae(n),null;case 5:if(F(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Fi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ae(n),null}if(f=st.current,ya(n))zp(n);else{var p=dc(St.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[Se]=n,f[Pe]=l;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Xe(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Fi(n)}}return ae(n),Pf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Fi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=St.current,ya(n)){if(e=n.stateNode,r=n.memoizedProps,l=null,h=Qe,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Se]=n,e=!!(e.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||n_(e.nodeValue,r)),e||Tr(n,!0)}else e=dc(e).createTextNode(l),e[Se]=n,n.stateNode=e}return ae(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(l=ya(n),r!==null){if(e===null){if(!l)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Se]=n}else Rs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ae(n),e=!1}else r=Yh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(bn(n),n):(bn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ae(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ya(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Se]=n}else Rs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ae(n),h=!1}else h=Yh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(bn(n),n):(bn(n),null)}return bn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,e=e!==null&&e.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Zu(n,n.updateQueue),ae(n),null);case 4:return ee(),e===null&&ad(n.stateNode.containerInfo),ae(n),null;case 10:return Bi(n.type),ae(n),null;case 19:if(K(ve),l=n.memoizedState,l===null)return ae(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)to(l,!1);else{if(pe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=zu(e),f!==null){for(n.flags|=128,to(l,!1),e=f.updateQueue,n.updateQueue=e,Zu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Mp(r,e),r=r.sibling;return et(ve,ve.current&1|2),Pt&&zi(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&sn()>ic&&(n.flags|=128,h=!0,to(l,!1),n.lanes=4194304)}else{if(!h)if(e=zu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Zu(n,e),to(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Pt)return ae(n),null}else 2*sn()-l.renderingStartTime>ic&&r!==536870912&&(n.flags|=128,h=!0,to(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=sn(),e.sibling=null,r=ve.current,et(ve,h?r&1|2:r&1),Pt&&zi(n,l.treeForkCount),e):(ae(n),null);case 22:case 23:return bn(n),lf(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ae(n),n.subtreeFlags&6&&(n.flags|=8192)):ae(n),r=n.updateQueue,r!==null&&Zu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),e!==null&&K(xs),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Bi(Ie),ae(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function Cb(e,n){switch(Fh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Bi(Ie),ee(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return F(n),null;case 31:if(n.memoizedState!==null){if(bn(n),n.alternate===null)throw Error(a(340));Rs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(bn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Rs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(ve),null;case 4:return ee(),null;case 10:return Bi(n.type),null;case 22:case 23:return bn(n),lf(),e!==null&&K(xs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Bi(Ie),null;case 25:return null;default:return null}}function ly(e,n){switch(Fh(n),n.tag){case 3:Bi(Ie),ee();break;case 26:case 27:case 5:F(n);break;case 4:ee();break;case 31:n.memoizedState!==null&&bn(n);break;case 13:bn(n);break;case 19:K(ve);break;case 10:Bi(n.type);break;case 22:case 23:bn(n),lf(),e!==null&&K(xs);break;case 24:Bi(Ie)}}function eo(e,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&e)===e){l=void 0;var f=r.create,p=r.inst;l=f(),p.destroy=l}r=r.next}while(r!==h)}}catch(E){Xt(n,n.return,E)}}function Cr(e,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var R=r,P=E;try{P()}catch(G){Xt(h,R,G)}}}l=l.next}while(l!==f)}}catch(G){Xt(n,n.return,G)}}function oy(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Zp(n,r)}catch(l){Xt(e,e.return,l)}}}function uy(e,n,r){r.props=Ms(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(l){Xt(e,n,l)}}function no(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof r=="function"?e.refCleanup=r(l):r.current=l}}catch(h){Xt(e,n,h)}}function Si(e,n){var r=e.ref,l=e.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){Xt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Xt(e,n,h)}else r.current=null}function cy(e){var n=e.type,r=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){Xt(e,e.return,h)}}function zf(e,n,r){try{var l=e.stateNode;$b(l,e.type,r,n),l[Pe]=n}catch(h){Xt(e,e.return,h)}}function hy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&kr(e.type)||e.tag===4}function jf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||hy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&kr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bf(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Fn));else if(l!==4&&(l===27&&kr(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Bf(e,n,r),e=e.sibling;e!==null;)Bf(e,n,r),e=e.sibling}function Wu(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(l!==4&&(l===27&&kr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Wu(e,n,r),e=e.sibling;e!==null;)Wu(e,n,r),e=e.sibling}function fy(e){var n=e.stateNode,r=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Xe(n,l,r),n[Se]=e,n[Pe]=r}catch(f){Xt(e,e.return,f)}}var Qi=!1,Ne=!1,qf=!1,dy=typeof WeakSet=="function"?WeakSet:Set,je=null;function xb(e,n){if(e=e.containerInfo,ud=Ec,e=wp(e),Mh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var p=0,E=-1,R=-1,P=0,G=0,X=e,z=null;e:for(;;){for(var q;X!==r||h!==0&&X.nodeType!==3||(E=p+h),X!==f||l!==0&&X.nodeType!==3||(R=p+l),X.nodeType===3&&(p+=X.nodeValue.length),(q=X.firstChild)!==null;)z=X,X=q;for(;;){if(X===e)break e;if(z===r&&++P===h&&(E=p),z===f&&++G===l&&(R=p),(q=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=q}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(cd={focusedElem:e,selectionRange:r},Ec=!1,je=n;je!==null;)if(n=je,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,je=e;else for(;je!==null;){switch(n=je,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var lt=Ms(r.type,h);e=l.getSnapshotBeforeUpdate(lt,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(mt){Xt(r,r.return,mt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)dd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":dd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,je=e;break}je=n.return}}function my(e,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Ki(e,r),l&4&&eo(5,r);break;case 1:if(Ki(e,r),l&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(p){Xt(r,r.return,p)}else{var h=Ms(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Xt(r,r.return,p)}}l&64&&oy(r),l&512&&no(r,r.return);break;case 3:if(Ki(e,r),l&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Zp(e,n)}catch(p){Xt(r,r.return,p)}}break;case 27:n===null&&l&4&&fy(r);case 26:case 5:Ki(e,r),n===null&&l&4&&cy(r),l&512&&no(r,r.return);break;case 12:Ki(e,r);break;case 31:Ki(e,r),l&4&&yy(e,r);break;case 13:Ki(e,r),l&4&&_y(e,r),l&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=Pb.bind(null,r),rA(e,r))));break;case 22:if(l=r.memoizedState!==null||Qi,!l){n=n!==null&&n.memoizedState!==null||Ne,h=Qi;var f=Ne;Qi=l,(Ne=n)&&!f?Xi(e,r,(r.subtreeFlags&8772)!==0):Ki(e,r),Qi=h,Ne=f}break;case 30:break;default:Ki(e,r)}}function py(e){var n=e.alternate;n!==null&&(e.alternate=null,py(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ta(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ce=null,cn=!1;function Yi(e,n,r){for(r=r.child;r!==null;)gy(e,n,r),r=r.sibling}function gy(e,n,r){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(Bn,r)}catch{}switch(r.tag){case 26:Ne||Si(r,n),Yi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ne||Si(r,n);var l=ce,h=cn;kr(r.type)&&(ce=r.stateNode,cn=!1),Yi(e,n,r),ho(r.stateNode),ce=l,cn=h;break;case 5:Ne||Si(r,n);case 6:if(l=ce,h=cn,ce=null,Yi(e,n,r),ce=l,cn=h,ce!==null)if(cn)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(r.stateNode)}catch(f){Xt(r,n,f)}else try{ce.removeChild(r.stateNode)}catch(f){Xt(r,n,f)}break;case 18:ce!==null&&(cn?(e=ce,o_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Pa(e)):o_(ce,r.stateNode));break;case 4:l=ce,h=cn,ce=r.stateNode.containerInfo,cn=!0,Yi(e,n,r),ce=l,cn=h;break;case 0:case 11:case 14:case 15:Cr(2,r,n),Ne||Cr(4,r,n),Yi(e,n,r);break;case 1:Ne||(Si(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&uy(r,n,l)),Yi(e,n,r);break;case 21:Yi(e,n,r);break;case 22:Ne=(l=Ne)||r.memoizedState!==null,Yi(e,n,r),Ne=l;break;default:Yi(e,n,r)}}function yy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Pa(e)}catch(r){Xt(n,n.return,r)}}}function _y(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Pa(e)}catch(r){Xt(n,n.return,r)}}function Nb(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new dy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new dy),n;default:throw Error(a(435,e.tag))}}function tc(e,n){var r=Nb(e);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=zb.bind(null,e,l);l.then(h,h)}})}function hn(e,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(kr(E.type)){ce=E.stateNode,cn=!1;break t}break;case 5:ce=E.stateNode,cn=!1;break t;case 3:case 4:ce=E.stateNode.containerInfo,cn=!0;break t}E=E.return}if(ce===null)throw Error(a(160));gy(f,p,h),ce=null,cn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)vy(n,e),n=n.sibling}var Jn=null;function vy(e,n){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hn(n,e),fn(e),l&4&&(Cr(3,e,e.return),eo(3,e),Cr(5,e,e.return));break;case 1:hn(n,e),fn(e),l&512&&(Ne||r===null||Si(r,r.return)),l&64&&Qi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=Jn;if(hn(n,e),fn(e),l&512&&(Ne||r===null||Si(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=e.memoizedState,r===null)if(l===null)if(e.stateNode===null){t:{l=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ci]||f[Se]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Xe(f,l,r),f[Se]=e,we(f),l=f;break t;case"link":var p=v_("link","href",h).get(l+(r.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(l),Xe(f,l,r),h.head.appendChild(f);break;case"meta":if(p=v_("meta","content",h).get(l+(r.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(E,1);break e}}f=h.createElement(l),Xe(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Se]=e,we(f),l=f}e.stateNode=l}else E_(h,e.type,e.stateNode);else e.stateNode=__(h,l,e.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?E_(h,e.type,e.stateNode):__(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&zf(e,e.memoizedProps,r.memoizedProps)}break;case 27:hn(n,e),fn(e),l&512&&(Ne||r===null||Si(r,r.return)),r!==null&&l&4&&zf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(hn(n,e),fn(e),l&512&&(Ne||r===null||Si(r,r.return)),e.flags&32){h=e.stateNode;try{un(h,"")}catch(lt){Xt(e,e.return,lt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,zf(e,h,r!==null?r.memoizedProps:h)),l&1024&&(qf=!0);break;case 6:if(hn(n,e),fn(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,r=e.stateNode;try{r.nodeValue=l}catch(lt){Xt(e,e.return,lt)}}break;case 3:if(gc=null,h=Jn,Jn=mc(n.containerInfo),hn(n,e),Jn=h,fn(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Pa(n.containerInfo)}catch(lt){Xt(e,e.return,lt)}qf&&(qf=!1,Ey(e));break;case 4:l=Jn,Jn=mc(e.stateNode.containerInfo),hn(n,e),fn(e),Jn=l;break;case 12:hn(n,e),fn(e);break;case 31:hn(n,e),fn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,tc(e,l)));break;case 13:hn(n,e),fn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(nc=sn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,tc(e,l)));break;case 22:h=e.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,P=Qi,G=Ne;if(Qi=P||h,Ne=G||R,hn(n,e),Ne=G,Qi=P,fn(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||R||Qi||Ne||ks(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=R.stateNode;var X=R.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(lt){Xt(R,R.return,lt)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(lt){Xt(R,R.return,lt)}}}else if(n.tag===18){if(r===null){R=n;try{var q=R.stateNode;h?u_(q,!0):u_(R.stateNode,!1)}catch(lt){Xt(R,R.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,tc(e,r))));break;case 19:hn(n,e),fn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,tc(e,l)));break;case 30:break;case 21:break;default:hn(n,e),fn(e)}}function fn(e){var n=e.flags;if(n&2){try{for(var r,l=e.return;l!==null;){if(hy(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=jf(e);Wu(e,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(un(p,""),r.flags&=-33);var E=jf(e);Wu(e,E,p);break;case 3:case 4:var R=r.stateNode.containerInfo,P=jf(e);Bf(e,P,R);break;default:throw Error(a(161))}}catch(G){Xt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ey(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ey(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ki(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)my(e,n.alternate,n),n=n.sibling}function ks(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Cr(4,n,n.return),ks(n);break;case 1:Si(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&uy(n,n.return,r),ks(n);break;case 27:ho(n.stateNode);case 26:case 5:Si(n,n.return),ks(n);break;case 22:n.memoizedState===null&&ks(n);break;case 30:ks(n);break;default:ks(n)}e=e.sibling}}function Xi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Xi(h,f,r),eo(4,f);break;case 1:if(Xi(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Xt(l,l.return,P)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Jp(R[h],E)}catch(P){Xt(l,l.return,P)}}r&&p&64&&oy(f),no(f,f.return);break;case 27:fy(f);case 26:case 5:Xi(h,f,r),r&&l===null&&p&4&&cy(f),no(f,f.return);break;case 12:Xi(h,f,r);break;case 31:Xi(h,f,r),r&&p&4&&yy(h,f);break;case 13:Xi(h,f,r),r&&p&4&&_y(h,f);break;case 22:f.memoizedState===null&&Xi(h,f,r),no(f,f.return);break;case 30:break;default:Xi(h,f,r)}n=n.sibling}}function Hf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&ql(r))}function Gf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ql(e))}function Zn(e,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ty(e,n,r,l),n=n.sibling}function Ty(e,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Zn(e,n,r,l),h&2048&&eo(9,n);break;case 1:Zn(e,n,r,l);break;case 3:Zn(e,n,r,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ql(e)));break;case 12:if(h&2048){Zn(e,n,r,l),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Xt(n,n.return,R)}}else Zn(e,n,r,l);break;case 31:Zn(e,n,r,l);break;case 13:Zn(e,n,r,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Zn(e,n,r,l):io(e,n):f._visibility&2?Zn(e,n,r,l):(f._visibility|=2,Ia(e,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Hf(p,n);break;case 24:Zn(e,n,r,l),h&2048&&Gf(n.alternate,n);break;default:Zn(e,n,r,l)}}function Ia(e,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=r,R=l,P=p.flags;switch(p.tag){case 0:case 11:case 15:Ia(f,p,E,R,h),eo(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?Ia(f,p,E,R,h):io(f,p):(G._visibility|=2,Ia(f,p,E,R,h)),h&&P&2048&&Hf(p.alternate,p);break;case 24:Ia(f,p,E,R,h),h&&P&2048&&Gf(p.alternate,p);break;default:Ia(f,p,E,R,h)}n=n.sibling}}function io(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,l=n,h=l.flags;switch(l.tag){case 22:io(r,l),h&2048&&Hf(l.alternate,l);break;case 24:io(r,l),h&2048&&Gf(l.alternate,l);break;default:io(r,l)}n=n.sibling}}var ro=8192;function Ca(e,n,r){if(e.subtreeFlags&ro)for(e=e.child;e!==null;)by(e,n,r),e=e.sibling}function by(e,n,r){switch(e.tag){case 26:Ca(e,n,r),e.flags&ro&&e.memoizedState!==null&&gA(r,Jn,e.memoizedState,e.memoizedProps);break;case 5:Ca(e,n,r);break;case 3:case 4:var l=Jn;Jn=mc(e.stateNode.containerInfo),Ca(e,n,r),Jn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=ro,ro=16777216,Ca(e,n,r),ro=l):Ca(e,n,r));break;default:Ca(e,n,r)}}function Ay(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function so(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];je=l,wy(l,e)}Ay(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Sy(e),e=e.sibling}function Sy(e){switch(e.tag){case 0:case 11:case 15:so(e),e.flags&2048&&Cr(9,e,e.return);break;case 3:so(e);break;case 12:so(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ec(e)):so(e);break;default:so(e)}}function ec(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];je=l,wy(l,e)}Ay(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Cr(8,n,n.return),ec(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,ec(n));break;default:ec(n)}e=e.sibling}}function wy(e,n){for(;je!==null;){var r=je;switch(r.tag){case 0:case 11:case 15:Cr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ql(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,je=l;else t:for(r=e;je!==null;){l=je;var h=l.sibling,f=l.return;if(py(l),l===r){je=null;break t}if(h!==null){h.return=f,je=h;break t}je=f}}}var Db={getCacheForType:function(e){var n=Ye(Ie),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Ye(Ie).controller.signal}},Ob=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ne=null,xt=null,Ot=0,Kt=0,An=null,xr=!1,xa=!1,Ff=!1,$i=0,pe=0,Nr=0,Ls=0,Qf=0,Sn=0,Na=0,ao=null,dn=null,Yf=!1,nc=0,Ry=0,ic=1/0,rc=null,Dr=null,Le=0,Or=null,Da=null,Ji=0,Kf=0,Xf=null,Iy=null,lo=0,$f=null;function wn(){return(Gt&2)!==0&&Ot!==0?Ot&-Ot:H.T!==null?nd():su()}function Cy(){if(Sn===0)if((Ot&536870912)===0||Pt){var e=us;us<<=1,(us&3932160)===0&&(us=262144),Sn=e}else Sn=536870912;return e=Tn.current,e!==null&&(e.flags|=32),Sn}function mn(e,n,r){(e===ne&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Oa(e,0),Vr(e,Ot,Sn,!1)),cs(e,r),((Gt&2)===0||e!==ne)&&(e===ne&&((Gt&2)===0&&(Ls|=r),pe===4&&Vr(e,Ot,Sn,!1)),wi(e))}function xy(e,n,r){if((Gt&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&e.expiredLanes)===0||qn(e,n),h=l?kb(e,n):Zf(e,n,!0),f=l;do{if(h===0){xa&&!l&&Vr(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!Vb(r)){h=Zf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=ao;var R=E.current.memoizedState.isDehydrated;if(R&&(Oa(E,p).flags|=256),p=Zf(E,p,!1),p!==2){if(Ff&&!R){E.errorRecoveryDisabledLanes|=f,Ls|=f,h=4;break t}f=dn,dn=h,f!==null&&(dn===null?dn=f:dn.push.apply(dn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Oa(e,0),Vr(e,n,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Vr(l,n,Sn,!xr);break t;case 2:dn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=nc+300-sn(),10<h)){if(Vr(l,n,Sn,!xr),li(l,0,!0)!==0)break t;Ji=n,l.timeoutHandle=a_(Ny.bind(null,l,r,dn,rc,Yf,n,Sn,Ls,Na,xr,f,"Throttled",-0,0),h);break t}Ny(l,r,dn,rc,Yf,n,Sn,Ls,Na,xr,f,null,-0,0)}}break}while(!0);wi(e)}function Ny(e,n,r,l,h,f,p,E,R,P,G,X,z,q){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},by(n,f,X);var lt=(f&62914560)===f?nc-sn():(f&4194048)===f?Ry-sn():0;if(lt=yA(X,lt),lt!==null){Ji=f,e.cancelPendingCommit=lt(Py.bind(null,e,n,f,r,l,h,p,E,R,G,X,null,z,q)),Vr(e,f,p,!P);return}}Py(e,n,f,r,l,h,p,E,R)}function Vb(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!vn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Vr(e,n,r,l){n&=~Qf,n&=~Ls,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-ye(h),p=1<<f;l[f]=-1,h&=~p}r!==0&&hs(e,r,n)}function sc(){return(Gt&6)===0?(oo(0),!1):!0}function Jf(){if(xt!==null){if(Kt===0)var e=xt.return;else e=xt,ji=Is=null,df(e),ba=null,Gl=0,e=xt;for(;e!==null;)ly(e.alternate,e),e=e.return;xt=null}}function Oa(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,Wb(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Ji=0,Jf(),ne=e,xt=r=Pi(e.current,null),Ot=n,Kt=0,An=null,xr=!1,xa=qn(e,n),Ff=!1,Na=Sn=Qf=Ls=Nr=pe=0,dn=ao=null,Yf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-ye(l),f=1<<h;n|=e[h],l&=~f}return $i=n,Ru(),r}function Dy(e,n){It=null,H.H=Zl,n===Ta||n===Mu?(n=Yp(),Kt=3):n===tf?(n=Yp(),Kt=4):Kt=n===xf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,An=n,xt===null&&(pe=1,Ku(e,Vn(n,e.current)))}function Oy(){var e=Tn.current;return e===null?!0:(Ot&4194048)===Ot?Un===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?e===Un:!1}function Vy(){var e=H.H;return H.H=Zl,e===null?Zl:e}function My(){var e=H.A;return H.A=Db,e}function ac(){pe=4,xr||(Ot&4194048)!==Ot&&Tn.current!==null||(xa=!0),(Nr&134217727)===0&&(Ls&134217727)===0||ne===null||Vr(ne,Ot,Sn,!1)}function Zf(e,n,r){var l=Gt;Gt|=2;var h=Vy(),f=My();(ne!==e||Ot!==n)&&(rc=null,Oa(e,n)),n=!1;var p=pe;t:do try{if(Kt!==0&&xt!==null){var E=xt,R=An;switch(Kt){case 8:Jf(),p=6;break t;case 3:case 2:case 9:case 6:Tn.current===null&&(n=!0);var P=Kt;if(Kt=0,An=null,Va(e,E,R,P),r&&xa){p=0;break t}break;default:P=Kt,Kt=0,An=null,Va(e,E,R,P)}}Mb(),p=pe;break}catch(G){Dy(e,G)}while(!0);return n&&e.shellSuspendCounter++,ji=Is=null,Gt=l,H.H=h,H.A=f,xt===null&&(ne=null,Ot=0,Ru()),p}function Mb(){for(;xt!==null;)ky(xt)}function kb(e,n){var r=Gt;Gt|=2;var l=Vy(),h=My();ne!==e||Ot!==n?(rc=null,ic=sn()+500,Oa(e,n)):xa=qn(e,n);t:do try{if(Kt!==0&&xt!==null){n=xt;var f=An;e:switch(Kt){case 1:Kt=0,An=null,Va(e,n,f,1);break;case 2:case 9:if(Fp(f)){Kt=0,An=null,Ly(n);break}n=function(){Kt!==2&&Kt!==9||ne!==e||(Kt=7),wi(e)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Fp(f)?(Kt=0,An=null,Ly(n)):(Kt=0,An=null,Va(e,n,f,7));break;case 5:var p=null;switch(xt.tag){case 26:p=xt.memoizedState;case 5:case 27:var E=xt;if(p?T_(p):E.stateNode.complete){Kt=0,An=null;var R=E.sibling;if(R!==null)xt=R;else{var P=E.return;P!==null?(xt=P,lc(P)):xt=null}break e}}Kt=0,An=null,Va(e,n,f,5);break;case 6:Kt=0,An=null,Va(e,n,f,6);break;case 8:Jf(),pe=6;break t;default:throw Error(a(462))}}Lb();break}catch(G){Dy(e,G)}while(!0);return ji=Is=null,H.H=l,H.A=h,Gt=r,xt!==null?0:(ne=null,Ot=0,Ru(),pe)}function Lb(){for(;xt!==null&&!Ih();)ky(xt)}function ky(e){var n=sy(e.alternate,e,$i);e.memoizedProps=e.pendingProps,n===null?lc(e):xt=n}function Ly(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Wg(r,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=Wg(r,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:df(n);default:ly(r,n),n=xt=Mp(n,$i),n=sy(r,n,$i)}e.memoizedProps=e.pendingProps,n===null?lc(e):xt=n}function Va(e,n,r,l){ji=Is=null,df(n),ba=null,Gl=0;var h=n.return;try{if(Sb(e,h,n,r,Ot)){pe=1,Ku(e,Vn(r,e.current)),xt=null;return}}catch(f){if(h!==null)throw xt=h,f;pe=1,Ku(e,Vn(r,e.current)),xt=null;return}n.flags&32768?(Pt||l===1?e=!0:xa||(Ot&536870912)!==0?e=!1:(xr=e=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Uy(n,e)):lc(n)}function lc(e){var n=e;do{if((n.flags&32768)!==0){Uy(n,xr);return}e=n.return;var r=Ib(n.alternate,n,$i);if(r!==null){xt=r;return}if(n=n.sibling,n!==null){xt=n;return}xt=n=e}while(n!==null);pe===0&&(pe=5)}function Uy(e,n){do{var r=Cb(e.alternate,e);if(r!==null){r.flags&=32767,xt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){xt=e;return}xt=e=r}while(e!==null);pe=6,xt=null}function Py(e,n,r,l,h,f,p,E,R){e.cancelPendingCommit=null;do oc();while(Le!==0);if((Gt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=zh,Nh(e,r,f,p,E,R),e===ne&&(xt=ne=null,Ot=0),Da=n,Or=e,Ji=r,Kf=f,Xf=h,Iy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,jb(ur,function(){return Hy(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,h=W.p,W.p=2,p=Gt,Gt|=4;try{xb(e,n,r)}finally{Gt=p,W.p=h,H.T=l}}Le=1,zy(),jy(),By()}}function zy(){if(Le===1){Le=0;var e=Or,n=Da,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var l=W.p;W.p=2;var h=Gt;Gt|=4;try{vy(n,e);var f=cd,p=wp(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Sp(E.ownerDocument.documentElement,E)){if(R!==null&&Mh(E)){var P=R.start,G=R.end;if(G===void 0&&(G=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(G,E.value.length);else{var X=E.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var q=z.getSelection(),lt=E.textContent.length,mt=Math.min(R.start,lt),te=R.end===void 0?mt:Math.min(R.end,lt);!q.extend&&mt>te&&(p=te,te=mt,mt=p);var M=Ap(E,mt),N=Ap(E,te);if(M&&N&&(q.rangeCount!==1||q.anchorNode!==M.node||q.anchorOffset!==M.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var U=X.createRange();U.setStart(M.node,M.offset),q.removeAllRanges(),mt>te?(q.addRange(U),q.extend(N.node,N.offset)):(U.setEnd(N.node,N.offset),q.addRange(U))}}}}for(X=[],q=E;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Q=X[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Ec=!!ud,cd=ud=null}finally{Gt=h,W.p=l,H.T=r}}e.current=n,Le=2}}function jy(){if(Le===2){Le=0;var e=Or,n=Da,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var l=W.p;W.p=2;var h=Gt;Gt|=4;try{my(e,n.alternate,n)}finally{Gt=h,W.p=l,H.T=r}}Le=3}}function By(){if(Le===4||Le===3){Le=0,Zo();var e=Or,n=Da,r=Ji,l=Iy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Le=5:(Le=0,Da=Or=null,qy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Dr=null),Mi(r),n=n.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(Bn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,h=W.p,W.p=2,H.T=null;try{for(var f=e.onRecoverableError,p=0;p<l.length;p++){var E=l[p];f(E.value,{componentStack:E.stack})}}finally{H.T=n,W.p=h}}(Ji&3)!==0&&oc(),wi(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===$f?lo++:(lo=0,$f=e):lo=0,oo(0)}}function qy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ql(n)))}function oc(){return zy(),jy(),By(),Hy()}function Hy(){if(Le!==5)return!1;var e=Or,n=Kf;Kf=0;var r=Mi(Ji),l=H.T,h=W.p;try{W.p=32>r?32:r,H.T=null,r=Xf,Xf=null;var f=Or,p=Ji;if(Le=0,Da=Or=null,Ji=0,(Gt&6)!==0)throw Error(a(331));var E=Gt;if(Gt|=4,Sy(f.current),Ty(f,f.current,p,r),Gt=E,oo(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(Bn,f)}catch{}return!0}finally{W.p=h,H.T=l,qy(e,n)}}function Gy(e,n,r){n=Vn(r,n),n=Cf(e.stateNode,n,2),e=wr(e,n,2),e!==null&&(cs(e,2),wi(e))}function Xt(e,n,r){if(e.tag===3)Gy(e,e,r);else for(;n!==null;){if(n.tag===3){Gy(n,e,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Dr===null||!Dr.has(l))){e=Vn(r,e),r=Fg(2),l=wr(n,r,2),l!==null&&(Qg(r,l,n,e),cs(l,2),wi(l));break}}n=n.return}}function Wf(e,n,r){var l=e.pingCache;if(l===null){l=e.pingCache=new Ob;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(Ff=!0,h.add(r),e=Ub.bind(null,e,n,r),n.then(e,e))}function Ub(e,n,r){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,ne===e&&(Ot&r)===r&&(pe===4||pe===3&&(Ot&62914560)===Ot&&300>sn()-nc?(Gt&2)===0&&Oa(e,0):Qf|=r,Na===Ot&&(Na=0)),wi(e)}function Fy(e,n){n===0&&(n=ru()),e=Ss(e,n),e!==null&&(cs(e,n),wi(e))}function Pb(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Fy(e,r)}function zb(e,n){var r=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Fy(e,r)}function jb(e,n){return ke(e,n)}var uc=null,Ma=null,td=!1,cc=!1,ed=!1,Mr=0;function wi(e){e!==Ma&&e.next===null&&(Ma===null?uc=Ma=e:Ma=Ma.next=e),cc=!0,td||(td=!0,qb())}function oo(e,n){if(!ed&&cc){ed=!0;do for(var r=!1,l=uc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-ye(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Xy(l,f))}else f=Ot,f=li(l,l===ne?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||qn(l,f)||(r=!0,Xy(l,f));l=l.next}while(r);ed=!1}}function Bb(){Qy()}function Qy(){cc=td=!1;var e=0;Mr!==0&&Zb()&&(e=Mr);for(var n=sn(),r=null,l=uc;l!==null;){var h=l.next,f=Yy(l,n);f===0?(l.next=null,r===null?uc=h:r.next=h,h===null&&(Ma=r)):(r=l,(e!==0||(f&3)!==0)&&(cc=!0)),l=h}Le!==0&&Le!==5||oo(e),Mr!==0&&(Mr=0)}function Yy(e,n){for(var r=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-ye(f),E=1<<p,R=h[p];R===-1?((E&r)===0||(E&l)!==0)&&(h[p]=xh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=ne,r=Ot,r=li(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,r===0||e===n&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&or(l),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||qn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(l!==null&&or(l),Mi(r)){case 2:case 8:r=_l;break;case 32:r=ur;break;case 268435456:r=Wo;break;default:r=ur}return l=Ky.bind(null,e),r=ke(r,l),e.callbackPriority=n,e.callbackNode=r,n}return l!==null&&l!==null&&or(l),e.callbackPriority=2,e.callbackNode=null,2}function Ky(e,n){if(Le!==0&&Le!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(oc()&&e.callbackNode!==r)return null;var l=Ot;return l=li(e,e===ne?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(xy(e,l,n),Yy(e,sn()),e.callbackNode!=null&&e.callbackNode===r?Ky.bind(null,e):null)}function Xy(e,n){if(oc())return null;xy(e,n,!0)}function qb(){tA(function(){(Gt&6)!==0?ke(yl,Bb):Qy()})}function nd(){if(Mr===0){var e=va;e===0&&(e=si,si<<=1,(si&261888)===0&&(si=256)),Mr=e}return Mr}function $y(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ra(""+e)}function Jy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function Hb(e,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=$y((h[Pe]||null).action),p=l.submitter;p&&(n=(n=p[Pe]||null)?$y(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new _i("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Mr!==0){var R=p?Jy(h,p):new FormData(h);bf(r,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=p?Jy(h,p):new FormData(h),bf(r,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var id=0;id<Ph.length;id++){var rd=Ph[id],Gb=rd.toLowerCase(),Fb=rd[0].toUpperCase()+rd.slice(1);$n(Gb,"on"+Fb)}$n(Cp,"onAnimationEnd"),$n(xp,"onAnimationIteration"),$n(Np,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(lb,"onTransitionRun"),$n(ob,"onTransitionStart"),$n(ub,"onTransitionCancel"),$n(Dp,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),di("onBeforeInput",["compositionend","keypress","textInput","paste"]),di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uo));function Zy(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],R=E.instance,P=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(G){wu(G)}h.currentTarget=null,f=R}else for(p=0;p<l.length;p++){if(E=l[p],R=E.instance,P=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(G){wu(G)}h.currentTarget=null,f=R}}}}function Nt(e,n){var r=n[Ws];r===void 0&&(r=n[Ws]=new Set);var l=e+"__bubble";r.has(l)||(Wy(n,e,2,!1),r.add(l))}function sd(e,n,r){var l=0;n&&(l|=4),Wy(r,e,l,n)}var hc="_reactListening"+Math.random().toString(36).slice(2);function ad(e){if(!e[hc]){e[hc]=!0,Tl.forEach(function(r){r!=="selectionchange"&&(Qb.has(r)||sd(r,!1,e),sd(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[hc]||(n[hc]=!0,sd("selectionchange",!1,n))}}function Wy(e,n,r,l){switch(C_(n)){case 2:var h=EA;break;case 8:h=TA;break;default:h=Td}r=h.bind(null,n,r,e),h=void 0,!gs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function ld(e,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=l.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=hi(E),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){l=f=p;continue t}E=E.parentNode}}l=l.return}pr(function(){var P=f,G=xn(r),X=[];t:{var z=Op.get(e);if(z!==void 0){var q=_i,lt=e;switch(e){case"keypress":if(_s(r)===0)break t;case"keydown":case"keyup":q=bu;break;case"focusin":lt="focus",q=Es;break;case"focusout":lt="blur",q=Es;break;case"beforeblur":case"afterblur":q=Es;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Cp:case xp:case Np:q=pu;break;case Dp:q=b;break;case"scroll":case"scrollend":q=Vl;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Ui;break;case"toggle":case"beforetoggle":q=Rt}var mt=(n&4)!==0,te=!mt&&(e==="scroll"||e==="scrollend"),M=mt?z!==null?z+"Capture":null:z;mt=[];for(var N=P,U;N!==null;){var Q=N;if(U=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||U===null||M===null||(Q=Qn(N,M),Q!=null&&mt.push(co(N,Q,U))),te)break;N=N.return}0<mt.length&&(z=new q(z,lt,null,r,G),X.push({event:z,listeners:mt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&r!==Nl&&(lt=r.relatedTarget||r.fromElement)&&(hi(lt)||lt[ui]))break t;if((q||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,q?(lt=r.relatedTarget||r.toElement,q=P,lt=lt?hi(lt):null,lt!==null&&(te=c(lt),mt=lt.tag,lt!==te||mt!==5&&mt!==27&&mt!==6)&&(lt=null)):(q=null,lt=P),q!==lt)){if(mt=Ml,Q="onMouseLeave",M="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(mt=Ui,Q="onPointerLeave",M="onPointerEnter",N="pointer"),te=q==null?z:yn(q),U=lt==null?z:yn(lt),z=new mt(Q,N+"leave",q,r,G),z.target=te,z.relatedTarget=U,Q=null,hi(G)===P&&(mt=new mt(M,N+"enter",lt,r,G),mt.target=U,mt.relatedTarget=te,Q=mt),te=Q,q&&lt)e:{for(mt=Yb,M=q,N=lt,U=0,Q=M;Q;Q=mt(Q))U++;Q=0;for(var ht=N;ht;ht=mt(ht))Q++;for(;0<U-Q;)M=mt(M),U--;for(;0<Q-U;)N=mt(N),Q--;for(;U--;){if(M===N||N!==null&&M===N.alternate){mt=M;break e}M=mt(M),N=mt(N)}mt=null}else mt=null;q!==null&&t_(X,z,q,mt,!1),lt!==null&&te!==null&&t_(X,te,lt,mt,!0)}}t:{if(z=P?yn(P):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var jt=yp;else if(pp(z))if(_p)jt=rb;else{jt=nb;var ut=eb}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&ia(P.elementType)&&(jt=yp):jt=ib;if(jt&&(jt=jt(e,P))){gp(X,jt,r,G);break t}ut&&ut(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&Il(z,"number",z.value)}switch(ut=P?yn(P):window,e){case"focusin":(pp(ut)||ut.contentEditable==="true")&&(ha=ut,kh=P,zl=null);break;case"focusout":zl=kh=ha=null;break;case"mousedown":Lh=!0;break;case"contextmenu":case"mouseup":case"dragend":Lh=!1,Rp(X,r,G);break;case"selectionchange":if(ab)break;case"keydown":case"keyup":Rp(X,r,G)}var Ct;if(Ht)t:{switch(e){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else ca?Ts(e,r)&&(Vt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Vt="onCompositionStart");Vt&&(Ti&&r.locale!=="ko"&&(ca||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&ca&&(Ct=Ol()):(yi=G,Dl="value"in yi?yi.value:yi.textContent,ca=!0)),ut=fc(P,Vt),0<ut.length&&(Vt=new Ei(Vt,e,null,r,G),X.push({event:Vt,listeners:ut}),Ct?Vt.data=Ct:(Ct=ua(r),Ct!==null&&(Vt.data=Ct)))),(Ct=Dn?JT(e,r):ZT(e,r))&&(Vt=fc(P,"onBeforeInput"),0<Vt.length&&(ut=new Ei("onBeforeInput","beforeinput",null,r,G),X.push({event:ut,listeners:Vt}),ut.data=Ct)),Hb(X,e,P,r,G)}Zy(X,n)})}function co(e,n,r){return{instance:e,listener:n,currentTarget:r}}function fc(e,n){for(var r=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Qn(e,r),h!=null&&l.unshift(co(e,h,f)),h=Qn(e,n),h!=null&&l.push(co(e,h,f))),e.tag===3)return l;e=e.return}return[]}function Yb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function t_(e,n,r,l,h){for(var f=n._reactName,p=[];r!==null&&r!==l;){var E=r,R=E.alternate,P=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||P===null||(R=P,h?(P=Qn(r,f),P!=null&&p.unshift(co(r,P,R))):h||(P=Qn(r,f),P!=null&&p.push(co(r,P,R)))),r=r.return}p.length!==0&&e.push({event:n,listeners:p})}var Kb=/\r\n?/g,Xb=/\u0000|\uFFFD/g;function e_(e){return(typeof e=="string"?e:""+e).replace(Kb,`
`).replace(Xb,"")}function n_(e,n){return n=e_(n),e_(e)===n}function Wt(e,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||un(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&un(e,""+l);break;case"className":_n(e,"class",l);break;case"tabIndex":_n(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":_n(e,r,l);break;case"style":xl(e,l,f);break;case"data":if(n!=="object"){_n(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=ra(""+l),e.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Wt(e,n,"name",h.name,h,null),Wt(e,n,"formEncType",h.formEncType,h,null),Wt(e,n,"formMethod",h.formMethod,h,null),Wt(e,n,"formTarget",h.formTarget,h,null)):(Wt(e,n,"encType",h.encType,h,null),Wt(e,n,"method",h.method,h,null),Wt(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=ra(""+l),e.setAttribute(r,l);break;case"onClick":l!=null&&(e.onclick=Fn);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}r=ra(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""+l):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":l===!0?e.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,l):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(r,l):e.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(r):e.setAttribute(r,l);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),ea(e,"popover",l);break;case"xlinkActuate":Re(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Re(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Re(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Re(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Re(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Re(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Re(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Re(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Re(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ea(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=fu.get(r)||r,ea(e,r,l))}}function od(e,n,r,l,h,f){switch(r){case"style":xl(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof l=="string"?un(e,l):(typeof l=="number"||typeof l=="bigint")&&un(e,""+l);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bl.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Pe]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,l,h);break t}r in e?e[r]=l:l===!0?e.setAttribute(r,""):ea(e,r,l)}}}function Xe(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Wt(e,n,f,p,r,null)}}h&&Wt(e,n,"srcSet",r.srcSet,r,null),l&&Wt(e,n,"src",r.src,r,null);return;case"input":Nt("invalid",e);var E=f=p=h=null,R=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var G=r[l];if(G!=null)switch(l){case"name":h=G;break;case"type":p=G;break;case"checked":R=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Wt(e,n,l,G,r,null)}}uu(e,f,E,R,P,p,h,!1);return;case"select":Nt("invalid",e),l=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:Wt(e,n,h,E,r,null)}n=f,r=p,e.multiple=!!l,n!=null?hr(e,!!l,n,!1):r!=null&&hr(e,!!l,r,!0);return;case"textarea":Nt("invalid",e),f=h=l=null;for(p in r)if(r.hasOwnProperty(p)&&(E=r[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Wt(e,n,p,E,r,null)}fr(e,l,h,f);return;case"option":for(R in r)r.hasOwnProperty(R)&&(l=r[R],l!=null)&&(R==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Wt(e,n,R,l,r,null));return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(l=0;l<uo.length;l++)Nt(uo[l],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Wt(e,n,P,l,r,null)}return;default:if(ia(n)){for(G in r)r.hasOwnProperty(G)&&(l=r[G],l!==void 0&&od(e,n,G,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Wt(e,n,E,l,r,null))}function $b(e,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,R=null,P=null,G=null;for(q in r){var X=r[q];if(r.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=X;default:l.hasOwnProperty(q)||Wt(e,n,q,null,l,X)}}for(var z in l){var q=l[z];if(X=r[z],l.hasOwnProperty(z)&&(q!=null||X!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":P=q;break;case"defaultChecked":G=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==X&&Wt(e,n,z,q,l,X)}}na(e,p,E,R,P,G,f,h);return;case"select":q=p=E=z=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:l.hasOwnProperty(f)||Wt(e,n,f,null,l,R)}for(h in l)if(f=l[h],R=r[h],l.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==R&&Wt(e,n,h,f,l,R)}n=E,r=p,l=q,z!=null?hr(e,!!r,z,!1):!!l!=!!r&&(n!=null?hr(e,!!r,n,!0):hr(e,!!r,r?[]:"",!1));return;case"textarea":q=z=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Wt(e,n,E,null,l,h)}for(p in l)if(h=l[p],f=r[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Wt(e,n,p,h,l,f)}cu(e,z,q);return;case"option":for(var lt in r)z=r[lt],r.hasOwnProperty(lt)&&z!=null&&!l.hasOwnProperty(lt)&&(lt==="selected"?e.selected=!1:Wt(e,n,lt,null,l,z));for(R in l)z=l[R],q=r[R],l.hasOwnProperty(R)&&z!==q&&(z!=null||q!=null)&&(R==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":Wt(e,n,R,z,l,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in r)z=r[mt],r.hasOwnProperty(mt)&&z!=null&&!l.hasOwnProperty(mt)&&Wt(e,n,mt,null,l,z);for(P in l)if(z=l[P],q=r[P],l.hasOwnProperty(P)&&z!==q&&(z!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:Wt(e,n,P,z,l,q)}return;default:if(ia(n)){for(var te in r)z=r[te],r.hasOwnProperty(te)&&z!==void 0&&!l.hasOwnProperty(te)&&od(e,n,te,void 0,l,z);for(G in l)z=l[G],q=r[G],!l.hasOwnProperty(G)||z===q||z===void 0&&q===void 0||od(e,n,G,z,l,q);return}}for(var M in r)z=r[M],r.hasOwnProperty(M)&&z!=null&&!l.hasOwnProperty(M)&&Wt(e,n,M,null,l,z);for(X in l)z=l[X],q=r[X],!l.hasOwnProperty(X)||z===q||z==null&&q==null||Wt(e,n,X,z,l,q)}function i_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Jb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&i_(p)){for(p=0,E=h.responseEnd,l+=1;l<r.length;l++){var R=r[l],P=R.startTime;if(P>E)break;var G=R.transferSize,X=R.initiatorType;G&&i_(X)&&(R=R.responseEnd,p+=G*(R<E?1:(E-P)/(R-P)))}if(--l,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ud=null,cd=null;function dc(e){return e.nodeType===9?e:e.ownerDocument}function r_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function s_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function hd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var fd=null;function Zb(){var e=window.event;return e&&e.type==="popstate"?e===fd?!1:(fd=e,!0):(fd=null,!1)}var a_=typeof setTimeout=="function"?setTimeout:void 0,Wb=typeof clearTimeout=="function"?clearTimeout:void 0,l_=typeof Promise=="function"?Promise:void 0,tA=typeof queueMicrotask=="function"?queueMicrotask:typeof l_<"u"?function(e){return l_.resolve(null).then(e).catch(eA)}:a_;function eA(e){setTimeout(function(){throw e})}function kr(e){return e==="head"}function o_(e,n){var r=n,l=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){e.removeChild(h),Pa(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")ho(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,ho(r);for(var f=r.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[ci]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&ho(e.ownerDocument.body);r=h}while(r);Pa(n)}function u_(e,n){var r=e;e=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=l}while(r)}function dd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":dd(r),ta(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function nA(e,n,r,l){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ci])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Pn(e.nextSibling),e===null)break}return null}function iA(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Pn(e.nextSibling),e===null))return null;return e}function c_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Pn(e.nextSibling),e===null))return null;return e}function md(e){return e.data==="$?"||e.data==="$~"}function pd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function rA(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Pn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var gd=null;function h_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Pn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function f_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function d_(e,n,r){switch(n=dc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ho(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ta(e)}var zn=new Map,m_=new Set;function mc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Zi=W.d;W.d={f:sA,r:aA,D:lA,C:oA,L:uA,m:cA,X:fA,S:hA,M:dA};function sA(){var e=Zi.f(),n=sc();return e||n}function aA(e){var n=Cn(e);n!==null&&n.tag===5&&n.type==="form"?Dg(n):Zi.r(e)}var ka=typeof document>"u"?null:document;function p_(e,n,r){var l=ka;if(l&&typeof n=="string"&&n){var h=on(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),m_.has(h)||(m_.add(h),e={rel:e,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Xe(n,"link",e),we(n),l.head.appendChild(n)))}}function lA(e){Zi.D(e),p_("dns-prefetch",e,null)}function oA(e,n){Zi.C(e,n),p_("preconnect",e,n)}function uA(e,n,r){Zi.L(e,n,r);var l=ka;if(l&&e&&n){var h='link[rel="preload"][as="'+on(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+on(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+on(r.imageSizes)+'"]')):h+='[href="'+on(e)+'"]';var f=h;switch(n){case"style":f=La(e);break;case"script":f=Ua(e)}zn.has(f)||(e=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),zn.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(fo(f))||n==="script"&&l.querySelector(mo(f))||(n=l.createElement("link"),Xe(n,"link",e),we(n),l.head.appendChild(n)))}}function cA(e,n){Zi.m(e,n);var r=ka;if(r&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+on(l)+'"][href="'+on(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ua(e)}if(!zn.has(f)&&(e=S({rel:"modulepreload",href:e},n),zn.set(f,e),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(mo(f)))return}l=r.createElement("link"),Xe(l,"link",e),we(l),r.head.appendChild(l)}}}function hA(e,n,r){Zi.S(e,n,r);var l=ka;if(l&&e){var h=fi(l).hoistableStyles,f=La(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(fo(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},r),(r=zn.get(f))&&yd(e,r);var R=p=l.createElement("link");we(R),Xe(R,"link",e),R._p=new Promise(function(P,G){R.onload=P,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,pc(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function fA(e,n){Zi.X(e,n);var r=ka;if(r&&e){var l=fi(r).hoistableScripts,h=Ua(e),f=l.get(h);f||(f=r.querySelector(mo(h)),f||(e=S({src:e,async:!0},n),(n=zn.get(h))&&_d(e,n),f=r.createElement("script"),we(f),Xe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function dA(e,n){Zi.M(e,n);var r=ka;if(r&&e){var l=fi(r).hoistableScripts,h=Ua(e),f=l.get(h);f||(f=r.querySelector(mo(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=zn.get(h))&&_d(e,n),f=r.createElement("script"),we(f),Xe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function g_(e,n,r,l){var h=(h=St.current)?mc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=La(r.href),r=fi(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=La(r.href);var f=fi(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(fo(e)))&&!f._p&&(p.instance=f,p.state.loading=5),zn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},zn.set(e,r),f||mA(h,e,r,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ua(r),r=fi(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function La(e){return'href="'+on(e)+'"'}function fo(e){return'link[rel="stylesheet"]['+e+"]"}function y_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function mA(e,n,r,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Xe(n,"link",r),we(n),e.head.appendChild(n))}function Ua(e){return'[src="'+on(e)+'"]'}function mo(e){return"script[async]"+e}function __(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+on(r.href)+'"]');if(l)return n.instance=l,we(l),l;var h=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),we(l),Xe(l,"style",h),pc(l,r.precedence,e),n.instance=l;case"stylesheet":h=La(r.href);var f=e.querySelector(fo(h));if(f)return n.state.loading|=4,n.instance=f,we(f),f;l=y_(r),(h=zn.get(h))&&yd(l,h),f=(e.ownerDocument||e).createElement("link"),we(f);var p=f;return p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),Xe(f,"link",l),n.state.loading|=4,pc(f,r.precedence,e),n.instance=f;case"script":return f=Ua(r.src),(h=e.querySelector(mo(f)))?(n.instance=h,we(h),h):(l=r,(h=zn.get(f))&&(l=S({},r),_d(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),we(h),Xe(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,pc(l,r.precedence,e));return n.instance}function pc(e,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function yd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function _d(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var gc=null;function v_(e,n,r){if(gc===null){var l=new Map,h=gc=new Map;h.set(r,l)}else h=gc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(e))return l;for(l.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[ci]||f[Se]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=l.get(p);E?E.push(f):l.set(p,[f])}}return l}function E_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function pA(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function T_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function gA(e,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=La(l.href),f=n.querySelector(fo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=yc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,we(f);return}f=n.ownerDocument||n,l=y_(l),(h=zn.get(h))&&yd(l,h),f=f.createElement("link"),we(f);var p=f;p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),Xe(f,"link",l),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=yc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var vd=0;function yA(e,n){return e.stylesheets&&e.count===0&&vc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var l=setTimeout(function(){if(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&vd===0&&(vd=62500*Jb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>vd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function yc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _c=null;function vc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_c=new Map,n.forEach(_A,e),_c=null,yc.call(e))}function _A(e,n){if(!(n.state.loading&4)){var r=_c.get(e);if(r)var l=r.get(null);else{r=new Map,_c.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),l=p)}l&&r.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||l,f===l&&r.set(null,h),r.set(p,h),this.count++,l=yc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var po={$$typeof:Et,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function vA(e,n,r,l,h,f,p,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function b_(e,n,r,l,h,f,p,E,R,P,G,X){return e=new vA(e,n,r,p,R,P,G,X,E),n=1,f===!0&&(n|=24),f=En(3,null,null,n),e.current=f,f.stateNode=e,n=Jh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},ef(f),e}function A_(e){return e?(e=ma,e):ma}function S_(e,n,r,l,h,f){h=A_(h),l.context===null?l.context=h:l.pendingContext=h,l=Sr(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=wr(e,l,n),r!==null&&(mn(r,e,n),Ql(r,e,n))}function w_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Ed(e,n){w_(e,n),(e=e.alternate)&&w_(e,n)}function R_(e){if(e.tag===13||e.tag===31){var n=Ss(e,67108864);n!==null&&mn(n,e,67108864),Ed(e,67108864)}}function I_(e){if(e.tag===13||e.tag===31){var n=wn();n=fs(n);var r=Ss(e,n);r!==null&&mn(r,e,n),Ed(e,n)}}var Ec=!0;function EA(e,n,r,l){var h=H.T;H.T=null;var f=W.p;try{W.p=2,Td(e,n,r,l)}finally{W.p=f,H.T=h}}function TA(e,n,r,l){var h=H.T;H.T=null;var f=W.p;try{W.p=8,Td(e,n,r,l)}finally{W.p=f,H.T=h}}function Td(e,n,r,l){if(Ec){var h=bd(l);if(h===null)ld(e,n,l,Tc,r),x_(e,l);else if(AA(h,e,n,r,l))l.stopPropagation();else if(x_(e,l),n&4&&-1<bA.indexOf(e)){for(;h!==null;){var f=Cn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=ai(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var R=1<<31-ye(p);E.entanglements[1]|=R,p&=~R}wi(f),(Gt&6)===0&&(ic=sn()+500,oo(0))}}break;case 31:case 13:E=Ss(f,2),E!==null&&mn(E,f,2),sc(),Ed(f,2)}if(f=bd(l),f===null&&ld(e,n,l,Tc,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else ld(e,n,l,null,r)}}function bd(e){return e=xn(e),Ad(e)}var Tc=null;function Ad(e){if(Tc=null,e=hi(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=g(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Tc=e,null}function C_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(os()){case yl:return 2;case _l:return 8;case ur:case Ch:return 32;case Wo:return 268435456;default:return 32}default:return 32}}var Sd=!1,Lr=null,Ur=null,Pr=null,go=new Map,yo=new Map,zr=[],bA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function x_(e,n){switch(e){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":Ur=null;break;case"mouseover":case"mouseout":Pr=null;break;case"pointerover":case"pointerout":go.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":yo.delete(n.pointerId)}}function _o(e,n,r,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Cn(n),n!==null&&R_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function AA(e,n,r,l,h){switch(n){case"focusin":return Lr=_o(Lr,e,n,r,l,h),!0;case"dragenter":return Ur=_o(Ur,e,n,r,l,h),!0;case"mouseover":return Pr=_o(Pr,e,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return go.set(f,_o(go.get(f)||null,e,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,yo.set(f,_o(yo.get(f)||null,e,n,r,l,h)),!0}return!1}function N_(e){var n=hi(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Hn(e.priority,function(){I_(r)});return}}else if(n===31){if(n=g(r),n!==null){e.blockedOn=n,Hn(e.priority,function(){I_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=bd(e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);Nl=l,r.target.dispatchEvent(l),Nl=null}else return n=Cn(r),n!==null&&R_(n),e.blockedOn=r,!1;n.shift()}return!0}function D_(e,n,r){bc(e)&&r.delete(n)}function SA(){Sd=!1,Lr!==null&&bc(Lr)&&(Lr=null),Ur!==null&&bc(Ur)&&(Ur=null),Pr!==null&&bc(Pr)&&(Pr=null),go.forEach(D_),yo.forEach(D_)}function Ac(e,n){e.blockedOn===n&&(e.blockedOn=null,Sd||(Sd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,SA)))}var Sc=null;function O_(e){Sc!==e&&(Sc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Sc===e&&(Sc=null);for(var n=0;n<e.length;n+=3){var r=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Ad(l||r)===null)continue;break}var f=Cn(r);f!==null&&(e.splice(n,3),n-=3,bf(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function Pa(e){function n(R){return Ac(R,e)}Lr!==null&&Ac(Lr,e),Ur!==null&&Ac(Ur,e),Pr!==null&&Ac(Pr,e),go.forEach(n),yo.forEach(n);for(var r=0;r<zr.length;r++){var l=zr[r];l.blockedOn===e&&(l.blockedOn=null)}for(;0<zr.length&&(r=zr[0],r.blockedOn===null);)N_(r),r.blockedOn===null&&zr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],p=h[Pe]||null;if(typeof f=="function")p||O_(r);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Pe]||null)E=p.formAction;else if(Ad(h)!==null)continue}else E=p.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),O_(r)}}}function V_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function wd(e){this._internalRoot=e}wc.prototype.render=wd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=wn();S_(r,l,e,n,null,null)},wc.prototype.unmount=wd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;S_(e.current,2,null,e,null,null),sc(),n[ui]=null}};function wc(e){this._internalRoot=e}wc.prototype.unstable_scheduleHydration=function(e){if(e){var n=su();e={blockedOn:null,target:e,priority:n};for(var r=0;r<zr.length&&n!==0&&n<zr[r].priority;r++);zr.splice(r,0,e),r===0&&N_(e)}};var M_=t.version;if(M_!=="19.2.3")throw Error(a(527,M_,"19.2.3"));W.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var wA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{Bn=Rc.inject(wA),Ge=Rc}catch{}}return Eo.createRoot=function(e,n){if(!o(e))throw Error(a(299));var r=!1,l="",h=Bg,f=qg,p=Hg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=b_(e,1,!1,null,null,r,l,null,h,f,p,V_),e[ui]=n.current,ad(e),new wd(n)},Eo.hydrateRoot=function(e,n,r){if(!o(e))throw Error(a(299));var l=!1,h="",f=Bg,p=qg,E=Hg,R=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=b_(e,1,!0,n,r??null,l,h,R,f,p,E,V_),n.context=A_(null),r=n.current,l=wn(),l=fs(l),h=Sr(l),h.callback=null,wr(r,h,l),r=l,n.current.lanes=r,cs(n,r),wi(n),e[ui]=n.current,ad(e),new wc(n)},Eo.version="19.2.3",Eo}var G_;function kA(){if(G_)return Cd.exports;G_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Cd.exports=MA(),Cd.exports}var LA=kA();const UA=()=>{};var F_={};const C0=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},PA=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];t[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],g=s[i++],v=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},x0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,g=d?s[o+1]:0,v=o+2<s.length,y=v?s[o+2]:0,T=c>>2,S=(c&3)<<4|g>>4;let O=(g&15)<<2|y>>6,Y=y&63;v||(Y=64,d||(O=64)),a.push(i[T],i[S],i[O],i[Y])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(C0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):PA(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const y=o<s.length?i[s.charAt(o)]:64;++o;const S=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||g==null||y==null||S==null)throw new zA;const O=c<<2|g>>4;if(a.push(O),y!==64){const Y=g<<4&240|y>>2;if(a.push(Y),S!==64){const Z=y<<6&192|S;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class zA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jA=function(s){const t=C0(s);return x0.encodeByteArray(t,!0)},Gc=function(s){return jA(s).replace(/\./g,"")},N0=function(s){try{return x0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function BA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const qA=()=>BA().__FIREBASE_DEFAULTS__,HA=()=>{if(typeof process>"u"||typeof F_>"u")return;const s=F_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},GA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&N0(s[1]);return t&&JSON.parse(t)},lh=()=>{try{return UA()||qA()||HA()||GA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},D0=s=>lh()?.emulatorHosts?.[s],FA=s=>{const t=D0(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},O0=()=>lh()?.config,V0=s=>lh()?.[`_${s}`];class QA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function ll(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function M0(s){return(await fetch(s,{credentials:"include"})).ok}function YA(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Gc(JSON.stringify(i)),Gc(JSON.stringify(d)),""].join(".")}const Io={};function KA(){const s={prod:[],emulator:[]};for(const t of Object.keys(Io))Io[t]?s.emulator.push(t):s.prod.push(t);return s}function XA(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let Q_=!1;function k0(s,t){if(typeof window>"u"||typeof document>"u"||!ll(window.location.host)||Io[s]===t||Io[s]||Q_)return;Io[s]=t;function i(O){return`__firebase__banner__${O}`}const a="__firebase__banner",c=KA().prod.length>0;function d(){const O=document.getElementById(a);O&&O.remove()}function g(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function v(O,Y){O.setAttribute("width","24"),O.setAttribute("id",Y),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function y(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{Q_=!0,d()},O}function T(O,Y){O.setAttribute("id",Y),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function S(){const O=XA(a),Y=i("text"),Z=document.getElementById(Y)||document.createElement("span"),it=i("learnmore"),nt=document.getElementById(it)||document.createElement("a"),pt=i("preprendIcon"),vt=document.getElementById(pt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const Et=O.element;g(Et),T(nt,it);const Qt=y();v(vt,pt),Et.append(vt,Z,nt,Qt),document.body.appendChild(Et)}c?(Z.innerText="Preview backend disconnected.",vt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(vt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",Y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $A(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function JA(){const s=lh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function WA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function tS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eS(){const s=rn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function nS(){return!JA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iS(){try{return typeof indexedDB=="object"}catch{return!1}}function rS(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const sS="FirebaseError";class lr extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=sS,Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qo.prototype.create)}}class qo{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?aS(c,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new lr(o,g,a)}}function aS(s,t){return s.replace(lS,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const lS=/\{\$([^}]+)}/g;function oS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function nr(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const c=s[o],d=t[o];if(Y_(c)&&Y_(d)){if(!nr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function Y_(s){return s!==null&&typeof s=="object"}function Ho(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function uS(s,t){const i=new cS(s,t);return i.subscribe.bind(i)}class cS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let o;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");hS(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:a},o.next===void 0&&(o.next=Od),o.error===void 0&&(o.error=Od),o.complete===void 0&&(o.complete=Od);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hS(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Od(){}function qe(s){return s&&s._delegate?s._delegate:s}class Hs{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Us="[DEFAULT]";class fS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new QA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(mS(t))try{this.getOrInitializeService({instanceIdentifier:Us})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(t=Us){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Us){return this.instances.has(t)}getOptions(t=Us){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(o)}return o}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&t(c,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:dS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Us){return this.component?this.component.multipleInstances?t:Us:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dS(s){return s===Us?void 0:s}function mS(s){return s.instantiationMode==="EAGER"}class pS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new fS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Mt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Mt||(Mt={}));const gS={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},yS=Mt.INFO,_S={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},vS=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),o=_S[t];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class _m{constructor(t){this.name=t,this._logLevel=yS,this._logHandler=vS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?gS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const ES=(s,t)=>t.some(i=>s instanceof i);let K_,X_;function TS(){return K_||(K_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bS(){return X_||(X_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const L0=new WeakMap,Qd=new WeakMap,U0=new WeakMap,Vd=new WeakMap,vm=new WeakMap;function AS(s){const t=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Yr(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&L0.set(i,s)}).catch(()=>{}),vm.set(t,s),t}function SS(s){if(Qd.has(s))return;const t=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Qd.set(s,t)}let Yd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Qd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||U0.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Yr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function wS(s){Yd=s(Yd)}function RS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Md(this),t,...i);return U0.set(a,t.sort?t.sort():[t]),Yr(a)}:bS().includes(s)?function(...t){return s.apply(Md(this),t),Yr(L0.get(this))}:function(...t){return Yr(s.apply(Md(this),t))}}function IS(s){return typeof s=="function"?RS(s):(s instanceof IDBTransaction&&SS(s),ES(s,TS())?new Proxy(s,Yd):s)}function Yr(s){if(s instanceof IDBRequest)return AS(s);if(Vd.has(s))return Vd.get(s);const t=IS(s);return t!==s&&(Vd.set(s,t),vm.set(t,s)),t}const Md=s=>vm.get(s);function CS(s,t,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,t),g=Yr(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Yr(d.result),v.oldVersion,v.newVersion,Yr(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{c&&v.addEventListener("close",()=>c()),o&&v.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const xS=["get","getKey","getAll","getAllKeys","count"],NS=["put","add","delete","clear"],kd=new Map;function $_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(kd.get(t))return kd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=NS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||xS.includes(i)))return;const c=async function(d,...g){const v=this.transaction(d,o?"readwrite":"readonly");let y=v.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&v.done]))[0]};return kd.set(t,c),c}wS(s=>({...s,get:(t,i,a)=>$_(t,i)||s.get(t,i,a),has:(t,i)=>!!$_(t,i)||s.has(t,i)}));class DS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(OS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function OS(s){return s.getComponent()?.type==="VERSION"}const Kd="@firebase/app",J_="0.14.7";const ir=new _m("@firebase/app"),VS="@firebase/app-compat",MS="@firebase/analytics-compat",kS="@firebase/analytics",LS="@firebase/app-check-compat",US="@firebase/app-check",PS="@firebase/auth",zS="@firebase/auth-compat",jS="@firebase/database",BS="@firebase/data-connect",qS="@firebase/database-compat",HS="@firebase/functions",GS="@firebase/functions-compat",FS="@firebase/installations",QS="@firebase/installations-compat",YS="@firebase/messaging",KS="@firebase/messaging-compat",XS="@firebase/performance",$S="@firebase/performance-compat",JS="@firebase/remote-config",ZS="@firebase/remote-config-compat",WS="@firebase/storage",t1="@firebase/storage-compat",e1="@firebase/firestore",n1="@firebase/ai",i1="@firebase/firestore-compat",r1="firebase",s1="12.8.0";const Xd="[DEFAULT]",a1={[Kd]:"fire-core",[VS]:"fire-core-compat",[kS]:"fire-analytics",[MS]:"fire-analytics-compat",[US]:"fire-app-check",[LS]:"fire-app-check-compat",[PS]:"fire-auth",[zS]:"fire-auth-compat",[jS]:"fire-rtdb",[BS]:"fire-data-connect",[qS]:"fire-rtdb-compat",[HS]:"fire-fn",[GS]:"fire-fn-compat",[FS]:"fire-iid",[QS]:"fire-iid-compat",[YS]:"fire-fcm",[KS]:"fire-fcm-compat",[XS]:"fire-perf",[$S]:"fire-perf-compat",[JS]:"fire-rc",[ZS]:"fire-rc-compat",[WS]:"fire-gcs",[t1]:"fire-gcs-compat",[e1]:"fire-fst",[i1]:"fire-fst-compat",[n1]:"fire-vertex","fire-js":"fire-js",[r1]:"fire-js-all"};const Fc=new Map,l1=new Map,$d=new Map;function Z_(s,t){try{s.container.addComponent(t)}catch(i){ir.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Xa(s){const t=s.name;if($d.has(t))return ir.debug(`There were multiple attempts to register component ${t}.`),!1;$d.set(t,s);for(const i of Fc.values())Z_(i,s);for(const i of l1.values())Z_(i,s);return!0}function Em(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Wn(s){return s==null?!1:s.settings!==void 0}const o1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kr=new qo("app","Firebase",o1);class u1{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}const ol=s1;function P0(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:Xd,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw Kr.create("bad-app-name",{appName:String(o)});if(i||(i=O0()),!i)throw Kr.create("no-options");const c=Fc.get(o);if(c){if(nr(i,c.options)&&nr(a,c.config))return c;throw Kr.create("duplicate-app",{appName:o})}const d=new pS(o);for(const v of $d.values())d.addComponent(v);const g=new u1(i,a,d);return Fc.set(o,g),g}function z0(s=Xd){const t=Fc.get(s);if(!t&&s===Xd&&O0())return P0();if(!t)throw Kr.create("no-app",{appName:s});return t}function Xr(s,t,i){let a=a1[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${t}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ir.warn(d.join(" "));return}Xa(new Hs(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const c1="firebase-heartbeat-database",h1=1,Vo="firebase-heartbeat-store";let Ld=null;function j0(){return Ld||(Ld=CS(c1,h1,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Vo)}catch(i){console.warn(i)}}}}).catch(s=>{throw Kr.create("idb-open",{originalErrorMessage:s.message})})),Ld}async function f1(s){try{const i=(await j0()).transaction(Vo),a=await i.objectStore(Vo).get(B0(s));return await i.done,a}catch(t){if(t instanceof lr)ir.warn(t.message);else{const i=Kr.create("idb-get",{originalErrorMessage:t?.message});ir.warn(i.message)}}}async function W_(s,t){try{const a=(await j0()).transaction(Vo,"readwrite");await a.objectStore(Vo).put(t,B0(s)),await a.done}catch(i){if(i instanceof lr)ir.warn(i.message);else{const a=Kr.create("idb-set",{originalErrorMessage:i?.message});ir.warn(a.message)}}}function B0(s){return`${s.name}!${s.options.appId}`}const d1=1024,m1=30;class p1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new y1(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=tv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>m1){const o=_1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ir.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=tv(),{heartbeatsToSend:i,unsentEntries:a}=g1(this._heartbeatsCache.heartbeats),o=Gc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ir.warn(t),""}}}function tv(){return new Date().toISOString().substring(0,10)}function g1(s,t=d1){const i=[];let a=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),ev(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),ev(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class y1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iS()?rS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await f1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return W_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return W_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function ev(s){return Gc(JSON.stringify({version:2,heartbeats:s})).length}function _1(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function v1(s){Xa(new Hs("platform-logger",t=>new DS(t),"PRIVATE")),Xa(new Hs("heartbeat",t=>new p1(t),"PRIVATE")),Xr(Kd,J_,s),Xr(Kd,J_,"esm2020"),Xr("fire-js","")}v1("");var E1="firebase",T1="12.8.0";Xr(E1,T1,"app");var nv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $r,q0;(function(){var s;function t(C,A){function I(){}I.prototype=A.prototype,C.F=A.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(V,x,k){for(var w=Array(arguments.length-2),$t=2;$t<arguments.length;$t++)w[$t-2]=arguments[$t];return A.prototype[x].apply(V,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,A,I){I||(I=0);const V=Array(16);if(typeof A=="string")for(var x=0;x<16;++x)V[x]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(x=0;x<16;++x)V[x]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=C.g[0],I=C.g[1],x=C.g[2];let k=C.g[3],w;w=A+(k^I&(x^k))+V[0]+3614090360&4294967295,A=I+(w<<7&4294967295|w>>>25),w=k+(x^A&(I^x))+V[1]+3905402710&4294967295,k=A+(w<<12&4294967295|w>>>20),w=x+(I^k&(A^I))+V[2]+606105819&4294967295,x=k+(w<<17&4294967295|w>>>15),w=I+(A^x&(k^A))+V[3]+3250441966&4294967295,I=x+(w<<22&4294967295|w>>>10),w=A+(k^I&(x^k))+V[4]+4118548399&4294967295,A=I+(w<<7&4294967295|w>>>25),w=k+(x^A&(I^x))+V[5]+1200080426&4294967295,k=A+(w<<12&4294967295|w>>>20),w=x+(I^k&(A^I))+V[6]+2821735955&4294967295,x=k+(w<<17&4294967295|w>>>15),w=I+(A^x&(k^A))+V[7]+4249261313&4294967295,I=x+(w<<22&4294967295|w>>>10),w=A+(k^I&(x^k))+V[8]+1770035416&4294967295,A=I+(w<<7&4294967295|w>>>25),w=k+(x^A&(I^x))+V[9]+2336552879&4294967295,k=A+(w<<12&4294967295|w>>>20),w=x+(I^k&(A^I))+V[10]+4294925233&4294967295,x=k+(w<<17&4294967295|w>>>15),w=I+(A^x&(k^A))+V[11]+2304563134&4294967295,I=x+(w<<22&4294967295|w>>>10),w=A+(k^I&(x^k))+V[12]+1804603682&4294967295,A=I+(w<<7&4294967295|w>>>25),w=k+(x^A&(I^x))+V[13]+4254626195&4294967295,k=A+(w<<12&4294967295|w>>>20),w=x+(I^k&(A^I))+V[14]+2792965006&4294967295,x=k+(w<<17&4294967295|w>>>15),w=I+(A^x&(k^A))+V[15]+1236535329&4294967295,I=x+(w<<22&4294967295|w>>>10),w=A+(x^k&(I^x))+V[1]+4129170786&4294967295,A=I+(w<<5&4294967295|w>>>27),w=k+(I^x&(A^I))+V[6]+3225465664&4294967295,k=A+(w<<9&4294967295|w>>>23),w=x+(A^I&(k^A))+V[11]+643717713&4294967295,x=k+(w<<14&4294967295|w>>>18),w=I+(k^A&(x^k))+V[0]+3921069994&4294967295,I=x+(w<<20&4294967295|w>>>12),w=A+(x^k&(I^x))+V[5]+3593408605&4294967295,A=I+(w<<5&4294967295|w>>>27),w=k+(I^x&(A^I))+V[10]+38016083&4294967295,k=A+(w<<9&4294967295|w>>>23),w=x+(A^I&(k^A))+V[15]+3634488961&4294967295,x=k+(w<<14&4294967295|w>>>18),w=I+(k^A&(x^k))+V[4]+3889429448&4294967295,I=x+(w<<20&4294967295|w>>>12),w=A+(x^k&(I^x))+V[9]+568446438&4294967295,A=I+(w<<5&4294967295|w>>>27),w=k+(I^x&(A^I))+V[14]+3275163606&4294967295,k=A+(w<<9&4294967295|w>>>23),w=x+(A^I&(k^A))+V[3]+4107603335&4294967295,x=k+(w<<14&4294967295|w>>>18),w=I+(k^A&(x^k))+V[8]+1163531501&4294967295,I=x+(w<<20&4294967295|w>>>12),w=A+(x^k&(I^x))+V[13]+2850285829&4294967295,A=I+(w<<5&4294967295|w>>>27),w=k+(I^x&(A^I))+V[2]+4243563512&4294967295,k=A+(w<<9&4294967295|w>>>23),w=x+(A^I&(k^A))+V[7]+1735328473&4294967295,x=k+(w<<14&4294967295|w>>>18),w=I+(k^A&(x^k))+V[12]+2368359562&4294967295,I=x+(w<<20&4294967295|w>>>12),w=A+(I^x^k)+V[5]+4294588738&4294967295,A=I+(w<<4&4294967295|w>>>28),w=k+(A^I^x)+V[8]+2272392833&4294967295,k=A+(w<<11&4294967295|w>>>21),w=x+(k^A^I)+V[11]+1839030562&4294967295,x=k+(w<<16&4294967295|w>>>16),w=I+(x^k^A)+V[14]+4259657740&4294967295,I=x+(w<<23&4294967295|w>>>9),w=A+(I^x^k)+V[1]+2763975236&4294967295,A=I+(w<<4&4294967295|w>>>28),w=k+(A^I^x)+V[4]+1272893353&4294967295,k=A+(w<<11&4294967295|w>>>21),w=x+(k^A^I)+V[7]+4139469664&4294967295,x=k+(w<<16&4294967295|w>>>16),w=I+(x^k^A)+V[10]+3200236656&4294967295,I=x+(w<<23&4294967295|w>>>9),w=A+(I^x^k)+V[13]+681279174&4294967295,A=I+(w<<4&4294967295|w>>>28),w=k+(A^I^x)+V[0]+3936430074&4294967295,k=A+(w<<11&4294967295|w>>>21),w=x+(k^A^I)+V[3]+3572445317&4294967295,x=k+(w<<16&4294967295|w>>>16),w=I+(x^k^A)+V[6]+76029189&4294967295,I=x+(w<<23&4294967295|w>>>9),w=A+(I^x^k)+V[9]+3654602809&4294967295,A=I+(w<<4&4294967295|w>>>28),w=k+(A^I^x)+V[12]+3873151461&4294967295,k=A+(w<<11&4294967295|w>>>21),w=x+(k^A^I)+V[15]+530742520&4294967295,x=k+(w<<16&4294967295|w>>>16),w=I+(x^k^A)+V[2]+3299628645&4294967295,I=x+(w<<23&4294967295|w>>>9),w=A+(x^(I|~k))+V[0]+4096336452&4294967295,A=I+(w<<6&4294967295|w>>>26),w=k+(I^(A|~x))+V[7]+1126891415&4294967295,k=A+(w<<10&4294967295|w>>>22),w=x+(A^(k|~I))+V[14]+2878612391&4294967295,x=k+(w<<15&4294967295|w>>>17),w=I+(k^(x|~A))+V[5]+4237533241&4294967295,I=x+(w<<21&4294967295|w>>>11),w=A+(x^(I|~k))+V[12]+1700485571&4294967295,A=I+(w<<6&4294967295|w>>>26),w=k+(I^(A|~x))+V[3]+2399980690&4294967295,k=A+(w<<10&4294967295|w>>>22),w=x+(A^(k|~I))+V[10]+4293915773&4294967295,x=k+(w<<15&4294967295|w>>>17),w=I+(k^(x|~A))+V[1]+2240044497&4294967295,I=x+(w<<21&4294967295|w>>>11),w=A+(x^(I|~k))+V[8]+1873313359&4294967295,A=I+(w<<6&4294967295|w>>>26),w=k+(I^(A|~x))+V[15]+4264355552&4294967295,k=A+(w<<10&4294967295|w>>>22),w=x+(A^(k|~I))+V[6]+2734768916&4294967295,x=k+(w<<15&4294967295|w>>>17),w=I+(k^(x|~A))+V[13]+1309151649&4294967295,I=x+(w<<21&4294967295|w>>>11),w=A+(x^(I|~k))+V[4]+4149444226&4294967295,A=I+(w<<6&4294967295|w>>>26),w=k+(I^(A|~x))+V[11]+3174756917&4294967295,k=A+(w<<10&4294967295|w>>>22),w=x+(A^(k|~I))+V[2]+718787259&4294967295,x=k+(w<<15&4294967295|w>>>17),w=I+(k^(x|~A))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(x+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+x&4294967295,C.g[3]=C.g[3]+k&4294967295}a.prototype.v=function(C,A){A===void 0&&(A=C.length);const I=A-this.blockSize,V=this.C;let x=this.h,k=0;for(;k<A;){if(x==0)for(;k<=I;)o(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<A;)if(V[x++]=C.charCodeAt(k++),x==this.blockSize){o(this,V),x=0;break}}else for(;k<A;)if(V[x++]=C[k++],x==this.blockSize){o(this,V),x=0;break}}this.h=x,this.o+=A},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)C[A++]=this.g[I]>>>V&255;return C};function c(C,A){var I=g;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=A(C)}function d(C,A){this.h=A;const I=[];let V=!0;for(let x=C.length-1;x>=0;x--){const k=C[x]|0;V&&k==A||(I[x]=k,V=!1)}this.g=I}var g={};function v(C){return-128<=C&&C<128?c(C,function(A){return new d([A|0],A<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return nt(y(-C));const A=[];let I=1;for(let V=0;C>=I;V++)A[V]=C/I|0,I*=4294967296;return new d(A,0)}function T(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return nt(T(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(A,8));let V=S;for(let k=0;k<C.length;k+=8){var x=Math.min(8,C.length-k);const w=parseInt(C.substring(k,k+x),A);x<8?(x=y(Math.pow(A,x)),V=V.j(x).add(y(w))):(V=V.j(I),V=V.add(y(w)))}return V}var S=v(0),O=v(1),Y=v(16777216);s=d.prototype,s.m=function(){if(it(this))return-nt(this).m();let C=0,A=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);C+=(V>=0?V:4294967296+V)*A,A*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(Z(this))return"0";if(it(this))return"-"+nt(this).toString(C);const A=y(Math.pow(C,6));var I=this;let V="";for(;;){const x=Qt(I,A).g;I=pt(I,x.j(A));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=x,Z(I))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function Z(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function it(C){return C.h==-1}s.l=function(C){return C=pt(this,C),it(C)?-1:Z(C)?0:1};function nt(C){const A=C.g.length,I=[];for(let V=0;V<A;V++)I[V]=~C.g[V];return new d(I,~C.h).add(O)}s.abs=function(){return it(this)?nt(this):this},s.add=function(C){const A=Math.max(this.g.length,C.g.length),I=[];let V=0;for(let x=0;x<=A;x++){let k=V+(this.i(x)&65535)+(C.i(x)&65535),w=(k>>>16)+(this.i(x)>>>16)+(C.i(x)>>>16);V=w>>>16,k&=65535,w&=65535,I[x]=w<<16|k}return new d(I,I[I.length-1]&-2147483648?-1:0)};function pt(C,A){return C.add(nt(A))}s.j=function(C){if(Z(this)||Z(C))return S;if(it(this))return it(C)?nt(this).j(nt(C)):nt(nt(this).j(C));if(it(C))return nt(this.j(nt(C)));if(this.l(Y)<0&&C.l(Y)<0)return y(this.m()*C.m());const A=this.g.length+C.g.length,I=[];for(var V=0;V<2*A;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let x=0;x<C.g.length;x++){const k=this.i(V)>>>16,w=this.i(V)&65535,$t=C.i(x)>>>16,wt=C.i(x)&65535;I[2*V+2*x]+=w*wt,vt(I,2*V+2*x),I[2*V+2*x+1]+=k*wt,vt(I,2*V+2*x+1),I[2*V+2*x+1]+=w*$t,vt(I,2*V+2*x+1),I[2*V+2*x+2]+=k*$t,vt(I,2*V+2*x+2)}for(C=0;C<A;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=A;C<2*A;C++)I[C]=0;return new d(I,0)};function vt(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function Et(C,A){this.g=C,this.h=A}function Qt(C,A){if(Z(A))throw Error("division by zero");if(Z(C))return new Et(S,S);if(it(C))return A=Qt(nt(C),A),new Et(nt(A.g),nt(A.h));if(it(A))return A=Qt(C,nt(A)),new Et(nt(A.g),A.h);if(C.g.length>30){if(it(C)||it(A))throw Error("slowDivide_ only works with positive integers.");for(var I=O,V=A;V.l(C)<=0;)I=oe(I),V=oe(V);var x=ot(I,1),k=ot(V,1);for(V=ot(V,2),I=ot(I,2);!Z(V);){var w=k.add(V);w.l(C)<=0&&(x=x.add(I),k=w),V=ot(V,1),I=ot(I,1)}return A=pt(C,x.j(A)),new Et(x,A)}for(x=S;C.l(A)>=0;){for(I=Math.max(1,Math.floor(C.m()/A.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=y(I),w=k.j(A);it(w)||w.l(C)>0;)I-=V,k=y(I),w=k.j(A);Z(k)&&(k=O),x=x.add(k),C=pt(C,w)}return new Et(x,C)}s.B=function(C){return Qt(this,C).h},s.and=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)&C.i(V);return new d(I,this.h&C.h)},s.or=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)|C.i(V);return new d(I,this.h|C.h)},s.xor=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)^C.i(V);return new d(I,this.h^C.h)};function oe(C){const A=C.g.length+1,I=[];for(let V=0;V<A;V++)I[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(I,C.h)}function ot(C,A){const I=A>>5;A%=32;const V=C.g.length-I,x=[];for(let k=0;k<V;k++)x[k]=A>0?C.i(k+I)>>>A|C.i(k+I+1)<<32-A:C.i(k+I);return new d(x,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,q0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,$r=d}).apply(typeof nv<"u"?nv:typeof self<"u"?self:typeof window<"u"?window:{});var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var H0,bo,G0,Mc,Jd,F0,Q0,Y0;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ic=="object"&&Ic];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var _=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var L=u[b];if(!(L in _))break t;_=_[L]}u=u[u.length-1],b=_[u],m=m(b),m!=b&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var _=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&_.push([b,m[b]]);return _}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function T(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function S(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(b,L,B){for(var tt=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)tt[Rt-2]=arguments[Rt];return m.prototype[L].apply(b,tt)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Y(u){const m=u.length;if(m>0){const _=Array(m);for(let b=0;b<m;b++)_[b]=u[b];return _}return[]}function Z(u,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var _=typeof L;if(_=_!="object"?_:L?Array.isArray(L)?"array":_:"null",_=="array"||_=="object"&&typeof L.length=="number"){_=u.length||0;const B=L.length||0;u.length=_+B;for(let tt=0;tt<B;tt++)u[_+tt]=L[tt]}else u.push(L)}}class it{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function nt(u){d.setTimeout(()=>{throw u},0)}function pt(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class vt{constructor(){this.h=this.g=null}add(m,_){const b=Et.get();b.set(m,_),this.h?this.h.next=b:this.g=b,this.h=b}}var Et=new it(()=>new Qt,u=>u.reset());class Qt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,ot=!1,C=new vt,A=()=>{const u=Promise.resolve(void 0);oe=()=>{u.then(I)}};function I(){for(var u;u=pt();){try{u.h.call(u.g)}catch(_){nt(_)}var m=Et;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}ot=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function $t(u,m){x.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S($t,x),$t.prototype.init=function(u,m){const _=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&$t.Z.h.call(this)},$t.prototype.h=function(){$t.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var wt="closure_listenable_"+(Math.random()*1e6|0),H=0;function W(u,m,_,b,L){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!b,this.ha=L,this.key=++H,this.da=this.fa=!1}function ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ut(u,m,_){for(const b in u)m.call(_,u[b],b,u)}function qt(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function D(u){const m={};for(const _ in u)m[_]=u[_];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let _,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(_ in b)u[_]=b[_];for(let B=0;B<K.length;B++)_=K[B],Object.prototype.hasOwnProperty.call(b,_)&&(u[_]=b[_])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,_,b,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const tt=St(u,m,b,L);return tt>-1?(m=u[tt],_||(m.fa=!1)):(m=new W(m,this.src,B,!!b,L),m.fa=_,u.push(m)),m};function yt(u,m){const _=m.type;if(_ in u.g){var b=u.g[_],L=Array.prototype.indexOf.call(b,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(b,L,1),B&&(ct(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function St(u,m,_,b){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!_&&B.ha==b)return L}return-1}var Dt="closure_lm_"+(Math.random()*1e6|0),ge={};function ee(u,m,_,b,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ee(u,m[B],_,b,L);return null}return _=gl(_),u&&u[wt]?u.J(m,_,g(b)?!!b.capture:!1,L):Vi(u,m,_,!1,b,L)}function Vi(u,m,_,b,L,B){if(!m)throw Error("Invalid event type");const tt=g(L)?!!L.capture:!!L;let Rt=ls(u);if(Rt||(u[Dt]=Rt=new st(u)),_=Rt.add(m,_,b,tt,B),_.proxy)return _;if(b=F(),_.proxy=b,b.src=u,b.listener=_,u.addEventListener)k||(L=tt),L===void 0&&(L=!1),u.addEventListener(m.toString(),b,L);else if(u.attachEvent)u.attachEvent(fe(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function F(){function u(_){return m.call(u.src,u.listener,_)}const m=He;return u}function dt(u,m,_,b,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)dt(u,m[B],_,b,L);else b=g(b)?!!b.capture:!!b,_=gl(_),u&&u[wt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],_=St(m,_,b,L),_>-1&&(ct(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=ls(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,_,b,L)),(_=u>-1?m[u]:null)&&he(_))}function he(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[wt])yt(m.i,u);else{var _=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(_,b,u.capture):m.detachEvent?m.detachEvent(fe(_),b):m.addListener&&m.removeListener&&m.removeListener(b),(_=ls(m))?(yt(_,u),_.h==0&&(_.src=null,m[Dt]=null)):ct(u)}}}function fe(u){return u in ge?ge[u]:ge[u]="on"+u}function He(u,m){if(u.da)u=!0;else{m=new $t(m,this);const _=u.listener,b=u.ha||u.src;u.fa&&he(u),u=_.call(b,m)}return u}function ls(u){return u=u[Dt],u instanceof st?u:null}var pl="__closure_events_fn_"+(Math.random()*1e9>>>0);function gl(u){return typeof u=="function"?u:(u[pl]||(u[pl]=function(m){return u.handleEvent(m)}),u[pl])}function be(){V.call(this),this.i=new st(this),this.M=this,this.G=null}S(be,V),be.prototype[wt]=!0,be.prototype.removeEventListener=function(u,m,_,b){dt(this,u,m,_,b)};function ke(u,m){var _,b=u.G;if(b)for(_=[];b;b=b.G)_.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new x(m,u);else if(m instanceof x)m.target=m.target||u;else{var L=m;m=new x(b,u),et(m,L)}L=!0;let B,tt;if(_)for(tt=_.length-1;tt>=0;tt--)B=m.g=_[tt],L=or(B,b,!0,m)&&L;if(B=m.g=u,L=or(B,b,!0,m)&&L,L=or(B,b,!1,m)&&L,_)for(tt=0;tt<_.length;tt++)B=m.g=_[tt],L=or(B,b,!1,m)&&L}be.prototype.N=function(){if(be.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let b=0;b<_.length;b++)ct(_[b]);delete u.g[m],u.h--}}this.G=null},be.prototype.J=function(u,m,_,b){return this.i.add(String(u),m,!1,_,b)},be.prototype.K=function(u,m,_,b){return this.i.add(String(u),m,!0,_,b)};function or(u,m,_,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==_){const Rt=tt.listener,_e=tt.ha||tt.src;tt.fa&&yt(u.i,tt),L=Rt.call(_e,b)!==!1&&L}}return L&&!b.defaultPrevented}function Ih(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Zo(u){u.g=Ih(()=>{u.g=null,u.i&&(u.i=!1,Zo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class sn extends V{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Zo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function os(u){V.call(this),this.h=u,this.g={}}S(os,V);var yl=[];function _l(u){Ut(u.g,function(m,_){this.g.hasOwnProperty(_)&&he(m)},u),u.g={}}os.prototype.N=function(){os.Z.N.call(this),_l(this)},os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ur=d.JSON.stringify,Ch=d.JSON.parse,Wo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function tu(){}function eu(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ge(){x.call(this,"d")}S(Ge,x);function In(){x.call(this,"c")}S(In,x);var ye={},nu=null;function Zs(){return nu=nu||new be}ye.Ia="serverreachability";function iu(u){x.call(this,ye.Ia,u)}S(iu,x);function si(u){const m=Zs();ke(m,new iu(m))}ye.STAT_EVENT="statevent";function us(u,m){x.call(this,ye.STAT_EVENT,u),this.stat=m}S(us,x);function Ae(u){const m=Zs();ke(m,new us(m,u))}ye.Ja="timingevent";function ai(u,m){x.call(this,ye.Ja,u),this.size=m}S(ai,x);function li(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function qn(){this.g=!0}qn.prototype.ua=function(){this.g=!1};function xh(u,m,_,b,L,B){u.info(function(){if(u.g)if(B){var tt="",Rt=B.split("&");for(let Ht=0;Ht<Rt.length;Ht++){var _e=Rt[Ht].split("=");if(_e.length>1){const ue=_e[0];_e=_e[1];const Dn=ue.split("_");tt=Dn.length>=2&&Dn[1]=="type"?tt+(ue+"="+_e+"&"):tt+(ue+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+_+`
`+tt})}function ru(u,m,_,b,L,B,tt){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+_+`
`+B+" "+tt})}function oi(u,m,_,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Nh(u,_)+(b?" "+b:"")})}function cs(u,m){u.info(function(){return"TIMEOUT: "+m})}qn.prototype.info=function(){};function Nh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var _=B[u];if(!(_.length<2)){var b=_[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let tt=1;tt<b.length;tt++)b[tt]=""}}}}return ur(B)}catch{return m}}var hs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},El;function fs(){}S(fs,tu),fs.prototype.g=function(){return new XMLHttpRequest},El=new fs;function Mi(u){return encodeURIComponent(String(u))}function su(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function Hn(u,m,_,b){this.j=u,this.i=m,this.l=_,this.S=b||1,this.V=new os(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var Se={},Pe={};function ui(u,m,_){u.M=1,u.A=ds(Re(m)),u.u=_,u.R=!0,Ws(u,null)}function Ws(u,m){u.F=Date.now(),ci(u),u.B=Re(u.A);var _=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),ia(_.i,"t",b),u.C=0,_=u.j.L,u.h=new Gn,u.g=Eu(u.j,_?m:null,!u.u),u.P>0&&(u.O=new sn(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,b=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(yl[0]=L.toString()),L=yl);for(let B=0;B<L.length;B++){const tt=ee(_,L[B],b||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?D(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),si(),xh(u.i,u.v,u.B,u.l,u.S,u.u)}Hn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Yn(u)==3?m.j():this.Y(u)},Hn.prototype.Y=function(u){try{if(u==this.g)t:{const Rt=Yn(this.g),_e=this.g.ya(),Ht=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Fe(this.g)))){this.K||Rt!=4||_e==7||(_e==8||Ht<=0?si(3):si(2)),hi(this);var m=this.g.ca();this.X=m;var _=Dh(this);if(this.o=m==200,ru(this.i,this.v,this.B,this.l,this.S,Rt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(b)){var B=b;break e}}B=null}if(u=B)oi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fi(this,u);else{this.o=!1,this.m=3,Ae(12),yn(this),Cn(this);break t}}if(this.R){u=!0;let ue;for(;!this.K&&this.C<_.length;)if(ue=lu(this,_),ue==Pe){Rt==4&&(this.m=4,Ae(14),u=!1),oi(this.i,this.l,null,"[Incomplete Response]");break}else if(ue==Se){this.m=4,Ae(15),oi(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else oi(this.i,this.l,ue,null),fi(this,ue);if(au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||_.length!=0||this.h.h||(this.m=1,Ae(16),u=!1),this.o=this.o&&u,!u)oi(this.i,this.l,_,"[Invalid Chunked Response]"),yn(this),Cn(this);else if(_.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),kl(tt),tt.P=!0,Ae(11))}}else oi(this.i,this.l,_,null),fi(this,_);Rt==4&&yn(this),this.o&&!this.K&&(Rt==4?gu(this.j,this):(this.o=!1,ci(this)))}else Li(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,Ae(12)):(this.m=0,Ae(13)),yn(this),Cn(this)}}}catch{}};function Dh(u){if(!au(u))return u.g.la();const m=Fe(u.g);if(m==="")return"";let _="";const b=m.length,L=Yn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return yn(u),Cn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<b;B++)u.h.h=!0,_+=u.h.i.decode(m[B],{stream:!(L&&B==b-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function au(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function lu(u,m){var _=u.C,b=m.indexOf(`
`,_);return b==-1?Pe:(_=Number(m.substring(_,b)),isNaN(_)?Se:(b+=1,b+_>m.length?Pe:(m=m.slice(b,b+_),u.C=b+_,m)))}Hn.prototype.cancel=function(){this.K=!0,yn(this)};function ci(u){u.T=Date.now()+u.H,ta(u,u.H)}function ta(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=li(y(u.aa,u),m)}function hi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Hn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(cs(this.i,this.B),this.M!=2&&(si(),Ae(17)),yn(this),this.m=2,Cn(this)):ta(this,this.T-u)};function Cn(u){u.j.I==0||u.K||gu(u.j,u)}function yn(u){hi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,_l(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function fi(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||mi(_.h,u))){if(!u.L&&mi(_.h,u)&&_.I==3){try{var b=_.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)oa(_),yr(_);else break t;Es(_),Ae(18)}}else _.xa=L[1],0<_.xa-_.K&&L[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=li(y(_.Va,_),6e3));di(_.h)<=1&&_.ta&&(_.ta=void 0)}else Ei(_,11)}else if((u.L||_.g==u)&&oa(_),!w(m))for(L=_.Ba.g.parse(m),m=0;m<L.length;m++){let Ht=L[m];const ue=Ht[0];if(!(ue<=_.K))if(_.K=ue,Ht=Ht[1],_.I==2)if(Ht[0]=="c"){_.M=Ht[1],_.ba=Ht[2];const Dn=Ht[3];Dn!=null&&(_.ka=Dn,_.j.info("VER="+_.ka));const Ti=Ht[4];Ti!=null&&(_.za=Ti,_.j.info("SVER="+_.za));const Kn=Ht[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(b=1.5*Kn,_.O=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Xn=u.g;if(Xn){const Ts=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ts){var B=b.h;B.g||Ts.indexOf("spdy")==-1&&Ts.indexOf("quic")==-1&&Ts.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Al(B,B.h),B.h=null))}if(b.G){const ua=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;ua&&(b.wa=ua,Yt(b.J,b.G,ua))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),b=_;var tt=u;if(b.na=vu(b,b.L?b.ba:null,b.W),tt.L){Sl(b.h,tt);var Rt=tt,_e=b.O;_e&&(Rt.H=_e),Rt.D&&(hi(Rt),ci(Rt)),b.g=tt}else mu(b);_.i.length>0&&vi(_)}else Ht[0]!="stop"&&Ht[0]!="close"||Ei(_,7);else _.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?Ei(_,7):Vl(_):Ht[0]!="noop"&&_.l&&_.l.qa(Ht),_.A=0)}}si(4)}catch{}}var we=class{constructor(u,m){this.g=u,this.map=m}};function Tl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function di(u){return u.h?1:u.g?u.g.size:0}function mi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Al(u,m){u.g?u.g.add(m):u.h=m}function Sl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Tl.prototype.cancel=function(){if(this.i=wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function wl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return Y(u.i)}var ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ea(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const b=u[_].indexOf("=");let L,B=null;b>=0?(L=u[_].substring(0,b),B=u[_].substring(b+1)):L=u[_],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function _n(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof _n?(this.l=u.l,ze(this,u.j),this.o=u.o,this.g=u.g,cr(this,u.u),this.h=u.h,Rl(this,fu(u.i)),this.m=u.m):u&&(m=String(u).match(ou))?(this.l=!1,ze(this,m[1]||"",!0),this.o=pi(m[2]||""),this.g=pi(m[3]||"",!0),cr(this,m[4]),this.h=pi(m[5]||"",!0),Rl(this,m[6]||"",!0),this.m=pi(m[7]||"")):(this.l=!1,this.i=new fr(null,this.l))}_n.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ms(m,na,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ms(m,na,!0),"@"),u.push(Mi(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(ms(_,_.charAt(0)=="/"?Il:uu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",ms(_,cu)),u.join("")},_n.prototype.resolve=function(u){const m=Re(this);let _=!!u.j;_?ze(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var b=u.h;if(_)cr(m,u.u);else if(_=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let tt=0;tt<L.length;){const Rt=L[tt++];Rt=="."?b&&tt==L.length&&B.push(""):Rt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&tt==L.length&&B.push("")):(B.push(Rt),b=!0)}b=B.join("/")}else b=L}return _?m.h=b:_=u.i.toString()!=="",_?Rl(m,fu(u.i)):_=!!u.m,_&&(m.m=u.m),m};function Re(u){return new _n(u)}function ze(u,m,_){u.j=_?pi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function cr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Rl(u,m,_){m instanceof fr?(u.i=m,ra(u.i,u.l)):(_||(m=ms(m,hr)),u.i=new fr(m,u.l))}function Yt(u,m,_){u.i.set(m,_)}function ds(u){return Yt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function pi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ms(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,on),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function on(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var na=/[#\/\?@]/g,uu=/[#\?:]/g,Il=/[#\?]/g,hr=/[#\?@]/g,cu=/#/g;function fr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function un(u){u.g||(u.g=new Map,u.h=0,u.i&&ea(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}s=fr.prototype,s.add=function(u,m){un(this),this.i=null,u=dr(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function hu(u,m){un(u),m=dr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Cl(u,m){return un(u),m=dr(u,m),u.g.has(m)}s.forEach=function(u,m){un(this),this.g.forEach(function(_,b){_.forEach(function(L){u.call(m,L,b,this)},this)},this)};function xl(u,m){un(u);let _=[];if(typeof m=="string")Cl(u,m)&&(_=_.concat(u.g.get(dr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}s.set=function(u,m){return un(this),this.i=null,u=dr(this,u),Cl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=xl(this,u),u.length>0?String(u[0]):m):m};function ia(u,m,_){hu(u,m),_.length>0&&(u.i=null,u.g.set(dr(u,m),Y(_)),u.h+=_.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var _=m[b];const L=Mi(_);_=xl(this,_);for(let B=0;B<_.length;B++){let tt=L;_[B]!==""&&(tt+="="+Mi(_[B])),u.push(tt)}}return this.i=u.join("&")};function fu(u){const m=new fr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function dr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ra(u,m){m&&!u.j&&(un(u),u.i=null,u.g.forEach(function(_,b){const L=b.toLowerCase();b!=L&&(hu(this,b),ia(this,L,_))},u)),u.j=m}function Fn(u,m){const _=new qn;if(d.Image){const b=new Image;b.onload=T(xn,_,"TestLoadImage: loaded",!0,m,b),b.onerror=T(xn,_,"TestLoadImage: error",!1,m,b),b.onabort=T(xn,_,"TestLoadImage: abort",!1,m,b),b.ontimeout=T(xn,_,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Nl(u,m){const _=new qn,b=new AbortController,L=setTimeout(()=>{b.abort(),xn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(B=>{clearTimeout(L),B.ok?xn(_,"TestPingServer: ok",!0,m):xn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),xn(_,"TestPingServer: error",!1,m)})}function xn(u,m,_,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(_)}catch{}}function mr(){this.g=new Wo}function gi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(gi,tu),gi.prototype.g=function(){return new ps(this.i,this.h)};function ps(u,m){be.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(ps,be),s=ps.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Qn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,pr(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;sa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function sa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?pr(this):Qn(this),this.readyState==3&&sa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,pr(this))},s.Na=function(u){this.g&&(this.response=u,pr(this))},s.ga=function(){this.g&&pr(this)};function pr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Qn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ps.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Nn(u){let m="";return Ut(u,function(_,b){m+=b,m+=":",m+=_,m+=`\r
`}),m}function gs(u,m,_){t:{for(b in _){var b=!1;break t}b=!0}b||(_=Nn(_),typeof u=="string"?_!=null&&Mi(_):Yt(u,m,_))}function Jt(u){be.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Jt,be);var yi=/^https?$/i,Dl=["POST","PUT"];s=Jt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():El.g(),this.g.onreadystatechange=O(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){ys(this,B);return}if(u=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)_.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())_.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Dl,m,void 0)>=0)||b||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of _)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){ys(this,B)}};function ys(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ol(u),ki(u)}function Ol(u){u.A||(u.A=!0,ke(u,"complete"),ke(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ke(this,"complete"),ke(this,"abort"),ki(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ki(this,!0)),Jt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?_s(this):this.Xa())},s.Xa=function(){_s(this)};function _s(u){if(u.h&&typeof c<"u"){if(u.v&&Yn(u)==4)setTimeout(u.Ca.bind(u),0);else if(ke(u,"readystatechange"),Yn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var b;if(b=B===0){let tt=String(u.D).match(ou)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),b=!yi.test(tt?tt.toLowerCase():"")}_=b}if(_)ke(u,"complete"),ke(u,"success");else{u.o=6;try{var L=Yn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Ol(u)}}finally{ki(u)}}}}function ki(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||ke(u,"ready");try{_.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Yn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ch(m)}};function Fe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Li(u){const m={};u=(u.g&&Yn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(w(u[b]))continue;var _=su(u[b]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const B=m[L]||[];m[L]=B,B.push(_)}qt(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _i(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function gr(u){this.za=0,this.i=[],this.j=new qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_i("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_i("baseRetryDelayMs",5e3,u),this.Za=_i("retryDelaySeedMs",1e4,u),this.Ta=_i("forwardChannelMaxRetries",2,u),this.va=_i("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Tl(u&&u.concurrentRequestLimit),this.Ba=new mr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=gr.prototype,s.ka=8,s.I=1,s.connect=function(u,m,_,b){Ae(0),this.W=u,this.H=m||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.J=vu(this,null,this.W),vi(this)};function Vl(u){if(aa(u),u.I==3){var m=u.V++,_=Re(u.J);if(Yt(_,"SID",u.M),Yt(_,"RID",m),Yt(_,"TYPE","terminate"),vs(u,_),m=new Hn(u,u.j,m),m.M=2,m.A=ds(Re(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=Eu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ci(m)}_u(u)}function yr(u){u.g&&(kl(u),u.g.cancel(),u.g=null)}function aa(u){yr(u),u.v&&(d.clearTimeout(u.v),u.v=null),oa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function vi(u){if(!bl(u.h)&&!u.m){u.m=!0;var m=u.Ea;oe||A(),ot||(oe(),ot=!0),C.add(m,u),u.D=0}}function la(u,m){return di(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=li(y(u.Ea,u,m),yu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Hn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=D(B),et(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=du(this,L,m),_=Re(this.J),Yt(_,"RID",u),Yt(_,"CVER",22),this.G&&Yt(_,"X-HTTP-Session-Id",this.G),vs(this,_),B&&(this.R?m="headers="+Mi(Nn(B))+"&"+m:this.u&&gs(_,this.u,B)),Al(this.h,L),this.Ra&&Yt(_,"TYPE","init"),this.S?(Yt(_,"$req",m),Yt(_,"SID","null"),L.U=!0,ui(L,_,null)):ui(L,_,m),this.I=2}}else this.I==3&&(u?Ml(this,u):this.i.length==0||bl(this.h)||Ml(this))};function Ml(u,m){var _;m?_=m.l:_=u.V++;const b=Re(u.J);Yt(b,"SID",u.M),Yt(b,"RID",_),Yt(b,"AID",u.K),vs(u,b),u.u&&u.o&&gs(b,u.u,u.o),_=new Hn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=du(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Al(u.h,_),ui(_,b,m)}function vs(u,m){u.H&&Ut(u.H,function(_,b){Yt(m,b,_)}),u.l&&Ut({},function(_,b){Yt(m,b,_)})}function du(u,m,_){_=Math.min(u.i.length,_);const b=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let Rt=-1;for(;;){const _e=["count="+_];Rt==-1?_>0?(Rt=L[0].g,_e.push("ofs="+Rt)):Rt=0:_e.push("ofs="+Rt);let Ht=!0;for(let ue=0;ue<_;ue++){var B=L[ue].g;const Dn=L[ue].map;if(B-=Rt,B<0)Rt=Math.max(0,L[ue].g-100),Ht=!1;else try{B="req"+B+"_"||"";try{var tt=Dn instanceof Map?Dn:Object.entries(Dn);for(const[Ti,Kn]of tt){let Xn=Kn;g(Kn)&&(Xn=ur(Kn)),_e.push(B+Ti+"="+encodeURIComponent(Xn))}}catch(Ti){throw _e.push(B+"type="+encodeURIComponent("_badmap")),Ti}}catch{b&&b(Dn)}}if(Ht){tt=_e.join("&");break t}}tt=void 0}return u=u.i.splice(0,_),m.G=u,tt}function mu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;oe||A(),ot||(oe(),ot=!0),C.add(m,u),u.A=0}}function Es(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=li(y(u.Da,u),yu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=li(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ae(10),yr(this),pu(this))};function kl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function pu(u){u.g=new Hn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Re(u.na);Yt(m,"RID","rpc"),Yt(m,"SID",u.M),Yt(m,"AID",u.K),Yt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Yt(m,"TO",u.ia),Yt(m,"TYPE","xmlhttp"),vs(u,m),u.u&&u.o&&gs(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=ds(Re(m)),_.u=null,_.R=!0,Ws(_,u)}s.Va=function(){this.C!=null&&(this.C=null,yr(this),Es(this),Ae(19))};function oa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function gu(u,m){var _=null;if(u.g==m){oa(u),kl(u),u.g=null;var b=2}else if(mi(u.h,m))_=m.G,Sl(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;b=Zs(),ke(b,new ai(b,_)),vi(u)}else mu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&la(u,m)||b==2&&Es(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),L){case 1:Ei(u,5);break;case 4:Ei(u,10);break;case 3:Ei(u,6);break;default:Ei(u,2)}}}function yu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function Ei(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),b=u.Ua;const L=!b;b=new _n(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ze(b,"https"),ds(b),L?Fn(b.toString(),_):Nl(b.toString(),_)}else Ae(2);u.I=0,u.l&&u.l.pa(m),_u(u),aa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function _u(u){if(u.I=0,u.ja=[],u.l){const m=wl(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,Y(u.i),u.i.length=0),u.l.oa()}}function vu(u,m,_){var b=_ instanceof _n?Re(_):new _n(_);if(b.g!="")m&&(b.g=m+"."+b.g),cr(b,b.u);else{var L=d.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new _n(null);b&&ze(B,b),m&&(B.g=m),L&&cr(B,L),_&&(B.h=_),b=B}return _=u.G,m=u.wa,_&&m&&Yt(b,_,m),Yt(b,"VER",u.ka),vs(u,b),b}function Eu(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Jt(new gi({ab:_})):new Jt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}s=Tu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function _r(){}_r.prototype.g=function(u,m){return new an(u,m)};function an(u,m){be.call(this),this.g=new gr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ui(this)}S(an,be),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Vl(this.g)},an.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=ur(u),u=_);m.i.push(new we(m.Ya++,u)),m.I==3&&vi(m)},an.prototype.N=function(){this.g.l=null,delete this.j,Vl(this.g),delete this.g,an.Z.N.call(this)};function bu(u){Ge.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(bu,Ge);function Au(){In.call(this),this.status=1}S(Au,In);function Ui(u){this.g=u}S(Ui,Tu),Ui.prototype.ra=function(){ke(this.g,"a")},Ui.prototype.qa=function(u){ke(this.g,new bu(u))},Ui.prototype.pa=function(u){ke(this.g,new Au)},Ui.prototype.oa=function(){ke(this.g,"b")},_r.prototype.createWebChannel=_r.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,Y0=function(){return new _r},Q0=function(){return Zs()},F0=ye,Jd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},hs.NO_ERROR=0,hs.TIMEOUT=8,hs.HTTP_ERROR=6,Mc=hs,vl.COMPLETE="complete",G0=vl,eu.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",be.prototype.listen=be.prototype.J,bo=eu,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,H0=Jt}).apply(typeof Ic<"u"?Ic:typeof self<"u"?self:typeof window<"u"?window:{});class en{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");let ul="12.8.0";function b1(s){ul=s}const Gs=new _m("@firebase/firestore");function za(){return Gs.logLevel}function at(s,...t){if(Gs.logLevel<=Mt.DEBUG){const i=t.map(Tm);Gs.debug(`Firestore (${ul}): ${s}`,...i)}}function rr(s,...t){if(Gs.logLevel<=Mt.ERROR){const i=t.map(Tm);Gs.error(`Firestore (${ul}): ${s}`,...i)}}function $a(s,...t){if(Gs.logLevel<=Mt.WARN){const i=t.map(Tm);Gs.warn(`Firestore (${ul}): ${s}`,...i)}}function Tm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function gt(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,K0(s,a,i)}function K0(s,t,i){let a=`FIRESTORE (${ul}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw rr(a),new Error(a)}function Ft(s,t,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||K0(t,o,a)}function At(s,t){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends lr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class js{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class X0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class A1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(en.UNAUTHENTICATED)))}shutdown(){}}class S1{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class w1{constructor(t){this.t=t,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ft(this.o===void 0,42304);let a=this.i;const o=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new js;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new js,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=c;t.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},g=v=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new js)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ft(typeof a.accessToken=="string",31837,{l:a}),new X0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new en(t)}}class R1{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=en.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class I1{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new R1(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class iv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class C1{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ft(this.o===void 0,3512);const a=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const o=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new iv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new iv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function x1(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class bm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=x1(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=t.charAt(o[c]%62))}return a}}function kt(s,t){return s<t?-1:s>t?1:0}function Zd(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=t.charAt(a);if(o!==c)return Ud(o)===Ud(c)?kt(o,c):Ud(o)?1:-1}return kt(s.length,t.length)}const N1=55296,D1=57343;function Ud(s){const t=s.charCodeAt(0);return t>=N1&&t<=D1}function Ja(s,t,i){return s.length===t.length&&s.every(((a,o)=>i(a,t[o])))}const rv="__name__";class Ri{constructor(t,i,a){i===void 0?i=0:i>t.length&&gt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&gt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ri.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ri?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const c=Ri.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return kt(t.length,i.length)}static compareSegments(t,i){const a=Ri.isNumericId(t),o=Ri.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Ri.extractNumericId(t).compare(Ri.extractNumericId(i)):Zd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return $r.fromString(t.substring(4,t.length-2))}}class re extends Ri{construct(t,i,a){return new re(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new rt($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new re(i)}static emptyPath(){return new re([])}}const O1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends Ri{construct(t,i,a){return new Je(t,i,a)}static isValidIdentifier(t){return O1.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rv}static keyField(){return new Je([rv])}static fromServerFormat(t){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new rt($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new rt($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new rt($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(c(),o++)}if(c(),d)throw new rt($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Je(i)}static emptyPath(){return new Je([])}}class ft{constructor(t){this.path=t}static fromPath(t){return new ft(re.fromString(t))}static fromName(t){return new ft(re.fromString(t).popFirst(5))}static empty(){return new ft(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return re.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new re(t.slice()))}}function $0(s,t,i){if(!i)throw new rt($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function V1(s,t,i,a){if(t===!0&&a===!0)throw new rt($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function sv(s){if(!ft.isDocumentKey(s))throw new rt($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function av(s){if(ft.isDocumentKey(s))throw new rt($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function J0(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function oh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":gt(12329,{type:typeof s})}function Jr(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new rt($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=oh(s);throw new rt($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Ve(s,t){const i={typeString:s};return t&&(i.value=t),i}function Go(s,t){if(!J0(s))throw new rt($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const o=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new rt($.INVALID_ARGUMENT,i);return!0}const lv=-62135596800,ov=1e6;class le{static now(){return le.fromMillis(Date.now())}static fromDate(t){return le.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*ov);return new le(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new rt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<lv)throw new rt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ov}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Go(t,le._jsonSchema))return new le(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-lv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}le._jsonSchemaVersion="firestore/timestamp/1.0",le._jsonSchema={type:Ve("string",le._jsonSchemaVersion),seconds:Ve("number"),nanoseconds:Ve("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new le(0,0))}static max(){return new Tt(new le(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Mo=-1;function M1(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(a===1e9?new le(i+1,0):new le(i,a));return new Wr(o,ft.empty(),t)}function k1(s){return new Wr(s.readTime,s.key,Mo)}class Wr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Wr(Tt.min(),ft.empty(),Mo)}static max(){return new Wr(Tt.max(),ft.empty(),Mo)}}function L1(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=ft.comparator(s.documentKey,t.documentKey),i!==0?i:kt(s.largestBatchId,t.largestBatchId))}const U1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class P1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function cl(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==U1)throw s;at("LocalStore","Unexpectedly lost primary lease")}class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new J(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):J.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):J.reject(i)}static resolve(t){return new J(((i,a)=>{i(t)}))}static reject(t){return new J(((i,a)=>{a(t)}))}static waitFor(t){return new J(((i,a)=>{let o=0,c=0,d=!1;t.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(v=>a(v)))})),d=!0,c===o&&i()}))}static or(t){let i=J.resolve(!1);for(const a of t)i=i.next((o=>o?J.resolve(o):a()));return i}static forEach(t,i){const a=[];return t.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(t,i){return new J(((a,o)=>{const c=t.length,d=new Array(c);let g=0;for(let v=0;v<c;v++){const y=v;i(t[y]).next((T=>{d[y]=T,++g,g===c&&a(d)}),(T=>o(T)))}}))}static doWhile(t,i){return new J(((a,o)=>{const c=()=>{t()===!0?i().next((()=>{c()}),o):a()};c()}))}}function z1(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function hl(s){return s.name==="IndexedDbTransactionError"}class uh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}uh.ce=-1;const Am=-1;function ch(s){return s==null}function Qc(s){return s===0&&1/s==-1/0}function j1(s){return typeof s=="number"&&Number.isInteger(s)&&!Qc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const Z0="";function B1(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=uv(t)),t=q1(s.get(i),t);return uv(t)}function q1(s,t){let i=t;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case Z0:i+="";break;default:i+=c}}return i}function uv(s){return s+Z0+""}function cv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function ss(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function W0(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class de{constructor(t,i){this.comparator=t,this.root=i||$e.EMPTY}insert(t,i){return new de(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,$e.BLACK,null,null))}remove(t){return new de(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$e.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Cc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Cc(this.root,t,this.comparator,!0)}}class Cc{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $e{constructor(t,i,a,o,c){this.key=t,this.value=i,this.color=a??$e.RED,this.left=o??$e.EMPTY,this.right=c??$e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,c){return new $e(t??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const c=a(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return $e.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}$e.EMPTY=null,$e.RED=!0,$e.BLACK=!1;$e.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,i,a,o,c){return this}insert(t,i,a){return new $e(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ue{constructor(t){this.comparator=t,this.data=new de(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new hv(this.data.getIterator())}getIteratorFrom(t){return new hv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ue)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ue(this.comparator);return i.data=t,i}}class hv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Rn{constructor(t){this.fields=t,t.sort(Je.comparator)}static empty(){return new Rn([])}unionWith(t){let i=new Ue(Je.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Rn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ja(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class tE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ze{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new tE("Invalid base64 string: "+c):c}})(t);return new Ze(i)}static fromUint8Array(t){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(t);return new Ze(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ze.EMPTY_BYTE_STRING=new Ze("");const H1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ts(s){if(Ft(!!s,39018),typeof s=="string"){let t=0;const i=H1.exec(s);if(Ft(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Te(s.seconds),nanos:Te(s.nanos)}}function Te(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function es(s){return typeof s=="string"?Ze.fromBase64String(s):Ze.fromUint8Array(s)}const eE="server_timestamp",nE="__type__",iE="__previous_value__",rE="__local_write_time__";function Sm(s){return(s?.mapValue?.fields||{})[nE]?.stringValue===eE}function hh(s){const t=s.mapValue.fields[iE];return Sm(t)?hh(t):t}function ko(s){const t=ts(s.mapValue.fields[rE].timestampValue);return new le(t.seconds,t.nanos)}class G1{constructor(t,i,a,o,c,d,g,v,y,T,S){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=T,this.apiKey=S}}const Yc="(default)";class Lo{constructor(t,i){this.projectId=t,this.database=i||Yc}static empty(){return new Lo("","")}get isDefaultDatabase(){return this.database===Yc}isEqual(t){return t instanceof Lo&&t.projectId===this.projectId&&t.database===this.database}}function F1(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new rt($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lo(s.options.projectId,t)}const sE="__type__",Q1="__max__",xc={mapValue:{}},aE="__vector__",Kc="value";function ns(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Sm(s)?4:K1(s)?9007199254740991:Y1(s)?10:11:gt(28295,{value:s})}function Di(s,t){if(s===t)return!0;const i=ns(s);if(i!==ns(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return ko(s).isEqual(ko(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=ts(o.timestampValue),g=ts(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(o,c){return es(o.bytesValue).isEqual(es(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(o,c){return Te(o.geoPointValue.latitude)===Te(c.geoPointValue.latitude)&&Te(o.geoPointValue.longitude)===Te(c.geoPointValue.longitude)})(s,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Te(o.integerValue)===Te(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Te(o.doubleValue),g=Te(c.doubleValue);return d===g?Qc(d)===Qc(g):isNaN(d)&&isNaN(g)}return!1})(s,t);case 9:return Ja(s.arrayValue.values||[],t.arrayValue.values||[],Di);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(cv(d)!==cv(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!Di(d[v],g[v])))return!1;return!0})(s,t);default:return gt(52216,{left:s})}}function Uo(s,t){return(s.values||[]).find((i=>Di(i,t)))!==void 0}function Za(s,t){if(s===t)return 0;const i=ns(s),a=ns(t);if(i!==a)return kt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return kt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=Te(c.integerValue||c.doubleValue),v=Te(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(s,t);case 3:return fv(s.timestampValue,t.timestampValue);case 4:return fv(ko(s),ko(t));case 5:return Zd(s.stringValue,t.stringValue);case 6:return(function(c,d){const g=es(c),v=es(d);return g.compareTo(v)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),v=d.split("/");for(let y=0;y<g.length&&y<v.length;y++){const T=kt(g[y],v[y]);if(T!==0)return T}return kt(g.length,v.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=kt(Te(c.latitude),Te(d.latitude));return g!==0?g:kt(Te(c.longitude),Te(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return dv(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},v=d.fields||{},y=g[Kc]?.arrayValue,T=v[Kc]?.arrayValue,S=kt(y?.values?.length||0,T?.values?.length||0);return S!==0?S:dv(y,T)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===xc.mapValue&&d===xc.mapValue)return 0;if(c===xc.mapValue)return 1;if(d===xc.mapValue)return-1;const g=c.fields||{},v=Object.keys(g),y=d.fields||{},T=Object.keys(y);v.sort(),T.sort();for(let S=0;S<v.length&&S<T.length;++S){const O=Zd(v[S],T[S]);if(O!==0)return O;const Y=Za(g[v[S]],y[T[S]]);if(Y!==0)return Y}return kt(v.length,T.length)})(s.mapValue,t.mapValue);default:throw gt(23264,{he:i})}}function fv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return kt(s,t);const i=ts(s),a=ts(t),o=kt(i.seconds,a.seconds);return o!==0?o:kt(i.nanos,a.nanos)}function dv(s,t){const i=s.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=Za(i[o],a[o]);if(c)return c}return kt(i.length,a.length)}function Wa(s){return Wd(s)}function Wd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=ts(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return es(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ft.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=Wd(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${Wd(i.fields[d])}`;return o+"}"})(s.mapValue):gt(61005,{value:s})}function kc(s){switch(ns(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=hh(s);return t?16+kc(t):16;case 5:return 2*s.stringValue.length;case 6:return es(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+kc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return ss(a.fields,((c,d)=>{o+=c.length+kc(d)})),o})(s.mapValue);default:throw gt(13486,{value:s})}}function mv(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function tm(s){return!!s&&"integerValue"in s}function wm(s){return!!s&&"arrayValue"in s}function pv(s){return!!s&&"nullValue"in s}function gv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Lc(s){return!!s&&"mapValue"in s}function Y1(s){return(s?.mapValue?.fields||{})[sE]?.stringValue===aE}function Co(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return ss(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Co(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Co(s.arrayValue.values[i]);return t}return{...s}}function K1(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Q1}class gn{constructor(t){this.value=t}static empty(){return new gn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Lc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Co(i)}setAll(t){let i=Je.emptyPath(),a={},o=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=Co(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(t){const i=this.field(t.popLast());Lc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Di(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];Lc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){ss(i,((o,c)=>t[o]=c));for(const o of a)delete t[o]}clone(){return new gn(Co(this.value))}}function lE(s){const t=[];return ss(s.fields,((i,a)=>{const o=new Je([i]);if(Lc(a)){const c=lE(a.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)})),new Rn(t)}class nn{constructor(t,i,a,o,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new nn(t,0,Tt.min(),Tt.min(),Tt.min(),gn.empty(),0)}static newFoundDocument(t,i,a,o){return new nn(t,1,i,Tt.min(),a,o,0)}static newNoDocument(t,i){return new nn(t,2,i,Tt.min(),Tt.min(),gn.empty(),0)}static newUnknownDocument(t,i){return new nn(t,3,i,Tt.min(),Tt.min(),gn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof nn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xc{constructor(t,i){this.position=t,this.inclusive=i}}function yv(s,t,i){let a=0;for(let o=0;o<s.position.length;o++){const c=t[o],d=s.position[o];if(c.field.isKeyField()?a=ft.comparator(ft.fromName(d.referenceValue),i.key):a=Za(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function _v(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Di(s.position[i],t.position[i]))return!1;return!0}class Po{constructor(t,i="asc"){this.field=t,this.dir=i}}function X1(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class oE{}class Oe extends oE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new J1(t,i,a):i==="array-contains"?new tw(t,a):i==="in"?new ew(t,a):i==="not-in"?new nw(t,a):i==="array-contains-any"?new iw(t,a):new Oe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new Z1(t,a):new W1(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Za(i,this.value)):i!==null&&ns(this.value)===ns(i)&&this.matchesComparison(Za(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends oE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ri(t,i)}matches(t){return uE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function uE(s){return s.op==="and"}function cE(s){return $1(s)&&uE(s)}function $1(s){for(const t of s.filters)if(t instanceof ri)return!1;return!0}function em(s){if(s instanceof Oe)return s.field.canonicalString()+s.op.toString()+Wa(s.value);if(cE(s))return s.filters.map((t=>em(t))).join(",");{const t=s.filters.map((i=>em(i))).join(",");return`${s.op}(${t})`}}function hE(s,t){return s instanceof Oe?(function(a,o){return o instanceof Oe&&a.op===o.op&&a.field.isEqual(o.field)&&Di(a.value,o.value)})(s,t):s instanceof ri?(function(a,o){return o instanceof ri&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,g)=>c&&hE(d,o.filters[g])),!0):!1})(s,t):void gt(19439)}function fE(s){return s instanceof Oe?(function(i){return`${i.field.canonicalString()} ${i.op} ${Wa(i.value)}`})(s):s instanceof ri?(function(i){return i.op.toString()+" {"+i.getFilters().map(fE).join(" ,")+"}"})(s):"Filter"}class J1 extends Oe{constructor(t,i,a){super(t,i,a),this.key=ft.fromName(a.referenceValue)}matches(t){const i=ft.comparator(t.key,this.key);return this.matchesComparison(i)}}class Z1 extends Oe{constructor(t,i){super(t,"in",i),this.keys=dE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class W1 extends Oe{constructor(t,i){super(t,"not-in",i),this.keys=dE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function dE(s,t){return(t.arrayValue?.values||[]).map((i=>ft.fromName(i.referenceValue)))}class tw extends Oe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return wm(i)&&Uo(i.arrayValue,this.value)}}class ew extends Oe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Uo(this.value.arrayValue,i)}}class nw extends Oe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Uo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Uo(this.value.arrayValue,i)}}class iw extends Oe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!wm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Uo(this.value.arrayValue,a)))}}class rw{constructor(t,i=null,a=[],o=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function vv(s,t=null,i=[],a=[],o=null,c=null,d=null){return new rw(s,t,i,a,o,c,d)}function Rm(s){const t=At(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>em(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),ch(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Wa(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Wa(a))).join(",")),t.Te=i}return t.Te}function Im(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!X1(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!hE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!_v(s.startAt,t.startAt)&&_v(s.endAt,t.endAt)}function nm(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class fl{constructor(t,i=null,a=[],o=[],c=null,d="F",g=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function sw(s,t,i,a,o,c,d,g){return new fl(s,t,i,a,o,c,d,g)}function Cm(s){return new fl(s)}function Ev(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function aw(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function mE(s){return s.collectionGroup!==null}function xo(s){const t=At(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ue(Je.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Po(c,a))})),i.has(Je.keyField().canonicalString())||t.Ie.push(new Po(Je.keyField(),a))}return t.Ie}function Ii(s){const t=At(s);return t.Ee||(t.Ee=lw(t,xo(s))),t.Ee}function lw(s,t){if(s.limitType==="F")return vv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Po(o.field,c)}));const i=s.endAt?new Xc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Xc(s.startAt.position,s.startAt.inclusive):null;return vv(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function im(s,t){const i=s.filters.concat([t]);return new fl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function ow(s,t){const i=s.explicitOrderBy.concat([t]);return new fl(s.path,s.collectionGroup,i,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function rm(s,t,i){return new fl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function fh(s,t){return Im(Ii(s),Ii(t))&&s.limitType===t.limitType}function pE(s){return`${Rm(Ii(s))}|lt:${s.limitType}`}function ja(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>fE(o))).join(", ")}]`),ch(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>Wa(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>Wa(o))).join(",")),`Target(${a})`})(Ii(s))}; limitType=${s.limitType})`}function dh(s,t){return t.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ft.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,o){for(const c of xo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,t)&&(function(a,o){return!(a.startAt&&!(function(d,g,v){const y=yv(d,g,v);return d.inclusive?y<=0:y<0})(a.startAt,xo(a),o)||a.endAt&&!(function(d,g,v){const y=yv(d,g,v);return d.inclusive?y>=0:y>0})(a.endAt,xo(a),o))})(s,t)}function uw(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function gE(s){return(t,i)=>{let a=!1;for(const o of xo(s)){const c=cw(o,t,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function cw(s,t,i){const a=s.field.isKeyField()?ft.comparator(t.key,i.key):(function(c,d,g){const v=d.data.field(c),y=g.data.field(c);return v!==null&&y!==null?Za(v,y):gt(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return gt(19790,{direction:s.dir})}}class Ys{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ss(this.inner,((i,a)=>{for(const[o,c]of a)t(o,c)}))}isEmpty(){return W0(this.inner)}size(){return this.innerSize}}const hw=new de(ft.comparator);function sr(){return hw}const yE=new de(ft.comparator);function Ao(...s){let t=yE;for(const i of s)t=t.insert(i.key,i);return t}function _E(s){let t=yE;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Ps(){return No()}function vE(){return No()}function No(){return new Ys((s=>s.toString()),((s,t)=>s.isEqual(t)))}const fw=new de(ft.comparator),dw=new Ue(ft.comparator);function Lt(...s){let t=dw;for(const i of s)t=t.add(i);return t}const mw=new Ue(kt);function pw(){return mw}function xm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qc(t)?"-0":t}}function EE(s){return{integerValue:""+s}}function TE(s,t){return j1(t)?EE(t):xm(s,t)}class mh{constructor(){this._=void 0}}function gw(s,t,i){return s instanceof zo?(function(o,c){const d={fields:{[nE]:{stringValue:eE},[rE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Sm(c)&&(c=hh(c)),c&&(d.fields[iE]=c),{mapValue:d}})(i,t):s instanceof tl?AE(s,t):s instanceof el?SE(s,t):(function(o,c){const d=bE(o,c),g=Tv(d)+Tv(o.Ae);return tm(d)&&tm(o.Ae)?EE(g):xm(o.serializer,g)})(s,t)}function yw(s,t,i){return s instanceof tl?AE(s,t):s instanceof el?SE(s,t):i}function bE(s,t){return s instanceof jo?(function(a){return tm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class zo extends mh{}class tl extends mh{constructor(t){super(),this.elements=t}}function AE(s,t){const i=wE(t);for(const a of s.elements)i.some((o=>Di(o,a)))||i.push(a);return{arrayValue:{values:i}}}class el extends mh{constructor(t){super(),this.elements=t}}function SE(s,t){let i=wE(t);for(const a of s.elements)i=i.filter((o=>!Di(o,a)));return{arrayValue:{values:i}}}class jo extends mh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Tv(s){return Te(s.integerValue||s.doubleValue)}function wE(s){return wm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class ph{constructor(t,i){this.field=t,this.transform=i}}function _w(s,t){return s.field.isEqual(t.field)&&(function(a,o){return a instanceof tl&&o instanceof tl||a instanceof el&&o instanceof el?Ja(a.elements,o.elements,Di):a instanceof jo&&o instanceof jo?Di(a.Ae,o.Ae):a instanceof zo&&o instanceof zo})(s.transform,t.transform)}class vw{constructor(t,i){this.version=t,this.transformResults=i}}class ei{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ei}static exists(t){return new ei(void 0,t)}static updateTime(t){return new ei(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Uc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class gh{}function RE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Nm(s.key,ei.none()):new Fo(s.key,s.data,ei.none());{const i=s.data,a=gn.empty();let o=new Ue(Je.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new as(s.key,a,new Rn(o.toArray()),ei.none())}}function Ew(s,t,i){s instanceof Fo?(function(o,c,d){const g=o.value.clone(),v=Av(o.fieldTransforms,c,d.transformResults);g.setAll(v),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,i):s instanceof as?(function(o,c,d){if(!Uc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Av(o.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(IE(o)),v.setAll(g),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,t,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Do(s,t,i,a){return s instanceof Fo?(function(c,d,g,v){if(!Uc(c.precondition,d))return g;const y=c.value.clone(),T=Sv(c.fieldTransforms,v,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,i,a):s instanceof as?(function(c,d,g,v){if(!Uc(c.precondition,d))return g;const y=Sv(c.fieldTransforms,v,d),T=d.data;return T.setAll(IE(c)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,t,i,a):(function(c,d,g){return Uc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,t,i)}function Tw(s,t){let i=null;for(const a of s.fieldTransforms){const o=t.data.field(a.field),c=bE(a.transform,o||null);c!=null&&(i===null&&(i=gn.empty()),i.set(a.field,c))}return i||null}function bv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Ja(a,o,((c,d)=>_w(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Fo extends gh{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class as extends gh{constructor(t,i,a,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function IE(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function Av(s,t,i){const a=new Map;Ft(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,g=t.data.field(c.field);a.set(c.field,yw(d,g,i[o]))}return a}function Sv(s,t,i){const a=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);a.set(o.field,gw(c,d,t))}return a}class Nm extends gh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bw extends gh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Aw{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&Ew(c,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Do(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Do(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=vE();return this.mutations.forEach((o=>{const c=t.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const v=RE(d,g);v!==null&&a.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(Tt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Lt())}isEqual(t){return this.batchId===t.batchId&&Ja(this.mutations,t.mutations,((i,a)=>bv(i,a)))&&Ja(this.baseMutations,t.baseMutations,((i,a)=>bv(i,a)))}}class Dm{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){Ft(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let o=(function(){return fw})();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Dm(t,i,a,o)}}class Sw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class ww{constructor(t,i){this.count=t,this.unchangedNames=i}}var De,zt;function Rw(s){switch(s){case $.OK:return gt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return gt(15467,{code:s})}}function CE(s){if(s===void 0)return rr("GRPC error has no .code"),$.UNKNOWN;switch(s){case De.OK:return $.OK;case De.CANCELLED:return $.CANCELLED;case De.UNKNOWN:return $.UNKNOWN;case De.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case De.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case De.INTERNAL:return $.INTERNAL;case De.UNAVAILABLE:return $.UNAVAILABLE;case De.UNAUTHENTICATED:return $.UNAUTHENTICATED;case De.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case De.NOT_FOUND:return $.NOT_FOUND;case De.ALREADY_EXISTS:return $.ALREADY_EXISTS;case De.PERMISSION_DENIED:return $.PERMISSION_DENIED;case De.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case De.ABORTED:return $.ABORTED;case De.OUT_OF_RANGE:return $.OUT_OF_RANGE;case De.UNIMPLEMENTED:return $.UNIMPLEMENTED;case De.DATA_LOSS:return $.DATA_LOSS;default:return gt(39323,{code:s})}}(zt=De||(De={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";function Iw(){return new TextEncoder}const Cw=new $r([4294967295,4294967295],0);function wv(s){const t=Iw().encode(s),i=new q0;return i.update(t),new Uint8Array(i.digest())}function Rv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new $r([i,a],0),new $r([o,c],0)]}class Om{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new So(`Invalid padding: ${i}`);if(a<0)throw new So(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new So(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new So(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=$r.fromNumber(this.ge)}ye(t,i,a){let o=t.add(i.multiply($r.fromNumber(a)));return o.compare(Cw)===1&&(o=new $r([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=wv(t),[a,o]=Rv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Om(c,o,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=wv(t),[a,o]=Rv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class So extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class yh{constructor(t,i,a,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,Qo.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new yh(Tt.min(),o,new de(kt),sr(),Lt())}}class Qo{constructor(t,i,a,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Qo(a,i,Lt(),Lt(),Lt())}}class Pc{constructor(t,i,a,o){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=o}}class xE{constructor(t,i){this.targetId=t,this.Ce=i}}class NE{constructor(t,i,a=Ze.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class Iv{constructor(){this.ve=0,this.Fe=Cv(),this.Me=Ze.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),i=Lt(),a=Lt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:gt(38017,{changeType:c})}})),new Qo(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=Cv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class xw{constructor(t){this.Ge=t,this.ze=new Map,this.je=sr(),this.He=Nc(),this.Je=Nc(),this.Ze=new de(kt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,a=t.Ce.count,o=this.ot(i);if(o){const c=o.target;if(nm(c))if(a===0){const d=new ft(c.path);this.et(i,d,nn.newNoDocument(d,Tt.min()))}else Ft(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),v=g?this.ct(g,t,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=es(a).toUint8Array()}catch(v){if(v instanceof tE)return $a("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new Om(d,o,c)}catch(v){return $a(v instanceof So?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&nm(g.target)){const v=new ft(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,nn.newNoDocument(v,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Lt();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const o=new yh(t,i,this.Ze,this.je,a);return this.je=sr(),this.He=Nc(),this.Je=Nc(),this.Ze=new de(kt),o}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new Iv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Ue(kt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Ue(kt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Iv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Nc(){return new de(ft.comparator)}function Cv(){return new de(ft.comparator)}const Nw={asc:"ASCENDING",desc:"DESCENDING"},Dw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ow={and:"AND",or:"OR"};class Vw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function sm(s,t){return s.useProto3Json||ch(t)?t:{value:t}}function $c(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function DE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function Mw(s,t){return $c(s,t.toTimestamp())}function Ci(s){return Ft(!!s,49232),Tt.fromTimestamp((function(i){const a=ts(i);return new le(a.seconds,a.nanos)})(s))}function Vm(s,t){return am(s,t).canonicalString()}function am(s,t){const i=(function(o){return new re(["projects",o.projectId,"databases",o.database])})(s).child("documents");return t===void 0?i:i.child(t)}function OE(s){const t=re.fromString(s);return Ft(UE(t),10190,{key:t.toString()}),t}function lm(s,t){return Vm(s.databaseId,t.path)}function Pd(s,t){const i=OE(t);if(i.get(1)!==s.databaseId.projectId)throw new rt($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new rt($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ft(ME(i))}function VE(s,t){return Vm(s.databaseId,t)}function kw(s){const t=OE(s);return t.length===4?re.emptyPath():ME(t)}function om(s){return new re(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function ME(s){return Ft(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function xv(s,t,i){return{name:lm(s,t),fields:i.value.mapValue.fields}}function Lw(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:gt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(y,T){return y.useProto3Json?(Ft(T===void 0||typeof T=="string",58123),Ze.fromBase64String(T||"")):(Ft(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Ze.fromUint8Array(T||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const T=y.code===void 0?$.UNKNOWN:CE(y.code);return new rt(T,y.message||"")})(d);i=new NE(a,o,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=Pd(s,a.document.name),c=Ci(a.document.updateTime),d=a.document.createTime?Ci(a.document.createTime):Tt.min(),g=new gn({mapValue:{fields:a.document.fields}}),v=nn.newFoundDocument(o,c,d,g),y=a.targetIds||[],T=a.removedTargetIds||[];i=new Pc(y,T,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=Pd(s,a.document),c=a.readTime?Ci(a.readTime):Tt.min(),d=nn.newNoDocument(o,c),g=a.removedTargetIds||[];i=new Pc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=Pd(s,a.document),c=a.removedTargetIds||[];i=new Pc([],c,o,null)}else{if(!("filter"in t))return gt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new ww(o,c),g=a.targetId;i=new xE(g,d)}}return i}function Uw(s,t){let i;if(t instanceof Fo)i={update:xv(s,t.key,t.value)};else if(t instanceof Nm)i={delete:lm(s,t.key)};else if(t instanceof as)i={update:xv(s,t.key,t.data),updateMask:Qw(t.fieldMask)};else{if(!(t instanceof bw))return gt(16599,{dt:t.type});i={verify:lm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof zo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof tl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof el)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof jo)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw gt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:Mw(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:gt(27497)})(s,t.precondition)),i}function Pw(s,t){return s&&s.length>0?(Ft(t!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?Ci(o.updateTime):Ci(c);return d.isEqual(Tt.min())&&(d=Ci(c)),new vw(d,o.transformResults||[])})(i,t)))):[]}function zw(s,t){return{documents:[VE(s,t.path)]}}function jw(s,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=VE(s,o);const c=(function(y){if(y.length!==0)return LE(ri.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((T=>(function(O){return{field:Ba(O.field),direction:Hw(O.dir)}})(T)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=sm(s,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:o}}function Bw(s){let t=kw(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Ft(a===1,65062);const T=i.from[0];T.allDescendants?o=T.collectionId:t=t.child(T.collectionId)}let c=[];i.where&&(c=(function(S){const O=kE(S);return O instanceof ri&&cE(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((O=>(function(Z){return new Po(qa(Z.field),(function(nt){switch(nt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(O)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let O;return O=typeof S=="object"?S.value:S,ch(O)?null:O})(i.limit));let v=null;i.startAt&&(v=(function(S){const O=!!S.before,Y=S.values||[];return new Xc(Y,O)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const O=!S.before,Y=S.values||[];return new Xc(Y,O)})(i.endAt)),sw(t,o,d,c,g,"F",v,y)}function qw(s,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function kE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=qa(i.unaryFilter.field);return Oe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=qa(i.unaryFilter.field);return Oe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=qa(i.unaryFilter.field);return Oe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=qa(i.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Oe.create(qa(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return ri.create(i.compositeFilter.filters.map((a=>kE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(s):gt(30097,{filter:s})}function Hw(s){return Nw[s]}function Gw(s){return Dw[s]}function Fw(s){return Ow[s]}function Ba(s){return{fieldPath:s.canonicalString()}}function qa(s){return Je.fromServerFormat(s.fieldPath)}function LE(s){return s instanceof Oe?(function(i){if(i.op==="=="){if(gv(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NAN"}};if(pv(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(gv(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NOT_NAN"}};if(pv(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ba(i.field),op:Gw(i.op),value:i.value}}})(s):s instanceof ri?(function(i){const a=i.getFilters().map((o=>LE(o)));return a.length===1?a[0]:{compositeFilter:{op:Fw(i.op),filters:a}}})(s):gt(54877,{filter:s})}function Qw(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function UE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function PE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class Qr{constructor(t,i,a,o,c=Tt.min(),d=Tt.min(),g=Ze.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(t){return new Qr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Yw{constructor(t){this.yt=t}}function Kw(s){const t=Bw({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?rm(t,t.limit,"L"):t}class Xw{constructor(){this.Sn=new $w}addToCollectionParentIndex(t,i){return this.Sn.add(i),J.resolve()}getCollectionParents(t,i){return J.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return J.resolve()}deleteFieldIndex(t,i){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,i){return J.resolve()}getDocumentsMatchingTarget(t,i){return J.resolve(null)}getIndexType(t,i){return J.resolve(0)}getFieldIndexes(t,i){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,i){return J.resolve(Wr.min())}getMinOffsetFromCollectionGroup(t,i){return J.resolve(Wr.min())}updateCollectionGroup(t,i,a){return J.resolve()}updateIndexEntries(t,i){return J.resolve()}}class $w{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new Ue(re.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new Ue(re.comparator)).toArray()}}const Nv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zE=41943040;class pn{static withCacheSize(t){return new pn(t,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(zE,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);class nl{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new nl(0)}static ar(){return new nl(-1)}}const Dv="LruGarbageCollector",Jw=1048576;function Ov([s,t],[i,a]){const o=kt(s,i);return o===0?kt(t,a):o}class Zw{constructor(t){this.Pr=t,this.buffer=new Ue(Ov),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Ov(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Ww{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){at(Dv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){hl(i)?at(Dv,"Ignoring IndexedDB error during garbage collection: ",i):await cl(i)}await this.Ar(3e5)}))}}class tR{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return J.resolve(uh.ce);const a=new Zw(i);return this.Vr.forEachTarget(t,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Nv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Nv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,o,c,d,g,v,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(t,o)))).next((S=>(a=S,g=Date.now(),this.removeTargets(t,a,i)))).next((S=>(c=S,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(y=Date.now(),za()<=Mt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(v-g)+`ms
	Removed ${S} documents in `+(y-v)+`ms
Total Duration: ${y-T}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function eR(s,t){return new tR(s,t)}class nR{constructor(){this.changes=new Ys((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,nn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?J.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class iR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class rR{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(a!==null&&Do(a.mutation,o,Rn.empty(),le.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Lt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Lt()){const o=Ps();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,a).next((c=>{let d=Ao();return c.forEach(((g,v)=>{d=d.insert(g,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Ps();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Lt())))}populateOverlays(t,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,o){let c=sr();const d=No(),g=(function(){return No()})();return i.forEach(((v,y)=>{const T=a.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof as)?c=c.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),Do(T.mutation,y,T.mutation.getFieldMask(),le.now())):d.set(y.key,Rn.empty())})),this.recalculateAndSaveOverlays(t,c).next((v=>(v.forEach(((y,T)=>d.set(y,T))),i.forEach(((y,T)=>g.set(y,new iR(T,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=No();let o=new de(((d,g)=>d-g)),c=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let T=a.get(v)||Rn.empty();T=g.applyToLocalView(y,T),a.set(v,T);const S=(o.get(g.batchId)||Lt()).add(v);o=o.insert(g.batchId,S)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),y=v.key,T=v.value,S=vE();T.forEach((O=>{if(!c.has(O)){const Y=RE(i.get(O),a.get(O));Y!==null&&S.set(O,Y),c=c.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,S))}return J.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,o){return aw(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):mE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-c.size):J.resolve(Ps());let g=Mo,v=c;return d.next((y=>J.forEach(y,((T,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(T)?J.resolve():this.remoteDocumentCache.getEntry(t,T).next((O=>{v=v.insert(T,O)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,v,y,Lt()))).next((T=>({batchId:g,changes:_E(T)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ft(i)).next((a=>{let o=Ao();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const c=i.collectionGroup;let d=Ao();return this.indexManager.getCollectionParents(t,c).next((g=>J.forEach(g,(v=>{const y=(function(S,O){return new fl(O,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,o).next((T=>{T.forEach(((S,O)=>{d=d.insert(S,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,o)))).next((d=>{c.forEach(((v,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,nn.newInvalidDocument(T)))}));let g=Ao();return d.forEach(((v,y)=>{const T=c.get(v);T!==void 0&&Do(T.mutation,y,Rn.empty(),le.now()),dh(i,y)&&(g=g.insert(v,y))})),g}))}}class sR{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return J.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ci(o.createTime)}})(i)),J.resolve()}getNamedQuery(t,i){return J.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:Kw(o.bundledQuery),readTime:Ci(o.readTime)}})(i)),J.resolve()}}class aR{constructor(){this.overlays=new de(ft.comparator),this.Lr=new Map}getOverlay(t,i){return J.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Ps();return J.forEach(i,(o=>this.getOverlay(t,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((o,c)=>{this.bt(t,i,c)})),J.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.Lr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),J.resolve()}getOverlaysForCollection(t,i,a){const o=Ps(),c=i.length+1,d=new ft(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>a&&o.set(v.getKey(),v)}return J.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let c=new de(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let T=c.get(y.largestBatchId);T===null&&(T=Ps(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const g=Ps(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,T)=>g.set(y,T))),!(g.size()>=o)););return J.resolve(g)}bt(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(a.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Sw(i,a));let c=this.Lr.get(i);c===void 0&&(c=Lt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class lR{constructor(){this.sessionToken=Ze.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,J.resolve()}}class Mm{constructor(){this.kr=new Ue(Be.Kr),this.qr=new Ue(Be.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new Be(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new Be(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new ft(new re([])),a=new Be(i,t),o=new Be(i,t+1),c=[];return this.qr.forEachInRange([a,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new ft(new re([])),a=new Be(i,t),o=new Be(i,t+1);let c=Lt();return this.qr.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Be(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Be{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return ft.comparator(t.key,i.key)||kt(t.Hr,i.Hr)}static Ur(t,i){return kt(t.Hr,i.Hr)||ft.comparator(t.key,i.key)}}class oR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ue(Be.Kr)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Aw(c,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Jr=this.Jr.add(new Be(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return J.resolve(d)}lookupMutationBatch(t,i){return J.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.Xr(a),c=o<0?0:o;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Am:this.Yn-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Be(i,0),o=new Be(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,o],(d=>{const g=this.Zr(d.Hr);c.push(g)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ue(kt);return i.forEach((o=>{const c=new Be(o,0),d=new Be(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{a=a.add(g.Hr)}))})),J.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let c=a;ft.isDocumentKey(c)||(c=c.child(""));const d=new Be(new ft(c),0);let g=new Ue(kt);return this.Jr.forEachWhile((v=>{const y=v.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(g=g.add(v.Hr)),!0)}),d),J.resolve(this.Yr(g))}Yr(t){const i=[];return t.forEach((a=>{const o=this.Zr(a);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Ft(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return J.forEach(i.mutations,(o=>{const c=new Be(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new Be(i,0),o=this.Jr.firstAfterOrEqual(a);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class uR{constructor(t){this.ti=t,this.docs=(function(){return new de(ft.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return J.resolve(a?a.document.mutableCopy():nn.newInvalidDocument(i))}getEntries(t,i){let a=sr();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():nn.newInvalidDocument(o))})),J.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let c=sr();const d=i.path,g=new ft(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:y,value:{document:T}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||L1(k1(T),a)<=0||(o.has(T.key)||dh(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(t,i,a,o){gt(9500)}ni(t,i){return J.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new cR(this)}getSize(t){return J.resolve(this.size)}}class cR extends nR{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(a)})),J.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class hR{constructor(t){this.persistence=t,this.ri=new Ys((i=>Rm(i)),Im),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.ii=0,this.si=new Mm,this.targetCount=0,this.oi=nl._r()}forEachTarget(t,i){return this.ri.forEach(((a,o)=>i(o))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),J.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new nl(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,J.resolve()}updateTargetData(t,i){return this.lr(i),J.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,i,a){let o=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)})),J.waitFor(c).next((()=>o))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return J.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),J.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(t,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),J.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return J.resolve(a)}containsKey(t,i){return J.resolve(this.si.containsKey(i))}}class jE{constructor(t,i){this._i={},this.overlays={},this.ai=new uh(0),this.ui=!1,this.ui=!0,this.ci=new lR,this.referenceDelegate=t(this),this.li=new hR(this),this.indexManager=new Xw,this.remoteDocumentCache=(function(o){return new uR(o)})((a=>this.referenceDelegate.hi(a))),this.serializer=new Yw(i),this.Pi=new sR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new aR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new oR(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){at("MemoryPersistence","Starting transaction:",t);const o=new fR(this.ai.next());return this.referenceDelegate.Ti(),a(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(t,i){return J.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class fR extends P1{constructor(t){super(),this.currentSequenceNumber=t}}class km{constructor(t){this.persistence=t,this.Ri=new Mm,this.Ai=null}static Vi(t){return new km(t)}get di(){if(this.Ai)return this.Ai;throw gt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),J.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),J.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),J.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,(a=>{const o=ft.fromPath(a);return this.mi(t,o).next((c=>{c||i.removeEntry(o,Tt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class Jc{constructor(t,i){this.persistence=t,this.fi=new Ys((a=>B1(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=eR(this,i)}static Vi(t,i){return new Jc(t,i)}Ti(){}Ii(t){return J.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((o=>a+o))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return J.forEach(this.fi,((a,o)=>this.wr(t,a,o).next((c=>c?J.resolve():i(o)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(t,(d=>this.wr(t,d,i).next((g=>{g||(a++,c.removeEntry(d,Tt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),J.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),J.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),J.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=kc(t.data.value)),i}wr(t,i,a){return J.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.fi.get(i);return J.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Lm{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=o}static Es(t,i){let a=Lt(),o=Lt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Lm(t,i.fromCache,a,o)}}class dR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class mR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return nS()?8:z1(rn())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,o){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new dR;return this.ys(t,i,d).next((g=>{if(c.result=g,this.As)return this.ws(t,i,d,g.size)}))})).next((()=>c.result))}ws(t,i,a,o){return a.documentReadCount<this.Vs?(za()<=Mt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",ja(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(za()<=Mt.DEBUG&&at("QueryEngine","Query:",ja(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(za()<=Mt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",ja(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ii(i))):J.resolve())}gs(t,i){if(Ev(i))return J.resolve(null);let a=Ii(i);return this.indexManager.getIndexType(t,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=rm(i,null,"F"),a=Ii(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Lt(...c);return this.fs.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((v=>{const y=this.bs(i,g);return this.Ss(i,y,d,v.readTime)?this.gs(t,rm(i,null,"F")):this.Ds(t,y,i,v)}))))})))))}ps(t,i,a,o){return Ev(i)||o.isEqual(Tt.min())?J.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,o)?J.resolve(null):(za()<=Mt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ja(i)),this.Ds(t,d,i,M1(o,Mo)).next((g=>g)))}))}bs(t,i){let a=new Ue(gE(t));return i.forEach(((o,c)=>{dh(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(t,i,a){return za()<=Mt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",ja(i)),this.fs.getDocumentsMatchingQuery(t,i,Wr.min(),a)}Ds(t,i,a,o){return this.fs.getDocumentsMatchingQuery(t,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Um="LocalStore",pR=3e8;class gR{constructor(t,i,a,o){this.persistence=t,this.Cs=i,this.serializer=o,this.vs=new de(kt),this.Fs=new Ys((c=>Rm(c)),Im),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new rR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function yR(s,t,i,a){return new gR(s,t,i,a)}async function BE(s,t){const i=At(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let v=Lt();for(const y of o){d.push(y.batchId);for(const T of y.mutations)v=v.add(T.key)}for(const y of c){g.push(y.batchId);for(const T of y.mutations)v=v.add(T.key)}return i.localDocuments.getDocuments(a,v).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function _R(s,t){const i=At(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,v,y,T){const S=y.batch,O=S.keys();let Y=J.resolve();return O.forEach((Z=>{Y=Y.next((()=>T.getEntry(v,Z))).next((it=>{const nt=y.docVersions.get(Z);Ft(nt!==null,48541),it.version.compareTo(nt)<0&&(S.applyToRemoteDocument(it,y),it.isValidDocument()&&(it.setReadTime(y.commitVersion),T.addEntry(it)))}))})),Y.next((()=>g.mutationQueue.removeMutationBatch(v,S)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let v=Lt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(v=v.add(g.batch.mutations[y].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function qE(s){const t=At(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function vR(s,t){const i=At(s),a=t.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const g=[];t.targetChanges.forEach(((T,S)=>{const O=o.get(S);if(!O)return;g.push(i.li.removeMatchingKeys(c,T.removedDocuments,S).next((()=>i.li.addMatchingKeys(c,T.addedDocuments,S))));let Y=O.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?Y=Y.withResumeToken(Ze.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):T.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(T.resumeToken,a)),o=o.insert(S,Y),(function(it,nt,pt){return it.resumeToken.approximateByteSize()===0||nt.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=pR?!0:pt.addedDocuments.size+pt.modifiedDocuments.size+pt.removedDocuments.size>0})(O,Y,T)&&g.push(i.li.updateTargetData(c,Y))}));let v=sr(),y=Lt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),g.push(ER(c,d,t.documentUpdates).next((T=>{v=T.Bs,y=T.Ls}))),!a.isEqual(Tt.min())){const T=i.li.getLastRemoteSnapshotVersion(c).next((S=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(T)}return J.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,y))).next((()=>v))})).then((c=>(i.vs=o,c)))}function ER(s,t,i){let a=Lt(),o=Lt();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=sr();return i.forEach(((g,v)=>{const y=c.get(g);v.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),v.isNoDocument()&&v.version.isEqual(Tt.min())?(t.removeEntry(g,v.readTime),d=d.insert(g,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(v),d=d.insert(g,v)):at(Um,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",v.version)})),{Bs:d,Ls:o}}))}function TR(s,t){const i=At(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Am),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function bR(s,t){const i=At(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.li.getTargetData(a,t).next((c=>c?(o=c,J.resolve(o)):i.li.allocateTargetId(a).next((d=>(o=new Qr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.vs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function um(s,t,i){const a=At(s),o=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!hl(d))throw d;at(Um,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(o.target)}function Vv(s,t,i){const a=At(s);let o=Tt.min(),c=Lt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,T){const S=At(v),O=S.Fs.get(T);return O!==void 0?J.resolve(S.vs.get(O)):S.li.getTargetData(y,T)})(a,d,Ii(t)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,g.targetId).next((v=>{c=v}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?o:Tt.min(),i?c:Lt()))).next((g=>(AR(a,uw(t),g),{documents:g,ks:c})))))}function AR(s,t,i){let a=s.Ms.get(t)||Tt.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(t,a)}class Mv{constructor(){this.activeTargetIds=pw()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class SR{constructor(){this.vo=new Mv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Mv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class wR{Mo(t){}shutdown(){}}const kv="ConnectivityMonitor";class Lv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){at(kv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){at(kv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Dc=null;function cm(){return Dc===null?Dc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dc++,"0x"+Dc.toString(16)}const zd="RestConnection",RR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class IR{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${o}`,this.$o=this.databaseId.database===Yc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(t,i,a,o,c){const d=cm(),g=this.Qo(t,i.toUriEncodedString());at(zd,`Sending RPC '${t}' ${d}:`,g,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,o,c);const{host:y}=new URL(g),T=ll(y);return this.zo(t,g,v,a,T).then((S=>(at(zd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw $a(zd,`RPC '${t}' ${d} failed with error: `,S,"url: ",g,"request:",a),S}))}jo(t,i,a,o,c,d){return this.Wo(t,i,a,o,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ul})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>t[c]=o)),a&&a.headers.forEach(((o,c)=>t[c]=o))}Qo(t,i){const a=RR[t];let o=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class CR{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const tn="WebChannelConnection",To=(s,t,i)=>{s.listen(t,(a=>{try{i(a)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Ha extends IR{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Ha.c_){const t=Q0();To(t,F0.STAT_EVENT,(i=>{i.stat===Jd.PROXY?at(tn,"STAT_EVENT: detected buffering proxy"):i.stat===Jd.NOPROXY&&at(tn,"STAT_EVENT: detected no buffering proxy")})),Ha.c_=!0}}zo(t,i,a,o,c){const d=cm();return new Promise(((g,v)=>{const y=new H0;y.setWithCredentials(!0),y.listenOnce(G0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Mc.NO_ERROR:const S=y.getResponseJson();at(tn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),g(S);break;case Mc.TIMEOUT:at(tn,`RPC '${t}' ${d} timed out`),v(new rt($.DEADLINE_EXCEEDED,"Request time out"));break;case Mc.HTTP_ERROR:const O=y.getStatus();if(at(tn,`RPC '${t}' ${d} failed with status:`,O,"response text:",y.getResponseText()),O>0){let Y=y.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const Z=Y?.error;if(Z&&Z.status&&Z.message){const it=(function(pt){const vt=pt.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(vt)>=0?vt:$.UNKNOWN})(Z.status);v(new rt(it,Z.message))}else v(new rt($.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new rt($.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{at(tn,`RPC '${t}' ${d} completed.`)}}));const T=JSON.stringify(o);at(tn,`RPC '${t}' ${d} sending request:`,o),y.send(i,"POST",T,a,15)}))}T_(t,i,a){const o=cm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,a),g.encodeInitMessageHeaders=!0;const y=c.join("");at(tn,`Creating RPC '${t}' stream ${o}: ${y}`,g);const T=d.createWebChannel(y,g);this.I_(T);let S=!1,O=!1;const Y=new CR({Ho:Z=>{O?at(tn,`Not sending because RPC '${t}' stream ${o} is closed:`,Z):(S||(at(tn,`Opening RPC '${t}' stream ${o} transport.`),T.open(),S=!0),at(tn,`RPC '${t}' stream ${o} sending:`,Z),T.send(Z))},Jo:()=>T.close()});return To(T,bo.EventType.OPEN,(()=>{O||(at(tn,`RPC '${t}' stream ${o} transport opened.`),Y.i_())})),To(T,bo.EventType.CLOSE,(()=>{O||(O=!0,at(tn,`RPC '${t}' stream ${o} transport closed`),Y.o_(),this.E_(T))})),To(T,bo.EventType.ERROR,(Z=>{O||(O=!0,$a(tn,`RPC '${t}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),Y.o_(new rt($.UNAVAILABLE,"The operation could not be completed")))})),To(T,bo.EventType.MESSAGE,(Z=>{if(!O){const it=Z.data[0];Ft(!!it,16349);const nt=it,pt=nt?.error||nt[0]?.error;if(pt){at(tn,`RPC '${t}' stream ${o} received error:`,pt);const vt=pt.status;let Et=(function(ot){const C=De[ot];if(C!==void 0)return CE(C)})(vt),Qt=pt.message;Et===void 0&&(Et=$.INTERNAL,Qt="Unknown error status: "+vt+" with message "+pt.message),O=!0,Y.o_(new rt(Et,Qt)),T.close()}else at(tn,`RPC '${t}' stream ${o} received:`,it),Y.__(it)}})),Ha.u_(),setTimeout((()=>{Y.s_()}),0),Y}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Y0()}}function xR(s){return new Ha(s)}function jd(){return typeof document<"u"?document:null}function _h(s){return new Vw(s,!0)}Ha.c_=!1;class HE{constructor(t,i,a=1e3,o=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&at("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Uv="PersistentStream";class GE{constructor(t,i,a,o,c,d,g,v){this.Ci=t,this.b_=a,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new HE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(rr(i.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{t((()=>{const o=new rt($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(Uv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(at(Uv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class NR extends GE{constructor(t,i,a,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Lw(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Tt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?Ci(d.readTime):Tt.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=om(this.serializer),i.addTarget=(function(c,d){let g;const v=d.target;if(g=nm(v)?{documents:zw(c,v)}:{query:jw(c,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=DE(c,d.resumeToken);const y=sm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(Tt.min())>0){g.readTime=$c(c,d.snapshotVersion.toTimestamp());const y=sm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const a=qw(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=om(this.serializer),i.removeTarget=t,this.K_(i)}}class DR extends GE{constructor(t,i,a,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Pw(t.writeResults,t.commitTime),a=Ci(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=om(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>Uw(this.serializer,a)))};this.K_(i)}}class OR{}class VR extends OR{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new rt($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,am(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new rt($.UNKNOWN,c.toString())}))}jo(t,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(t,am(i,a),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function MR(s,t,i,a){return new VR(s,t,i,a)}class kR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(rr(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Fs="RemoteStore";class LR{constructor(t,i,a,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{Ks(this)&&(at(Fs,"Restarting streams for network reachability change."),await(async function(v){const y=At(v);y.Ea.add(4),await Yo(y),y.Va.set("Unknown"),y.Ea.delete(4),await vh(y)})(this))}))})),this.Va=new kR(a,o)}}async function vh(s){if(Ks(s))for(const t of s.Ra)await t(!0)}async function Yo(s){for(const t of s.Ra)await t(!1)}function FE(s,t){const i=At(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Bm(i)?jm(i):dl(i).O_()&&zm(i,t))}function Pm(s,t){const i=At(s),a=dl(i);i.Ia.delete(t),a.O_()&&QE(i,t),i.Ia.size===0&&(a.O_()?a.L_():Ks(i)&&i.Va.set("Unknown"))}function zm(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}dl(s).Z_(t)}function QE(s,t){s.da.$e(t),dl(s).X_(t)}function jm(s){s.da=new xw({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),dl(s).start(),s.Va.ua()}function Bm(s){return Ks(s)&&!dl(s).x_()&&s.Ia.size>0}function Ks(s){return At(s).Ea.size===0}function YE(s){s.da=void 0}async function UR(s){s.Va.set("Online")}async function PR(s){s.Ia.forEach(((t,i)=>{zm(s,t)}))}async function zR(s,t){YE(s),Bm(s)?(s.Va.ha(t),jm(s)):s.Va.set("Unknown")}async function jR(s,t,i){if(s.Va.set("Online"),t instanceof NE&&t.state===2&&t.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.da.removeTarget(g))})(s,t)}catch(a){at(Fs,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Zc(s,a)}else if(t instanceof Pc?s.da.Xe(t):t instanceof xE?s.da.st(t):s.da.tt(t),!i.isEqual(Tt.min()))try{const a=await qE(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const T=c.Ia.get(y);T&&c.Ia.set(y,T.withResumeToken(v.resumeToken,d))}})),g.targetMismatches.forEach(((v,y)=>{const T=c.Ia.get(v);if(!T)return;c.Ia.set(v,T.withResumeToken(Ze.EMPTY_BYTE_STRING,T.snapshotVersion)),QE(c,v);const S=new Qr(T.target,v,y,T.sequenceNumber);zm(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){at(Fs,"Failed to raise snapshot:",a),await Zc(s,a)}}async function Zc(s,t,i){if(!hl(t))throw t;s.Ea.add(1),await Yo(s),s.Va.set("Offline"),i||(i=()=>qE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{at(Fs,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await vh(s)}))}function KE(s,t){return t().catch((i=>Zc(s,i,t)))}async function Eh(s){const t=At(s),i=is(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Am;for(;BR(t);)try{const o=await TR(t.localStore,a);if(o===null){t.Ta.length===0&&i.L_();break}a=o.batchId,qR(t,o)}catch(o){await Zc(t,o)}XE(t)&&$E(t)}function BR(s){return Ks(s)&&s.Ta.length<10}function qR(s,t){s.Ta.push(t);const i=is(s);i.O_()&&i.Y_&&i.ea(t.mutations)}function XE(s){return Ks(s)&&!is(s).x_()&&s.Ta.length>0}function $E(s){is(s).start()}async function HR(s){is(s).ra()}async function GR(s){const t=is(s);for(const i of s.Ta)t.ea(i.mutations)}async function FR(s,t,i){const a=s.Ta.shift(),o=Dm.from(a,t,i);await KE(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Eh(s)}async function QR(s,t){t&&is(s).Y_&&await(async function(a,o){if((function(d){return Rw(d)&&d!==$.ABORTED})(o.code)){const c=a.Ta.shift();is(a).B_(),await KE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Eh(a)}})(s,t),XE(s)&&$E(s)}async function Pv(s,t){const i=At(s);i.asyncQueue.verifyOperationInProgress(),at(Fs,"RemoteStore received new credentials");const a=Ks(i);i.Ea.add(3),await Yo(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await vh(i)}async function YR(s,t){const i=At(s);t?(i.Ea.delete(2),await vh(i)):t||(i.Ea.add(2),await Yo(i),i.Va.set("Unknown"))}function dl(s){return s.ma||(s.ma=(function(i,a,o){const c=At(i);return c.sa(),new NR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:UR.bind(null,s),Yo:PR.bind(null,s),t_:zR.bind(null,s),J_:jR.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),Bm(s)?jm(s):s.Va.set("Unknown")):(await s.ma.stop(),YE(s))}))),s.ma}function is(s){return s.fa||(s.fa=(function(i,a,o){const c=At(i);return c.sa(),new DR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:HR.bind(null,s),t_:QR.bind(null,s),ta:GR.bind(null,s),na:FR.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await Eh(s)):(await s.fa.stop(),s.Ta.length>0&&(at(Fs,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class qm{constructor(t,i,a,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,c){const d=Date.now()+a,g=new qm(t,i,d,o,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hm(s,t){if(rr("AsyncQueue",`${t}: ${s}`),hl(s))return new rt($.UNAVAILABLE,`${t}: ${s}`);throw s}class Ga{static emptySet(t){return new Ga(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ft.comparator(i.key,a.key):(i,a)=>ft.comparator(i.key,a.key),this.keyedMap=Ao(),this.sortedSet=new de(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ga)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ga;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class zv{constructor(){this.ga=new de(ft.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):gt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class il{constructor(t,i,a,o,c,d,g,v,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new il(t,i,Ga.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&fh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class KR{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class XR{constructor(){this.queries=jv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=At(i),c=o.queries;o.queries=jv(),c.forEach(((d,g)=>{for(const v of g.ba)v.onError(a)}))})(this,new rt($.ABORTED,"Firestore shutting down"))}}function jv(){return new Ys((s=>pE(s)),fh)}async function $R(s,t){const i=At(s);let a=3;const o=t.query;let c=i.queries.get(o);c?!c.Sa()&&t.Da()&&(a=2):(c=new KR,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Hm(d,`Initialization of query '${ja(t.query)}' failed`);return void t.onError(g)}i.queries.set(o,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Gm(i)}async function JR(s,t){const i=At(s),a=t.query;let o=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=t.Da()?0:1:!c.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function ZR(s,t){const i=At(s);let a=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.ba)g.Fa(o)&&(a=!0);d.wa=o}}a&&Gm(i)}function WR(s,t,i){const a=At(s),o=a.queries.get(t);if(o)for(const c of o.ba)c.onError(i);a.queries.delete(t)}function Gm(s){s.Ca.forEach((t=>{t.next()}))}var hm,Bv;(Bv=hm||(hm={})).Ma="default",Bv.Cache="cache";class t2{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new il(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=il.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==hm.Cache}}class JE{constructor(t){this.key=t}}class ZE{constructor(t){this.key=t}}class e2{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Lt(),this.mutatedKeys=Lt(),this.eu=gE(t),this.tu=new Ga(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new zv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((T,S)=>{const O=o.get(T),Y=dh(this.query,S)?S:null,Z=!!O&&this.mutatedKeys.has(O.key),it=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let nt=!1;O&&Y?O.data.isEqual(Y.data)?Z!==it&&(a.track({type:3,doc:Y}),nt=!0):this.su(O,Y)||(a.track({type:2,doc:Y}),nt=!0,(v&&this.eu(Y,v)>0||y&&this.eu(Y,y)<0)&&(g=!0)):!O&&Y?(a.track({type:0,doc:Y}),nt=!0):O&&!Y&&(a.track({type:1,doc:O}),nt=!0,(v||y)&&(g=!0)),nt&&(Y?(d=d.add(Y),c=it?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),a.track({type:1,doc:T})}return{tu:d,iu:a,Ss:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((T,S)=>(function(Y,Z){const it=nt=>{switch(nt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Vt:nt})}};return it(Y)-it(Z)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],v=this.Ya.size===0&&this.current&&!o?1:0,y=v!==this.Xa;return this.Xa=v,d.length!==0||y?{snapshot:new il(this.query,t.tu,c,d,t.mutatedKeys,v===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new zv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Lt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new ZE(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new JE(a))})),i}cu(t){this.Za=t.ks,this.Ya=Lt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return il.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Fm="SyncEngine";class n2{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class i2{constructor(t){this.key=t,this.hu=!1}}class r2{constructor(t,i,a,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ys((g=>pE(g)),fh),this.Iu=new Map,this.Eu=new Set,this.Ru=new de(ft.comparator),this.Au=new Map,this.Vu=new Mm,this.du={},this.mu=new Map,this.fu=nl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function s2(s,t,i=!0){const a=rT(s);let o;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await WE(a,t,i,!0),o}async function a2(s,t){const i=rT(s);await WE(i,t,!0,!1)}async function WE(s,t,i,a){const o=await bR(s.localStore,Ii(t)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await l2(s,t,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&FE(s.remoteStore,o),g}async function l2(s,t,i,a,o){s.pu=(S,O,Y)=>(async function(it,nt,pt,vt){let Et=nt.view.ru(pt);Et.Ss&&(Et=await Vv(it.localStore,nt.query,!1).then((({documents:C})=>nt.view.ru(C,Et))));const Qt=vt&&vt.targetChanges.get(nt.targetId),oe=vt&&vt.targetMismatches.get(nt.targetId)!=null,ot=nt.view.applyChanges(Et,it.isPrimaryClient,Qt,oe);return Hv(it,nt.targetId,ot.au),ot.snapshot})(s,S,O,Y);const c=await Vv(s.localStore,t,!0),d=new e2(t,c.ks),g=d.ru(c.documents),v=Qo.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),y=d.applyChanges(g,s.isPrimaryClient,v);Hv(s,i,y.au);const T=new n2(t,i,d);return s.Tu.set(t,T),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),y.snapshot}async function o2(s,t,i){const a=At(s),o=a.Tu.get(t),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!fh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await um(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Pm(a.remoteStore,o.targetId),fm(a,o.targetId)})).catch(cl)):(fm(a,o.targetId),await um(a.localStore,o.targetId,!0))}async function u2(s,t){const i=At(s),a=i.Tu.get(t),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Pm(i.remoteStore,a.targetId))}async function c2(s,t,i){const a=y2(s);try{const o=await(function(d,g){const v=At(d),y=le.now(),T=g.reduce(((Y,Z)=>Y.add(Z.key)),Lt());let S,O;return v.persistence.runTransaction("Locally write mutations","readwrite",(Y=>{let Z=sr(),it=Lt();return v.xs.getEntries(Y,T).next((nt=>{Z=nt,Z.forEach(((pt,vt)=>{vt.isValidDocument()||(it=it.add(pt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(Y,Z))).next((nt=>{S=nt;const pt=[];for(const vt of g){const Et=Tw(vt,S.get(vt.key).overlayedDocument);Et!=null&&pt.push(new as(vt.key,Et,lE(Et.value.mapValue),ei.exists(!0)))}return v.mutationQueue.addMutationBatch(Y,y,pt,g)})).next((nt=>{O=nt;const pt=nt.applyToLocalDocumentSet(S,it);return v.documentOverlayCache.saveOverlays(Y,nt.batchId,pt)}))})).then((()=>({batchId:O.batchId,changes:_E(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,v){let y=d.du[d.currentUser.toKey()];y||(y=new de(kt)),y=y.insert(g,v),d.du[d.currentUser.toKey()]=y})(a,o.batchId,i),await Ko(a,o.changes),await Eh(a.remoteStore)}catch(o){const c=Hm(o,"Failed to persist write");i.reject(c)}}async function tT(s,t){const i=At(s);try{const a=await vR(i.localStore,t);t.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ft(d.hu,14607):o.removedDocuments.size>0&&(Ft(d.hu,42227),d.hu=!1))})),await Ko(i,a,t)}catch(a){await cl(a)}}function qv(s,t,i){const a=At(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const v=At(d);v.onlineState=g;let y=!1;v.queries.forEach(((T,S)=>{for(const O of S.ba)O.va(g)&&(y=!0)})),y&&Gm(v)})(a.eventManager,t),o.length&&a.Pu.J_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function h2(s,t,i){const a=At(s);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a.Au.get(t),c=o&&o.key;if(c){let d=new de(ft.comparator);d=d.insert(c,nn.newNoDocument(c,Tt.min()));const g=Lt().add(c),v=new yh(Tt.min(),new Map,new de(kt),d,g);await tT(a,v),a.Ru=a.Ru.remove(c),a.Au.delete(t),Qm(a)}else await um(a.localStore,t,!1).then((()=>fm(a,t,i))).catch(cl)}async function f2(s,t){const i=At(s),a=t.batch.batchId;try{const o=await _R(i.localStore,t);nT(i,a,null),eT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Ko(i,o)}catch(o){await cl(o)}}async function d2(s,t,i){const a=At(s);try{const o=await(function(d,g){const v=At(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return v.mutationQueue.lookupMutationBatch(y,g).next((S=>(Ft(S!==null,37113),T=S.keys(),v.mutationQueue.removeMutationBatch(y,S)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,T,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>v.localDocuments.getDocuments(y,T)))}))})(a.localStore,t);nT(a,t,i),eT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Ko(a,o)}catch(o){await cl(o)}}function eT(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function nT(s,t,i){const a=At(s);let o=a.du[a.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),a.du[a.currentUser.toKey()]=o}}function fm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((a=>{s.Vu.containsKey(a)||iT(s,a)}))}function iT(s,t){s.Eu.delete(t.path.canonicalString());const i=s.Ru.get(t);i!==null&&(Pm(s.remoteStore,i),s.Ru=s.Ru.remove(t),s.Au.delete(i),Qm(s))}function Hv(s,t,i){for(const a of i)a instanceof JE?(s.Vu.addReference(a.key,t),m2(s,a)):a instanceof ZE?(at(Fm,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,t),s.Vu.containsKey(a.key)||iT(s,a.key)):gt(19791,{wu:a})}function m2(s,t){const i=t.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(at(Fm,"New document in limbo: "+i),s.Eu.add(a),Qm(s))}function Qm(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new ft(re.fromString(t)),a=s.fu.next();s.Au.set(a,new i2(i)),s.Ru=s.Ru.insert(i,a),FE(s.remoteStore,new Qr(Ii(Cm(i.path)),a,"TargetPurposeLimboResolution",uh.ce))}}async function Ko(s,t,i){const a=At(s),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,v)=>{d.push(a.pu(v,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const T=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,T?"current":"not-current")}if(y){o.push(y);const T=Lm.Es(v.targetId,y);c.push(T)}})))})),await Promise.all(d),a.Pu.J_(o),await(async function(v,y){const T=At(v);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>J.forEach(y,(O=>J.forEach(O.Ts,(Y=>T.persistence.referenceDelegate.addReference(S,O.targetId,Y))).next((()=>J.forEach(O.Is,(Y=>T.persistence.referenceDelegate.removeReference(S,O.targetId,Y)))))))))}catch(S){if(!hl(S))throw S;at(Um,"Failed to update sequence numbers: "+S)}for(const S of y){const O=S.targetId;if(!S.fromCache){const Y=T.vs.get(O),Z=Y.snapshotVersion,it=Y.withLastLimboFreeSnapshotVersion(Z);T.vs=T.vs.insert(O,it)}}})(a.localStore,c))}async function p2(s,t){const i=At(s);if(!i.currentUser.isEqual(t)){at(Fm,"User change. New user:",t.toKey());const a=await BE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((v=>{v.reject(new rt($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Ko(i,a.Ns)}}function g2(s,t){const i=At(s),a=i.Au.get(t);if(a&&a.hu)return Lt().add(a.key);{let o=Lt();const c=i.Iu.get(t);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function rT(s){const t=At(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=tT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=g2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=h2.bind(null,t),t.Pu.J_=ZR.bind(null,t.eventManager),t.Pu.yu=WR.bind(null,t.eventManager),t}function y2(s){const t=At(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=f2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=d2.bind(null,t),t}class Wc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=_h(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return yR(this.persistence,new mR,t.initialUser,this.serializer)}Cu(t){return new jE(km.Vi,this.serializer)}Du(t){return new SR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wc.provider={build:()=>new Wc};class _2 extends Wc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ft(this.persistence.referenceDelegate instanceof Jc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Ww(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new jE((a=>Jc.Vi(a,i)),this.serializer)}}class dm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>qv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=p2.bind(null,this.syncEngine),await YR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new XR})()}createDatastore(t){const i=_h(t.databaseInfo.databaseId),a=xR(t.databaseInfo);return MR(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,o,c,d,g){return new LR(a,o,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>qv(this.syncEngine,i,0)),(function(){return Lv.v()?new Lv:new wR})())}createSyncEngine(t,i){return(function(o,c,d,g,v,y,T){const S=new r2(o,c,d,g,v,y);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=At(i);at(Fs,"RemoteStore shutting down."),a.Ea.add(5),await Yo(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}dm.provider={build:()=>new dm};class v2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):rr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const rs="FirestoreClient";class E2{constructor(t,i,a,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=bm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{at(rs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(at(rs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new js;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Hm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Bd(s,t){s.asyncQueue.verifyOperationInProgress(),at(rs,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await BE(t.localStore,o),a=o)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function Gv(s,t){s.asyncQueue.verifyOperationInProgress();const i=await T2(s);at(rs,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>Pv(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>Pv(t.remoteStore,o))),s._onlineComponents=t}async function T2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){at(rs,"Using user provided OfflineComponentProvider");try{await Bd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;$a("Error using user provided cache. Falling back to memory cache: "+i),await Bd(s,new Wc)}}else at(rs,"Using default OfflineComponentProvider"),await Bd(s,new _2(void 0));return s._offlineComponents}async function sT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(at(rs,"Using user provided OnlineComponentProvider"),await Gv(s,s._uninitializedComponentsProvider._online)):(at(rs,"Using default OnlineComponentProvider"),await Gv(s,new dm))),s._onlineComponents}function b2(s){return sT(s).then((t=>t.syncEngine))}async function Fv(s){const t=await sT(s),i=t.eventManager;return i.onListen=s2.bind(null,t.syncEngine),i.onUnlisten=o2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=a2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=u2.bind(null,t.syncEngine),i}function A2(s,t,i,a){const o=new v2(a),c=new t2(t,o,i);return s.asyncQueue.enqueueAndForget((async()=>$R(await Fv(s),c))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>JR(await Fv(s),c)))}}function S2(s,t){const i=new js;return s.asyncQueue.enqueueAndForget((async()=>c2(await b2(s),t,i))),i.promise}function aT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const w2="ComponentProvider",Qv=new Map;function R2(s,t,i,a,o){return new G1(s,t,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,aT(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,a)}const lT="firestore.googleapis.com",Yv=!0;class Kv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new rt($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lT,this.ssl=Yv}else this.host=t.host,this.ssl=t.ssl??Yv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=zE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Jw)throw new rt($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}V1("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new rt($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new rt($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new rt($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Th{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new rt($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new A1;switch(a.type){case"firstParty":return new I1(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new rt($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Qv.get(i);a&&(at(w2,"Removing Datastore"),Qv.delete(i),a.terminate())})(this),Promise.resolve()}}function I2(s,t,i,a={}){s=Jr(s,Th);const o=ll(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${i}`;o&&(M0(`https://${g}`),k0("Firestore",!0)),c.host!==lT&&c.host!==g&&$a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:g,ssl:o,emulatorOptions:a};if(!nr(v,d)&&(s._setSettings(v),a.mockUserToken)){let y,T;if(typeof a.mockUserToken=="string")y=a.mockUserToken,T=en.MOCK_USER;else{y=YA(a.mockUserToken,s._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new rt($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new en(S)}s._authCredentials=new S1(new X0(y,T))}}class Xs{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Xs(this.firestore,t,this._query)}}class Me{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Me(this.firestore,t,this._key)}toJSON(){return{type:Me._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Go(i,Me._jsonSchema))return new Me(t,a||null,new ft(re.fromString(i.referencePath)))}}Me._jsonSchemaVersion="firestore/documentReference/1.0",Me._jsonSchema={type:Ve("string",Me._jsonSchemaVersion),referencePath:Ve("string")};class Zr extends Xs{constructor(t,i,a){super(t,i,Cm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Me(this.firestore,null,new ft(t))}withConverter(t){return new Zr(this.firestore,t,this._path)}}function Oc(s,t,...i){if(s=qe(s),$0("collection","path",t),s instanceof Th){const a=re.fromString(t,...i);return av(a),new Zr(s,null,a)}{if(!(s instanceof Me||s instanceof Zr))throw new rt($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(re.fromString(t,...i));return av(a),new Zr(s.firestore,null,a)}}function wo(s,t,...i){if(s=qe(s),arguments.length===1&&(t=bm.newId()),$0("doc","path",t),s instanceof Th){const a=re.fromString(t,...i);return sv(a),new Me(s,null,new ft(a))}{if(!(s instanceof Me||s instanceof Zr))throw new rt($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(re.fromString(t,...i));return sv(a),new Me(s.firestore,s instanceof Zr?s.converter:null,new ft(a))}}const Xv="AsyncQueue";class $v{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new HE(this,"async_queue_retry"),this._c=()=>{const a=jd();a&&at(Xv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=jd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=jd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new js;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!hl(t))throw t;at(Xv,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,rr("INTERNAL UNHANDLED ERROR: ",Jv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=qm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&gt(47125,{Pc:Jv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Jv(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class rl extends Th{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new $v,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new $v(t),this._firestoreClient=void 0,await t}}}function C2(s,t){const i=typeof s=="object"?s:z0(),a=typeof s=="string"?s:Yc,o=Em(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=FA("firestore");c&&I2(o,...c)}return o}function oT(s){if(s._terminated)throw new rt($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||x2(s),s._firestoreClient}function x2(s){const t=s._freezeSettings(),i=R2(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new E2(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class jn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new jn(Ze.fromBase64String(t))}catch(i){throw new rt($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new jn(Ze.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Go(t,jn._jsonSchema))return jn.fromBase64String(t.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:Ve("string",jn._jsonSchemaVersion),bytes:Ve("string")};class Ym{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new rt($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class $s{constructor(t){this._methodName=t}}class xi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new rt($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new rt($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xi._jsonSchemaVersion}}static fromJSON(t){if(Go(t,xi._jsonSchema))return new xi(t.latitude,t.longitude)}}xi._jsonSchemaVersion="firestore/geoPoint/1.0",xi._jsonSchema={type:Ve("string",xi._jsonSchemaVersion),latitude:Ve("number"),longitude:Ve("number")};class ni{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Go(t,ni._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ni(t.vectorValues);throw new rt($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ni._jsonSchemaVersion="firestore/vectorValue/1.0",ni._jsonSchema={type:Ve("string",ni._jsonSchemaVersion),vectorValues:Ve("object")};const N2=/^__.*__$/;class D2{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new as(t,this.data,this.fieldMask,i,this.fieldTransforms):new Fo(t,this.data,i,this.fieldTransforms)}}class uT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new as(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function cT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{dataSource:s})}}class bh{constructor(t,i,a,o,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new bh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return th(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(cT(this.dataSource)&&N2.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class O2{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||_h(t)}createContext(t,i,a,o=!1){return new bh({dataSource:t,methodName:i,targetDoc:a,path:Je.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Km(s){const t=s._freezeSettings(),i=_h(s._databaseId);return new O2(s._databaseId,!!t.ignoreUndefinedProperties,i)}function V2(s,t,i,a,o,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,t,i,o);Wm("Data must be an object, but it was:",d,a);const g=fT(a,d);let v,y;if(c.merge)v=new Rn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const S of c.mergeFields){const O=sl(t,S,i);if(!d.contains(O))throw new rt($.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);pT(T,O)||T.push(O)}v=new Rn(T),y=d.fieldTransforms.filter((S=>v.covers(S.field)))}else v=null,y=d.fieldTransforms;return new D2(new gn(g),v,y)}class Ah extends $s{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ah}}function hT(s,t,i){return new bh({dataSource:3,targetDoc:t.settings.targetDoc,methodName:s._methodName,arrayElement:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Xm extends $s{_toFieldTransform(t){return new ph(t.path,new zo)}isEqual(t){return t instanceof Xm}}class $m extends $s{constructor(t,i){super(t),this.Ac=i}_toFieldTransform(t){const i=hT(this,t,!0),a=this.Ac.map((c=>Js(c,i))),o=new tl(a);return new ph(t.path,o)}isEqual(t){return t instanceof $m&&nr(this.Ac,t.Ac)}}class Jm extends $s{constructor(t,i){super(t),this.Ac=i}_toFieldTransform(t){const i=hT(this,t,!0),a=this.Ac.map((c=>Js(c,i))),o=new el(a);return new ph(t.path,o)}isEqual(t){return t instanceof Jm&&nr(this.Ac,t.Ac)}}class Zm extends $s{constructor(t,i){super(t),this.Vc=i}_toFieldTransform(t){const i=new jo(t.serializer,TE(t.serializer,this.Vc));return new ph(t.path,i)}isEqual(t){return t instanceof Zm&&this.Vc===t.Vc}}function M2(s,t,i,a){const o=s.createContext(1,t,i);Wm("Data must be an object, but it was:",o,a);const c=[],d=gn.empty();ss(a,((v,y)=>{const T=mT(t,v,i);y=qe(y);const S=o.childContextForFieldPath(T);if(y instanceof Ah)c.push(T);else{const O=Js(y,S);O!=null&&(c.push(T),d.set(T,O))}}));const g=new Rn(c);return new uT(d,g,o.fieldTransforms)}function k2(s,t,i,a,o,c){const d=s.createContext(1,t,i),g=[sl(t,a,i)],v=[o];if(c.length%2!=0)throw new rt($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)g.push(sl(t,c[O])),v.push(c[O+1]);const y=[],T=gn.empty();for(let O=g.length-1;O>=0;--O)if(!pT(y,g[O])){const Y=g[O];let Z=v[O];Z=qe(Z);const it=d.childContextForFieldPath(Y);if(Z instanceof Ah)y.push(Y);else{const nt=Js(Z,it);nt!=null&&(y.push(Y),T.set(Y,nt))}}const S=new Rn(y);return new uT(T,S,d.fieldTransforms)}function L2(s,t,i,a=!1){return Js(i,s.createContext(a?4:3,t))}function Js(s,t){if(dT(s=qe(s)))return Wm("Unsupported field value:",t,s),fT(s,t);if(s instanceof $s)return(function(a,o){if(!cT(o.dataSource))throw o.createError(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const g of a){let v=Js(g,o.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,o){if((a=qe(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return TE(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=le.fromDate(a);return{timestampValue:$c(o.serializer,c)}}if(a instanceof le){const c=new le(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:$c(o.serializer,c)}}if(a instanceof xi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof jn)return{bytesValue:DE(o.serializer,a._byteString)};if(a instanceof Me){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Vm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof ni)return(function(d,g){const v=d instanceof ni?d.toArray():d;return{mapValue:{fields:{[sE]:{stringValue:aE},[Kc]:{arrayValue:{values:v.map((T=>{if(typeof T!="number")throw g.createError("VectorValues must only contain numeric values.");return xm(g.serializer,T)}))}}}}}})(a,o);if(PE(a))return a._toProto(o.serializer);throw o.createError(`Unsupported field value: ${oh(a)}`)})(s,t)}function fT(s,t){const i={};return W0(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ss(s,((a,o)=>{const c=Js(o,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function dT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof le||s instanceof xi||s instanceof jn||s instanceof Me||s instanceof $s||s instanceof ni||PE(s))}function Wm(s,t,i){if(!dT(i)||!J0(i)){const a=oh(i);throw a==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+a)}}function sl(s,t,i){if((t=qe(t))instanceof Ym)return t._internalPath;if(typeof t=="string")return mT(s,t);throw th("Field path arguments must be of type string or ",s,!1,void 0,i)}const U2=new RegExp("[~\\*/\\[\\]]");function mT(s,t,i){if(t.search(U2)>=0)throw th(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Ym(...t.split("."))._internalPath}catch{throw th(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function th(s,t,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${o}`),v+=")"),new rt($.INVALID_ARGUMENT,g+s+v)}function pT(s,t){return s.some((i=>i.isEqual(t)))}class P2{convertValue(t,i="none"){switch(ns(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Te(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(es(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return ss(t,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Kc].arrayValue?.values?.map((a=>Te(a.doubleValue)));return new ni(i)}convertGeoPoint(t){return new xi(Te(t.latitude),Te(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=hh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(ko(t));default:return null}}convertTimestamp(t){const i=ts(t);return new le(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=re.fromString(t);Ft(UE(a),9688,{name:t});const o=new Lo(a.get(1),a.get(3)),c=new ft(a.popFirst(5));return o.isEqual(i)||rr(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class gT extends P2{constructor(t){super(),this.firestore=t}convertBytes(t){return new jn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Me(this.firestore,null,i)}}function Zv(){return new Xm("serverTimestamp")}function Wv(...s){return new $m("arrayUnion",s)}function t0(...s){return new Jm("arrayRemove",s)}function e0(s){return new Zm("increment",s)}const n0="@firebase/firestore",i0="4.10.0";function r0(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class yT{constructor(t,i,a,o,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new z2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(sl("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class z2 extends yT{data(){return super.data()}}function j2(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new rt($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tp{}class _T extends tp{}function s0(s,t,...i){let a=[];t instanceof tp&&a.push(t),a=a.concat(i),(function(c){const d=c.filter((v=>v instanceof np)).length,g=c.filter((v=>v instanceof ep)).length;if(d>1||d>0&&g>0)throw new rt($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)s=o._apply(s);return s}class ep extends _T{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new ep(t,i,a)}_apply(t){const i=this._parse(t);return vT(t._query,i),new Xs(t.firestore,t.converter,im(t._query,i))}_parse(t){const i=Km(t.firestore);return(function(c,d,g,v,y,T,S){let O;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new rt($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){o0(S,T);const Z=[];for(const it of S)Z.push(l0(v,c,it));O={arrayValue:{values:Z}}}else O=l0(v,c,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||o0(S,T),O=L2(g,d,S,T==="in"||T==="not-in");return Oe.create(y,T,O)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class np extends tp{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new np(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:ri.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(o,c){let d=o;const g=c.getFlattenedFilters();for(const v of g)vT(d,v),d=im(d,v)})(t._query,i),new Xs(t.firestore,t.converter,im(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ip extends _T{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new ip(t,i)}_apply(t){const i=(function(o,c,d){if(o.startAt!==null)throw new rt($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new rt($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Po(c,d)})(t._query,this._field,this._direction);return new Xs(t.firestore,t.converter,ow(t._query,i))}}function a0(s,t="asc"){const i=t,a=sl("orderBy",s);return ip._create(a,i)}function l0(s,t,i){if(typeof(i=qe(i))=="string"){if(i==="")throw new rt($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mE(t)&&i.indexOf("/")!==-1)throw new rt($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(re.fromString(i));if(!ft.isDocumentKey(a))throw new rt($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return mv(s,new ft(a))}if(i instanceof Me)return mv(s,i._key);throw new rt($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oh(i)}.`)}function o0(s,t){if(!Array.isArray(s)||s.length===0)throw new rt($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function vT(s,t){const i=(function(o,c){for(const d of o)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new rt($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rt($.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}function B2(s,t,i){let a;return a=s?s.toFirestore(t):t,a}class Ro{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Bs extends yT{constructor(t,i,a,o,c,d){super(t,i,a,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(sl("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Bs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Bs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Bs._jsonSchema={type:Ve("string",Bs._jsonSchemaVersion),bundleSource:Ve("string","DocumentSnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class zc extends Bs{data(t={}){return super.data(t)}}class Fa{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new Ro(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new zc(this._firestore,this._userDataWriter,a.key,a,new Ro(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const v=new zc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ro(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const v=new zc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ro(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:q2(g.type),doc:v,oldIndex:y,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Fa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=bm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function q2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:s})}}Fa._jsonSchemaVersion="firestore/querySnapshot/1.0",Fa._jsonSchema={type:Ve("string",Fa._jsonSchemaVersion),bundleSource:Ve("string","QuerySnapshot"),bundleName:Ve("string"),bundle:Ve("string")};function qd(s,t,i,...a){s=Jr(s,Me);const o=Jr(s.firestore,rl),c=Km(o);let d;return d=typeof(t=qe(t))=="string"||t instanceof Ym?k2(c,"updateDoc",s._key,t,i,a):M2(c,"updateDoc",s._key,t),rp(o,[d.toMutation(s._key,ei.exists(!0))])}function H2(s){return rp(Jr(s.firestore,rl),[new Nm(s._key,ei.none())])}function u0(s,t){const i=Jr(s.firestore,rl),a=wo(s),o=B2(s.converter,t),c=Km(s.firestore);return rp(i,[V2(c,"addDoc",a._key,o,s.converter!==null,{}).toMutation(a._key,ei.exists(!1))]).then((()=>a))}function c0(s,...t){s=qe(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||r0(t[a])||(i=t[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(r0(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,g;if(s instanceof Me)d=Jr(s.firestore,rl),g=Cm(s._key.path),c={next:y=>{t[a]&&t[a](G2(d,s,y))},error:t[a+1],complete:t[a+2]};else{const y=Jr(s,Xs);d=Jr(y.firestore,rl),g=y._query;const T=new gT(d);c={next:S=>{t[a]&&t[a](new Fa(d,T,y,S))},error:t[a+1],complete:t[a+2]},j2(s._query)}const v=oT(d);return A2(v,g,o,c)}function rp(s,t){const i=oT(s);return S2(i,t)}function G2(s,t,i){const a=i.docs.get(t._key),o=new gT(s);return new Bs(s,o,t._key,a,new Ro(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){b1(ol),Xa(new Hs("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new rl(new w1(a.getProvider("auth-internal")),new C1(d,a.getProvider("app-check-internal")),F1(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Xr(n0,i0,t),Xr(n0,i0,"esm2020")})();function ET(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const F2=ET,TT=new qo("auth","Firebase",ET());const eh=new _m("@firebase/auth");function Q2(s,...t){eh.logLevel<=Mt.WARN&&eh.warn(`Auth (${ol}): ${s}`,...t)}function jc(s,...t){eh.logLevel<=Mt.ERROR&&eh.error(`Auth (${ol}): ${s}`,...t)}function Oi(s,...t){throw ap(s,...t)}function ii(s,...t){return ap(s,...t)}function sp(s,t,i){const a={...F2(),[t]:i};return new qo("auth","Firebase",a).create(t,{appName:s.name})}function qs(s){return sp(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Y2(s,t,i){const a=i;if(!(t instanceof a))throw a.name!==t.constructor.name&&Oi(s,"argument-error"),sp(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ap(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return TT.create(s,...t)}function _t(s,t,...i){if(!s)throw ap(t,...i)}function tr(s){const t="INTERNAL ASSERTION FAILED: "+s;throw jc(t),new Error(t)}function ar(s,t){s||tr(t)}function mm(){return typeof self<"u"&&self.location?.href||""}function K2(){return h0()==="http:"||h0()==="https:"}function h0(){return typeof self<"u"&&self.location?.protocol||null}function X2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(K2()||WA()||"connection"in navigator)?navigator.onLine:!0}function $2(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Xo{constructor(t,i){this.shortDelay=t,this.longDelay=i,ar(i>t,"Short delay should be less than long delay!"),this.isMobile=$A()||tS()}get(){return X2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function lp(s,t){ar(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class bT{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const J2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Z2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],W2=new Xo(3e4,6e4);function op(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function ml(s,t,i,a,o={}){return AT(s,o,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=Ho({key:s.config.apiKey,...d}).slice(1),v=await s._getAdditionalHeaders();v["Content-Type"]="application/json",s.languageCode&&(v["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:v,...c};return ZA()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&ll(s.emulatorConfig.host)&&(y.credentials="include"),bT.fetch()(await ST(s,s.config.apiHost,i,g),y)})}async function AT(s,t,i){s._canInitEmulator=!1;const a={...J2,...t};try{const o=new eI(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Vc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[v,y]=g.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vc(s,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Vc(s,"email-already-in-use",d);if(v==="USER_DISABLED")throw Vc(s,"user-disabled",d);const T=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw sp(s,T,y);Oi(s,T)}}catch(o){if(o instanceof lr)throw o;Oi(s,"network-request-failed",{message:String(o)})}}async function tI(s,t,i,a,o={}){const c=await ml(s,t,i,a,o);return"mfaPendingCredential"in c&&Oi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function ST(s,t,i,a){const o=`${t}${i}?${a}`,c=s,d=c.config.emulator?lp(s.config,o):`${s.config.apiScheme}://${o}`;return Z2.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class eI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(ii(this.auth,"network-request-failed")),W2.get())})}}function Vc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=ii(s,t,a);return o.customData._tokenResponse=i,o}async function nI(s,t){return ml(s,"POST","/v1/accounts:delete",t)}async function nh(s,t){return ml(s,"POST","/v1/accounts:lookup",t)}function Oo(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function iI(s,t=!1){const i=qe(s),a=await i.getIdToken(t),o=up(a);_t(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Oo(Hd(o.auth_time)),issuedAtTime:Oo(Hd(o.iat)),expirationTime:Oo(Hd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Hd(s){return Number(s)*1e3}function up(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return jc("JWT malformed, contained fewer than 3 sections"),null;try{const o=N0(i);return o?JSON.parse(o):(jc("Failed to decode base64 JWT payload"),null)}catch(o){return jc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function f0(s){const t=up(s);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Bo(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof lr&&rI(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function rI({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class sI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class pm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oo(this.lastLoginAt),this.creationTime=Oo(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ih(s){const t=s.auth,i=await s.getIdToken(),a=await Bo(s,nh(t,{idToken:i}));_t(a?.users.length,t,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?wT(o.providerUserInfo):[],d=lI(s.providerData,c),g=s.isAnonymous,v=!(s.email&&o.passwordHash)&&!d?.length,y=g?v:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new pm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,T)}async function aI(s){const t=qe(s);await ih(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function lI(s,t){return[...s.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function wT(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function oI(s,t){const i=await AT(s,{},async()=>{const a=Ho({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await ST(s,o,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:g,body:a};return s.emulatorConfig&&ll(s.emulatorConfig.host)&&(v.credentials="include"),bT.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function uI(s,t){return ml(s,"POST","/v2/accounts:revokeToken",op(s,t))}class Qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):f0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const i=f0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await oI(t,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new Qa;return a&&(_t(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),o&&(_t(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),c&&(_t(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Qa,this.toJSON())}_performRefresh(){return tr("not implemented")}}function Br(s,t){_t(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class ti{constructor({uid:t,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new sI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new pm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Bo(this,this.stsTokenManager.getToken(this.auth,t));return _t(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return iI(this,t)}reload(){return aI(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ti({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await ih(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject(qs(this.auth));const t=await this.getIdToken();return await Bo(this,nI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:S,emailVerified:O,isAnonymous:Y,providerData:Z,stsTokenManager:it}=i;_t(S&&it,t,"internal-error");const nt=Qa.fromJSON(this.name,it);_t(typeof S=="string",t,"internal-error"),Br(a,t.name),Br(o,t.name),_t(typeof O=="boolean",t,"internal-error"),_t(typeof Y=="boolean",t,"internal-error"),Br(c,t.name),Br(d,t.name),Br(g,t.name),Br(v,t.name),Br(y,t.name),Br(T,t.name);const pt=new ti({uid:S,auth:t,email:o,emailVerified:O,displayName:a,isAnonymous:Y,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:nt,createdAt:y,lastLoginAt:T});return Z&&Array.isArray(Z)&&(pt.providerData=Z.map(vt=>({...vt}))),v&&(pt._redirectEventId=v),pt}static async _fromIdTokenResponse(t,i,a=!1){const o=new Qa;o.updateFromServerResponse(i);const c=new ti({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await ih(c),c}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];_t(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?wT(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new Qa;g.updateFromIdToken(a);const v=new ti({uid:o.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new pm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(v,y),v}}const d0=new Map;function er(s){ar(s instanceof Function,"Expected a class definition");let t=d0.get(s);return t?(ar(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,d0.set(s,t),t)}class RT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}RT.type="NONE";const m0=RT;function Bc(s,t,i){return`firebase:${s}:${t}:${i}`}class Ya{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Bc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Bc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await nh(this.auth,{idToken:t}).catch(()=>{});return i?ti._fromGetAccountInfoResponse(this.auth,i,t):null}return ti._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ya(er(m0),t,a);const o=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||er(m0);const d=Bc(a,t.config.apiKey,t.name);let g=null;for(const y of i)try{const T=await y._get(d);if(T){let S;if(typeof T=="string"){const O=await nh(t,{idToken:T}).catch(()=>{});if(!O)break;S=await ti._fromGetAccountInfoResponse(t,O,T)}else S=ti._fromJSON(t,T);y!==c&&(g=S),c=y;break}}catch{}const v=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new Ya(c,t,a):(c=v[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Ya(c,t,a))}}function p0(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(NT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(IT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(OT(t))return"Blackberry";if(VT(t))return"Webos";if(CT(t))return"Safari";if((t.includes("chrome/")||xT(t))&&!t.includes("edge/"))return"Chrome";if(DT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function IT(s=rn()){return/firefox\//i.test(s)}function CT(s=rn()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function xT(s=rn()){return/crios\//i.test(s)}function NT(s=rn()){return/iemobile/i.test(s)}function DT(s=rn()){return/android/i.test(s)}function OT(s=rn()){return/blackberry/i.test(s)}function VT(s=rn()){return/webos/i.test(s)}function cp(s=rn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function cI(s=rn()){return cp(s)&&!!window.navigator?.standalone}function hI(){return eS()&&document.documentMode===10}function MT(s=rn()){return cp(s)||DT(s)||VT(s)||OT(s)||/windows phone/i.test(s)||NT(s)}function kT(s,t=[]){let i;switch(s){case"Browser":i=p0(rn());break;case"Worker":i=`${p0(rn())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${ol}/${a}`}class fI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const v=t(c);d(v)}catch(v){g(v)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function dI(s,t={}){return ml(s,"GET","/v2/passwordPolicy",op(s,t))}const mI=6;class pI{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??mI,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class gI{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new g0(this),this.idTokenSubscription=new g0(this),this.beforeStateQueue=new fI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=er(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ya.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await nh(this,{idToken:t}),a=await ti._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Wn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await ih(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=$2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Wn(this.app))return Promise.reject(qs(this));const i=t?qe(t):null;return i&&_t(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject(qs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Wn(this.app)?Promise.reject(qs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(er(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await dI(this),i=new pI(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new qo("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await uI(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&er(t)||this._popupRedirectResolver;_t(i,this,"argument-error"),this.redirectPersistenceManager=await Ya.create(this,[er(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,o);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=kT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Q2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Sh(s){return qe(s)}class g0{constructor(t){this.auth=t,this.observer=null,this.addObserver=uS(i=>this.observer=i)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let hp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yI(s){hp=s}function _I(s){return hp.loadJS(s)}function vI(){return hp.gapiScript}function EI(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function TI(s,t){const i=Em(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(nr(c,t??{}))return o;Oi(o,"already-initialized")}return i.initialize({options:t})}function bI(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(er);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function AI(s,t,i){const a=Sh(s);_t(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,c=LT(t),{host:d,port:g}=SI(t),v=g===null?"":`:${g}`,y={url:`${c}//${d}${v}/`},T=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){_t(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),_t(nr(y,a.config.emulator)&&nr(T,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=T,a.settings.appVerificationDisabledForTesting=!0,ll(d)?(M0(`${c}//${d}${v}`),k0("Auth",!0)):wI()}function LT(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function SI(s){const t=LT(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:y0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:y0(d)}}}function y0(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function wI(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class UT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return tr("not implemented")}_getIdTokenResponse(t){return tr("not implemented")}_linkToIdToken(t,i){return tr("not implemented")}_getReauthenticationResolver(t){return tr("not implemented")}}async function Ka(s,t){return tI(s,"POST","/v1/accounts:signInWithIdp",op(s,t))}const RI="http://localhost";class Qs extends UT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Qs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Oi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new Qs(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ka(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ka(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ka(t,i)}buildRequest(){const t={requestUri:RI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ho(i)}return t}}class fp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class $o extends fp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Hr extends $o{constructor(){super("facebook.com")}static credential(t){return Qs._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hr.credentialFromTaggedObject(t)}static credentialFromError(t){return Hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hr.credential(t.oauthAccessToken)}catch{return null}}}Hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hr.PROVIDER_ID="facebook.com";class Wi extends $o{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Qs._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Wi.credentialFromTaggedObject(t)}static credentialFromError(t){return Wi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Wi.credential(i,a)}catch{return null}}}Wi.GOOGLE_SIGN_IN_METHOD="google.com";Wi.PROVIDER_ID="google.com";class Gr extends $o{constructor(){super("github.com")}static credential(t){return Qs._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Gr.credentialFromTaggedObject(t)}static credentialFromError(t){return Gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Gr.credential(t.oauthAccessToken)}catch{return null}}}Gr.GITHUB_SIGN_IN_METHOD="github.com";Gr.PROVIDER_ID="github.com";class Fr extends $o{constructor(){super("twitter.com")}static credential(t,i){return Qs._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Fr.credentialFromTaggedObject(t)}static credentialFromError(t){return Fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Fr.credential(i,a)}catch{return null}}}Fr.TWITTER_SIGN_IN_METHOD="twitter.com";Fr.PROVIDER_ID="twitter.com";class al{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const c=await ti._fromIdTokenResponse(t,a,o),d=_0(a);return new al({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=_0(a);return new al({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function _0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class rh extends lr{constructor(t,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,rh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new rh(t,i,a,o)}}function PT(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?rh._fromErrorAndOperation(s,c,t,a):c})}async function II(s,t,i=!1){const a=await Bo(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return al._forOperation(s,"link",a)}async function CI(s,t,i=!1){const{auth:a}=s;if(Wn(a.app))return Promise.reject(qs(a));const o="reauthenticate";try{const c=await Bo(s,PT(a,o,t,s),i);_t(c.idToken,a,"internal-error");const d=up(c.idToken);_t(d,a,"internal-error");const{sub:g}=d;return _t(s.uid===g,a,"user-mismatch"),al._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Oi(a,"user-mismatch"),c}}async function xI(s,t,i=!1){if(Wn(s.app))return Promise.reject(qs(s));const a="signIn",o=await PT(s,a,t),c=await al._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}function NI(s,t,i,a){return qe(s).onIdTokenChanged(t,i,a)}function DI(s,t,i){return qe(s).beforeAuthStateChanged(t,i)}function OI(s,t,i,a){return qe(s).onAuthStateChanged(t,i,a)}function VI(s){return qe(s).signOut()}const sh="__sak";class zT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(sh,"1"),this.storage.removeItem(sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const MI=1e3,kI=10;class jT extends zT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=MT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);hI()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,kI):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},MI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}jT.type="LOCAL";const LI=jT;class BT extends zT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}BT.type="SESSION";const qT=BT;function UI(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class wh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new wh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(d).map(async y=>y(i.origin,c)),v=await UI(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wh.receivers=[];function dp(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class PI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,v)=>{const y=dp("",20);o.port1.start();const T=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(S){const O=S;if(O.data.eventId===y)switch(O.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(O.data.response);break;default:clearTimeout(T),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ni(){return window}function zI(s){Ni().location.href=s}function HT(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function jI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BI(){return navigator?.serviceWorker?.controller||null}function qI(){return HT()?self:null}const GT="firebaseLocalStorageDb",HI=1,ah="firebaseLocalStorage",FT="fbase_key";class Jo{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Rh(s,t){return s.transaction([ah],t?"readwrite":"readonly").objectStore(ah)}function GI(){const s=indexedDB.deleteDatabase(GT);return new Jo(s).toPromise()}function gm(){const s=indexedDB.open(GT,HI);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(ah,{keyPath:FT})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(ah)?t(a):(a.close(),await GI(),t(await gm()))})})}async function v0(s,t,i){const a=Rh(s,!0).put({[FT]:t,value:i});return new Jo(a).toPromise()}async function FI(s,t){const i=Rh(s,!1).get(t),a=await new Jo(i).toPromise();return a===void 0?null:a.value}function E0(s,t){const i=Rh(s,!0).delete(t);return new Jo(i).toPromise()}const QI=800,YI=3;class QT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>YI)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return HT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wh._getInstance(qI()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await jI(),!this.activeServiceWorker)return;this.sender=new PI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||BI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await gm();return await v0(t,sh,"1"),await E0(t,sh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>v0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>FI(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>E0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=Rh(o,!1).getAll();return new Jo(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}QT.type="LOCAL";const KI=QT;new Xo(3e4,6e4);function YT(s,t){return t?er(t):(_t(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class mp extends UT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ka(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ka(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ka(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function XI(s){return xI(s.auth,new mp(s),s.bypassAuthState)}function $I(s){const{auth:t,user:i}=s;return _t(i,t,"internal-error"),CI(i,new mp(s),s.bypassAuthState)}async function JI(s){const{auth:t,user:i}=s;return _t(i,t,"internal-error"),II(i,new mp(s),s.bypassAuthState)}class KT{constructor(t,i,a,o,c=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(v))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return XI;case"linkViaPopup":case"linkViaRedirect":return JI;case"reauthViaPopup":case"reauthViaRedirect":return $I;default:Oi(this.auth,"internal-error")}}resolve(t){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ZI=new Xo(2e3,1e4);async function WI(s,t,i){if(Wn(s.app))return Promise.reject(ii(s,"operation-not-supported-in-this-environment"));const a=Sh(s);Y2(s,t,fp);const o=YT(a,i);return new zs(a,"signInViaPopup",t,o).executeNotNull()}class zs extends KT{constructor(t,i,a,o,c){super(t,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,zs.currentPopupAction&&zs.currentPopupAction.cancel(),zs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){ar(this.filter.length===1,"Popup operations only handle one event");const t=dp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zs.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,ZI.get())};t()}}zs.currentPopupAction=null;const tC="pendingRedirect",qc=new Map;class eC extends KT{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=qc.get(this.auth._key());if(!t){try{const a=await nC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}qc.set(this.auth._key(),t)}return this.bypassAuthState||qc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nC(s,t){const i=sC(t),a=rC(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function iC(s,t){qc.set(s._key(),t)}function rC(s){return er(s._redirectPersistence)}function sC(s){return Bc(tC,s.config.apiKey,s.name)}async function aC(s,t,i=!1){if(Wn(s.app))return Promise.reject(qs(s));const a=Sh(s),o=YT(a,t),d=await new eC(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const lC=600*1e3;class oC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!uC(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!XT(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(ii(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=lC&&this.cachedEventUids.clear(),this.cachedEventUids.has(T0(t))}saveEventToCache(t){this.cachedEventUids.add(T0(t)),this.lastProcessedEventTime=Date.now()}}function T0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function XT({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function uC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XT(s);default:return!1}}async function cC(s,t={}){return ml(s,"GET","/v1/projects",t)}const hC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fC=/^https?/;async function dC(s){if(s.config.emulator)return;const{authorizedDomains:t}=await cC(s);for(const i of t)try{if(mC(i))return}catch{}Oi(s,"unauthorized-domain")}function mC(s){const t=mm(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!fC.test(i))return!1;if(hC.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const pC=new Xo(3e4,6e4);function b0(){const s=Ni().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function gC(s){return new Promise((t,i)=>{function a(){b0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{b0(),i(ii(s,"network-request-failed"))},timeout:pC.get()})}if(Ni().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ni().gapi?.load)a();else{const o=EI("iframefcb");return Ni()[o]=()=>{gapi.load?a():i(ii(s,"network-request-failed"))},_I(`${vI()}?onload=${o}`).catch(c=>i(c))}}).catch(t=>{throw Hc=null,t})}let Hc=null;function yC(s){return Hc=Hc||gC(s),Hc}const _C=new Xo(5e3,15e3),vC="__/auth/iframe",EC="emulator/auth/iframe",TC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AC(s){const t=s.config;_t(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?lp(t,EC):`https://${s.config.authDomain}/${vC}`,a={apiKey:t.apiKey,appName:s.name,v:ol},o=bC.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Ho(a).slice(1)}`}async function SC(s){const t=await yC(s),i=Ni().gapi;return _t(i,s,"internal-error"),t.open({where:document.body,url:AC(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TC,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=ii(s,"network-request-failed"),g=Ni().setTimeout(()=>{c(d)},_C.get());function v(){Ni().clearTimeout(g),o(a)}a.ping(v).then(v,()=>{c(d)})}))}const wC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RC=500,IC=600,CC="_blank",xC="http://localhost";class A0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NC(s,t,i,a=RC,o=IC){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const v={...wC,width:a.toString(),height:o.toString(),top:c,left:d},y=rn().toLowerCase();i&&(g=xT(y)?CC:i),IT(y)&&(t=t||xC,v.scrollbars="yes");const T=Object.entries(v).reduce((O,[Y,Z])=>`${O}${Y}=${Z},`,"");if(cI(y)&&g!=="_self")return DC(t||"",g),new A0(null);const S=window.open(t||"",g,T);_t(S,s,"popup-blocked");try{S.focus()}catch{}return new A0(S)}function DC(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const OC="__/auth/handler",VC="emulator/auth/handler",MC=encodeURIComponent("fac");async function S0(s,t,i,a,o,c){_t(s.config.authDomain,s,"auth-domain-config-required"),_t(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:ol,eventId:o};if(t instanceof fp){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",oS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,S]of Object.entries({}))d[T]=S}if(t instanceof $o){const T=t.getScopes().filter(S=>S!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const v=await s._getAppCheckToken(),y=v?`#${MC}=${encodeURIComponent(v)}`:"";return`${kC(s)}?${Ho(g).slice(1)}${y}`}function kC({config:s}){return s.emulator?lp(s,VC):`https://${s.authDomain}/${OC}`}const Gd="webStorageSupport";class LC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qT,this._completeRedirectFn=aC,this._overrideRedirectResult=iC}async _openPopup(t,i,a,o){ar(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await S0(t,i,a,mm(),o);return NC(t,c,dp())}async _openRedirect(t,i,a,o){await this._originValidation(t);const c=await S0(t,i,a,mm(),o);return zI(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(ar(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await SC(t),a=new oC(t);return i.register("authEvent",o=>(_t(o?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Gd,{type:Gd},o=>{const c=o?.[0]?.[Gd];c!==void 0&&i(!!c),Oi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=dC(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return MT()||CT()||cp()}}const UC=LC;var w0="@firebase/auth",R0="1.12.0";class PC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function zC(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jC(s){Xa(new Hs("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;_t(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kT(s)},y=new gI(a,o,c,v);return bI(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Xa(new Hs("auth-internal",t=>{const i=Sh(t.getProvider("auth").getImmediate());return(a=>new PC(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xr(w0,R0,zC(s)),Xr(w0,R0,"esm2020")}const BC=300,qC=V0("authIdTokenMaxAge")||BC;let I0=null;const HC=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>qC)return;const o=i?.token;I0!==o&&(I0=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function GC(s=z0()){const t=Em(s,"auth");if(t.isInitialized())return t.getImmediate();const i=TI(s,{popupRedirectResolver:UC,persistence:[KI,LI,qT]}),a=V0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=HC(c.toString());DI(i,d,()=>d(i.currentUser)),NI(i,g=>d(g))}}const o=D0("auth");return o&&AI(i,`http://${o}`),i}function FC(){return document.getElementsByTagName("head")?.[0]??document}yI({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=o=>{const c=ii("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",FC().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jC("Browser");const QC={apiKey:"AIzaSyCQyGS486-RohBd3FHBQENIhH0PSkInwBs",authDomain:"expothearchive.firebaseapp.com",projectId:"expothearchive",storageBucket:"expothearchive.firebasestorage.app",messagingSenderId:"18895439101",appId:"1:18895439101:web:c17f8c3e565147f7396a94"},$T=P0(QC),qr=C2($T),Fd=GC($T),YC=new Wi;function KC(){const[s,t]=ie.useState([]),[i,a]=ie.useState([]),[o,c]=ie.useState(!0),[d,g]=ie.useState(null),[v,y]=ie.useState("grid"),[T,S]=ie.useState(null),[O,Y]=ie.useState(""),[Z,it]=ie.useState(new Date),[nt,pt]=ie.useState("all"),[vt,Et]=ie.useState(""),[Qt,oe]=ie.useState(!1),[ot,C]=ie.useState(!1),[A,I]=ie.useState(null),[V,x]=ie.useState(""),[k,w]=ie.useState(!1),$t=ie.useRef(null),[wt,H]=ie.useState({type:"blog",content:"",title:"",src:"",audioSrc:"",tags:"",isTitle:!1,date:new Date().toLocaleDateString("nl-NL")});ie.useEffect(()=>{const F=dt=>{dt.state&&dt.state.view?y(dt.state.view):y("grid")};return window.addEventListener("popstate",F),()=>window.removeEventListener("popstate",F)},[]);const W=F=>{y(F),w(!1),window.history.pushState({view:F},"",""),window.scrollTo(0,0)};ie.useEffect(()=>{const F=setInterval(()=>it(new Date),1e3);return()=>clearInterval(F)},[]),ie.useEffect(()=>{const F=OI(Fd,dt=>S(dt));return()=>F()},[]),ie.useEffect(()=>{const F=dt=>{$t.current&&!$t.current.contains(dt.target)&&w(!1)};return document.addEventListener("mousedown",F),()=>document.removeEventListener("mousedown",F)},[]);const ct=async()=>{try{await WI(Fd,YC)}catch(F){console.error(F)}},Ut=()=>{VI(Fd),W("grid")};ie.useEffect(()=>{const F=s0(Oc(qr,"posts"),a0("timestamp","desc")),dt=c0(F,he=>{const fe=he.docs.map(He=>({id:He.id,...He.data()}));t(fe),c(!1)});return()=>dt()},[]),ie.useEffect(()=>{if(!d){a([]);return}const F=s0(Oc(qr,"posts",d.id,"comments"),a0("timestamp","asc")),dt=c0(F,he=>{const fe=he.docs.map(He=>({id:He.id,...He.data()}));a(fe)});return()=>dt()},[d]);const qt=ie.useMemo(()=>s.filter(F=>{const dt=nt==="all"||F.type===nt,he=F.content?.toLowerCase().includes(vt.toLowerCase())||F.title?.toLowerCase().includes(vt.toLowerCase())||F.tags?.toLowerCase().includes(vt.toLowerCase());return dt&&he}),[s,nt,vt]),D=ie.useMemo(()=>T?s.filter(F=>F.likedBy?.includes(T.uid)):[],[s,T]),K=async F=>{if(F.preventDefault(),!!T)try{await u0(Oc(qr,"posts"),{...wt,timestamp:Zv(),authorEmail:T.email,likes:0,likedBy:[]}),H({type:"blog",content:"",title:"",src:"",audioSrc:"",tags:"",isTitle:!1,date:new Date().toLocaleDateString("nl-NL")}),W("grid")}catch(dt){console.error(dt)}},et=async(F,dt)=>{if(F&&F.stopPropagation(),!T){alert("Log in om te waarderen.");return}const he=s.find(He=>He.id===dt);if(!he)return;const fe=he.likedBy&&he.likedBy.includes(T.uid);try{const He=wo(qr,"posts",dt);await qd(He,{likes:e0(fe?-1:1),likedBy:fe?t0(T.uid):Wv(T.uid)})}catch(He){console.error(He)}},st=async F=>{if(!T||!d){alert("Log in om te waarderen.");return}const dt=i.find(fe=>fe.id===F);if(!dt)return;const he=dt.likedBy&&dt.likedBy.includes(T.uid);try{const fe=wo(qr,"posts",d.id,"comments",F);await qd(fe,{likes:e0(he?-1:1),likedBy:he?t0(T.uid):Wv(T.uid)})}catch(fe){console.error(fe)}},yt=async F=>{if(F.preventDefault(),!(!O.trim()||!T||!d))try{await u0(Oc(qr,"posts",d.id,"comments"),{text:O,userName:T.displayName,userPhoto:T.photoURL,userUid:T.uid,timestamp:Zv(),likes:0,likedBy:[],isAdmin:T.email.toLowerCase()==="gielmolder@gmail.com"}),Y("")}catch(dt){console.error(dt)}},St=async(F,dt)=>{if(F.stopPropagation(),!!window.confirm("Permanent verwijderen?"))try{await H2(wo(qr,"posts",dt))}catch(he){console.error(he)}},Dt=(F,dt)=>{F.stopPropagation(),I(dt.id),x(dt.content)},ge=async(F,dt)=>{F.stopPropagation();try{await qd(wo(qr,"posts",dt),{content:V}),I(null)}catch(he){console.error(he)}};ie.useEffect(()=>{const F=document.createElement("style");F.innerHTML=`
      ::-webkit-scrollbar { display: none; }
      body { -ms-overflow-style: none; scrollbar-width: none; overflow-y: scroll; margin: 0; transition: background-color 0.5s ease; }
      .filters-container { max-height: 0; overflow: hidden; transition: max-height 0.5s ease, opacity 0.3s ease; opacity: 0; }
      .filters-active { max-height: 450px; opacity: 1; }
      .btn-brutal { transition: all 0.1s active; }
      .btn-brutal:hover { transform: translate(2px, 2px); box-shadow: none !important; }
      .btn-brutal:active { transform: translate(4px, 4px); }
    `,document.head.appendChild(F)},[]);const ee=T&&T.email&&T.email.toLowerCase()==="gielmolder@gmail.com",Vi=v==="admin"?"TERMINAL_INPUT":v==="account"?"THE_IDENTITY":"THE ARCHIVE";return j.jsxs("div",{className:`min-h-screen font-mono selection:bg-pink-200 selection:text-black flex flex-col transition-colors duration-500 ${ot?"bg-black text-white":"bg-[#f0f0f0] text-[#1a1a1a]"}`,children:[j.jsxs("header",{className:`p-4 md:p-10 border-b-8 border-black sticky top-0 z-40 shadow-[0_4px_0_0_rgba(0,0,0,1)] transition-colors ${ot?"bg-[#111]":"bg-white"}`,children:[j.jsxs("div",{className:"flex flex-row justify-between items-center gap-2",children:[j.jsxs("div",{className:"group cursor-pointer select-none flex-grow",onClick:()=>v==="grid"?oe(!Qt):W("grid"),children:[j.jsx("h1",{className:"text-xl md:text-6xl font-black uppercase tracking-tighter italic leading-none transition-transform active:scale-95",children:Vi}),j.jsxs("p",{className:`text-[7px] md:text-xs font-bold px-2 py-0.5 mt-1 inline-block uppercase tracking-widest ${ot?"bg-white text-black":"bg-black text-white"}`,children:["Exposure Therapy // ",v==="grid"?"Giel te Molder":v==="admin"?"SYSTEM_ADMIN":"USER_NODE"]})]}),j.jsxs("div",{className:"flex flex-row gap-2 md:gap-4 items-stretch flex-shrink-0",children:[v!=="grid"&&j.jsx("button",{onClick:()=>W("grid"),className:"btn-brutal bg-black text-white border-2 md:border-4 border-black px-2 md:px-6 py-1 md:py-3 text-[8px] md:text-xs font-black uppercase shadow-[3px_3px_0_0_rgba(0,0,0,1)] hover:bg-yellow-300 hover:text-black",children:"Back_"}),j.jsx("button",{onClick:()=>C(!ot),className:`btn-brutal px-3 md:px-6 py-1 md:py-3 border-2 md:border-4 border-black shadow-[3px_3px_0_0_rgba(0,0,0,1)] flex items-center justify-center ${ot?"bg-white text-black":"bg-black text-white"}`,children:ot?"":""}),ee&&v==="grid"&&j.jsx("button",{onClick:()=>W("admin"),className:"btn-brutal border-2 md:border-4 border-black px-2 md:px-6 py-1 md:py-3 text-[8px] md:text-xs font-black uppercase shadow-[3px_3px_0_0_rgba(0,0,0,1)] bg-yellow-300 text-black",children:"+ NEW"}),T?j.jsxs("div",{className:"relative",ref:$t,children:[j.jsxs("button",{onClick:()=>w(!k),className:`btn-brutal flex items-center gap-2 md:gap-4 px-2 md:px-4 py-1 md:py-3 border-2 md:border-4 border-black shadow-[3px_3px_0_0_rgba(0,0,0,1)] h-full ${ot?"bg-white text-black":"bg-black text-white"}`,children:[j.jsx("span",{className:"text-[7px] md:text-[10px] font-black uppercase tracking-widest leading-none",children:T.displayName?.split(" ")[0]}),T.photoURL&&j.jsx("img",{src:T.photoURL,className:"w-5 h-5 md:w-8 md:h-8 grayscale border border-current",alt:"u"})]}),k&&j.jsxs("div",{className:`absolute right-0 mt-2 w-48 md:w-64 border-4 border-black p-4 md:p-6 z-50 shadow-[6px_6px_0_0_rgba(0,0,0,1)] flex flex-col gap-4 animate-in fade-in slide-in-from-top-2 duration-200 ${ot?"bg-[#111] text-white":"bg-white text-black"}`,children:[j.jsxs("div",{className:"flex flex-col border-b-2 border-black/10 pb-3 uppercase",children:[j.jsx("span",{className:"text-[8px] font-black opacity-40 mb-1 tracking-widest italic",children:"Identity_"}),j.jsx("span",{className:"text-[9px] md:text-[12px] font-bold truncate lowercase",children:T.email})]}),j.jsx("button",{onClick:()=>W("account"),className:"btn-brutal w-full bg-blue-500 text-white text-[10px] md:text-xs font-black uppercase py-2 md:py-3 border-2 border-black shadow-[3px_3px_0_0_rgba(0,0,0,1)]",children:"My_Profile_"}),j.jsx("button",{onClick:Ut,className:"btn-brutal w-full bg-red-500 text-white text-[10px] md:text-xs font-black uppercase py-2 md:py-3 border-2 border-black shadow-[3px_3px_0_0_rgba(0,0,0,1)]",children:"Sign_Out_"})]})]}):j.jsx("button",{onClick:ct,className:`btn-brutal border-2 md:border-4 border-black px-2 md:px-6 py-1 md:py-3 text-[8px] md:text-xs font-black uppercase shadow-[3px_3px_0_0_rgba(0,0,0,1)] ${ot?"bg-white text-black":"bg-black text-white"}`,children:"LOGIN"})]})]}),v==="grid"&&j.jsx("div",{className:`filters-container ${Qt?"filters-active mt-8":""}`,children:j.jsxs("div",{className:"flex flex-col gap-6 p-1 border-t-4 border-black pt-6",children:[j.jsx("div",{className:`flex border-4 border-black shadow-[4px_4px_0_0_rgba(0,0,0,1)] max-w-xl ${ot?"bg-black border-white":"bg-white"}`,children:j.jsx("input",{type:"text",placeholder:"SEARCH / #TAGS...",className:"bg-transparent p-3 text-sm font-bold outline-none flex-grow uppercase placeholder:opacity-30",value:vt,onChange:F=>Et(F.target.value)})}),j.jsx("div",{className:"flex flex-wrap gap-2 md:gap-4 text-[10px] md:text-[12px] font-black uppercase",children:["all","blog","art"].map(F=>j.jsx("button",{onClick:()=>pt(F),className:`btn-brutal border-2 md:border-4 border-black px-3 py-1 md:px-4 md:py-2 shadow-[2px_2px_0_0_rgba(0,0,0,1)] ${nt===F?ot?"bg-white text-black":"bg-black text-white":ot?"bg-[#222] text-white":"bg-white text-black"}`,children:F==="all"?"Everything":F==="blog"?"Text":"Visual"},F))})]})})]}),j.jsxs("div",{className:"flex-grow flex flex-col",children:[v==="admin"&&j.jsx("div",{className:`p-4 md:p-12 animate-in fade-in duration-500 ${ot?"bg-black text-white":"bg-[#f0f0f0] text-black"}`,children:j.jsx("div",{className:"max-w-[1400px] mx-auto w-full flex flex-col gap-12",children:j.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[j.jsx("div",{className:`border-4 md:border-8 border-black p-6 md:p-10 shadow-[10px_10px_0_0_rgba(0,0,0,1)] ${ot?"bg-[#111]":"bg-white"}`,children:j.jsxs("form",{onSubmit:K,className:"space-y-8",children:[j.jsxs("div",{className:"flex border-4 border-black shadow-[4px_4px_0_0_rgba(0,0,0,1)]",children:[j.jsx("button",{type:"button",onClick:()=>H({...wt,type:"blog"}),className:`flex-1 py-4 font-black uppercase ${wt.type==="blog"?"bg-black text-white":"bg-white text-black"}`,children:"Text_Entry"}),j.jsx("button",{type:"button",onClick:()=>H({...wt,type:"art"}),className:`flex-1 py-4 font-black uppercase ${wt.type==="art"?"bg-black text-white":"bg-white text-black"}`,children:"Visual_Entry"})]}),j.jsxs("div",{className:"space-y-6 text-black",children:[j.jsx("input",{type:"text",placeholder:"ENTRY_TITLE_",className:`w-full bg-transparent border-b-4 border-black p-2 text-xl font-black outline-none ${ot?"text-white border-white":"text-black"}`,value:wt.title,onChange:F=>H({...wt,title:F.target.value}),required:!0}),wt.type==="art"&&j.jsx("input",{type:"text",placeholder:"IMAGE_URL_ (HTTPS://...)",className:`w-full bg-transparent border-b-4 border-black p-2 text-lg font-black outline-none ${ot?"text-white border-white":"text-black"}`,value:wt.src,onChange:F=>H({...wt,src:F.target.value}),required:!0}),j.jsx("input",{type:"text",placeholder:"AUDIO_URL_ (OPTIONAL)",className:`w-full bg-transparent border-b-4 border-black p-2 text-lg font-black outline-none ${ot?"text-white border-white":"text-black"}`,value:wt.audioSrc,onChange:F=>H({...wt,audioSrc:F.target.value})}),j.jsx("input",{type:"text",placeholder:"METADATA_TAGS_ (#RAW, #ANALOG...)",className:`w-full bg-transparent border-b-4 border-black p-2 text-lg font-black outline-none ${ot?"text-white border-white":"text-black"}`,value:wt.tags,onChange:F=>H({...wt,tags:F.target.value})}),j.jsx("textarea",{className:`w-full border-4 border-black p-4 h-64 text-xl font-bold outline-none focus:bg-yellow-50 focus:text-black resize-none ${ot?"bg-black text-white border-white":"bg-white text-black"}`,placeholder:"BEGIN TRANSMISSION...",value:wt.content,onChange:F=>H({...wt,content:F.target.value}),required:!0}),j.jsxs("div",{className:"flex items-center gap-4 py-4 border-t-2 border-black/10",children:[j.jsx("input",{type:"checkbox",id:"isTitle",className:"w-6 h-6 border-4 border-black accent-black",checked:wt.isTitle,onChange:F=>H({...wt,isTitle:F.target.checked})}),j.jsx("label",{htmlFor:"isTitle",className:"text-xs font-black uppercase text-black",children:"Display as Manifesto"})]})]}),j.jsx("button",{type:"submit",className:"btn-brutal w-full bg-black text-white py-6 font-black text-3xl uppercase italic tracking-tighter shadow-[8px_8px_0_0_rgba(0,0,0,1)]",children:"PUSH_TO_ARCHIVE_"})]})}),j.jsxs("div",{className:"hidden lg:block space-y-6",children:[j.jsx("span",{className:"text-xs font-black uppercase opacity-40 italic tracking-widest",children:"Live_Monitor_"}),j.jsxs("div",{className:`border-4 border-black shadow-[8px_8px_0_0_rgba(0,0,0,1)] p-8 ${wt.isTitle?"bg-white":wt.type==="blog"?"bg-yellow-300":"bg-black"} text-black`,children:[j.jsx("p",{className:"font-black tracking-tighter text-lg leading-tight",children:wt.title||"Entry_Preview"}),j.jsxs("p",{className:"text-[10px] mt-2 opacity-50",children:[wt.content.substring(0,100),"..."]})]}),j.jsxs("div",{className:`p-4 border-2 border-black text-[10px] font-black uppercase opacity-50 ${ot?"border-white":"border-black"}`,children:[j.jsxs("p",{children:[">"," STATUS: SYSTEM_READY"]}),j.jsxs("p",{children:[">"," CLOCK: ",Z.toLocaleTimeString()]})]})]})]})})}),v==="account"&&j.jsx("div",{className:`p-4 md:p-12 animate-in fade-in duration-500 ${ot?"bg-black text-white":"bg-[#f0f0f0] text-black"}`,children:j.jsx("div",{className:"max-w-[1200px] mx-auto w-full space-y-12",children:j.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[j.jsxs("div",{className:`p-8 border-4 border-black shadow-[8px_8px_0_0_rgba(0,0,0,1)] flex flex-col items-center text-center ${ot?"bg-[#111]":"bg-white"}`,children:[T?.photoURL&&j.jsx("img",{src:T.photoURL,className:"w-24 h-24 md:w-32 md:h-32 grayscale border-4 border-black mb-6",alt:"User"}),j.jsx("span",{className:"text-[10px] font-black uppercase opacity-40 block mb-1 italic",children:"Node_Identity_"}),j.jsx("h3",{className:"text-xl font-black uppercase mb-4",children:T?.displayName}),j.jsxs("div",{className:"w-full space-y-2 border-t border-black/10 pt-4",children:[j.jsxs("div",{className:"flex justify-between text-[10px] font-bold uppercase",children:[j.jsx("span",{children:"Likes:"}),j.jsx("span",{className:"text-pink-500",children:D.length})]}),j.jsxs("div",{className:"flex justify-between text-[10px] font-bold uppercase",children:[j.jsx("span",{children:"Status:"}),j.jsx("span",{className:"text-green-500",children:"Connected"})]})]})]}),j.jsx("div",{className:"md:col-span-2 space-y-12",children:j.jsxs("div",{className:"space-y-6",children:[j.jsx("h3",{className:"text-2xl font-black uppercase italic underline decoration-yellow-300 decoration-8 underline-offset-4",children:"Signal_Collection_"}),j.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4",children:D.length===0?j.jsx("div",{className:"col-span-full p-10 border-4 border-dashed border-black/20 text-center uppercase font-black opacity-30 italic",children:"No signals collected yet..."}):D.map(F=>j.jsxs("div",{onClick:()=>g(F),className:"aspect-square border-2 border-black bg-white cursor-pointer group hover:shadow-[4px_4px_0_0_rgba(0,0,0,1)] transition-all overflow-hidden relative",children:[F.type==="art"?j.jsx("img",{src:F.src,className:"w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all",alt:"art"}):j.jsx("div",{className:"p-4 flex flex-col justify-center h-full bg-yellow-300",children:j.jsx("p",{className:"text-[8px] font-black line-clamp-3 text-black",children:F.content})}),j.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-all",children:j.jsx("span",{className:"text-white font-black text-[10px] uppercase tracking-widest",children:"Open_"})})]},F.id))})]})})]})})}),v==="grid"&&j.jsx("main",{className:"p-4 md:p-12 mb-10 block flex-grow animate-in fade-in duration-700",children:j.jsx("div",{className:"columns-2 md:columns-3 lg:columns-4 xl:columns-5 gap-4 md:gap-8 max-w-[1700px] mx-auto space-y-4 md:space-y-8",children:qt.map(F=>j.jsxs("div",{onClick:()=>g(F),className:`break-inside-avoid border-2 md:border-4 border-black group cursor-pointer transition-all mb-4 md:mb-8 shadow-[4px_4px_0_0_rgba(0,0,0,1)] md:shadow-[6px_6px_0_0_rgba(0,0,0,1)] hover:shadow-none hover:translate-x-1 hover:translate-y-1 relative ${F.type==="art"?"bg-black p-0.5":"p-4 md:p-8"} ${F.isTitle?"bg-white border-l-[15px] border-black text-black":F.type==="blog"?"bg-yellow-300 text-black":""}`,children:[ee&&j.jsxs("div",{className:"absolute -top-3 -right-3 flex gap-1 z-10",children:[j.jsx("button",{onClick:dt=>Dt(dt,F),className:"bg-blue-500 text-white w-7 h-7 border-2 border-black flex items-center justify-center hover:bg-black transition-colors shadow-[2px_2px_0_0_rgba(0,0,0,1)]",children:""}),j.jsx("button",{onClick:dt=>St(dt,F.id),className:"bg-red-500 text-white w-7 h-7 border-2 border-black flex items-center justify-center hover:bg-black transition-colors shadow-[2px_2px_0_0_rgba(0,0,0,1)]",children:""})]}),F.type==="blog"?j.jsxs("div",{className:"space-y-2 text-black",children:[A===F.id?j.jsxs("div",{onClick:dt=>dt.stopPropagation(),className:"space-y-2",children:[j.jsx("textarea",{value:V,onChange:dt=>x(dt.target.value),className:"w-full p-2 text-[10px] font-bold border-2 border-black bg-white text-black min-h-[100px]"}),j.jsx("button",{onClick:dt=>ge(dt,F.id),className:"bg-black text-white px-2 py-1 text-[8px] font-black uppercase btn-brutal border border-white",children:"Save_"})]}):j.jsx("p",{className:`font-black tracking-tighter leading-tight ${F.isTitle?"text-lg md:text-3xl italic":"text-[9px] md:text-[12px] line-clamp-[10]"}`,children:F.isTitle?`"${F.content}"`:F.content}),!A&&j.jsxs("div",{className:"flex justify-between items-end pt-2 text-black",children:[j.jsxs("div",{className:"flex gap-2 items-center",children:[j.jsxs("button",{onClick:dt=>et(dt,F.id),className:`flex items-center gap-1 text-[8px] md:text-[10px] font-black border border-black px-1 transition-all ${F.likedBy?.includes(T?.uid)?"bg-pink-300 shadow-none translate-x-0.5 translate-y-0.5":"bg-pink-200 hover:bg-pink-300 shadow-[2px_2px_0_0_rgba(0,0,0,1)]"}`,children:[j.jsx("svg",{className:`w-2 h-2 ${F.likedBy?.includes(T?.uid)?"text-red-600":"text-red-500"} fill-current`,viewBox:"0 0 20 20",children:j.jsx("path",{d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z"})}),F.likes||0]}),F.audioSrc&&j.jsx("span",{className:"text-[10px]",children:""})]}),j.jsx("span",{className:"text-[7px] md:text-[9px] font-black opacity-30 italic",children:F.date})]})]}):j.jsxs("div",{className:"relative overflow-hidden",children:[j.jsx("img",{src:F.src,alt:F.title,className:"w-full h-auto grayscale group-hover:grayscale-0 transition-all duration-700 block"}),j.jsx("div",{className:"absolute top-2 left-2 bg-white text-black border-2 border-black px-2 py-0.5 text-[7px] md:text-[9px] font-black uppercase italic shadow-[2px_2px_0_0_rgba(0,0,0,1)]",children:F.title}),j.jsxs("button",{onClick:dt=>et(dt,F.id),className:`absolute bottom-2 right-2 border-2 border-black px-1 flex items-center gap-1 text-[8px] font-black shadow-[2px_2px_0_0_rgba(0,0,0,1)] ${F.likedBy?.includes(T?.uid)?"bg-pink-300 text-black shadow-none":"bg-pink-200 text-black shadow-[2px_2px_0_0_rgba(0,0,0,1)]"}`,children:[j.jsx("svg",{className:`w-2 h-2 ${F.likedBy?.includes(T?.uid)?"text-red-600":"text-red-500"} fill-current`,viewBox:"0 0 20 20",children:j.jsx("path",{d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z"})}),F.likes||0]})]})]},F.id))})})]}),j.jsxs("footer",{className:`w-full px-6 py-8 border-t border-black/10 text-[9px] md:text-[10px] font-mono opacity-40 hover:opacity-100 transition-opacity flex flex-col md:flex-row justify-between items-center gap-4 uppercase ${ot?"text-white":"text-black"}`,children:[j.jsxs("div",{className:`flex gap-6 font-bold tracking-widest ${ot?"text-white":"text-black"}`,children:[j.jsx("a",{href:"https://instagram.com/gieltemolder",target:"_blank",className:"hover:underline",children:"Instagram"}),j.jsx("a",{href:"mailto:gielmolder@gmail.com",className:"hover:underline",children:"Contact"}),j.jsx("span",{children:"Exposure Therapy Archive"})]}),j.jsxs("div",{className:`flex items-center gap-6 tabular-nums ${ot?"text-white":"text-black"}`,children:[j.jsx("div",{children:Z.toLocaleTimeString("nl-NL",{hour12:!1})}),j.jsxs("div",{className:"bg-black text-white px-2 py-1 border border-white/20 flex items-center gap-2",children:[j.jsx("span",{className:"animate-pulse w-1 h-1 bg-yellow-300 rounded-full"}),j.jsx("span",{className:"font-black text-white",children:"NODE_01"})]})]})]}),d&&j.jsx("div",{className:"fixed inset-0 bg-black/98 z-50 flex items-center justify-center p-2 md:p-12 backdrop-blur-2xl animate-in fade-in duration-300",onClick:()=>g(null),children:j.jsxs("div",{className:`w-full max-w-4xl max-h-[90vh] overflow-y-auto border-4 md:border-[10px] border-black p-6 md:p-12 relative shadow-[15px_15px_0_0_rgba(0,0,0,1)] ${ot?"bg-[#111] text-white":"bg-white text-black"}`,onClick:F=>F.stopPropagation(),children:[j.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-4 mb-10 border-b-4 md:border-b-8 border-black pb-8 text-black",children:[j.jsxs("div",{className:"flex-grow",children:[j.jsx("h2",{className:`text-3xl md:text-6xl font-black uppercase italic tracking-tighter underline underline-offset-4 decoration-yellow-300 leading-none mb-4 ${ot?"text-white":"text-black"}`,children:d.title||"Entry"}),j.jsx("div",{className:"flex flex-wrap gap-2",children:d.tags?.split(",").map(F=>j.jsx("span",{className:"text-[10px] font-black uppercase bg-black text-white px-2 py-0.5",children:F.trim()},F))})]}),j.jsx("button",{onClick:()=>g(null),className:"btn-brutal bg-black text-white px-6 py-2 font-black border-2 border-black hover:bg-yellow-300 hover:text-black uppercase shadow-[3px_3px_0_0_rgba(0,0,0,1)]",children:"Close_"})]}),j.jsxs("div",{className:"space-y-12",children:[d.type==="art"&&j.jsx("img",{src:d.src,className:"w-full h-auto border-4 border-black",alt:"Art"}),d.audioSrc&&j.jsxs("div",{className:"p-4 border-4 border-black bg-white shadow-[6px_6px_0_0_rgba(0,0,0,1)] space-y-2",children:[j.jsx("p",{className:"text-[10px] font-black uppercase italic tracking-widest text-black",children:"// AUDIO_STREAM_ATTACHED"}),j.jsx("audio",{controls:!0,className:"w-full",src:d.audioSrc})]}),j.jsx("div",{className:`text-xl md:text-3xl font-black whitespace-pre-wrap text-justify tracking-tighter selection:bg-yellow-300 ${ot?"text-white":"text-black"}`,children:d.content}),j.jsxs("div",{className:"mt-20 border-t-8 border-black pt-12",children:[j.jsx("h3",{className:`text-2xl md:text-4xl font-black uppercase italic mb-10 underline decoration-pink-300 underline-offset-8 ${ot?"text-white":"text-black"}`,children:"Responses_"}),j.jsx("div",{className:"space-y-6 mb-12",children:i.length===0?j.jsx("p",{className:"text-xs font-bold opacity-30 italic text-black uppercase",children:"No signals yet..."}):i.map(F=>j.jsxs("div",{className:`p-4 border-4 border-black flex gap-4 ${F.isAdmin?"bg-yellow-300 text-black":ot?"bg-[#222]":"bg-white text-black"} shadow-[4px_4px_0_0_rgba(0,0,0,1)]`,children:[F.userPhoto&&j.jsx("img",{src:F.userPhoto,className:"w-10 h-10 border-2 border-black grayscale",alt:"av"}),j.jsxs("div",{className:"flex-grow",children:[j.jsxs("div",{className:"flex justify-between items-start mb-2 uppercase opacity-50 text-[10px] font-black",children:[j.jsxs("span",{children:[F.userName," // ",F.isAdmin?"ADMIN":"USER"]}),j.jsxs("button",{onClick:()=>st(F.id),className:`border px-2 flex items-center gap-1 transition-all ${F.likedBy?.includes(T?.uid)?"bg-pink-300 border-black shadow-none translate-x-0.5 translate-y-0.5":"bg-white border-black/20 hover:bg-pink-100"}`,children:[j.jsx("svg",{className:`w-2 h-2 ${F.likedBy?.includes(T?.uid)?"text-red-600":"text-red-500"} fill-current`,viewBox:"0 0 20 20",children:j.jsx("path",{d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z"})}),F.likes||0]})]}),j.jsx("p",{className:`text-sm md:text-xl font-bold tracking-tight leading-tight ${ot?"text-white":"text-black"}`,children:F.text})]})]},F.id))}),T?j.jsxs("form",{onSubmit:yt,className:"flex flex-col gap-4",children:[j.jsx("textarea",{value:O,onChange:F=>Y(F.target.value),placeholder:"ENTER RESPONSE...",className:"w-full border-4 border-black p-4 text-lg md:text-2xl font-bold focus:bg-pink-50 outline-none shadow-[8px_8px_0_0_rgba(0,0,0,1)] text-black"}),j.jsx("button",{type:"submit",className:"btn-brutal bg-black text-white py-6 font-black uppercase text-xl md:text-3xl italic tracking-tighter shadow-[8px_8px_0_0_rgba(0,0,0,1)]",children:"Push_Response_"})]}):j.jsx("button",{onClick:ct,className:"w-full border-4 border-dashed border-black p-10 text-xl font-black uppercase hover:bg-yellow-300 transition-colors text-black",children:"LOGIN_TO_SIGNAL_"})]})]})]})})]})}LA.createRoot(document.getElementById("root")).render(j.jsx(ie.StrictMode,{children:j.jsx(KC,{})}));
