(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(l){if(l.ep)return;l.ep=!0;const h=i(l);fetch(l.href,h)}})();var Ed={exports:{}},hl={};var b_;function hb(){if(b_)return hl;b_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,h){var d=null;if(h!==void 0&&(d=""+h),l.key!==void 0&&(d=""+l.key),"key"in l){h={};for(var g in l)g!=="key"&&(h[g]=l[g])}else h=l;return l=h.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:h}}return hl.Fragment=t,hl.jsx=i,hl.jsxs=i,hl}var S_;function fb(){return S_||(S_=1,Ed.exports=hb()),Ed.exports}var tt=fb(),Td={exports:{}},Et={};var w_;function db(){if(w_)return Et;w_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),M=Symbol.iterator;function Y(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,it={};function dt(O,Q,nt){this.props=O,this.context=Q,this.refs=it,this.updater=nt||J}dt.prototype.isReactComponent={},dt.prototype.setState=function(O,Q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Q,"setState")},dt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function At(){}At.prototype=dt.prototype;function yt(O,Q,nt){this.props=O,this.context=Q,this.refs=it,this.updater=nt||J}var Kt=yt.prototype=new At;Kt.constructor=yt,$(Kt,dt.prototype),Kt.isPureReactComponent=!0;var W=Array.isArray;function vt(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function I(O,Q,nt){var at=nt.ref;return{$$typeof:s,type:O,key:Q,ref:at!==void 0?at:null,props:nt}}function V(O,Q){return I(O.type,Q,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function k(O){var Q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(nt){return Q[nt]})}var w=/\/+/g;function ie(O,Q){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):Q.toString(36)}function Ie(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(vt,vt):(O.status="pending",O.then(function(Q){O.status==="pending"&&(O.status="fulfilled",O.value=Q)},function(Q){O.status==="pending"&&(O.status="rejected",O.reason=Q)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,Q,nt,at,gt){var wt=typeof O;(wt==="undefined"||wt==="boolean")&&(O=null);var kt=!1;if(O===null)kt=!0;else switch(wt){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(O.$$typeof){case s:case t:kt=!0;break;case A:return kt=O._init,H(kt(O._payload),Q,nt,at,gt)}}if(kt)return gt=gt(O),kt=at===""?"."+ie(O,0):at,W(gt)?(nt="",kt!=null&&(nt=kt.replace(w,"$&/")+"/"),H(gt,Q,nt,"",function(Zr){return Zr})):gt!=null&&(N(gt)&&(gt=V(gt,nt+(gt.key==null||O&&O.key===gt.key?"":(""+gt.key).replace(w,"$&/")+"/")+kt)),Q.push(gt)),1;kt=0;var Ce=at===""?".":at+":";if(W(O))for(var re=0;re<O.length;re++)at=O[re],wt=Ce+ie(at,re),kt+=H(at,Q,nt,wt,gt);else if(re=Y(O),typeof re=="function")for(O=re.call(O),re=0;!(at=O.next()).done;)at=at.value,wt=Ce+ie(at,re++),kt+=H(at,Q,nt,wt,gt);else if(wt==="object"){if(typeof O.then=="function")return H(Ie(O),Q,nt,at,gt);throw Q=String(O),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return kt}function et(O,Q,nt){if(O==null)return O;var at=[],gt=0;return H(O,at,"","",function(wt){return Q.call(nt,wt,gt++)}),at}function ht(O){if(O._status===-1){var Q=O._result;Q=Q(),Q.then(function(nt){(O._status===0||O._status===-1)&&(O._status=1,O._result=nt)},function(nt){(O._status===0||O._status===-1)&&(O._status=2,O._result=nt)}),O._status===-1&&(O._status=0,O._result=Q)}if(O._status===1)return O._result.default;throw O._result}var Lt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ht={map:et,forEach:function(O,Q,nt){et(O,function(){Q.apply(this,arguments)},nt)},count:function(O){var Q=0;return et(O,function(){Q++}),Q},toArray:function(O){return et(O,function(Q){return Q})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Et.Activity=S,Et.Children=Ht,Et.Component=dt,Et.Fragment=i,Et.Profiler=l,Et.PureComponent=yt,Et.StrictMode=a,Et.Suspense=v,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Et.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},Et.cache=function(O){return function(){return O.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(O,Q,nt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var at=$({},O.props),gt=O.key;if(Q!=null)for(wt in Q.key!==void 0&&(gt=""+Q.key),Q)!b.call(Q,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&Q.ref===void 0||(at[wt]=Q[wt]);var wt=arguments.length-2;if(wt===1)at.children=nt;else if(1<wt){for(var kt=Array(wt),Ce=0;Ce<wt;Ce++)kt[Ce]=arguments[Ce+2];at.children=kt}return I(O.type,gt,at)},Et.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:h,_context:O},O},Et.createElement=function(O,Q,nt){var at,gt={},wt=null;if(Q!=null)for(at in Q.key!==void 0&&(wt=""+Q.key),Q)b.call(Q,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(gt[at]=Q[at]);var kt=arguments.length-2;if(kt===1)gt.children=nt;else if(1<kt){for(var Ce=Array(kt),re=0;re<kt;re++)Ce[re]=arguments[re+2];gt.children=Ce}if(O&&O.defaultProps)for(at in kt=O.defaultProps,kt)gt[at]===void 0&&(gt[at]=kt[at]);return I(O,wt,gt)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(O){return{$$typeof:g,render:O}},Et.isValidElement=N,Et.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:ht}},Et.memo=function(O,Q){return{$$typeof:_,type:O,compare:Q===void 0?null:Q}},Et.startTransition=function(O){var Q=C.T,nt={};C.T=nt;try{var at=O(),gt=C.S;gt!==null&&gt(nt,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(vt,Lt)}catch(wt){Lt(wt)}finally{Q!==null&&nt.types!==null&&(Q.types=nt.types),C.T=Q}},Et.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Et.use=function(O){return C.H.use(O)},Et.useActionState=function(O,Q,nt){return C.H.useActionState(O,Q,nt)},Et.useCallback=function(O,Q){return C.H.useCallback(O,Q)},Et.useContext=function(O){return C.H.useContext(O)},Et.useDebugValue=function(){},Et.useDeferredValue=function(O,Q){return C.H.useDeferredValue(O,Q)},Et.useEffect=function(O,Q){return C.H.useEffect(O,Q)},Et.useEffectEvent=function(O){return C.H.useEffectEvent(O)},Et.useId=function(){return C.H.useId()},Et.useImperativeHandle=function(O,Q,nt){return C.H.useImperativeHandle(O,Q,nt)},Et.useInsertionEffect=function(O,Q){return C.H.useInsertionEffect(O,Q)},Et.useLayoutEffect=function(O,Q){return C.H.useLayoutEffect(O,Q)},Et.useMemo=function(O,Q){return C.H.useMemo(O,Q)},Et.useOptimistic=function(O,Q){return C.H.useOptimistic(O,Q)},Et.useReducer=function(O,Q,nt){return C.H.useReducer(O,Q,nt)},Et.useRef=function(O){return C.H.useRef(O)},Et.useState=function(O){return C.H.useState(O)},Et.useSyncExternalStore=function(O,Q,nt){return C.H.useSyncExternalStore(O,Q,nt)},Et.useTransition=function(){return C.H.useTransition()},Et.version="19.2.3",Et}var R_;function cm(){return R_||(R_=1,Td.exports=db()),Td.exports}var vn=cm(),Ad={exports:{}},fl={},bd={exports:{}},Sd={};var I_;function mb(){return I_||(I_=1,(function(s){function t(H,et){var ht=H.length;H.push(et);t:for(;0<ht;){var Lt=ht-1>>>1,Ht=H[Lt];if(0<l(Ht,et))H[Lt]=et,H[ht]=Ht,ht=Lt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var et=H[0],ht=H.pop();if(ht!==et){H[0]=ht;t:for(var Lt=0,Ht=H.length,O=Ht>>>1;Lt<O;){var Q=2*(Lt+1)-1,nt=H[Q],at=Q+1,gt=H[at];if(0>l(nt,ht))at<Ht&&0>l(gt,nt)?(H[Lt]=gt,H[at]=ht,Lt=at):(H[Lt]=nt,H[Q]=ht,Lt=Q);else if(at<Ht&&0>l(gt,ht))H[Lt]=gt,H[at]=ht,Lt=at;else break t}}return et}function l(H,et){var ht=H.sortIndex-et.sortIndex;return ht!==0?ht:H.id-et.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var v=[],_=[],A=1,S=null,M=3,Y=!1,J=!1,$=!1,it=!1,dt=typeof setTimeout=="function"?setTimeout:null,At=typeof clearTimeout=="function"?clearTimeout:null,yt=typeof setImmediate<"u"?setImmediate:null;function Kt(H){for(var et=i(_);et!==null;){if(et.callback===null)a(_);else if(et.startTime<=H)a(_),et.sortIndex=et.expirationTime,t(v,et);else break;et=i(_)}}function W(H){if($=!1,Kt(H),!J)if(i(v)!==null)J=!0,vt||(vt=!0,k());else{var et=i(_);et!==null&&Ie(W,et.startTime-H)}}var vt=!1,C=-1,b=5,I=-1;function V(){return it?!0:!(s.unstable_now()-I<b)}function N(){if(it=!1,vt){var H=s.unstable_now();I=H;var et=!0;try{t:{J=!1,$&&($=!1,At(C),C=-1),Y=!0;var ht=M;try{e:{for(Kt(H),S=i(v);S!==null&&!(S.expirationTime>H&&V());){var Lt=S.callback;if(typeof Lt=="function"){S.callback=null,M=S.priorityLevel;var Ht=Lt(S.expirationTime<=H);if(H=s.unstable_now(),typeof Ht=="function"){S.callback=Ht,Kt(H),et=!0;break e}S===i(v)&&a(v),Kt(H)}else a(v);S=i(v)}if(S!==null)et=!0;else{var O=i(_);O!==null&&Ie(W,O.startTime-H),et=!1}}break t}finally{S=null,M=ht,Y=!1}et=void 0}}finally{et?k():vt=!1}}}var k;if(typeof yt=="function")k=function(){yt(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ie=w.port2;w.port1.onmessage=N,k=function(){ie.postMessage(null)}}else k=function(){dt(N,0)};function Ie(H,et){C=dt(function(){H(s.unstable_now())},et)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(H){switch(M){case 1:case 2:case 3:var et=3;break;default:et=M}var ht=M;M=et;try{return H()}finally{M=ht}},s.unstable_requestPaint=function(){it=!0},s.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ht=M;M=H;try{return et()}finally{M=ht}},s.unstable_scheduleCallback=function(H,et,ht){var Lt=s.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Lt+ht:Lt):ht=Lt,H){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ht+Ht,H={id:A++,callback:et,priorityLevel:H,startTime:ht,expirationTime:Ht,sortIndex:-1},ht>Lt?(H.sortIndex=ht,t(_,H),i(v)===null&&H===i(_)&&($?(At(C),C=-1):$=!0,Ie(W,ht-Lt))):(H.sortIndex=Ht,t(v,H),J||Y||(J=!0,vt||(vt=!0,k()))),H},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(H){var et=M;return function(){var ht=M;M=et;try{return H.apply(this,arguments)}finally{M=ht}}}})(Sd)),Sd}var C_;function pb(){return C_||(C_=1,bd.exports=mb()),bd.exports}var wd={exports:{}},Qe={};var D_;function gb(){if(D_)return Qe;D_=1;var s=cm();function t(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(v,_,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:v,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Qe.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return h(v,_,null,A)},Qe.flushSync=function(v){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=_,a.p=A,a.d.f()}},Qe.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},Qe.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Qe.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,S=g(A,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,Y=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:M,fetchPriority:Y}):A==="script"&&a.d.X(v,{crossOrigin:S,integrity:M,fetchPriority:Y,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Qe.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},Qe.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,S=g(A,_.crossOrigin);a.d.L(v,A,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Qe.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=g(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},Qe.requestFormReset=function(v){a.d.r(v)},Qe.unstable_batchedUpdates=function(v,_){return v(_)},Qe.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.2.3",Qe}var N_;function yb(){if(N_)return wd.exports;N_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),wd.exports=gb(),wd.exports}var O_;function _b(){if(O_)return fl;O_=1;var s=pb(),t=cm(),i=yb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(h(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(o=c.return,o!==null){r=o;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return v(c),e;if(f===o)return v(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=c,o=f;else{for(var p=!1,E=c.child;E;){if(E===r){p=!0,r=c,o=f;break}if(E===o){p=!0,o=c,r=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===r){p=!0,r=f,o=c;break}if(E===o){p=!0,o=f,r=c;break}E=E.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,M=Symbol.for("react.element"),Y=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),it=Symbol.for("react.strict_mode"),dt=Symbol.for("react.profiler"),At=Symbol.for("react.consumer"),yt=Symbol.for("react.context"),Kt=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),vt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $:return"Fragment";case dt:return"Profiler";case it:return"StrictMode";case W:return"Suspense";case vt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case yt:return e.displayName||"Context";case At:return(e._context.displayName||"Context")+".Consumer";case Kt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:ie(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return ie(e(n))}catch{}}return null}var Ie=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Lt=[],Ht=-1;function O(e){return{current:e}}function Q(e){0>Ht||(e.current=Lt[Ht],Lt[Ht]=null,Ht--)}function nt(e,n){Ht++,Lt[Ht]=e.current,e.current=n}var at=O(null),gt=O(null),wt=O(null),kt=O(null);function Ce(e,n){switch(nt(wt,n),nt(gt,e),nt(at,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Qy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Qy(n),e=Ky(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(at),nt(at,e)}function re(){Q(at),Q(gt),Q(wt)}function Zr(e){e.memoizedState!==null&&nt(kt,e);var n=at.current,r=Ky(n,e.type);n!==r&&(nt(gt,e),nt(at,r))}function Gs(e){gt.current===e&&(Q(at),Q(gt)),kt.current===e&&(Q(kt),ol._currentValue=ht)}var Fs,Qs;function Wn(e){if(Fs===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Fs=n&&n[1]||"",Qs=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fs+e+Qs}var ao=!1;function $r(e,n){if(!e||ao)return"";ao=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(j){var z=j}Reflect.construct(e,[],F)}else{try{F.call()}catch(j){z=j}e.call(F.prototype)}}else{try{throw Error()}catch(j){z=j}(F=e())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(j){if(j&&z&&typeof j.stack=="string")return[j.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var R=p.split(`
`),P=E.split(`
`);for(c=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(o===R.length||c===P.length)for(o=R.length-1,c=P.length-1;1<=o&&0<=c&&R[o]!==P[c];)c--;for(;1<=o&&0<=c;o--,c--)if(R[o]!==P[c]){if(o!==1||c!==1)do if(o--,c--,0>c||R[o]!==P[c]){var q=`
`+R[o].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=o&&0<=c);break}}}finally{ao=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Wn(r):""}function oo(e,n){switch(e.tag){case 26:case 27:case 5:return Wn(e.type);case 16:return Wn("Lazy");case 13:return e.child!==n&&n!==null?Wn("Suspense Fallback"):Wn("Suspense");case 19:return Wn("SuspenseList");case 0:case 15:return $r(e.type,!1);case 11:return $r(e.type.render,!1);case 1:return $r(e.type,!0);case 31:return Wn("Activity");default:return""}}function lo(e){try{var n="",r=null;do n+=oo(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var pe=Object.prototype.hasOwnProperty,De=s.unstable_scheduleCallback,nr=s.unstable_cancelCallback,Th=s.unstable_shouldYield,Fl=s.unstable_requestPaint,Ze=s.unstable_now,Wr=s.unstable_getCurrentPriorityLevel,uo=s.unstable_ImmediatePriority,co=s.unstable_UserBlockingPriority,ir=s.unstable_NormalPriority,Ah=s.unstable_LowPriority,Ql=s.unstable_IdlePriority,Kl=s.log,Yl=s.unstable_setDisableYieldValue,kn=null,Le=null;function En(e){if(typeof Kl=="function"&&Yl(e),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(kn,e)}catch{}}var ce=Math.clz32?Math.clz32:Jl,Xl=Math.log,Ks=Math.LN2;function Jl(e){return e>>>=0,e===0?32:31-(Xl(e)/Ks|0)|0}var ti=256,ts=262144,ge=4194304;function ei(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ni(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var c=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?c=ei(o):(p&=E,p!==0?c=ei(p):r||(r=E&~e,r!==0&&(c=ei(r))))):(E=o&~f,E!==0?c=ei(E):p!==0?c=ei(p):r||(r=o&~e,r!==0&&(c=ei(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Un(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function bh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zl(){var e=ge;return ge<<=1,(ge&62914560)===0&&(ge=4194304),e}function ii(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function es(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Sh(e,n,r,o,c,f){var p=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,P=e.hiddenUpdates;for(r=p&~r;0<r;){var q=31-ce(r),F=1<<q;E[q]=0,R[q]=-1;var z=P[q];if(z!==null)for(P[q]=null,q=0;q<z.length;q++){var j=z[q];j!==null&&(j.lane&=-536870913)}r&=~F}o!==0&&ns(e,o,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function ns(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ce(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function ho(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-ce(r),c=1<<o;c&n|e[o]&n&&(e[o]|=n),r&=~c}}function fo(e,n){var r=n&-n;return r=(r&42)!==0?1:is(r),(r&(e.suspendedLanes|n))!==0?0:r}function is(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ci(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function $l(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:g_(e.type))}function Ln(e,n){var r=et.p;try{return et.p=e,n()}finally{et.p=r}}var Pn=Math.random().toString(36).slice(2),ye="__reactFiber$"+Pn,Me="__reactProps$"+Pn,ri="__reactContainer$"+Pn,Ys="__reactEvents$"+Pn,wh="__reactListeners$"+Pn,Wl="__reactHandles$"+Pn,tu="__reactResources$"+Pn,si="__reactMarker$"+Pn;function Xs(e){delete e[ye],delete e[Me],delete e[Ys],delete e[wh],delete e[Wl]}function ai(e){var n=e[ye];if(n)return n;for(var r=e.parentNode;r;){if(n=r[ri]||r[ye]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=t_(e);e!==null;){if(r=e[ye])return r;e=t_(e)}return n}e=r,r=e.parentNode}return null}function Tn(e){if(e=e[ye]||e[ri]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function cn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function oi(e){var n=e[tu];return n||(n=e[tu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _e(e){e[si]=!0}var mo=new Set,po={};function li(e,n){ui(e,n),ui(e+"Capture",n)}function ui(e,n){for(po[e]=n,e=0;e<n.length;e++)mo.add(n[e])}var go=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yo={},_o={};function eu(e){return pe.call(_o,e)?!0:pe.call(yo,e)?!1:go.test(e)?_o[e]=!0:(yo[e]=!0,!1)}function Js(e,n,r){if(eu(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function hn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function ve(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function xe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function vo(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gt(e){if(!e._valueTracker){var n=rr(e)?"checked":"value";e._valueTracker=vo(e,n,""+e[n])}}function rs(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=rr(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ss=/[\n"\\]/g;function en(e){return e.replace(ss,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Zs(e,n,r,o,c,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+xe(n)):e.value!==""+xe(n)&&(e.value=""+xe(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Eo(e,p,xe(n)):r!=null?Eo(e,p,xe(r)):o!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+xe(E):e.removeAttribute("name")}function nu(e,n,r,o,c,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(e);return}r=r!=null?""+xe(r):"",n=n!=null?""+xe(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Gt(e)}function Eo(e,n,r){n==="number"&&ci(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function sr(e,n,r,o){if(e=e.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<e.length;r++)c=n.hasOwnProperty("$"+e[r].value),e[r].selected!==c&&(e[r].selected=c),c&&o&&(e[r].defaultSelected=!0)}else{for(r=""+xe(r),n=null,c=0;c<e.length;c++){if(e[c].value===r){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function iu(e,n,r){if(n!=null&&(n=""+xe(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+xe(r):""}function ar(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(Ie(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=xe(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Gt(e)}function nn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var ru=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function To(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||ru.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Ao(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var c in n)o=n[c],n.hasOwnProperty(c)&&r[c]!==o&&To(e,c,o)}else for(var f in n)n.hasOwnProperty(f)&&To(e,f,n[f])}function $s(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var su=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),or=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ws(e){return or.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function zn(){}var bo=null;function An(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var lr=null,hi=null;function as(e){var n=Tn(e);if(n&&(e=n.stateNode)){var r=e[Me]||null;t:switch(e=n.stateNode,n.type){case"input":if(Zs(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+en(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var c=o[Me]||null;if(!c)throw Error(a(90));Zs(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&rs(o)}break t;case"textarea":iu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&sr(e,!!r.multiple,n,!1)}}}var ta=!1;function ur(e,n,r){if(ta)return e(n,r);ta=!0;try{var o=e(n);return o}finally{if(ta=!1,(lr!==null||hi!==null)&&($u(),lr&&(n=lr,e=hi,hi=lr=null,as(n),e)))for(n=0;n<e.length;n++)as(e[n])}}function Bn(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Me]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),os=!1;if(bn)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){os=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{os=!1}var fi=null,So=null,ls=null;function wo(){if(ls)return ls;var e,n=So,r=n.length,o,c="value"in fi?fi.value:fi.textContent,f=c.length;for(e=0;e<r&&n[e]===c[e];e++);var p=r-e;for(o=1;o<=p&&n[r-o]===c[f-o];o++);return ls=c.slice(e,1<o?1-o:void 0)}function us(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Di(){return!0}function jn(){return!1}function Pe(e){function n(r,o,c,f,p){this._reactName=r,this._targetInst=c,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Di:jn,this.isPropagationStopped=jn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),n}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},di=Pe(Ni),cr=S({},Ni,{view:0,detail:0}),Ro=Pe(cr),hr,ea,mi,na=S({},cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mi&&(mi&&e.type==="mousemove"?(hr=e.screenX-mi.screenX,ea=e.screenY-mi.screenY):ea=hr=0,mi=e),hr)},movementY:function(e){return"movementY"in e?e.movementY:ea}}),Io=Pe(na),cs=S({},na,{dataTransfer:0}),au=Pe(cs),ou=S({},cr,{relatedTarget:0}),hs=Pe(ou),Co=S({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),lu=Pe(Co),ia=S({},Ni,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uu=Pe(ia),cu=S({},Ni,{data:0}),pi=Pe(cu),hu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=du[e])?!!n[e]:!1}function fr(){return mu}var $e=S({},cr,{key:function(e){if(e.key){var n=hu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=us(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fr,charCode:function(e){return e.type==="keypress"?us(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?us(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pu=Pe($e),gu=S({},na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oi=Pe(gu),u=S({},cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fr}),m=Pe(u),y=S({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Pe(y),U=S({},na,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Pe(U),Z=S({},Ni,{newState:0,oldState:0}),bt=Pe(Z),he=[9,13,27,32],Bt=bn&&"CompositionEvent"in window,se=null;bn&&"documentMode"in document&&(se=document.documentMode);var Sn=bn&&"TextEvent"in window&&!se,gi=bn&&(!Bt||se&&8<se&&11>=se),qn=" ",Hn=!1;function fs(e,n){switch(e){case"keyup":return he.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ra(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sa=!1;function k0(e,n){switch(e){case"compositionend":return ra(n);case"keypress":return n.which!==32?null:(Hn=!0,qn);case"textInput":return e=n.data,e===qn&&Hn?null:e;default:return null}}function U0(e,n){if(sa)return e==="compositionend"||!Bt&&fs(e,n)?(e=wo(),ls=So=fi=null,sa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gi&&n.locale!=="ko"?null:n.data;default:return null}}var L0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ip(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!L0[e.type]:n==="textarea"}function rp(e,n,r,o){lr?hi?hi.push(o):hi=[o]:lr=o,n=sc(n,"onChange"),0<n.length&&(r=new di("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Do=null,No=null;function P0(e){By(e,0)}function yu(e){var n=cn(e);if(rs(n))return e}function sp(e,n){if(e==="change")return n}var ap=!1;if(bn){var Rh;if(bn){var Ih="oninput"in document;if(!Ih){var op=document.createElement("div");op.setAttribute("oninput","return;"),Ih=typeof op.oninput=="function"}Rh=Ih}else Rh=!1;ap=Rh&&(!document.documentMode||9<document.documentMode)}function lp(){Do&&(Do.detachEvent("onpropertychange",up),No=Do=null)}function up(e){if(e.propertyName==="value"&&yu(No)){var n=[];rp(n,No,e,An(e)),ur(P0,n)}}function z0(e,n,r){e==="focusin"?(lp(),Do=n,No=r,Do.attachEvent("onpropertychange",up)):e==="focusout"&&lp()}function B0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yu(No)}function j0(e,n){if(e==="click")return yu(n)}function q0(e,n){if(e==="input"||e==="change")return yu(n)}function H0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var fn=typeof Object.is=="function"?Object.is:H0;function Oo(e,n){if(fn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var c=r[o];if(!pe.call(n,c)||!fn(e[c],n[c]))return!1}return!0}function cp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hp(e,n){var r=cp(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=cp(r)}}function fp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?fp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function dp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ci(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=ci(e.document)}return n}function Ch(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var G0=bn&&"documentMode"in document&&11>=document.documentMode,aa=null,Dh=null,Vo=null,Nh=!1;function mp(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Nh||aa==null||aa!==ci(o)||(o=aa,"selectionStart"in o&&Ch(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Vo&&Oo(Vo,o)||(Vo=o,o=sc(Dh,"onSelect"),0<o.length&&(n=new di("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=aa)))}function ds(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var oa={animationend:ds("Animation","AnimationEnd"),animationiteration:ds("Animation","AnimationIteration"),animationstart:ds("Animation","AnimationStart"),transitionrun:ds("Transition","TransitionRun"),transitionstart:ds("Transition","TransitionStart"),transitioncancel:ds("Transition","TransitionCancel"),transitionend:ds("Transition","TransitionEnd")},Oh={},pp={};bn&&(pp=document.createElement("div").style,"AnimationEvent"in window||(delete oa.animationend.animation,delete oa.animationiteration.animation,delete oa.animationstart.animation),"TransitionEvent"in window||delete oa.transitionend.transition);function ms(e){if(Oh[e])return Oh[e];if(!oa[e])return e;var n=oa[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in pp)return Oh[e]=n[r];return e}var gp=ms("animationend"),yp=ms("animationiteration"),_p=ms("animationstart"),F0=ms("transitionrun"),Q0=ms("transitionstart"),K0=ms("transitioncancel"),vp=ms("transitionend"),Ep=new Map,Vh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vh.push("scrollEnd");function Gn(e,n){Ep.set(e,n),li(n,[e])}var _u=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},wn=[],la=0,Mh=0;function vu(){for(var e=la,n=Mh=la=0;n<e;){var r=wn[n];wn[n++]=null;var o=wn[n];wn[n++]=null;var c=wn[n];wn[n++]=null;var f=wn[n];if(wn[n++]=null,o!==null&&c!==null){var p=o.pending;p===null?c.next=c:(c.next=p.next,p.next=c),o.pending=c}f!==0&&Tp(r,c,f)}}function Eu(e,n,r,o){wn[la++]=e,wn[la++]=n,wn[la++]=r,wn[la++]=o,Mh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function xh(e,n,r,o){return Eu(e,n,r,o),Tu(e)}function ps(e,n){return Eu(e,null,null,n),Tu(e)}function Tp(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var c=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-ce(r),e=f.hiddenUpdates,o=e[c],o===null?e[c]=[n]:o.push(n),n.lane=r|536870912),f):null}function Tu(e){if(50<tl)throw tl=0,Gf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ua={};function Y0(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(e,n,r,o){return new Y0(e,n,r,o)}function kh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vi(e,n){var r=e.alternate;return r===null?(r=dn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Ap(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Au(e,n,r,o,c,f){var p=0;if(o=e,typeof e=="function")kh(e)&&(p=1);else if(typeof e=="string")p=WA(e,r,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=dn(31,r,n,c),e.elementType=I,e.lanes=f,e;case $:return gs(r.children,c,f,n);case it:p=8,c|=24;break;case dt:return e=dn(12,r,n,c|2),e.elementType=dt,e.lanes=f,e;case W:return e=dn(13,r,n,c),e.elementType=W,e.lanes=f,e;case vt:return e=dn(19,r,n,c),e.elementType=vt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yt:p=10;break t;case At:p=9;break t;case Kt:p=11;break t;case C:p=14;break t;case b:p=16,o=null;break t}p=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=dn(p,r,n,c),n.elementType=e,n.type=o,n.lanes=f,n}function gs(e,n,r,o){return e=dn(7,e,o,n),e.lanes=r,e}function Uh(e,n,r){return e=dn(6,e,null,n),e.lanes=r,e}function bp(e){var n=dn(18,null,null,0);return n.stateNode=e,n}function Lh(e,n,r){return n=dn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Sp=new WeakMap;function Rn(e,n){if(typeof e=="object"&&e!==null){var r=Sp.get(e);return r!==void 0?r:(n={value:e,source:n,stack:lo(n)},Sp.set(e,n),n)}return{value:e,source:n,stack:lo(n)}}var ca=[],ha=0,bu=null,Mo=0,In=[],Cn=0,dr=null,yi=1,_i="";function Mi(e,n){ca[ha++]=Mo,ca[ha++]=bu,bu=e,Mo=n}function wp(e,n,r){In[Cn++]=yi,In[Cn++]=_i,In[Cn++]=dr,dr=e;var o=yi;e=_i;var c=32-ce(o)-1;o&=~(1<<c),r+=1;var f=32-ce(n)+c;if(30<f){var p=c-c%5;f=(o&(1<<p)-1).toString(32),o>>=p,c-=p,yi=1<<32-ce(n)+c|r<<c|o,_i=f+e}else yi=1<<f|r<<c|o,_i=e}function Ph(e){e.return!==null&&(Mi(e,1),wp(e,1,0))}function zh(e){for(;e===bu;)bu=ca[--ha],ca[ha]=null,Mo=ca[--ha],ca[ha]=null;for(;e===dr;)dr=In[--Cn],In[Cn]=null,_i=In[--Cn],In[Cn]=null,yi=In[--Cn],In[Cn]=null}function Rp(e,n){In[Cn++]=yi,In[Cn++]=_i,In[Cn++]=dr,yi=n.id,_i=n.overflow,dr=e}var ze=null,te=null,xt=!1,mr=null,Dn=!1,Bh=Error(a(519));function pr(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xo(Rn(n,e)),Bh}function Ip(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[ye]=e,n[Me]=o,r){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(r=0;r<nl.length;r++)Ct(nl[r],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),nu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),ar(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||Gy(n.textContent,r)?(o.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),o.onScroll!=null&&Ct("scroll",n),o.onScrollEnd!=null&&Ct("scrollend",n),o.onClick!=null&&(n.onclick=zn),n=!0):n=!1,n||pr(e,!0)}function Cp(e){for(ze=e.return;ze;)switch(ze.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:ze=ze.return}}function fa(e){if(e!==ze)return!1;if(!xt)return Cp(e),xt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||sd(e.type,e.memoizedProps)),r=!r),r&&te&&pr(e),Cp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));te=Wy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));te=Wy(e)}else n===27?(n=te,Dr(e.type)?(e=cd,cd=null,te=e):te=n):te=ze?On(e.stateNode.nextSibling):null;return!0}function ys(){te=ze=null,xt=!1}function jh(){var e=mr;return e!==null&&(on===null?on=e:on.push.apply(on,e),mr=null),e}function xo(e){mr===null?mr=[e]:mr.push(e)}var qh=O(null),_s=null,xi=null;function gr(e,n,r){nt(qh,n._currentValue),n._currentValue=r}function ki(e){e._currentValue=qh.current,Q(qh)}function Hh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function Gh(e,n,r,o){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var p=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Hh(f.return,r,e),o||(p=null);break t}f=E.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),Hh(p,r,e),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===e){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function da(e,n,r,o){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=c.type;fn(c.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(c===kt.current){if(p=c.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(ol):e=[ol])}c=c.return}e!==null&&Gh(n,e,r,o),n.flags|=262144}function Su(e){for(e=e.firstContext;e!==null;){if(!fn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function vs(e){_s=e,xi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return Dp(_s,e)}function wu(e,n){return _s===null&&vs(e),Dp(e,n)}function Dp(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},xi===null){if(e===null)throw Error(a(308));xi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else xi=xi.next=n;return r}var X0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},J0=s.unstable_scheduleCallback,Z0=s.unstable_NormalPriority,Ee={$$typeof:yt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fh(){return{controller:new X0,data:new Map,refCount:0}}function ko(e){e.refCount--,e.refCount===0&&J0(Z0,function(){e.controller.abort()})}var Uo=null,Qh=0,ma=0,pa=null;function $0(e,n){if(Uo===null){var r=Uo=[];Qh=0,ma=Jf(),pa={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Qh++,n.then(Np,Np),n}function Np(){if(--Qh===0&&Uo!==null){pa!==null&&(pa.status="fulfilled");var e=Uo;Uo=null,ma=0,pa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function W0(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(o.status="rejected",o.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),o}var Op=H.S;H.S=function(e,n){my=Ze(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&$0(e,n),Op!==null&&Op(e,n)};var Es=O(null);function Kh(){var e=Es.current;return e!==null?e:$t.pooledCache}function Ru(e,n){n===null?nt(Es,Es.current):nt(Es,n.pool)}function Vp(){var e=Kh();return e===null?null:{parent:Ee._currentValue,pool:e}}var ga=Error(a(460)),Yh=Error(a(474)),Iu=Error(a(542)),Cu={then:function(){}};function Mp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function xp(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(zn,zn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Up(e),e;default:if(typeof n.status=="string")n.then(zn,zn);else{if(e=$t,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=o}},function(o){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Up(e),e}throw As=n,ga}}function Ts(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(As=r,ga):r}}var As=null;function kp(){if(As===null)throw Error(a(459));var e=As;return As=null,e}function Up(e){if(e===ga||e===Iu)throw Error(a(483))}var ya=null,Lo=0;function Du(e){var n=Lo;return Lo+=1,ya===null&&(ya=[]),xp(ya,e,n)}function Po(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Nu(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Lp(e){function n(x,D){if(e){var L=x.deletions;L===null?(x.deletions=[D],x.flags|=16):L.push(D)}}function r(x,D){if(!e)return null;for(;D!==null;)n(x,D),D=D.sibling;return null}function o(x){for(var D=new Map;x!==null;)x.key!==null?D.set(x.key,x):D.set(x.index,x),x=x.sibling;return D}function c(x,D){return x=Vi(x,D),x.index=0,x.sibling=null,x}function f(x,D,L){return x.index=L,e?(L=x.alternate,L!==null?(L=L.index,L<D?(x.flags|=67108866,D):L):(x.flags|=67108866,D)):(x.flags|=1048576,D)}function p(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function E(x,D,L,G){return D===null||D.tag!==6?(D=Uh(L,x.mode,G),D.return=x,D):(D=c(D,L),D.return=x,D)}function R(x,D,L,G){var ut=L.type;return ut===$?q(x,D,L.props.children,G,L.key):D!==null&&(D.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&Ts(ut)===D.type)?(D=c(D,L.props),Po(D,L),D.return=x,D):(D=Au(L.type,L.key,L.props,null,x.mode,G),Po(D,L),D.return=x,D)}function P(x,D,L,G){return D===null||D.tag!==4||D.stateNode.containerInfo!==L.containerInfo||D.stateNode.implementation!==L.implementation?(D=Lh(L,x.mode,G),D.return=x,D):(D=c(D,L.children||[]),D.return=x,D)}function q(x,D,L,G,ut){return D===null||D.tag!==7?(D=gs(L,x.mode,G,ut),D.return=x,D):(D=c(D,L),D.return=x,D)}function F(x,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Uh(""+D,x.mode,L),D.return=x,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Y:return L=Au(D.type,D.key,D.props,null,x.mode,L),Po(L,D),L.return=x,L;case J:return D=Lh(D,x.mode,L),D.return=x,D;case b:return D=Ts(D),F(x,D,L)}if(Ie(D)||k(D))return D=gs(D,x.mode,L,null),D.return=x,D;if(typeof D.then=="function")return F(x,Du(D),L);if(D.$$typeof===yt)return F(x,wu(x,D),L);Nu(x,D)}return null}function z(x,D,L,G){var ut=D!==null?D.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ut!==null?null:E(x,D,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Y:return L.key===ut?R(x,D,L,G):null;case J:return L.key===ut?P(x,D,L,G):null;case b:return L=Ts(L),z(x,D,L,G)}if(Ie(L)||k(L))return ut!==null?null:q(x,D,L,G,null);if(typeof L.then=="function")return z(x,D,Du(L),G);if(L.$$typeof===yt)return z(x,D,wu(x,L),G);Nu(x,L)}return null}function j(x,D,L,G,ut){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return x=x.get(L)||null,E(D,x,""+G,ut);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case Y:return x=x.get(G.key===null?L:G.key)||null,R(D,x,G,ut);case J:return x=x.get(G.key===null?L:G.key)||null,P(D,x,G,ut);case b:return G=Ts(G),j(x,D,L,G,ut)}if(Ie(G)||k(G))return x=x.get(L)||null,q(D,x,G,ut,null);if(typeof G.then=="function")return j(x,D,L,Du(G),ut);if(G.$$typeof===yt)return j(x,D,L,wu(D,G),ut);Nu(D,G)}return null}function ot(x,D,L,G){for(var ut=null,Pt=null,lt=D,Rt=D=0,Nt=null;lt!==null&&Rt<L.length;Rt++){lt.index>Rt?(Nt=lt,lt=null):Nt=lt.sibling;var zt=z(x,lt,L[Rt],G);if(zt===null){lt===null&&(lt=Nt);break}e&&lt&&zt.alternate===null&&n(x,lt),D=f(zt,D,Rt),Pt===null?ut=zt:Pt.sibling=zt,Pt=zt,lt=Nt}if(Rt===L.length)return r(x,lt),xt&&Mi(x,Rt),ut;if(lt===null){for(;Rt<L.length;Rt++)lt=F(x,L[Rt],G),lt!==null&&(D=f(lt,D,Rt),Pt===null?ut=lt:Pt.sibling=lt,Pt=lt);return xt&&Mi(x,Rt),ut}for(lt=o(lt);Rt<L.length;Rt++)Nt=j(lt,x,Rt,L[Rt],G),Nt!==null&&(e&&Nt.alternate!==null&&lt.delete(Nt.key===null?Rt:Nt.key),D=f(Nt,D,Rt),Pt===null?ut=Nt:Pt.sibling=Nt,Pt=Nt);return e&&lt.forEach(function(xr){return n(x,xr)}),xt&&Mi(x,Rt),ut}function ft(x,D,L,G){if(L==null)throw Error(a(151));for(var ut=null,Pt=null,lt=D,Rt=D=0,Nt=null,zt=L.next();lt!==null&&!zt.done;Rt++,zt=L.next()){lt.index>Rt?(Nt=lt,lt=null):Nt=lt.sibling;var xr=z(x,lt,zt.value,G);if(xr===null){lt===null&&(lt=Nt);break}e&&lt&&xr.alternate===null&&n(x,lt),D=f(xr,D,Rt),Pt===null?ut=xr:Pt.sibling=xr,Pt=xr,lt=Nt}if(zt.done)return r(x,lt),xt&&Mi(x,Rt),ut;if(lt===null){for(;!zt.done;Rt++,zt=L.next())zt=F(x,zt.value,G),zt!==null&&(D=f(zt,D,Rt),Pt===null?ut=zt:Pt.sibling=zt,Pt=zt);return xt&&Mi(x,Rt),ut}for(lt=o(lt);!zt.done;Rt++,zt=L.next())zt=j(lt,x,Rt,zt.value,G),zt!==null&&(e&&zt.alternate!==null&&lt.delete(zt.key===null?Rt:zt.key),D=f(zt,D,Rt),Pt===null?ut=zt:Pt.sibling=zt,Pt=zt);return e&&lt.forEach(function(cb){return n(x,cb)}),xt&&Mi(x,Rt),ut}function Zt(x,D,L,G){if(typeof L=="object"&&L!==null&&L.type===$&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case Y:t:{for(var ut=L.key;D!==null;){if(D.key===ut){if(ut=L.type,ut===$){if(D.tag===7){r(x,D.sibling),G=c(D,L.props.children),G.return=x,x=G;break t}}else if(D.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&Ts(ut)===D.type){r(x,D.sibling),G=c(D,L.props),Po(G,L),G.return=x,x=G;break t}r(x,D);break}else n(x,D);D=D.sibling}L.type===$?(G=gs(L.props.children,x.mode,G,L.key),G.return=x,x=G):(G=Au(L.type,L.key,L.props,null,x.mode,G),Po(G,L),G.return=x,x=G)}return p(x);case J:t:{for(ut=L.key;D!==null;){if(D.key===ut)if(D.tag===4&&D.stateNode.containerInfo===L.containerInfo&&D.stateNode.implementation===L.implementation){r(x,D.sibling),G=c(D,L.children||[]),G.return=x,x=G;break t}else{r(x,D);break}else n(x,D);D=D.sibling}G=Lh(L,x.mode,G),G.return=x,x=G}return p(x);case b:return L=Ts(L),Zt(x,D,L,G)}if(Ie(L))return ot(x,D,L,G);if(k(L)){if(ut=k(L),typeof ut!="function")throw Error(a(150));return L=ut.call(L),ft(x,D,L,G)}if(typeof L.then=="function")return Zt(x,D,Du(L),G);if(L.$$typeof===yt)return Zt(x,D,wu(x,L),G);Nu(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,D!==null&&D.tag===6?(r(x,D.sibling),G=c(D,L),G.return=x,x=G):(r(x,D),G=Uh(L,x.mode,G),G.return=x,x=G),p(x)):r(x,D)}return function(x,D,L,G){try{Lo=0;var ut=Zt(x,D,L,G);return ya=null,ut}catch(lt){if(lt===ga||lt===Iu)throw lt;var Pt=dn(29,lt,null,x.mode);return Pt.lanes=G,Pt.return=x,Pt}}}var bs=Lp(!0),Pp=Lp(!1),yr=!1;function Xh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _r(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function vr(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(jt&2)!==0){var c=o.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),o.pending=n,n=Tu(e),Tp(e,null,r),n}return Eu(e,o,n,r),Tu(e)}function zo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,ho(e,r)}}function Zh(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var $h=!1;function Bo(){if($h){var e=pa;if(e!==null)throw e}}function jo(e,n,r,o){$h=!1;var c=e.updateQueue;yr=!1;var f=c.firstBaseUpdate,p=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,P=R.next;R.next=null,p===null?f=P:p.next=P,p=R;var q=e.alternate;q!==null&&(q=q.updateQueue,E=q.lastBaseUpdate,E!==p&&(E===null?q.firstBaseUpdate=P:E.next=P,q.lastBaseUpdate=R))}if(f!==null){var F=c.baseState;p=0,q=P=R=null,E=f;do{var z=E.lane&-536870913,j=z!==E.lane;if(j?(Dt&z)===z:(o&z)===z){z!==0&&z===ma&&($h=!0),q!==null&&(q=q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,ft=E;z=n;var Zt=r;switch(ft.tag){case 1:if(ot=ft.payload,typeof ot=="function"){F=ot.call(Zt,F,z);break t}F=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=ft.payload,z=typeof ot=="function"?ot.call(Zt,F,z):ot,z==null)break t;F=S({},F,z);break t;case 2:yr=!0}}z=E.callback,z!==null&&(e.flags|=64,j&&(e.flags|=8192),j=c.callbacks,j===null?c.callbacks=[z]:j.push(z))}else j={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},q===null?(P=q=j,R=F):q=q.next=j,p|=z;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;j=E,E=j.next,j.next=null,c.lastBaseUpdate=j,c.shared.pending=null}}while(!0);q===null&&(R=F),c.baseState=R,c.firstBaseUpdate=P,c.lastBaseUpdate=q,f===null&&(c.shared.lanes=0),Sr|=p,e.lanes=p,e.memoizedState=F}}function zp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Bp(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)zp(r[e],n)}var _a=O(null),Ou=O(0);function jp(e,n){e=Gi,nt(Ou,e),nt(_a,n),Gi=e|n.baseLanes}function Wh(){nt(Ou,Gi),nt(_a,_a.current)}function tf(){Gi=Ou.current,Q(_a),Q(Ou)}var mn=O(null),Nn=null;function Er(e){var n=e.alternate;nt(fe,fe.current&1),nt(mn,e),Nn===null&&(n===null||_a.current!==null||n.memoizedState!==null)&&(Nn=e)}function ef(e){nt(fe,fe.current),nt(mn,e),Nn===null&&(Nn=e)}function qp(e){e.tag===22?(nt(fe,fe.current),nt(mn,e),Nn===null&&(Nn=e)):Tr()}function Tr(){nt(fe,fe.current),nt(mn,mn.current)}function pn(e){Q(mn),Nn===e&&(Nn=null),Q(fe)}var fe=O(0);function Vu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||ld(r)||ud(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ui=0,St=null,Xt=null,Te=null,Mu=!1,va=!1,Ss=!1,xu=0,qo=0,Ea=null,tA=0;function le(){throw Error(a(321))}function nf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!fn(e[r],n[r]))return!1;return!0}function rf(e,n,r,o,c,f){return Ui=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?wg:vf,Ss=!1,f=r(o,c),Ss=!1,va&&(f=Gp(n,r,o,c)),Hp(e),f}function Hp(e){H.H=Fo;var n=Xt!==null&&Xt.next!==null;if(Ui=0,Te=Xt=St=null,Mu=!1,qo=0,Ea=null,n)throw Error(a(300));e===null||Ae||(e=e.dependencies,e!==null&&Su(e)&&(Ae=!0))}function Gp(e,n,r,o){St=e;var c=0;do{if(va&&(Ea=null),qo=0,va=!1,25<=c)throw Error(a(301));if(c+=1,Te=Xt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Rg,f=n(r,o)}while(va);return f}function eA(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Ho(n):n,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(St.flags|=1024),n}function sf(){var e=xu!==0;return xu=0,e}function af(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function of(e){if(Mu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Mu=!1}Ui=0,Te=Xt=St=null,va=!1,qo=xu=0,Ea=null}function We(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?St.memoizedState=Te=e:Te=Te.next=e,Te}function de(){if(Xt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var n=Te===null?St.memoizedState:Te.next;if(n!==null)Te=n,Xt=e;else{if(e===null)throw St.alternate===null?Error(a(467)):Error(a(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Te===null?St.memoizedState=Te=e:Te=Te.next=e}return Te}function ku(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ho(e){var n=qo;return qo+=1,Ea===null&&(Ea=[]),e=xp(Ea,e,n),n=St,(Te===null?n.memoizedState:Te.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?wg:vf),e}function Uu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ho(e);if(e.$$typeof===yt)return Be(e)}throw Error(a(438,String(e)))}function lf(e){var n=null,r=St.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=St.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=ku(),St.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=V;return n.index++,r}function Li(e,n){return typeof n=="function"?n(e):n}function Lu(e){var n=de();return uf(n,Xt,e)}function uf(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var c=e.baseQueue,f=o.pending;if(f!==null){if(c!==null){var p=c.next;c.next=f.next,f.next=p}n.baseQueue=c=f,o.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var E=p=null,R=null,P=n,q=!1;do{var F=P.lane&-536870913;if(F!==P.lane?(Dt&F)===F:(Ui&F)===F){var z=P.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),F===ma&&(q=!0);else if((Ui&z)===z){P=P.next,z===ma&&(q=!0);continue}else F={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=F,p=f):R=R.next=F,St.lanes|=z,Sr|=z;F=P.action,Ss&&r(f,F),f=P.hasEagerState?P.eagerState:r(f,F)}else z={lane:F,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=z,p=f):R=R.next=z,St.lanes|=F,Sr|=F;P=P.next}while(P!==null&&P!==n);if(R===null?p=f:R.next=E,!fn(f,e.memoizedState)&&(Ae=!0,q&&(r=pa,r!==null)))throw r;e.memoizedState=f,e.baseState=p,e.baseQueue=R,o.lastRenderedState=f}return c===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function cf(e){var n=de(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var p=c=c.next;do f=e(f,p.action),p=p.next;while(p!==c);fn(f,n.memoizedState)||(Ae=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function Fp(e,n,r){var o=St,c=de(),f=xt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!fn((Xt||c).memoizedState,r);if(p&&(c.memoizedState=r,Ae=!0),c=c.queue,df(Yp.bind(null,o,c,e),[e]),c.getSnapshot!==n||p||Te!==null&&Te.memoizedState.tag&1){if(o.flags|=2048,Ta(9,{destroy:void 0},Kp.bind(null,o,c,r,n),null),$t===null)throw Error(a(349));f||(Ui&127)!==0||Qp(o,n,r)}return r}function Qp(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=St.updateQueue,n===null?(n=ku(),St.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Kp(e,n,r,o){n.value=r,n.getSnapshot=o,Xp(n)&&Jp(e)}function Yp(e,n,r){return r(function(){Xp(n)&&Jp(e)})}function Xp(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!fn(e,r)}catch{return!0}}function Jp(e){var n=ps(e,2);n!==null&&ln(n,e,2)}function hf(e){var n=We();if(typeof e=="function"){var r=e;if(e=r(),Ss){En(!0);try{r()}finally{En(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:e},n}function Zp(e,n,r,o){return e.baseState=r,uf(e,Xt,typeof o=="function"?o:Li)}function nA(e,n,r,o,c){if(Bu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};H.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,$p(n,f)):(f.next=r.next,n.pending=r.next=f)}}function $p(e,n){var r=n.action,o=n.payload,c=e.state;if(n.isTransition){var f=H.T,p={};H.T=p;try{var E=r(c,o),R=H.S;R!==null&&R(p,E),Wp(e,n,E)}catch(P){ff(e,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),H.T=f}}else try{f=r(c,o),Wp(e,n,f)}catch(P){ff(e,n,P)}}function Wp(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){tg(e,n,o)},function(o){return ff(e,n,o)}):tg(e,n,r)}function tg(e,n,r){n.status="fulfilled",n.value=r,eg(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,$p(e,r)))}function ff(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,eg(n),n=n.next;while(n!==o)}e.action=null}function eg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function ng(e,n){return n}function ig(e,n){if(xt){var r=$t.formState;if(r!==null){t:{var o=St;if(xt){if(te){e:{for(var c=te,f=Dn;c.nodeType!==8;){if(!f){c=null;break e}if(c=On(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){te=On(c.nextSibling),o=c.data==="F!";break t}}pr(o)}o=!1}o&&(n=r[0])}}return r=We(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ng,lastRenderedState:n},r.queue=o,r=Ag.bind(null,St,o),o.dispatch=r,o=hf(!1),f=_f.bind(null,St,!1,o.queue),o=We(),c={state:n,dispatch:null,action:e,pending:null},o.queue=c,r=nA.bind(null,St,c,f,r),c.dispatch=r,o.memoizedState=e,[n,r,!1]}function rg(e){var n=de();return sg(n,Xt,e)}function sg(e,n,r){if(n=uf(e,n,ng)[0],e=Lu(Li)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ho(n)}catch(p){throw p===ga?Iu:p}else o=n;n=de();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(St.flags|=2048,Ta(9,{destroy:void 0},iA.bind(null,c,r),null)),[o,f,e]}function iA(e,n){e.action=n}function ag(e){var n=de(),r=Xt;if(r!==null)return sg(n,r,e);de(),n=n.memoizedState,r=de();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Ta(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=St.updateQueue,n===null&&(n=ku(),St.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function og(){return de().memoizedState}function Pu(e,n,r,o){var c=We();St.flags|=e,c.memoizedState=Ta(1|n,{destroy:void 0},r,o===void 0?null:o)}function zu(e,n,r,o){var c=de();o=o===void 0?null:o;var f=c.memoizedState.inst;Xt!==null&&o!==null&&nf(o,Xt.memoizedState.deps)?c.memoizedState=Ta(n,f,r,o):(St.flags|=e,c.memoizedState=Ta(1|n,f,r,o))}function lg(e,n){Pu(8390656,8,e,n)}function df(e,n){zu(2048,8,e,n)}function rA(e){St.flags|=4;var n=St.updateQueue;if(n===null)n=ku(),St.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function ug(e){var n=de().memoizedState;return rA({ref:n,nextImpl:e}),function(){if((jt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function cg(e,n){return zu(4,2,e,n)}function hg(e,n){return zu(4,4,e,n)}function fg(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function dg(e,n,r){r=r!=null?r.concat([e]):null,zu(4,4,fg.bind(null,n,e),r)}function mf(){}function mg(e,n){var r=de();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&nf(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function pg(e,n){var r=de();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&nf(n,o[1]))return o[0];if(o=e(),Ss){En(!0);try{e()}finally{En(!1)}}return r.memoizedState=[o,n],o}function pf(e,n,r){return r===void 0||(Ui&1073741824)!==0&&(Dt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=gy(),St.lanes|=e,Sr|=e,r)}function gg(e,n,r,o){return fn(r,n)?r:_a.current!==null?(e=pf(e,r,o),fn(e,n)||(Ae=!0),e):(Ui&42)===0||(Ui&1073741824)!==0&&(Dt&261930)===0?(Ae=!0,e.memoizedState=r):(e=gy(),St.lanes|=e,Sr|=e,n)}function yg(e,n,r,o,c){var f=et.p;et.p=f!==0&&8>f?f:8;var p=H.T,E={};H.T=E,_f(e,!1,n,r);try{var R=c(),P=H.S;if(P!==null&&P(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var q=W0(R,o);Go(e,n,q,_n(e))}else Go(e,n,o,_n(e))}catch(F){Go(e,n,{then:function(){},status:"rejected",reason:F},_n())}finally{et.p=f,p!==null&&E.types!==null&&(p.types=E.types),H.T=p}}function sA(){}function gf(e,n,r,o){if(e.tag!==5)throw Error(a(476));var c=_g(e).queue;yg(e,c,n,ht,r===null?sA:function(){return vg(e),r(o)})}function _g(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:ht},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function vg(e){var n=_g(e);n.next===null&&(n=e.alternate.memoizedState),Go(e,n.next.queue,{},_n())}function yf(){return Be(ol)}function Eg(){return de().memoizedState}function Tg(){return de().memoizedState}function aA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=_n();e=_r(r);var o=vr(n,e,r);o!==null&&(ln(o,n,r),zo(o,n,r)),n={cache:Fh()},e.payload=n;return}n=n.return}}function oA(e,n,r){var o=_n();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Bu(e)?bg(n,r):(r=xh(e,n,r,o),r!==null&&(ln(r,e,o),Sg(r,n,o)))}function Ag(e,n,r){var o=_n();Go(e,n,r,o)}function Go(e,n,r,o){var c={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Bu(e))bg(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,r);if(c.hasEagerState=!0,c.eagerState=E,fn(E,p))return Eu(e,n,c,0),$t===null&&vu(),!1}catch{}if(r=xh(e,n,c,o),r!==null)return ln(r,e,o),Sg(r,n,o),!0}return!1}function _f(e,n,r,o){if(o={lane:2,revertLane:Jf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Bu(e)){if(n)throw Error(a(479))}else n=xh(e,r,o,2),n!==null&&ln(n,e,2)}function Bu(e){var n=e.alternate;return e===St||n!==null&&n===St}function bg(e,n){va=Mu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Sg(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,ho(e,r)}}var Fo={readContext:Be,use:Uu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};Fo.useEffectEvent=le;var wg={readContext:Be,use:Uu,useCallback:function(e,n){return We().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:lg,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Pu(4194308,4,fg.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Pu(4194308,4,e,n)},useInsertionEffect:function(e,n){Pu(4,2,e,n)},useMemo:function(e,n){var r=We();n=n===void 0?null:n;var o=e();if(Ss){En(!0);try{e()}finally{En(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=We();if(r!==void 0){var c=r(n);if(Ss){En(!0);try{r(n)}finally{En(!1)}}}else c=n;return o.memoizedState=o.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},o.queue=e,e=e.dispatch=oA.bind(null,St,e),[o.memoizedState,e]},useRef:function(e){var n=We();return e={current:e},n.memoizedState=e},useState:function(e){e=hf(e);var n=e.queue,r=Ag.bind(null,St,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:mf,useDeferredValue:function(e,n){var r=We();return pf(r,e,n)},useTransition:function(){var e=hf(!1);return e=yg.bind(null,St,e.queue,!0,!1),We().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=St,c=We();if(xt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),$t===null)throw Error(a(349));(Dt&127)!==0||Qp(o,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,lg(Yp.bind(null,o,f,e),[e]),o.flags|=2048,Ta(9,{destroy:void 0},Kp.bind(null,o,f,r,n),null),r},useId:function(){var e=We(),n=$t.identifierPrefix;if(xt){var r=_i,o=yi;r=(o&~(1<<32-ce(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=xu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=tA++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:yf,useFormState:ig,useActionState:ig,useOptimistic:function(e){var n=We();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=_f.bind(null,St,!0,r),r.dispatch=n,[e,n]},useMemoCache:lf,useCacheRefresh:function(){return We().memoizedState=aA.bind(null,St)},useEffectEvent:function(e){var n=We(),r={impl:e};return n.memoizedState=r,function(){if((jt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},vf={readContext:Be,use:Uu,useCallback:mg,useContext:Be,useEffect:df,useImperativeHandle:dg,useInsertionEffect:cg,useLayoutEffect:hg,useMemo:pg,useReducer:Lu,useRef:og,useState:function(){return Lu(Li)},useDebugValue:mf,useDeferredValue:function(e,n){var r=de();return gg(r,Xt.memoizedState,e,n)},useTransition:function(){var e=Lu(Li)[0],n=de().memoizedState;return[typeof e=="boolean"?e:Ho(e),n]},useSyncExternalStore:Fp,useId:Eg,useHostTransitionStatus:yf,useFormState:rg,useActionState:rg,useOptimistic:function(e,n){var r=de();return Zp(r,Xt,e,n)},useMemoCache:lf,useCacheRefresh:Tg};vf.useEffectEvent=ug;var Rg={readContext:Be,use:Uu,useCallback:mg,useContext:Be,useEffect:df,useImperativeHandle:dg,useInsertionEffect:cg,useLayoutEffect:hg,useMemo:pg,useReducer:cf,useRef:og,useState:function(){return cf(Li)},useDebugValue:mf,useDeferredValue:function(e,n){var r=de();return Xt===null?pf(r,e,n):gg(r,Xt.memoizedState,e,n)},useTransition:function(){var e=cf(Li)[0],n=de().memoizedState;return[typeof e=="boolean"?e:Ho(e),n]},useSyncExternalStore:Fp,useId:Eg,useHostTransitionStatus:yf,useFormState:ag,useActionState:ag,useOptimistic:function(e,n){var r=de();return Xt!==null?Zp(r,Xt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:lf,useCacheRefresh:Tg};Rg.useEffectEvent=ug;function Ef(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:S({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Tf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=_n(),c=_r(o);c.payload=n,r!=null&&(c.callback=r),n=vr(e,c,o),n!==null&&(ln(n,e,o),zo(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=_n(),c=_r(o);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=vr(e,c,o),n!==null&&(ln(n,e,o),zo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=_n(),o=_r(r);o.tag=2,n!=null&&(o.callback=n),n=vr(e,o,r),n!==null&&(ln(n,e,r),zo(n,e,r))}};function Ig(e,n,r,o,c,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Oo(r,o)||!Oo(c,f):!0}function Cg(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&Tf.enqueueReplaceState(n,n.state,null)}function ws(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=S({},r));for(var c in e)r[c]===void 0&&(r[c]=e[c])}return r}function Dg(e){_u(e)}function Ng(e){console.error(e)}function Og(e){_u(e)}function ju(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Vg(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Af(e,n,r){return r=_r(r),r.tag=3,r.payload={element:null},r.callback=function(){ju(e,n)},r}function Mg(e){return e=_r(e),e.tag=3,e}function xg(e,n,r,o){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=o.value;e.payload=function(){return c(f)},e.callback=function(){Vg(n,r,o)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Vg(n,r,o),typeof c!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function lA(e,n,r,o,c){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&da(n,r,c,!0),r=mn.current,r!==null){switch(r.tag){case 31:case 13:return Nn===null?Wu():r.alternate===null&&ue===0&&(ue=3),r.flags&=-257,r.flags|=65536,r.lanes=c,o===Cu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Kf(e,o,c)),!1;case 22:return r.flags|=65536,o===Cu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Kf(e,o,c)),!1}throw Error(a(435,r.tag))}return Kf(e,o,c),Wu(),!1}if(xt)return n=mn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,o!==Bh&&(e=Error(a(422),{cause:o}),xo(Rn(e,r)))):(o!==Bh&&(n=Error(a(423),{cause:o}),xo(Rn(n,r))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,o=Rn(o,r),c=Af(e.stateNode,o,c),Zh(e,c),ue!==4&&(ue=2)),!1;var f=Error(a(520),{cause:o});if(f=Rn(f,r),Wo===null?Wo=[f]:Wo.push(f),ue!==4&&(ue=2),n===null)return!0;o=Rn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=c&-c,r.lanes|=e,e=Af(r.stateNode,o,e),Zh(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(wr===null||!wr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Mg(c),xg(c,e,r,o),Zh(r,c),!1}r=r.return}while(r!==null);return!1}var bf=Error(a(461)),Ae=!1;function je(e,n,r,o){n.child=e===null?Pp(n,null,r,o):bs(n,e.child,r,o)}function kg(e,n,r,o,c){r=r.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return vs(n),o=rf(e,n,r,p,f,c),E=sf(),e!==null&&!Ae?(af(e,n,c),Pi(e,n,c)):(xt&&E&&Ph(n),n.flags|=1,je(e,n,o,c),n.child)}function Ug(e,n,r,o,c){if(e===null){var f=r.type;return typeof f=="function"&&!kh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Lg(e,n,f,o,c)):(e=Au(r.type,null,o,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Of(e,c)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:Oo,r(p,o)&&e.ref===n.ref)return Pi(e,n,c)}return n.flags|=1,e=Vi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Lg(e,n,r,o,c){if(e!==null){var f=e.memoizedProps;if(Oo(f,o)&&e.ref===n.ref)if(Ae=!1,n.pendingProps=o=f,Of(e,c))(e.flags&131072)!==0&&(Ae=!0);else return n.lanes=e.lanes,Pi(e,n,c)}return Sf(e,n,r,o,c)}function Pg(e,n,r,o){var c=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,c=0;o!==null;)c=c|o.lanes|o.childLanes,o=o.sibling;o=c&~f}else o=0,n.child=null;return zg(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ru(n,f!==null?f.cachePool:null),f!==null?jp(n,f):Wh(),qp(n);else return o=n.lanes=536870912,zg(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Ru(n,f.cachePool),jp(n,f),Tr(),n.memoizedState=null):(e!==null&&Ru(n,null),Wh(),Tr());return je(e,n,c,r),n.child}function Qo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function zg(e,n,r,o,c){var f=Kh();return f=f===null?null:{parent:Ee._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Ru(n,null),Wh(),qp(n),e!==null&&da(e,n,o,!0),n.childLanes=c,null}function qu(e,n){return n=Gu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Bg(e,n,r){return bs(n,e.child,null,r),e=qu(n,n.pendingProps),e.flags|=2,pn(n),n.memoizedState=null,e}function uA(e,n,r){var o=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(xt){if(o.mode==="hidden")return e=qu(n,o),n.lanes=536870912,Qo(null,e);if(ef(n),(e=te)?(e=$y(e,Dn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:dr!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},r=bp(e),r.return=n,n.child=r,ze=n,te=null)):e=null,e===null)throw pr(n);return n.lanes=536870912,null}return qu(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(ef(n),c)if(n.flags&256)n.flags&=-257,n=Bg(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ae||da(e,n,r,!1),c=(r&e.childLanes)!==0,Ae||c){if(o=$t,o!==null&&(p=fo(o,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,ps(e,p),ln(o,e,p),bf;Wu(),n=Bg(e,n,r)}else e=f.treeContext,te=On(p.nextSibling),ze=n,xt=!0,mr=null,Dn=!1,e!==null&&Rp(n,e),n=qu(n,o),n.flags|=4096;return n}return e=Vi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Hu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Sf(e,n,r,o,c){return vs(n),r=rf(e,n,r,o,void 0,c),o=sf(),e!==null&&!Ae?(af(e,n,c),Pi(e,n,c)):(xt&&o&&Ph(n),n.flags|=1,je(e,n,r,c),n.child)}function jg(e,n,r,o,c,f){return vs(n),n.updateQueue=null,r=Gp(n,o,r,c),Hp(e),o=sf(),e!==null&&!Ae?(af(e,n,f),Pi(e,n,f)):(xt&&o&&Ph(n),n.flags|=1,je(e,n,r,f),n.child)}function qg(e,n,r,o,c){if(vs(n),n.stateNode===null){var f=ua,p=r.contextType;typeof p=="object"&&p!==null&&(f=Be(p)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Tf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Xh(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?Be(p):ua,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Ef(n,r,p,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Tf.enqueueReplaceState(f,f.state,null),jo(n,o,f,c),Bo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=ws(r,E);f.props=R;var P=f.context,q=r.contextType;p=ua,typeof q=="object"&&q!==null&&(p=Be(q));var F=r.getDerivedStateFromProps;q=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==p)&&Cg(n,f,o,p),yr=!1;var z=n.memoizedState;f.state=z,jo(n,o,f,c),Bo(),P=n.memoizedState,E||z!==P||yr?(typeof F=="function"&&(Ef(n,r,F,o),P=n.memoizedState),(R=yr||Ig(n,r,R,o,z,P,p))?(q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=p,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Jh(e,n),p=n.memoizedProps,q=ws(r,p),f.props=q,F=n.pendingProps,z=f.context,P=r.contextType,R=ua,typeof P=="object"&&P!==null&&(R=Be(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==F||z!==R)&&Cg(n,f,o,R),yr=!1,z=n.memoizedState,f.state=z,jo(n,o,f,c),Bo();var j=n.memoizedState;p!==F||z!==j||yr||e!==null&&e.dependencies!==null&&Su(e.dependencies)?(typeof E=="function"&&(Ef(n,r,E,o),j=n.memoizedState),(q=yr||Ig(n,r,q,o,z,j,R)||e!==null&&e.dependencies!==null&&Su(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,j,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,j,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=R,o=q):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Hu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=bs(n,e.child,null,c),n.child=bs(n,null,r,c)):je(e,n,r,c),n.memoizedState=f.state,e=n.child):e=Pi(e,n,c),e}function Hg(e,n,r,o){return ys(),n.flags|=256,je(e,n,r,o),n.child}var wf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rf(e){return{baseLanes:e,cachePool:Vp()}}function If(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=yn),e}function Gg(e,n,r){var o=n.pendingProps,c=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(fe.current&2)!==0),p&&(c=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(xt){if(c?Er(n):Tr(),(e=te)?(e=$y(e,Dn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:dr!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},r=bp(e),r.return=n,n.child=r,ze=n,te=null)):e=null,e===null)throw pr(n);return ud(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,c?(Tr(),c=n.mode,E=Gu({mode:"hidden",children:E},c),o=gs(o,c,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Rf(r),o.childLanes=If(e,p,r),n.memoizedState=wf,Qo(null,o)):(Er(n),Cf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Er(n),n.flags&=-257,n=Df(e,n,r)):n.memoizedState!==null?(Tr(),n.child=e.child,n.flags|=128,n=null):(Tr(),E=o.fallback,c=n.mode,o=Gu({mode:"visible",children:o.children},c),E=gs(E,c,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,bs(n,e.child,null,r),o=n.child,o.memoizedState=Rf(r),o.childLanes=If(e,p,r),n.memoizedState=wf,n=Qo(null,o));else if(Er(n),ud(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var P=p.dgst;p=P,o=Error(a(419)),o.stack="",o.digest=p,xo({value:o,source:null,stack:null}),n=Df(e,n,r)}else if(Ae||da(e,n,r,!1),p=(r&e.childLanes)!==0,Ae||p){if(p=$t,p!==null&&(o=fo(p,r),o!==0&&o!==R.retryLane))throw R.retryLane=o,ps(e,o),ln(p,e,o),bf;ld(E)||Wu(),n=Df(e,n,r)}else ld(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,te=On(E.nextSibling),ze=n,xt=!0,mr=null,Dn=!1,e!==null&&Rp(n,e),n=Cf(n,o.children),n.flags|=4096);return n}return c?(Tr(),E=o.fallback,c=n.mode,R=e.child,P=R.sibling,o=Vi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,P!==null?E=Vi(P,E):(E=gs(E,c,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Qo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Rf(r):(c=E.cachePool,c!==null?(R=Ee._currentValue,c=c.parent!==R?{parent:R,pool:R}:c):c=Vp(),E={baseLanes:E.baseLanes|r,cachePool:c}),o.memoizedState=E,o.childLanes=If(e,p,r),n.memoizedState=wf,Qo(e.child,o)):(Er(n),r=e.child,e=r.sibling,r=Vi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=r,n.memoizedState=null,r)}function Cf(e,n){return n=Gu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Gu(e,n){return e=dn(22,e,null,n),e.lanes=0,e}function Df(e,n,r){return bs(n,e.child,null,r),e=Cf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Fg(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Hh(e.return,n,r)}function Nf(e,n,r,o,c,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:c,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=r,p.tailMode=c,p.treeForkCount=f)}function Qg(e,n,r){var o=n.pendingProps,c=o.revealOrder,f=o.tail;o=o.children;var p=fe.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,nt(fe,p),je(e,n,o,r),o=xt?Mo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fg(e,r,n);else if(e.tag===19)Fg(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(r=n.child,c=null;r!==null;)e=r.alternate,e!==null&&Vu(e)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Nf(n,!1,c,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Vu(e)===null){n.child=c;break}e=c.sibling,c.sibling=r,r=c,c=e}Nf(n,!0,r,null,f,o);break;case"together":Nf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Pi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Sr|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(da(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Vi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Vi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Of(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Su(e)))}function cA(e,n,r){switch(n.tag){case 3:Ce(n,n.stateNode.containerInfo),gr(n,Ee,e.memoizedState.cache),ys();break;case 27:case 5:Zr(n);break;case 4:Ce(n,n.stateNode.containerInfo);break;case 10:gr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ef(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Er(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Gg(e,n,r):(Er(n),e=Pi(e,n,r),e!==null?e.sibling:null);Er(n);break;case 19:var c=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(da(e,n,r,!1),o=(r&n.childLanes)!==0),c){if(o)return Qg(e,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),nt(fe,fe.current),o)break;return null;case 22:return n.lanes=0,Pg(e,n,r,n.pendingProps);case 24:gr(n,Ee,e.memoizedState.cache)}return Pi(e,n,r)}function Kg(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ae=!0;else{if(!Of(e,r)&&(n.flags&128)===0)return Ae=!1,cA(e,n,r);Ae=(e.flags&131072)!==0}else Ae=!1,xt&&(n.flags&1048576)!==0&&wp(n,Mo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Ts(n.elementType),n.type=e,typeof e=="function")kh(e)?(o=ws(e,o),n.tag=1,n=qg(null,n,e,o,r)):(n.tag=0,n=Sf(null,n,e,o,r));else{if(e!=null){var c=e.$$typeof;if(c===Kt){n.tag=11,n=kg(null,n,e,o,r);break t}else if(c===C){n.tag=14,n=Ug(null,n,e,o,r);break t}}throw n=ie(e)||e,Error(a(306,n,""))}}return n;case 0:return Sf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,c=ws(o,n.pendingProps),qg(e,n,o,c,r);case 3:t:{if(Ce(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;c=f.element,Jh(e,n),jo(n,o,null,r);var p=n.memoizedState;if(o=p.cache,gr(n,Ee,o),o!==f.cache&&Gh(n,[Ee],r,!0),Bo(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Hg(e,n,o,r);break t}else if(o!==c){c=Rn(Error(a(424)),n),xo(c),n=Hg(e,n,o,r);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,te=On(e.firstChild),ze=n,xt=!0,mr=null,Dn=!0,r=Pp(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ys(),o===c){n=Pi(e,n,r);break t}je(e,n,o,r)}n=n.child}return n;case 26:return Hu(e,n),e===null?(r=r_(n.type,null,n.pendingProps,null))?n.memoizedState=r:xt||(r=n.type,e=n.pendingProps,o=ac(wt.current).createElement(r),o[ye]=n,o[Me]=e,qe(o,r,e),_e(o),n.stateNode=o):n.memoizedState=r_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Zr(n),e===null&&xt&&(o=n.stateNode=e_(n.type,n.pendingProps,wt.current),ze=n,Dn=!0,c=te,Dr(n.type)?(cd=c,te=On(o.firstChild)):te=c),je(e,n,n.pendingProps.children,r),Hu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&xt&&((c=o=te)&&(o=BA(o,n.type,n.pendingProps,Dn),o!==null?(n.stateNode=o,ze=n,te=On(o.firstChild),Dn=!1,c=!0):c=!1),c||pr(n)),Zr(n),c=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,sd(c,f)?o=null:p!==null&&sd(c,p)&&(n.flags|=32),n.memoizedState!==null&&(c=rf(e,n,eA,null,null,r),ol._currentValue=c),Hu(e,n),je(e,n,o,r),n.child;case 6:return e===null&&xt&&((e=r=te)&&(r=jA(r,n.pendingProps,Dn),r!==null?(n.stateNode=r,ze=n,te=null,e=!0):e=!1),e||pr(n)),null;case 13:return Gg(e,n,r);case 4:return Ce(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=bs(n,null,o,r):je(e,n,o,r),n.child;case 11:return kg(e,n,n.type,n.pendingProps,r);case 7:return je(e,n,n.pendingProps,r),n.child;case 8:return je(e,n,n.pendingProps.children,r),n.child;case 12:return je(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,gr(n,n.type,o.value),je(e,n,o.children,r),n.child;case 9:return c=n.type._context,o=n.pendingProps.children,vs(n),c=Be(c),o=o(c),n.flags|=1,je(e,n,o,r),n.child;case 14:return Ug(e,n,n.type,n.pendingProps,r);case 15:return Lg(e,n,n.type,n.pendingProps,r);case 19:return Qg(e,n,r);case 31:return uA(e,n,r);case 22:return Pg(e,n,r,n.pendingProps);case 24:return vs(n),o=Be(Ee),e===null?(c=Kh(),c===null&&(c=$t,f=Fh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:o,cache:c},Xh(n),gr(n,Ee,c)):((e.lanes&r)!==0&&(Jh(e,n),jo(n,null,null,r),Bo()),c=e.memoizedState,f=n.memoizedState,c.parent!==o?(c={parent:o,cache:o},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),gr(n,Ee,o)):(o=f.cache,gr(n,Ee,o),o!==c.cache&&Gh(n,[Ee],r,!0))),je(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function zi(e){e.flags|=4}function Vf(e,n,r,o,c){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Ey())e.flags|=8192;else throw As=Cu,Yh}else e.flags&=-16777217}function Yg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!u_(n))if(Ey())e.flags|=8192;else throw As=Cu,Yh}function Fu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Zl():536870912,e.lanes|=n,wa|=n)}function Ko(e,n){if(!xt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ee(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var c=e.child;c!==null;)r|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)r|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function hA(e,n,r){var o=n.pendingProps;switch(zh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ki(Ee),re(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(fa(n)?zi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,jh())),ee(n),null;case 26:var c=n.type,f=n.memoizedState;return e===null?(zi(n),f!==null?(ee(n),Yg(n,f)):(ee(n),Vf(n,c,null,o,r))):f?f!==e.memoizedState?(zi(n),ee(n),Yg(n,f)):(ee(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&zi(n),ee(n),Vf(n,c,e,o,r)),null;case 27:if(Gs(n),r=wt.current,c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&zi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ee(n),null}e=at.current,fa(n)?Ip(n):(e=e_(c,o,r),n.stateNode=e,zi(n))}return ee(n),null;case 5:if(Gs(n),c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&zi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ee(n),null}if(f=at.current,fa(n))Ip(n);else{var p=ac(wt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(c,{is:o.is}):p.createElement(c)}}f[ye]=n,f[Me]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(qe(f,c,o),c){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&zi(n)}}return ee(n),Vf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&zi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=wt.current,fa(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,c=ze,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}e[ye]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||Gy(e.nodeValue,r)),e||pr(n,!0)}else e=ac(e).createTextNode(o),e[ye]=n,n.stateNode=e}return ee(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=fa(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[ye]=n}else ys(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),e=!1}else r=jh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(pn(n),n):(pn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ee(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=fa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[ye]=n}else ys(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),c=!1}else c=jh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(pn(n),n):(pn(n),null)}return pn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Fu(n,n.updateQueue),ee(n),null);case 4:return re(),e===null&&td(n.stateNode.containerInfo),ee(n),null;case 10:return ki(n.type),ee(n),null;case 19:if(Q(fe),o=n.memoizedState,o===null)return ee(n),null;if(c=(n.flags&128)!==0,f=o.rendering,f===null)if(c)Ko(o,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Vu(e),f!==null){for(n.flags|=128,Ko(o,!1),e=f.updateQueue,n.updateQueue=e,Fu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Ap(r,e),r=r.sibling;return nt(fe,fe.current&1|2),xt&&Mi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Ze()>Ju&&(n.flags|=128,c=!0,Ko(o,!1),n.lanes=4194304)}else{if(!c)if(e=Vu(f),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,Fu(n,e),Ko(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!xt)return ee(n),null}else 2*Ze()-o.renderingStartTime>Ju&&r!==536870912&&(n.flags|=128,c=!0,Ko(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ze(),e.sibling=null,r=fe.current,nt(fe,c?r&1|2:r&1),xt&&Mi(n,o.treeForkCount),e):(ee(n),null);case 22:case 23:return pn(n),tf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),r=n.updateQueue,r!==null&&Fu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&Q(Es),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),ki(Ee),ee(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function fA(e,n){switch(zh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ki(Ee),re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Gs(n),null;case 31:if(n.memoizedState!==null){if(pn(n),n.alternate===null)throw Error(a(340));ys()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(pn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));ys()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Q(fe),null;case 4:return re(),null;case 10:return ki(n.type),null;case 22:case 23:return pn(n),tf(),e!==null&&Q(Es),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ki(Ee),null;case 25:return null;default:return null}}function Xg(e,n){switch(zh(n),n.tag){case 3:ki(Ee),re();break;case 26:case 27:case 5:Gs(n);break;case 4:re();break;case 31:n.memoizedState!==null&&pn(n);break;case 13:pn(n);break;case 19:Q(fe);break;case 10:ki(n.type);break;case 22:case 23:pn(n),tf(),e!==null&&Q(Es);break;case 24:ki(Ee)}}function Yo(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var c=o.next;r=c;do{if((r.tag&e)===e){o=void 0;var f=r.create,p=r.inst;o=f(),p.destroy=o}r=r.next}while(r!==c)}}catch(E){Qt(n,n.return,E)}}function Ar(e,n,r){try{var o=n.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,c=n;var R=r,P=E;try{P()}catch(q){Qt(c,R,q)}}}o=o.next}while(o!==f)}}catch(q){Qt(n,n.return,q)}}function Jg(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Bp(n,r)}catch(o){Qt(e,e.return,o)}}}function Zg(e,n,r){r.props=ws(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Qt(e,n,o)}}function Xo(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(c){Qt(e,n,c)}}function vi(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(c){Qt(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Qt(e,n,c)}else r.current=null}function $g(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(c){Qt(e,e.return,c)}}function Mf(e,n,r){try{var o=e.stateNode;xA(o,e.type,r,n),o[Me]=n}catch(c){Qt(e,e.return,c)}}function Wg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Dr(e.type)||e.tag===4}function xf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Wg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Dr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=zn));else if(o!==4&&(o===27&&Dr(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(kf(e,n,r),e=e.sibling;e!==null;)kf(e,n,r),e=e.sibling}function Qu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Dr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Qu(e,n,r),e=e.sibling;e!==null;)Qu(e,n,r),e=e.sibling}function ty(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);qe(n,o,r),n[ye]=e,n[Me]=r}catch(f){Qt(e,e.return,f)}}var Bi=!1,be=!1,Uf=!1,ey=typeof WeakSet=="function"?WeakSet:Set,ke=null;function dA(e,n){if(e=e.containerInfo,id=dc,e=dp(e),Ch(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var c=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var p=0,E=-1,R=-1,P=0,q=0,F=e,z=null;e:for(;;){for(var j;F!==r||c!==0&&F.nodeType!==3||(E=p+c),F!==f||o!==0&&F.nodeType!==3||(R=p+o),F.nodeType===3&&(p+=F.nodeValue.length),(j=F.firstChild)!==null;)z=F,F=j;for(;;){if(F===e)break e;if(z===r&&++P===c&&(E=p),z===f&&++q===o&&(R=p),(j=F.nextSibling)!==null)break;F=z,z=F.parentNode}F=j}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(rd={focusedElem:e,selectionRange:r},dc=!1,ke=n;ke!==null;)if(n=ke,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ke=e;else for(;ke!==null;){switch(n=ke,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)c=e[r],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var ot=ws(r.type,c);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ft){Qt(r,r.return,ft)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)od(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":od(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,ke=e;break}ke=n.return}}function ny(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:qi(e,r),o&4&&Yo(5,r);break;case 1:if(qi(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(p){Qt(r,r.return,p)}else{var c=ws(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Qt(r,r.return,p)}}o&64&&Jg(r),o&512&&Xo(r,r.return);break;case 3:if(qi(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Bp(e,n)}catch(p){Qt(r,r.return,p)}}break;case 27:n===null&&o&4&&ty(r);case 26:case 5:qi(e,r),n===null&&o&4&&$g(r),o&512&&Xo(r,r.return);break;case 12:qi(e,r);break;case 31:qi(e,r),o&4&&sy(e,r);break;case 13:qi(e,r),o&4&&ay(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=AA.bind(null,r),qA(e,r))));break;case 22:if(o=r.memoizedState!==null||Bi,!o){n=n!==null&&n.memoizedState!==null||be,c=Bi;var f=be;Bi=o,(be=n)&&!f?Hi(e,r,(r.subtreeFlags&8772)!==0):qi(e,r),Bi=c,be=f}break;case 30:break;default:qi(e,r)}}function iy(e){var n=e.alternate;n!==null&&(e.alternate=null,iy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Xs(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,rn=!1;function ji(e,n,r){for(r=r.child;r!==null;)ry(e,n,r),r=r.sibling}function ry(e,n,r){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(kn,r)}catch{}switch(r.tag){case 26:be||vi(r,n),ji(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:be||vi(r,n);var o=ae,c=rn;Dr(r.type)&&(ae=r.stateNode,rn=!1),ji(e,n,r),rl(r.stateNode),ae=o,rn=c;break;case 5:be||vi(r,n);case 6:if(o=ae,c=rn,ae=null,ji(e,n,r),ae=o,rn=c,ae!==null)if(rn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(r.stateNode)}catch(f){Qt(r,n,f)}else try{ae.removeChild(r.stateNode)}catch(f){Qt(r,n,f)}break;case 18:ae!==null&&(rn?(e=ae,Jy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Ma(e)):Jy(ae,r.stateNode));break;case 4:o=ae,c=rn,ae=r.stateNode.containerInfo,rn=!0,ji(e,n,r),ae=o,rn=c;break;case 0:case 11:case 14:case 15:Ar(2,r,n),be||Ar(4,r,n),ji(e,n,r);break;case 1:be||(vi(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Zg(r,n,o)),ji(e,n,r);break;case 21:ji(e,n,r);break;case 22:be=(o=be)||r.memoizedState!==null,ji(e,n,r),be=o;break;default:ji(e,n,r)}}function sy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ma(e)}catch(r){Qt(n,n.return,r)}}}function ay(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ma(e)}catch(r){Qt(n,n.return,r)}}function mA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ey),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ey),n;default:throw Error(a(435,e.tag))}}function Ku(e,n){var r=mA(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var c=bA.bind(null,e,o);o.then(c,c)}})}function sn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var c=r[o],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Dr(E.type)){ae=E.stateNode,rn=!1;break t}break;case 5:ae=E.stateNode,rn=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(ae===null)throw Error(a(160));ry(f,p,c),ae=null,rn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)oy(n,e),n=n.sibling}var Fn=null;function oy(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:sn(n,e),an(e),o&4&&(Ar(3,e,e.return),Yo(3,e),Ar(5,e,e.return));break;case 1:sn(n,e),an(e),o&512&&(be||r===null||vi(r,r.return)),o&64&&Bi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var c=Fn;if(sn(n,e),an(e),o&512&&(be||r===null||vi(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,c=c.ownerDocument||c;e:switch(o){case"title":f=c.getElementsByTagName("title")[0],(!f||f[si]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(o),c.head.insertBefore(f,c.querySelector("head > title"))),qe(f,o,r),f[ye]=e,_e(f),o=f;break t;case"link":var p=o_("link","href",c).get(o+(r.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(E,1);break e}}f=c.createElement(o),qe(f,o,r),c.head.appendChild(f);break;case"meta":if(p=o_("meta","content",c).get(o+(r.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(E,1);break e}}f=c.createElement(o),qe(f,o,r),c.head.appendChild(f);break;default:throw Error(a(468,o))}f[ye]=e,_e(f),o=f}e.stateNode=o}else l_(c,e.type,e.stateNode);else e.stateNode=a_(c,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?l_(c,e.type,e.stateNode):a_(c,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Mf(e,e.memoizedProps,r.memoizedProps)}break;case 27:sn(n,e),an(e),o&512&&(be||r===null||vi(r,r.return)),r!==null&&o&4&&Mf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(sn(n,e),an(e),o&512&&(be||r===null||vi(r,r.return)),e.flags&32){c=e.stateNode;try{nn(c,"")}catch(ot){Qt(e,e.return,ot)}}o&4&&e.stateNode!=null&&(c=e.memoizedProps,Mf(e,c,r!==null?r.memoizedProps:c)),o&1024&&(Uf=!0);break;case 6:if(sn(n,e),an(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(ot){Qt(e,e.return,ot)}}break;case 3:if(uc=null,c=Fn,Fn=oc(n.containerInfo),sn(n,e),Fn=c,an(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Ma(n.containerInfo)}catch(ot){Qt(e,e.return,ot)}Uf&&(Uf=!1,ly(e));break;case 4:o=Fn,Fn=oc(e.stateNode.containerInfo),sn(n,e),an(e),Fn=o;break;case 12:sn(n,e),an(e);break;case 31:sn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ku(e,o)));break;case 13:sn(n,e),an(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Xu=Ze()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ku(e,o)));break;case 22:c=e.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,P=Bi,q=be;if(Bi=P||c,be=q||R,sn(n,e),be=q,Bi=P,an(e),o&8192)t:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||R||Bi||be||Rs(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,c)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=R.stateNode;var F=R.memoizedProps.style,z=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ot){Qt(R,R.return,ot)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(ot){Qt(R,R.return,ot)}}}else if(n.tag===18){if(r===null){R=n;try{var j=R.stateNode;c?Zy(j,!0):Zy(R.stateNode,!1)}catch(ot){Qt(R,R.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Ku(e,r))));break;case 19:sn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ku(e,o)));break;case 30:break;case 21:break;default:sn(n,e),an(e)}}function an(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(Wg(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=xf(e);Qu(e,f,c);break;case 5:var p=r.stateNode;r.flags&32&&(nn(p,""),r.flags&=-33);var E=xf(e);Qu(e,E,p);break;case 3:case 4:var R=r.stateNode.containerInfo,P=xf(e);kf(e,P,R);break;default:throw Error(a(161))}}catch(q){Qt(e,e.return,q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ly(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ly(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function qi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ny(e,n.alternate,n),n=n.sibling}function Rs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ar(4,n,n.return),Rs(n);break;case 1:vi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Zg(n,n.return,r),Rs(n);break;case 27:rl(n.stateNode);case 26:case 5:vi(n,n.return),Rs(n);break;case 22:n.memoizedState===null&&Rs(n);break;case 30:Rs(n);break;default:Rs(n)}e=e.sibling}}function Hi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,c=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Hi(c,f,r),Yo(4,f);break;case 1:if(Hi(c,f,r),o=f,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Qt(o,o.return,P)}if(o=f,c=o.updateQueue,c!==null){var E=o.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)zp(R[c],E)}catch(P){Qt(o,o.return,P)}}r&&p&64&&Jg(f),Xo(f,f.return);break;case 27:ty(f);case 26:case 5:Hi(c,f,r),r&&o===null&&p&4&&$g(f),Xo(f,f.return);break;case 12:Hi(c,f,r);break;case 31:Hi(c,f,r),r&&p&4&&sy(c,f);break;case 13:Hi(c,f,r),r&&p&4&&ay(c,f);break;case 22:f.memoizedState===null&&Hi(c,f,r),Xo(f,f.return);break;case 30:break;default:Hi(c,f,r)}n=n.sibling}}function Lf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&ko(r))}function Pf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ko(e))}function Qn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)uy(e,n,r,o),n=n.sibling}function uy(e,n,r,o){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Qn(e,n,r,o),c&2048&&Yo(9,n);break;case 1:Qn(e,n,r,o);break;case 3:Qn(e,n,r,o),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ko(e)));break;case 12:if(c&2048){Qn(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Qt(n,n.return,R)}}else Qn(e,n,r,o);break;case 31:Qn(e,n,r,o);break;case 13:Qn(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Qn(e,n,r,o):Jo(e,n):f._visibility&2?Qn(e,n,r,o):(f._visibility|=2,Aa(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Lf(p,n);break;case 24:Qn(e,n,r,o),c&2048&&Pf(n.alternate,n);break;default:Qn(e,n,r,o)}}function Aa(e,n,r,o,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=r,R=o,P=p.flags;switch(p.tag){case 0:case 11:case 15:Aa(f,p,E,R,c),Yo(8,p);break;case 23:break;case 22:var q=p.stateNode;p.memoizedState!==null?q._visibility&2?Aa(f,p,E,R,c):Jo(f,p):(q._visibility|=2,Aa(f,p,E,R,c)),c&&P&2048&&Lf(p.alternate,p);break;case 24:Aa(f,p,E,R,c),c&&P&2048&&Pf(p.alternate,p);break;default:Aa(f,p,E,R,c)}n=n.sibling}}function Jo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,c=o.flags;switch(o.tag){case 22:Jo(r,o),c&2048&&Lf(o.alternate,o);break;case 24:Jo(r,o),c&2048&&Pf(o.alternate,o);break;default:Jo(r,o)}n=n.sibling}}var Zo=8192;function ba(e,n,r){if(e.subtreeFlags&Zo)for(e=e.child;e!==null;)cy(e,n,r),e=e.sibling}function cy(e,n,r){switch(e.tag){case 26:ba(e,n,r),e.flags&Zo&&e.memoizedState!==null&&tb(r,Fn,e.memoizedState,e.memoizedProps);break;case 5:ba(e,n,r);break;case 3:case 4:var o=Fn;Fn=oc(e.stateNode.containerInfo),ba(e,n,r),Fn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Zo,Zo=16777216,ba(e,n,r),Zo=o):ba(e,n,r));break;default:ba(e,n,r)}}function hy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function $o(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];ke=o,dy(o,e)}hy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)fy(e),e=e.sibling}function fy(e){switch(e.tag){case 0:case 11:case 15:$o(e),e.flags&2048&&Ar(9,e,e.return);break;case 3:$o(e);break;case 12:$o(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Yu(e)):$o(e);break;default:$o(e)}}function Yu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];ke=o,dy(o,e)}hy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ar(8,n,n.return),Yu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Yu(n));break;default:Yu(n)}e=e.sibling}}function dy(e,n){for(;ke!==null;){var r=ke;switch(r.tag){case 0:case 11:case 15:Ar(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ko(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,ke=o;else t:for(r=e;ke!==null;){o=ke;var c=o.sibling,f=o.return;if(iy(o),o===r){ke=null;break t}if(c!==null){c.return=f,ke=c;break t}ke=f}}}var pA={getCacheForType:function(e){var n=Be(Ee),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Be(Ee).controller.signal}},gA=typeof WeakMap=="function"?WeakMap:Map,jt=0,$t=null,It=null,Dt=0,Ft=0,gn=null,br=!1,Sa=!1,zf=!1,Gi=0,ue=0,Sr=0,Is=0,Bf=0,yn=0,wa=0,Wo=null,on=null,jf=!1,Xu=0,my=0,Ju=1/0,Zu=null,wr=null,Ne=0,Rr=null,Ra=null,Fi=0,qf=0,Hf=null,py=null,tl=0,Gf=null;function _n(){return(jt&2)!==0&&Dt!==0?Dt&-Dt:H.T!==null?Jf():$l()}function gy(){if(yn===0)if((Dt&536870912)===0||xt){var e=ts;ts<<=1,(ts&3932160)===0&&(ts=262144),yn=e}else yn=536870912;return e=mn.current,e!==null&&(e.flags|=32),yn}function ln(e,n,r){(e===$t&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(Ia(e,0),Ir(e,Dt,yn,!1)),es(e,r),((jt&2)===0||e!==$t)&&(e===$t&&((jt&2)===0&&(Is|=r),ue===4&&Ir(e,Dt,yn,!1)),Ei(e))}function yy(e,n,r){if((jt&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Un(e,n),c=o?vA(e,n):Qf(e,n,!0),f=o;do{if(c===0){Sa&&!o&&Ir(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!yA(r)){c=Qf(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;c=Wo;var R=E.current.memoizedState.isDehydrated;if(R&&(Ia(E,p).flags|=256),p=Qf(E,p,!1),p!==2){if(zf&&!R){E.errorRecoveryDisabledLanes|=f,Is|=f,c=4;break t}f=on,on=c,f!==null&&(on===null?on=f:on.push.apply(on,f))}c=p}if(f=!1,c!==2)continue}}if(c===1){Ia(e,0),Ir(e,n,0,!0);break}t:{switch(o=e,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ir(o,n,yn,!br);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Xu+300-Ze(),10<c)){if(Ir(o,n,yn,!br),ni(o,0,!0)!==0)break t;Fi=n,o.timeoutHandle=Yy(_y.bind(null,o,r,on,Zu,jf,n,yn,Is,wa,br,f,"Throttled",-0,0),c);break t}_y(o,r,on,Zu,jf,n,yn,Is,wa,br,f,null,-0,0)}}break}while(!0);Ei(e)}function _y(e,n,r,o,c,f,p,E,R,P,q,F,z,j){if(e.timeoutHandle=-1,F=n.subtreeFlags,F&8192||(F&16785408)===16785408){F={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zn},cy(n,f,F);var ot=(f&62914560)===f?Xu-Ze():(f&4194048)===f?my-Ze():0;if(ot=eb(F,ot),ot!==null){Fi=f,e.cancelPendingCommit=ot(Ry.bind(null,e,n,f,r,o,c,p,E,R,q,F,null,z,j)),Ir(e,f,p,!P);return}}Ry(e,n,f,r,o,c,p,E,R)}function yA(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var c=r[o],f=c.getSnapshot;c=c.value;try{if(!fn(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ir(e,n,r,o){n&=~Bf,n&=~Is,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var c=n;0<c;){var f=31-ce(c),p=1<<f;o[f]=-1,c&=~p}r!==0&&ns(e,r,n)}function $u(){return(jt&6)===0?(el(0),!1):!0}function Ff(){if(It!==null){if(Ft===0)var e=It.return;else e=It,xi=_s=null,of(e),ya=null,Lo=0,e=It;for(;e!==null;)Xg(e.alternate,e),e=e.return;It=null}}function Ia(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,LA(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Fi=0,Ff(),$t=e,It=r=Vi(e.current,null),Dt=n,Ft=0,gn=null,br=!1,Sa=Un(e,n),zf=!1,wa=yn=Bf=Is=Sr=ue=0,on=Wo=null,jf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var c=31-ce(o),f=1<<c;n|=e[c],o&=~f}return Gi=n,vu(),r}function vy(e,n){St=null,H.H=Fo,n===ga||n===Iu?(n=kp(),Ft=3):n===Yh?(n=kp(),Ft=4):Ft=n===bf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,gn=n,It===null&&(ue=1,ju(e,Rn(n,e.current)))}function Ey(){var e=mn.current;return e===null?!0:(Dt&4194048)===Dt?Nn===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?e===Nn:!1}function Ty(){var e=H.H;return H.H=Fo,e===null?Fo:e}function Ay(){var e=H.A;return H.A=pA,e}function Wu(){ue=4,br||(Dt&4194048)!==Dt&&mn.current!==null||(Sa=!0),(Sr&134217727)===0&&(Is&134217727)===0||$t===null||Ir($t,Dt,yn,!1)}function Qf(e,n,r){var o=jt;jt|=2;var c=Ty(),f=Ay();($t!==e||Dt!==n)&&(Zu=null,Ia(e,n)),n=!1;var p=ue;t:do try{if(Ft!==0&&It!==null){var E=It,R=gn;switch(Ft){case 8:Ff(),p=6;break t;case 3:case 2:case 9:case 6:mn.current===null&&(n=!0);var P=Ft;if(Ft=0,gn=null,Ca(e,E,R,P),r&&Sa){p=0;break t}break;default:P=Ft,Ft=0,gn=null,Ca(e,E,R,P)}}_A(),p=ue;break}catch(q){vy(e,q)}while(!0);return n&&e.shellSuspendCounter++,xi=_s=null,jt=o,H.H=c,H.A=f,It===null&&($t=null,Dt=0,vu()),p}function _A(){for(;It!==null;)by(It)}function vA(e,n){var r=jt;jt|=2;var o=Ty(),c=Ay();$t!==e||Dt!==n?(Zu=null,Ju=Ze()+500,Ia(e,n)):Sa=Un(e,n);t:do try{if(Ft!==0&&It!==null){n=It;var f=gn;e:switch(Ft){case 1:Ft=0,gn=null,Ca(e,n,f,1);break;case 2:case 9:if(Mp(f)){Ft=0,gn=null,Sy(n);break}n=function(){Ft!==2&&Ft!==9||$t!==e||(Ft=7),Ei(e)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Mp(f)?(Ft=0,gn=null,Sy(n)):(Ft=0,gn=null,Ca(e,n,f,7));break;case 5:var p=null;switch(It.tag){case 26:p=It.memoizedState;case 5:case 27:var E=It;if(p?u_(p):E.stateNode.complete){Ft=0,gn=null;var R=E.sibling;if(R!==null)It=R;else{var P=E.return;P!==null?(It=P,tc(P)):It=null}break e}}Ft=0,gn=null,Ca(e,n,f,5);break;case 6:Ft=0,gn=null,Ca(e,n,f,6);break;case 8:Ff(),ue=6;break t;default:throw Error(a(462))}}EA();break}catch(q){vy(e,q)}while(!0);return xi=_s=null,H.H=o,H.A=c,jt=r,It!==null?0:($t=null,Dt=0,vu(),ue)}function EA(){for(;It!==null&&!Th();)by(It)}function by(e){var n=Kg(e.alternate,e,Gi);e.memoizedProps=e.pendingProps,n===null?tc(e):It=n}function Sy(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=jg(r,n,n.pendingProps,n.type,void 0,Dt);break;case 11:n=jg(r,n,n.pendingProps,n.type.render,n.ref,Dt);break;case 5:of(n);default:Xg(r,n),n=It=Ap(n,Gi),n=Kg(r,n,Gi)}e.memoizedProps=e.pendingProps,n===null?tc(e):It=n}function Ca(e,n,r,o){xi=_s=null,of(n),ya=null,Lo=0;var c=n.return;try{if(lA(e,c,n,r,Dt)){ue=1,ju(e,Rn(r,e.current)),It=null;return}}catch(f){if(c!==null)throw It=c,f;ue=1,ju(e,Rn(r,e.current)),It=null;return}n.flags&32768?(xt||o===1?e=!0:Sa||(Dt&536870912)!==0?e=!1:(br=e=!0,(o===2||o===9||o===3||o===6)&&(o=mn.current,o!==null&&o.tag===13&&(o.flags|=16384))),wy(n,e)):tc(n)}function tc(e){var n=e;do{if((n.flags&32768)!==0){wy(n,br);return}e=n.return;var r=hA(n.alternate,n,Gi);if(r!==null){It=r;return}if(n=n.sibling,n!==null){It=n;return}It=n=e}while(n!==null);ue===0&&(ue=5)}function wy(e,n){do{var r=fA(e.alternate,e);if(r!==null){r.flags&=32767,It=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){It=e;return}It=e=r}while(e!==null);ue=6,It=null}function Ry(e,n,r,o,c,f,p,E,R){e.cancelPendingCommit=null;do ec();while(Ne!==0);if((jt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Mh,Sh(e,r,f,p,E,R),e===$t&&(It=$t=null,Dt=0),Ra=n,Rr=e,Fi=r,qf=f,Hf=c,py=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,SA(ir,function(){return Oy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,c=et.p,et.p=2,p=jt,jt|=4;try{dA(e,n,r)}finally{jt=p,et.p=c,H.T=o}}Ne=1,Iy(),Cy(),Dy()}}function Iy(){if(Ne===1){Ne=0;var e=Rr,n=Ra,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var o=et.p;et.p=2;var c=jt;jt|=4;try{oy(n,e);var f=rd,p=dp(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&fp(E.ownerDocument.documentElement,E)){if(R!==null&&Ch(E)){var P=R.start,q=R.end;if(q===void 0&&(q=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(q,E.value.length);else{var F=E.ownerDocument||document,z=F&&F.defaultView||window;if(z.getSelection){var j=z.getSelection(),ot=E.textContent.length,ft=Math.min(R.start,ot),Zt=R.end===void 0?ft:Math.min(R.end,ot);!j.extend&&ft>Zt&&(p=Zt,Zt=ft,ft=p);var x=hp(E,ft),D=hp(E,Zt);if(x&&D&&(j.rangeCount!==1||j.anchorNode!==x.node||j.anchorOffset!==x.offset||j.focusNode!==D.node||j.focusOffset!==D.offset)){var L=F.createRange();L.setStart(x.node,x.offset),j.removeAllRanges(),ft>Zt?(j.addRange(L),j.extend(D.node,D.offset)):(L.setEnd(D.node,D.offset),j.addRange(L))}}}}for(F=[],j=E;j=j.parentNode;)j.nodeType===1&&F.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var G=F[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}dc=!!id,rd=id=null}finally{jt=c,et.p=o,H.T=r}}e.current=n,Ne=2}}function Cy(){if(Ne===2){Ne=0;var e=Rr,n=Ra,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var o=et.p;et.p=2;var c=jt;jt|=4;try{ny(e,n.alternate,n)}finally{jt=c,et.p=o,H.T=r}}Ne=3}}function Dy(){if(Ne===4||Ne===3){Ne=0,Fl();var e=Rr,n=Ra,r=Fi,o=py;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ne=5:(Ne=0,Ra=Rr=null,Ny(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(wr=null),Ci(r),n=n.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(kn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,c=et.p,et.p=2,H.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{H.T=n,et.p=c}}(Fi&3)!==0&&ec(),Ei(e),c=e.pendingLanes,(r&261930)!==0&&(c&42)!==0?e===Gf?tl++:(tl=0,Gf=e):tl=0,el(0)}}function Ny(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ko(n)))}function ec(){return Iy(),Cy(),Dy(),Oy()}function Oy(){if(Ne!==5)return!1;var e=Rr,n=qf;qf=0;var r=Ci(Fi),o=H.T,c=et.p;try{et.p=32>r?32:r,H.T=null,r=Hf,Hf=null;var f=Rr,p=Fi;if(Ne=0,Ra=Rr=null,Fi=0,(jt&6)!==0)throw Error(a(331));var E=jt;if(jt|=4,fy(f.current),uy(f,f.current,p,r),jt=E,el(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(kn,f)}catch{}return!0}finally{et.p=c,H.T=o,Ny(e,n)}}function Vy(e,n,r){n=Rn(r,n),n=Af(e.stateNode,n,2),e=vr(e,n,2),e!==null&&(es(e,2),Ei(e))}function Qt(e,n,r){if(e.tag===3)Vy(e,e,r);else for(;n!==null;){if(n.tag===3){Vy(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(wr===null||!wr.has(o))){e=Rn(r,e),r=Mg(2),o=vr(n,r,2),o!==null&&(xg(r,o,n,e),es(o,2),Ei(o));break}}n=n.return}}function Kf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new gA;var c=new Set;o.set(n,c)}else c=o.get(n),c===void 0&&(c=new Set,o.set(n,c));c.has(r)||(zf=!0,c.add(r),e=TA.bind(null,e,n,r),n.then(e,e))}function TA(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,$t===e&&(Dt&r)===r&&(ue===4||ue===3&&(Dt&62914560)===Dt&&300>Ze()-Xu?(jt&2)===0&&Ia(e,0):Bf|=r,wa===Dt&&(wa=0)),Ei(e)}function My(e,n){n===0&&(n=Zl()),e=ps(e,n),e!==null&&(es(e,n),Ei(e))}function AA(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),My(e,r)}function bA(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(r=c.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),My(e,r)}function SA(e,n){return De(e,n)}var nc=null,Da=null,Yf=!1,ic=!1,Xf=!1,Cr=0;function Ei(e){e!==Da&&e.next===null&&(Da===null?nc=Da=e:Da=Da.next=e),ic=!0,Yf||(Yf=!0,RA())}function el(e,n){if(!Xf&&ic){Xf=!0;do for(var r=!1,o=nc;o!==null;){if(e!==0){var c=o.pendingLanes;if(c===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ce(42|e)+1)-1,f&=c&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Ly(o,f))}else f=Dt,f=ni(o,o===$t?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Un(o,f)||(r=!0,Ly(o,f));o=o.next}while(r);Xf=!1}}function wA(){xy()}function xy(){ic=Yf=!1;var e=0;Cr!==0&&UA()&&(e=Cr);for(var n=Ze(),r=null,o=nc;o!==null;){var c=o.next,f=ky(o,n);f===0?(o.next=null,r===null?nc=c:r.next=c,c===null&&(Da=r)):(r=o,(e!==0||(f&3)!==0)&&(ic=!0)),o=c}Ne!==0&&Ne!==5||el(e),Cr!==0&&(Cr=0)}function ky(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-ce(f),E=1<<p,R=c[p];R===-1?((E&r)===0||(E&o)!==0)&&(c[p]=bh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=$t,r=Dt,r=ni(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&nr(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Un(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&nr(o),Ci(r)){case 2:case 8:r=co;break;case 32:r=ir;break;case 268435456:r=Ql;break;default:r=ir}return o=Uy.bind(null,e),r=De(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&nr(o),e.callbackPriority=2,e.callbackNode=null,2}function Uy(e,n){if(Ne!==0&&Ne!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(ec()&&e.callbackNode!==r)return null;var o=Dt;return o=ni(e,e===$t?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(yy(e,o,n),ky(e,Ze()),e.callbackNode!=null&&e.callbackNode===r?Uy.bind(null,e):null)}function Ly(e,n){if(ec())return null;yy(e,n,!0)}function RA(){PA(function(){(jt&6)!==0?De(uo,wA):xy()})}function Jf(){if(Cr===0){var e=ma;e===0&&(e=ti,ti<<=1,(ti&261888)===0&&(ti=256)),Cr=e}return Cr}function Py(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ws(""+e)}function zy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function IA(e,n,r,o,c){if(n==="submit"&&r&&r.stateNode===c){var f=Py((c[Me]||null).action),p=o.submitter;p&&(n=(n=p[Me]||null)?Py(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new di("action","action",null,o,c);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Cr!==0){var R=p?zy(c,p):new FormData(c);gf(r,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=p?zy(c,p):new FormData(c),gf(r,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var Zf=0;Zf<Vh.length;Zf++){var $f=Vh[Zf],CA=$f.toLowerCase(),DA=$f[0].toUpperCase()+$f.slice(1);Gn(CA,"on"+DA)}Gn(gp,"onAnimationEnd"),Gn(yp,"onAnimationIteration"),Gn(_p,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(F0,"onTransitionRun"),Gn(Q0,"onTransitionStart"),Gn(K0,"onTransitionCancel"),Gn(vp,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nl));function By(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],c=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],R=E.instance,P=E.currentTarget;if(E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(q){_u(q)}c.currentTarget=null,f=R}else for(p=0;p<o.length;p++){if(E=o[p],R=E.instance,P=E.currentTarget,E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(q){_u(q)}c.currentTarget=null,f=R}}}}function Ct(e,n){var r=n[Ys];r===void 0&&(r=n[Ys]=new Set);var o=e+"__bubble";r.has(o)||(jy(n,e,2,!1),r.add(o))}function Wf(e,n,r){var o=0;n&&(o|=4),jy(r,e,o,n)}var rc="_reactListening"+Math.random().toString(36).slice(2);function td(e){if(!e[rc]){e[rc]=!0,mo.forEach(function(r){r!=="selectionchange"&&(NA.has(r)||Wf(r,!1,e),Wf(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[rc]||(n[rc]=!0,Wf("selectionchange",!1,n))}}function jy(e,n,r,o){switch(g_(n)){case 2:var c=rb;break;case 8:c=sb;break;default:c=pd}r=c.bind(null,n,r,e),c=void 0,!os||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(n,r,{capture:!0,passive:c}):e.addEventListener(n,r,!0):c!==void 0?e.addEventListener(n,r,{passive:c}):e.addEventListener(n,r,!1)}function ed(e,n,r,o,c){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===c)break;if(p===4)for(p=o.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;E!==null;){if(p=ai(E),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){o=f=p;continue t}E=E.parentNode}}o=o.return}ur(function(){var P=f,q=An(r),F=[];t:{var z=Ep.get(e);if(z!==void 0){var j=di,ot=e;switch(e){case"keypress":if(us(r)===0)break t;case"keydown":case"keyup":j=pu;break;case"focusin":ot="focus",j=hs;break;case"focusout":ot="blur",j=hs;break;case"beforeblur":case"afterblur":j=hs;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Io;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=au;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=m;break;case gp:case yp:case _p:j=lu;break;case vp:j=T;break;case"scroll":case"scrollend":j=Ro;break;case"wheel":j=B;break;case"copy":case"cut":case"paste":j=uu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Oi;break;case"toggle":case"beforetoggle":j=bt}var ft=(n&4)!==0,Zt=!ft&&(e==="scroll"||e==="scrollend"),x=ft?z!==null?z+"Capture":null:z;ft=[];for(var D=P,L;D!==null;){var G=D;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||x===null||(G=Bn(D,x),G!=null&&ft.push(il(D,G,L))),Zt)break;D=D.return}0<ft.length&&(z=new j(z,ot,null,r,q),F.push({event:z,listeners:ft}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",z&&r!==bo&&(ot=r.relatedTarget||r.fromElement)&&(ai(ot)||ot[ri]))break t;if((j||z)&&(z=q.window===q?q:(z=q.ownerDocument)?z.defaultView||z.parentWindow:window,j?(ot=r.relatedTarget||r.toElement,j=P,ot=ot?ai(ot):null,ot!==null&&(Zt=h(ot),ft=ot.tag,ot!==Zt||ft!==5&&ft!==27&&ft!==6)&&(ot=null)):(j=null,ot=P),j!==ot)){if(ft=Io,G="onMouseLeave",x="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(ft=Oi,G="onPointerLeave",x="onPointerEnter",D="pointer"),Zt=j==null?z:cn(j),L=ot==null?z:cn(ot),z=new ft(G,D+"leave",j,r,q),z.target=Zt,z.relatedTarget=L,G=null,ai(q)===P&&(ft=new ft(x,D+"enter",ot,r,q),ft.target=L,ft.relatedTarget=Zt,G=ft),Zt=G,j&&ot)e:{for(ft=OA,x=j,D=ot,L=0,G=x;G;G=ft(G))L++;G=0;for(var ut=D;ut;ut=ft(ut))G++;for(;0<L-G;)x=ft(x),L--;for(;0<G-L;)D=ft(D),G--;for(;L--;){if(x===D||D!==null&&x===D.alternate){ft=x;break e}x=ft(x),D=ft(D)}ft=null}else ft=null;j!==null&&qy(F,z,j,ft,!1),ot!==null&&Zt!==null&&qy(F,Zt,ot,ft,!0)}}t:{if(z=P?cn(P):window,j=z.nodeName&&z.nodeName.toLowerCase(),j==="select"||j==="input"&&z.type==="file")var Pt=sp;else if(ip(z))if(ap)Pt=q0;else{Pt=B0;var lt=z0}else j=z.nodeName,!j||j.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&$s(P.elementType)&&(Pt=sp):Pt=j0;if(Pt&&(Pt=Pt(e,P))){rp(F,Pt,r,q);break t}lt&&lt(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&Eo(z,"number",z.value)}switch(lt=P?cn(P):window,e){case"focusin":(ip(lt)||lt.contentEditable==="true")&&(aa=lt,Dh=P,Vo=null);break;case"focusout":Vo=Dh=aa=null;break;case"mousedown":Nh=!0;break;case"contextmenu":case"mouseup":case"dragend":Nh=!1,mp(F,r,q);break;case"selectionchange":if(G0)break;case"keydown":case"keyup":mp(F,r,q)}var Rt;if(Bt)t:{switch(e){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else sa?fs(e,r)&&(Nt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Nt="onCompositionStart");Nt&&(gi&&r.locale!=="ko"&&(sa||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&sa&&(Rt=wo()):(fi=q,So="value"in fi?fi.value:fi.textContent,sa=!0)),lt=sc(P,Nt),0<lt.length&&(Nt=new pi(Nt,e,null,r,q),F.push({event:Nt,listeners:lt}),Rt?Nt.data=Rt:(Rt=ra(r),Rt!==null&&(Nt.data=Rt)))),(Rt=Sn?k0(e,r):U0(e,r))&&(Nt=sc(P,"onBeforeInput"),0<Nt.length&&(lt=new pi("onBeforeInput","beforeinput",null,r,q),F.push({event:lt,listeners:Nt}),lt.data=Rt)),IA(F,e,P,r,q)}By(F,n)})}function il(e,n,r){return{instance:e,listener:n,currentTarget:r}}function sc(e,n){for(var r=n+"Capture",o=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Bn(e,r),c!=null&&o.unshift(il(e,c,f)),c=Bn(e,n),c!=null&&o.push(il(e,c,f))),e.tag===3)return o;e=e.return}return[]}function OA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function qy(e,n,r,o,c){for(var f=n._reactName,p=[];r!==null&&r!==o;){var E=r,R=E.alternate,P=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||P===null||(R=P,c?(P=Bn(r,f),P!=null&&p.unshift(il(r,P,R))):c||(P=Bn(r,f),P!=null&&p.push(il(r,P,R)))),r=r.return}p.length!==0&&e.push({event:n,listeners:p})}var VA=/\r\n?/g,MA=/\u0000|\uFFFD/g;function Hy(e){return(typeof e=="string"?e:""+e).replace(VA,`
`).replace(MA,"")}function Gy(e,n){return n=Hy(n),Hy(e)===n}function Jt(e,n,r,o,c,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||nn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&nn(e,""+o);break;case"className":hn(e,"class",o);break;case"tabIndex":hn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":hn(e,r,o);break;case"style":Ao(e,o,f);break;case"data":if(n!=="object"){hn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Ws(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Jt(e,n,"name",c.name,c,null),Jt(e,n,"formEncType",c.formEncType,c,null),Jt(e,n,"formMethod",c.formMethod,c,null),Jt(e,n,"formTarget",c.formTarget,c,null)):(Jt(e,n,"encType",c.encType,c,null),Jt(e,n,"method",c.method,c,null),Jt(e,n,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Ws(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=zn);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=Ws(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),Js(e,"popover",o);break;case"xlinkActuate":ve(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ve(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ve(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ve(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ve(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ve(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ve(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ve(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ve(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Js(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=su.get(r)||r,Js(e,r,o))}}function nd(e,n,r,o,c,f){switch(r){case"style":Ao(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?nn(e,o):(typeof o=="number"||typeof o=="bigint")&&nn(e,""+o);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"onClick":o!=null&&(e.onclick=zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!po.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=e[Me]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,c);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):Js(e,r,o)}}}function qe(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var o=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Jt(e,n,f,p,r,null)}}c&&Jt(e,n,"srcSet",r.srcSet,r,null),o&&Jt(e,n,"src",r.src,r,null);return;case"input":Ct("invalid",e);var E=f=p=c=null,R=null,P=null;for(o in r)if(r.hasOwnProperty(o)){var q=r[o];if(q!=null)switch(o){case"name":c=q;break;case"type":p=q;break;case"checked":R=q;break;case"defaultChecked":P=q;break;case"value":f=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:Jt(e,n,o,q,r,null)}}nu(e,f,E,R,P,p,c,!1);return;case"select":Ct("invalid",e),o=p=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:Jt(e,n,c,E,r,null)}n=f,r=p,e.multiple=!!o,n!=null?sr(e,!!o,n,!1):r!=null&&sr(e,!!o,r,!0);return;case"textarea":Ct("invalid",e),f=c=o=null;for(p in r)if(r.hasOwnProperty(p)&&(E=r[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Jt(e,n,p,E,r,null)}ar(e,o,c,f);return;case"option":for(R in r)r.hasOwnProperty(R)&&(o=r[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Jt(e,n,R,o,r,null));return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(o=0;o<nl.length;o++)Ct(nl[o],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(o=r[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Jt(e,n,P,o,r,null)}return;default:if($s(n)){for(q in r)r.hasOwnProperty(q)&&(o=r[q],o!==void 0&&nd(e,n,q,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&Jt(e,n,E,o,r,null))}function xA(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,p=null,E=null,R=null,P=null,q=null;for(j in r){var F=r[j];if(r.hasOwnProperty(j)&&F!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":R=F;default:o.hasOwnProperty(j)||Jt(e,n,j,null,o,F)}}for(var z in o){var j=o[z];if(F=r[z],o.hasOwnProperty(z)&&(j!=null||F!=null))switch(z){case"type":f=j;break;case"name":c=j;break;case"checked":P=j;break;case"defaultChecked":q=j;break;case"value":p=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:j!==F&&Jt(e,n,z,j,o,F)}}Zs(e,p,E,R,P,q,f,c);return;case"select":j=p=E=z=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":j=R;default:o.hasOwnProperty(f)||Jt(e,n,f,null,o,R)}for(c in o)if(f=o[c],R=r[c],o.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==R&&Jt(e,n,c,f,o,R)}n=E,r=p,o=j,z!=null?sr(e,!!r,z,!1):!!o!=!!r&&(n!=null?sr(e,!!r,n,!0):sr(e,!!r,r?[]:"",!1));return;case"textarea":j=z=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Jt(e,n,E,null,o,c)}for(p in o)if(c=o[p],f=r[p],o.hasOwnProperty(p)&&(c!=null||f!=null))switch(p){case"value":z=c;break;case"defaultValue":j=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Jt(e,n,p,c,o,f)}iu(e,z,j);return;case"option":for(var ot in r)z=r[ot],r.hasOwnProperty(ot)&&z!=null&&!o.hasOwnProperty(ot)&&(ot==="selected"?e.selected=!1:Jt(e,n,ot,null,o,z));for(R in o)z=o[R],j=r[R],o.hasOwnProperty(R)&&z!==j&&(z!=null||j!=null)&&(R==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":Jt(e,n,R,z,o,j));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in r)z=r[ft],r.hasOwnProperty(ft)&&z!=null&&!o.hasOwnProperty(ft)&&Jt(e,n,ft,null,o,z);for(P in o)if(z=o[P],j=r[P],o.hasOwnProperty(P)&&z!==j&&(z!=null||j!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:Jt(e,n,P,z,o,j)}return;default:if($s(n)){for(var Zt in r)z=r[Zt],r.hasOwnProperty(Zt)&&z!==void 0&&!o.hasOwnProperty(Zt)&&nd(e,n,Zt,void 0,o,z);for(q in o)z=o[q],j=r[q],!o.hasOwnProperty(q)||z===j||z===void 0&&j===void 0||nd(e,n,q,z,o,j);return}}for(var x in r)z=r[x],r.hasOwnProperty(x)&&z!=null&&!o.hasOwnProperty(x)&&Jt(e,n,x,null,o,z);for(F in o)z=o[F],j=r[F],!o.hasOwnProperty(F)||z===j||z==null&&j==null||Jt(e,n,F,z,o,j)}function Fy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function kA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var c=r[o],f=c.transferSize,p=c.initiatorType,E=c.duration;if(f&&E&&Fy(p)){for(p=0,E=c.responseEnd,o+=1;o<r.length;o++){var R=r[o],P=R.startTime;if(P>E)break;var q=R.transferSize,F=R.initiatorType;q&&Fy(F)&&(R=R.responseEnd,p+=q*(R<E?1:(E-P)/(R-P)))}if(--o,n+=8*(f+p)/(c.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var id=null,rd=null;function ac(e){return e.nodeType===9?e:e.ownerDocument}function Qy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ky(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function sd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ad=null;function UA(){var e=window.event;return e&&e.type==="popstate"?e===ad?!1:(ad=e,!0):(ad=null,!1)}var Yy=typeof setTimeout=="function"?setTimeout:void 0,LA=typeof clearTimeout=="function"?clearTimeout:void 0,Xy=typeof Promise=="function"?Promise:void 0,PA=typeof queueMicrotask=="function"?queueMicrotask:typeof Xy<"u"?function(e){return Xy.resolve(null).then(e).catch(zA)}:Yy;function zA(e){setTimeout(function(){throw e})}function Dr(e){return e==="head"}function Jy(e,n){var r=n,o=0;do{var c=r.nextSibling;if(e.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(c),Ma(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")rl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,rl(r);for(var f=r.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[si]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&rl(e.ownerDocument.body);r=c}while(r);Ma(n)}function Zy(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function od(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":od(r),Xs(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function BA(e,n,r,o){for(;e.nodeType===1;){var c=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[si])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=On(e.nextSibling),e===null)break}return null}function jA(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=On(e.nextSibling),e===null))return null;return e}function $y(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=On(e.nextSibling),e===null))return null;return e}function ld(e){return e.data==="$?"||e.data==="$~"}function ud(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function qA(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function On(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var cd=null;function Wy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return On(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function t_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function e_(e,n,r){switch(n=ac(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function rl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Xs(e)}var Vn=new Map,n_=new Set;function oc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Qi=et.d;et.d={f:HA,r:GA,D:FA,C:QA,L:KA,m:YA,X:JA,S:XA,M:ZA};function HA(){var e=Qi.f(),n=$u();return e||n}function GA(e){var n=Tn(e);n!==null&&n.tag===5&&n.type==="form"?vg(n):Qi.r(e)}var Na=typeof document>"u"?null:document;function i_(e,n,r){var o=Na;if(o&&typeof n=="string"&&n){var c=en(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),n_.has(c)||(n_.add(c),e={rel:e,crossOrigin:r,href:n},o.querySelector(c)===null&&(n=o.createElement("link"),qe(n,"link",e),_e(n),o.head.appendChild(n)))}}function FA(e){Qi.D(e),i_("dns-prefetch",e,null)}function QA(e,n){Qi.C(e,n),i_("preconnect",e,n)}function KA(e,n,r){Qi.L(e,n,r);var o=Na;if(o&&e&&n){var c='link[rel="preload"][as="'+en(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+en(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+en(r.imageSizes)+'"]')):c+='[href="'+en(e)+'"]';var f=c;switch(n){case"style":f=Oa(e);break;case"script":f=Va(e)}Vn.has(f)||(e=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Vn.set(f,e),o.querySelector(c)!==null||n==="style"&&o.querySelector(sl(f))||n==="script"&&o.querySelector(al(f))||(n=o.createElement("link"),qe(n,"link",e),_e(n),o.head.appendChild(n)))}}function YA(e,n){Qi.m(e,n);var r=Na;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+en(o)+'"][href="'+en(e)+'"]',f=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Va(e)}if(!Vn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Vn.set(f,e),r.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(al(f)))return}o=r.createElement("link"),qe(o,"link",e),_e(o),r.head.appendChild(o)}}}function XA(e,n,r){Qi.S(e,n,r);var o=Na;if(o&&e){var c=oi(o).hoistableStyles,f=Oa(e);n=n||"default";var p=c.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(sl(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Vn.get(f))&&hd(e,r);var R=p=o.createElement("link");_e(R),qe(R,"link",e),R._p=new Promise(function(P,q){R.onload=P,R.onerror=q}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,lc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},c.set(f,p)}}}function JA(e,n){Qi.X(e,n);var r=Na;if(r&&e){var o=oi(r).hoistableScripts,c=Va(e),f=o.get(c);f||(f=r.querySelector(al(c)),f||(e=S({src:e,async:!0},n),(n=Vn.get(c))&&fd(e,n),f=r.createElement("script"),_e(f),qe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function ZA(e,n){Qi.M(e,n);var r=Na;if(r&&e){var o=oi(r).hoistableScripts,c=Va(e),f=o.get(c);f||(f=r.querySelector(al(c)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Vn.get(c))&&fd(e,n),f=r.createElement("script"),_e(f),qe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function r_(e,n,r,o){var c=(c=wt.current)?oc(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Oa(r.href),r=oi(c).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Oa(r.href);var f=oi(c).hoistableStyles,p=f.get(e);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=c.querySelector(sl(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Vn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Vn.set(e,r),f||$A(c,e,r,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Va(r),r=oi(c).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Oa(e){return'href="'+en(e)+'"'}function sl(e){return'link[rel="stylesheet"]['+e+"]"}function s_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function $A(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),qe(n,"link",r),_e(n),e.head.appendChild(n))}function Va(e){return'[src="'+en(e)+'"]'}function al(e){return"script[async]"+e}function a_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+en(r.href)+'"]');if(o)return n.instance=o,_e(o),o;var c=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),_e(o),qe(o,"style",c),lc(o,r.precedence,e),n.instance=o;case"stylesheet":c=Oa(r.href);var f=e.querySelector(sl(c));if(f)return n.state.loading|=4,n.instance=f,_e(f),f;o=s_(r),(c=Vn.get(c))&&hd(o,c),f=(e.ownerDocument||e).createElement("link"),_e(f);var p=f;return p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),qe(f,"link",o),n.state.loading|=4,lc(f,r.precedence,e),n.instance=f;case"script":return f=Va(r.src),(c=e.querySelector(al(f)))?(n.instance=c,_e(c),c):(o=r,(c=Vn.get(f))&&(o=S({},r),fd(o,c)),e=e.ownerDocument||e,c=e.createElement("script"),_e(c),qe(c,"link",o),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,lc(o,r.precedence,e));return n.instance}function lc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,f=c,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function hd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function fd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var uc=null;function o_(e,n,r){if(uc===null){var o=new Map,c=uc=new Map;c.set(r,o)}else c=uc,o=c.get(r),o||(o=new Map,c.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),c=0;c<r.length;c++){var f=r[c];if(!(f[si]||f[ye]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function l_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function WA(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function u_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function tb(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var c=Oa(o.href),f=n.querySelector(sl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=cc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,_e(f);return}f=n.ownerDocument||n,o=s_(o),(c=Vn.get(c))&&hd(o,c),f=f.createElement("link"),_e(f);var p=f;p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),qe(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=cc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var dd=0;function eb(e,n){return e.stylesheets&&e.count===0&&fc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&fc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&dd===0&&(dd=62500*kA());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&fc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>dd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(c)}}:null}function cc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var hc=null;function fc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,hc=new Map,n.forEach(nb,e),hc=null,cc.call(e))}function nb(e,n){if(!(n.state.loading&4)){var r=hc.get(e);if(r)var o=r.get(null);else{r=new Map,hc.set(e,r);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var p=c[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),o=p)}o&&r.set(null,o)}c=n.instance,p=c.getAttribute("data-precedence"),f=r.get(p)||o,f===o&&r.set(null,c),r.set(p,c),this.count++,o=cc.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var ol={$$typeof:yt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function ib(e,n,r,o,c,f,p,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function c_(e,n,r,o,c,f,p,E,R,P,q,F){return e=new ib(e,n,r,p,R,P,q,F,E),n=1,f===!0&&(n|=24),f=dn(3,null,null,n),e.current=f,f.stateNode=e,n=Fh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},Xh(f),e}function h_(e){return e?(e=ua,e):ua}function f_(e,n,r,o,c,f){c=h_(c),o.context===null?o.context=c:o.pendingContext=c,o=_r(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=vr(e,o,n),r!==null&&(ln(r,e,n),zo(r,e,n))}function d_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function md(e,n){d_(e,n),(e=e.alternate)&&d_(e,n)}function m_(e){if(e.tag===13||e.tag===31){var n=ps(e,67108864);n!==null&&ln(n,e,67108864),md(e,67108864)}}function p_(e){if(e.tag===13||e.tag===31){var n=_n();n=is(n);var r=ps(e,n);r!==null&&ln(r,e,n),md(e,n)}}var dc=!0;function rb(e,n,r,o){var c=H.T;H.T=null;var f=et.p;try{et.p=2,pd(e,n,r,o)}finally{et.p=f,H.T=c}}function sb(e,n,r,o){var c=H.T;H.T=null;var f=et.p;try{et.p=8,pd(e,n,r,o)}finally{et.p=f,H.T=c}}function pd(e,n,r,o){if(dc){var c=gd(o);if(c===null)ed(e,n,o,mc,r),y_(e,o);else if(ob(c,e,n,r,o))o.stopPropagation();else if(y_(e,o),n&4&&-1<ab.indexOf(e)){for(;c!==null;){var f=Tn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=ei(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var R=1<<31-ce(p);E.entanglements[1]|=R,p&=~R}Ei(f),(jt&6)===0&&(Ju=Ze()+500,el(0))}}break;case 31:case 13:E=ps(f,2),E!==null&&ln(E,f,2),$u(),md(f,2)}if(f=gd(o),f===null&&ed(e,n,o,mc,r),f===c)break;c=f}c!==null&&o.stopPropagation()}else ed(e,n,o,null,r)}}function gd(e){return e=An(e),yd(e)}var mc=null;function yd(e){if(mc=null,e=ai(e),e!==null){var n=h(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=g(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return mc=e,null}function g_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wr()){case uo:return 2;case co:return 8;case ir:case Ah:return 32;case Ql:return 268435456;default:return 32}default:return 32}}var _d=!1,Nr=null,Or=null,Vr=null,ll=new Map,ul=new Map,Mr=[],ab="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function y_(e,n){switch(e){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":ll.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ul.delete(n.pointerId)}}function cl(e,n,r,o,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Tn(n),n!==null&&m_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function ob(e,n,r,o,c){switch(n){case"focusin":return Nr=cl(Nr,e,n,r,o,c),!0;case"dragenter":return Or=cl(Or,e,n,r,o,c),!0;case"mouseover":return Vr=cl(Vr,e,n,r,o,c),!0;case"pointerover":var f=c.pointerId;return ll.set(f,cl(ll.get(f)||null,e,n,r,o,c)),!0;case"gotpointercapture":return f=c.pointerId,ul.set(f,cl(ul.get(f)||null,e,n,r,o,c)),!0}return!1}function __(e){var n=ai(e.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Ln(e.priority,function(){p_(r)});return}}else if(n===31){if(n=g(r),n!==null){e.blockedOn=n,Ln(e.priority,function(){p_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=gd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);bo=o,r.target.dispatchEvent(o),bo=null}else return n=Tn(r),n!==null&&m_(n),e.blockedOn=r,!1;n.shift()}return!0}function v_(e,n,r){pc(e)&&r.delete(n)}function lb(){_d=!1,Nr!==null&&pc(Nr)&&(Nr=null),Or!==null&&pc(Or)&&(Or=null),Vr!==null&&pc(Vr)&&(Vr=null),ll.forEach(v_),ul.forEach(v_)}function gc(e,n){e.blockedOn===n&&(e.blockedOn=null,_d||(_d=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,lb)))}var yc=null;function E_(e){yc!==e&&(yc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){yc===e&&(yc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],c=e[n+2];if(typeof o!="function"){if(yd(o||r)===null)continue;break}var f=Tn(r);f!==null&&(e.splice(n,3),n-=3,gf(f,{pending:!0,data:c,method:r.method,action:o},o,c))}}))}function Ma(e){function n(R){return gc(R,e)}Nr!==null&&gc(Nr,e),Or!==null&&gc(Or,e),Vr!==null&&gc(Vr,e),ll.forEach(n),ul.forEach(n);for(var r=0;r<Mr.length;r++){var o=Mr[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Mr.length&&(r=Mr[0],r.blockedOn===null);)__(r),r.blockedOn===null&&Mr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var c=r[o],f=r[o+1],p=c[Me]||null;if(typeof f=="function")p||E_(r);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,p=f[Me]||null)E=p.formAction;else if(yd(c)!==null)continue}else E=p.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),E_(r)}}}function T_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return c=p})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function vd(e){this._internalRoot=e}_c.prototype.render=vd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=_n();f_(r,o,e,n,null,null)},_c.prototype.unmount=vd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;f_(e.current,2,null,e,null,null),$u(),n[ri]=null}};function _c(e){this._internalRoot=e}_c.prototype.unstable_scheduleHydration=function(e){if(e){var n=$l();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Mr.length&&n!==0&&n<Mr[r].priority;r++);Mr.splice(r,0,e),r===0&&__(e)}};var A_=t.version;if(A_!=="19.2.3")throw Error(a(527,A_,"19.2.3"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var ub={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{kn=vc.inject(ub),Le=vc}catch{}}return fl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",c=Dg,f=Ng,p=Og;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=c_(e,1,!1,null,null,r,o,null,c,f,p,T_),e[ri]=n.current,td(e),new vd(n)},fl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,c="",f=Dg,p=Ng,E=Og,R=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=c_(e,1,!0,n,r??null,o,c,R,f,p,E,T_),n.context=h_(null),r=n.current,o=_n(),o=is(o),c=_r(o),c.callback=null,vr(r,c,o),r=o,n.current.lanes=r,es(n,r),Ei(n),e[ri]=n.current,td(e),new _c(n)},fl.version="19.2.3",fl}var V_;function vb(){if(V_)return Ad.exports;V_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Ad.exports=_b(),Ad.exports}var Eb=vb();const Tb=()=>{};var M_={};const dE=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},Ab=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const h=s[i++];t[a++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=s[i++],d=s[i++],g=s[i++],v=((l&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const h=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(h&63)<<6|d&63)}}return t.join("")},mE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const h=s[l],d=l+1<s.length,g=d?s[l+1]:0,v=l+2<s.length,_=v?s[l+2]:0,A=h>>2,S=(h&3)<<4|g>>4;let M=(g&15)<<2|_>>6,Y=_&63;v||(Y=64,d||(M=64)),a.push(i[A],i[S],i[M],i[Y])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(dE(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):Ab(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const h=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const S=l<s.length?i[s.charAt(l)]:64;if(++l,h==null||g==null||_==null||S==null)throw new bb;const M=h<<2|g>>4;if(a.push(M),_!==64){const Y=g<<4&240|_>>2;if(a.push(Y),S!==64){const J=_<<6&192|S;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class bb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Sb=function(s){const t=dE(s);return mE.encodeByteArray(t,!0)},Pc=function(s){return Sb(s).replace(/\./g,"")},pE=function(s){try{return mE.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function wb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Rb=()=>wb().__FIREBASE_DEFAULTS__,Ib=()=>{if(typeof process>"u"||typeof M_>"u")return;const s=M_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Cb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&pE(s[1]);return t&&JSON.parse(t)},ih=()=>{try{return Tb()||Rb()||Ib()||Cb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},gE=s=>ih()?.emulatorHosts?.[s],Db=s=>{const t=gE(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},yE=()=>ih()?.config,_E=s=>ih()?.[`_${s}`];class Nb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function $a(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vE(s){return(await fetch(s,{credentials:"include"})).ok}function Ob(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Pc(JSON.stringify(i)),Pc(JSON.stringify(d)),""].join(".")}const _l={};function Vb(){const s={prod:[],emulator:[]};for(const t of Object.keys(_l))_l[t]?s.emulator.push(t):s.prod.push(t);return s}function Mb(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let x_=!1;function EE(s,t){if(typeof window>"u"||typeof document>"u"||!$a(window.location.host)||_l[s]===t||_l[s]||x_)return;_l[s]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",h=Vb().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function g(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function v(M,Y){M.setAttribute("width","24"),M.setAttribute("id",Y),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{x_=!0,d()},M}function A(M,Y){M.setAttribute("id",Y),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function S(){const M=Mb(a),Y=i("text"),J=document.getElementById(Y)||document.createElement("span"),$=i("learnmore"),it=document.getElementById($)||document.createElement("a"),dt=i("preprendIcon"),At=document.getElementById(dt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const yt=M.element;g(yt),A(it,$);const Kt=_();v(At,dt),yt.append(At,J,it,Kt),document.body.appendChild(yt)}h?(J.innerText="Preview backend disconnected.",At.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(At.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",Y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function kb(){const s=ih()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ub(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Lb(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Pb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zb(){const s=Je();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function Bb(){return!kb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jb(){try{return typeof indexedDB=="object"}catch{return!1}}function qb(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const Hb="FirebaseError";class er extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=Hb,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kl.prototype.create)}}class kl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,h=this.errors[t],d=h?Gb(h,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new er(l,g,a)}}function Gb(s,t){return s.replace(Fb,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const Fb=/\{\$([^}]+)}/g;function Qb(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function xs(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const h=s[l],d=t[l];if(k_(h)&&k_(d)){if(!xs(h,d))return!1}else if(h!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function k_(s){return s!==null&&typeof s=="object"}function Ul(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function Kb(s,t){const i=new Yb(s,t);return i.subscribe.bind(i)}class Yb{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");Xb(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Rd),l.error===void 0&&(l.error=Rd),l.complete===void 0&&(l.complete=Rd);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xb(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Rd(){}function tn(s){return s&&s._delegate?s._delegate:s}class ks{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Cs="[DEFAULT]";class Jb{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new Nb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if($b(t))try{this.getOrInitializeService({instanceIdentifier:Cs})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:l});a.resolve(h)}catch{}}}}clearInstance(t=Cs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Cs){return this.instances.has(t)}getOptions(t=Cs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);a===g&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const h=this.instances.get(a);return h&&t(h,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Zb(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Cs){return this.component?this.component.multipleInstances?t:Cs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Zb(s){return s===Cs?void 0:s}function $b(s){return s.instantiationMode==="EAGER"}class Wb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new Jb(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ot;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ot||(Ot={}));const tS={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},eS=Ot.INFO,nS={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},iS=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=nS[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class hm{constructor(t){this.name=t,this._logLevel=eS,this._logHandler=iS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?tS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const rS=(s,t)=>t.some(i=>s instanceof i);let U_,L_;function sS(){return U_||(U_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aS(){return L_||(L_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TE=new WeakMap,zd=new WeakMap,AE=new WeakMap,Id=new WeakMap,fm=new WeakMap;function oS(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(Br(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",h),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&TE.set(i,s)}).catch(()=>{}),fm.set(t,s),t}function lS(s){if(zd.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});zd.set(s,t)}let Bd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return zd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||AE.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Br(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function uS(s){Bd=s(Bd)}function cS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Cd(this),t,...i);return AE.set(a,t.sort?t.sort():[t]),Br(a)}:aS().includes(s)?function(...t){return s.apply(Cd(this),t),Br(TE.get(this))}:function(...t){return Br(s.apply(Cd(this),t))}}function hS(s){return typeof s=="function"?cS(s):(s instanceof IDBTransaction&&lS(s),rS(s,sS())?new Proxy(s,Bd):s)}function Br(s){if(s instanceof IDBRequest)return oS(s);if(Id.has(s))return Id.get(s);const t=hS(s);return t!==s&&(Id.set(s,t),fm.set(t,s)),t}const Cd=s=>fm.get(s);function fS(s,t,{blocked:i,upgrade:a,blocking:l,terminated:h}={}){const d=indexedDB.open(s,t),g=Br(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Br(d.result),v.oldVersion,v.newVersion,Br(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{h&&v.addEventListener("close",()=>h()),l&&v.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const dS=["get","getKey","getAll","getAllKeys","count"],mS=["put","add","delete","clear"],Dd=new Map;function P_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Dd.get(t))return Dd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=mS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||dS.includes(i)))return;const h=async function(d,...g){const v=this.transaction(d,l?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),l&&v.done]))[0]};return Dd.set(t,h),h}uS(s=>({...s,get:(t,i,a)=>P_(t,i)||s.get(t,i,a),has:(t,i)=>!!P_(t,i)||s.has(t,i)}));class pS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(gS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function gS(s){return s.getComponent()?.type==="VERSION"}const jd="@firebase/app",z_="0.14.7";const Zi=new hm("@firebase/app"),yS="@firebase/app-compat",_S="@firebase/analytics-compat",vS="@firebase/analytics",ES="@firebase/app-check-compat",TS="@firebase/app-check",AS="@firebase/auth",bS="@firebase/auth-compat",SS="@firebase/database",wS="@firebase/data-connect",RS="@firebase/database-compat",IS="@firebase/functions",CS="@firebase/functions-compat",DS="@firebase/installations",NS="@firebase/installations-compat",OS="@firebase/messaging",VS="@firebase/messaging-compat",MS="@firebase/performance",xS="@firebase/performance-compat",kS="@firebase/remote-config",US="@firebase/remote-config-compat",LS="@firebase/storage",PS="@firebase/storage-compat",zS="@firebase/firestore",BS="@firebase/ai",jS="@firebase/firestore-compat",qS="firebase",HS="12.8.0";const qd="[DEFAULT]",GS={[jd]:"fire-core",[yS]:"fire-core-compat",[vS]:"fire-analytics",[_S]:"fire-analytics-compat",[TS]:"fire-app-check",[ES]:"fire-app-check-compat",[AS]:"fire-auth",[bS]:"fire-auth-compat",[SS]:"fire-rtdb",[wS]:"fire-data-connect",[RS]:"fire-rtdb-compat",[IS]:"fire-fn",[CS]:"fire-fn-compat",[DS]:"fire-iid",[NS]:"fire-iid-compat",[OS]:"fire-fcm",[VS]:"fire-fcm-compat",[MS]:"fire-perf",[xS]:"fire-perf-compat",[kS]:"fire-rc",[US]:"fire-rc-compat",[LS]:"fire-gcs",[PS]:"fire-gcs-compat",[zS]:"fire-fst",[jS]:"fire-fst-compat",[BS]:"fire-vertex","fire-js":"fire-js",[qS]:"fire-js-all"};const zc=new Map,FS=new Map,Hd=new Map;function B_(s,t){try{s.container.addComponent(t)}catch(i){Zi.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Ga(s){const t=s.name;if(Hd.has(t))return Zi.debug(`There were multiple attempts to register component ${t}.`),!1;Hd.set(t,s);for(const i of zc.values())B_(i,s);for(const i of FS.values())B_(i,s);return!0}function dm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Kn(s){return s==null?!1:s.settings!==void 0}const QS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jr=new kl("app","Firebase",QS);class KS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}}const Wa=HS;function bE(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:qd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw jr.create("bad-app-name",{appName:String(l)});if(i||(i=yE()),!i)throw jr.create("no-options");const h=zc.get(l);if(h){if(xs(i,h.options)&&xs(a,h.config))return h;throw jr.create("duplicate-app",{appName:l})}const d=new Wb(l);for(const v of Hd.values())d.addComponent(v);const g=new KS(i,a,d);return zc.set(l,g),g}function SE(s=qd){const t=zc.get(s);if(!t&&s===qd&&yE())return bE();if(!t)throw jr.create("no-app",{appName:s});return t}function qr(s,t,i){let a=GS[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Zi.warn(d.join(" "));return}Ga(new ks(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const YS="firebase-heartbeat-database",XS=1,wl="firebase-heartbeat-store";let Nd=null;function wE(){return Nd||(Nd=fS(YS,XS,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(wl)}catch(i){console.warn(i)}}}}).catch(s=>{throw jr.create("idb-open",{originalErrorMessage:s.message})})),Nd}async function JS(s){try{const i=(await wE()).transaction(wl),a=await i.objectStore(wl).get(RE(s));return await i.done,a}catch(t){if(t instanceof er)Zi.warn(t.message);else{const i=jr.create("idb-get",{originalErrorMessage:t?.message});Zi.warn(i.message)}}}async function j_(s,t){try{const a=(await wE()).transaction(wl,"readwrite");await a.objectStore(wl).put(t,RE(s)),await a.done}catch(i){if(i instanceof er)Zi.warn(i.message);else{const a=jr.create("idb-set",{originalErrorMessage:i?.message});Zi.warn(a.message)}}}function RE(s){return`${s.name}!${s.options.appId}`}const ZS=1024,$S=30;class WS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new e1(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=q_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>$S){const l=n1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Zi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=q_(),{heartbeatsToSend:i,unsentEntries:a}=t1(this._heartbeatsCache.heartbeats),l=Pc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Zi.warn(t),""}}}function q_(){return new Date().toISOString().substring(0,10)}function t1(s,t=ZS){const i=[];let a=s.slice();for(const l of s){const h=i.find(d=>d.agent===l.agent);if(h){if(h.dates.push(l.date),H_(i)>t){h.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),H_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class e1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jb()?qb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await JS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return j_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return j_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function H_(s){return Pc(JSON.stringify({version:2,heartbeats:s})).length}function n1(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function i1(s){Ga(new ks("platform-logger",t=>new pS(t),"PRIVATE")),Ga(new ks("heartbeat",t=>new WS(t),"PRIVATE")),qr(jd,z_,s),qr(jd,z_,"esm2020"),qr("fire-js","")}i1("");var r1="firebase",s1="12.8.0";qr(r1,s1,"app");var G_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Hr,IE;(function(){var s;function t(C,b){function I(){}I.prototype=b.prototype,C.F=b.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(V,N,k){for(var w=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)w[ie-2]=arguments[ie];return b.prototype[N].apply(V,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,b,I){I||(I=0);const V=Array(16);if(typeof b=="string")for(var N=0;N<16;++N)V[N]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(N=0;N<16;++N)V[N]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=C.g[0],I=C.g[1],N=C.g[2];let k=C.g[3],w;w=b+(k^I&(N^k))+V[0]+3614090360&4294967295,b=I+(w<<7&4294967295|w>>>25),w=k+(N^b&(I^N))+V[1]+3905402710&4294967295,k=b+(w<<12&4294967295|w>>>20),w=N+(I^k&(b^I))+V[2]+606105819&4294967295,N=k+(w<<17&4294967295|w>>>15),w=I+(b^N&(k^b))+V[3]+3250441966&4294967295,I=N+(w<<22&4294967295|w>>>10),w=b+(k^I&(N^k))+V[4]+4118548399&4294967295,b=I+(w<<7&4294967295|w>>>25),w=k+(N^b&(I^N))+V[5]+1200080426&4294967295,k=b+(w<<12&4294967295|w>>>20),w=N+(I^k&(b^I))+V[6]+2821735955&4294967295,N=k+(w<<17&4294967295|w>>>15),w=I+(b^N&(k^b))+V[7]+4249261313&4294967295,I=N+(w<<22&4294967295|w>>>10),w=b+(k^I&(N^k))+V[8]+1770035416&4294967295,b=I+(w<<7&4294967295|w>>>25),w=k+(N^b&(I^N))+V[9]+2336552879&4294967295,k=b+(w<<12&4294967295|w>>>20),w=N+(I^k&(b^I))+V[10]+4294925233&4294967295,N=k+(w<<17&4294967295|w>>>15),w=I+(b^N&(k^b))+V[11]+2304563134&4294967295,I=N+(w<<22&4294967295|w>>>10),w=b+(k^I&(N^k))+V[12]+1804603682&4294967295,b=I+(w<<7&4294967295|w>>>25),w=k+(N^b&(I^N))+V[13]+4254626195&4294967295,k=b+(w<<12&4294967295|w>>>20),w=N+(I^k&(b^I))+V[14]+2792965006&4294967295,N=k+(w<<17&4294967295|w>>>15),w=I+(b^N&(k^b))+V[15]+1236535329&4294967295,I=N+(w<<22&4294967295|w>>>10),w=b+(N^k&(I^N))+V[1]+4129170786&4294967295,b=I+(w<<5&4294967295|w>>>27),w=k+(I^N&(b^I))+V[6]+3225465664&4294967295,k=b+(w<<9&4294967295|w>>>23),w=N+(b^I&(k^b))+V[11]+643717713&4294967295,N=k+(w<<14&4294967295|w>>>18),w=I+(k^b&(N^k))+V[0]+3921069994&4294967295,I=N+(w<<20&4294967295|w>>>12),w=b+(N^k&(I^N))+V[5]+3593408605&4294967295,b=I+(w<<5&4294967295|w>>>27),w=k+(I^N&(b^I))+V[10]+38016083&4294967295,k=b+(w<<9&4294967295|w>>>23),w=N+(b^I&(k^b))+V[15]+3634488961&4294967295,N=k+(w<<14&4294967295|w>>>18),w=I+(k^b&(N^k))+V[4]+3889429448&4294967295,I=N+(w<<20&4294967295|w>>>12),w=b+(N^k&(I^N))+V[9]+568446438&4294967295,b=I+(w<<5&4294967295|w>>>27),w=k+(I^N&(b^I))+V[14]+3275163606&4294967295,k=b+(w<<9&4294967295|w>>>23),w=N+(b^I&(k^b))+V[3]+4107603335&4294967295,N=k+(w<<14&4294967295|w>>>18),w=I+(k^b&(N^k))+V[8]+1163531501&4294967295,I=N+(w<<20&4294967295|w>>>12),w=b+(N^k&(I^N))+V[13]+2850285829&4294967295,b=I+(w<<5&4294967295|w>>>27),w=k+(I^N&(b^I))+V[2]+4243563512&4294967295,k=b+(w<<9&4294967295|w>>>23),w=N+(b^I&(k^b))+V[7]+1735328473&4294967295,N=k+(w<<14&4294967295|w>>>18),w=I+(k^b&(N^k))+V[12]+2368359562&4294967295,I=N+(w<<20&4294967295|w>>>12),w=b+(I^N^k)+V[5]+4294588738&4294967295,b=I+(w<<4&4294967295|w>>>28),w=k+(b^I^N)+V[8]+2272392833&4294967295,k=b+(w<<11&4294967295|w>>>21),w=N+(k^b^I)+V[11]+1839030562&4294967295,N=k+(w<<16&4294967295|w>>>16),w=I+(N^k^b)+V[14]+4259657740&4294967295,I=N+(w<<23&4294967295|w>>>9),w=b+(I^N^k)+V[1]+2763975236&4294967295,b=I+(w<<4&4294967295|w>>>28),w=k+(b^I^N)+V[4]+1272893353&4294967295,k=b+(w<<11&4294967295|w>>>21),w=N+(k^b^I)+V[7]+4139469664&4294967295,N=k+(w<<16&4294967295|w>>>16),w=I+(N^k^b)+V[10]+3200236656&4294967295,I=N+(w<<23&4294967295|w>>>9),w=b+(I^N^k)+V[13]+681279174&4294967295,b=I+(w<<4&4294967295|w>>>28),w=k+(b^I^N)+V[0]+3936430074&4294967295,k=b+(w<<11&4294967295|w>>>21),w=N+(k^b^I)+V[3]+3572445317&4294967295,N=k+(w<<16&4294967295|w>>>16),w=I+(N^k^b)+V[6]+76029189&4294967295,I=N+(w<<23&4294967295|w>>>9),w=b+(I^N^k)+V[9]+3654602809&4294967295,b=I+(w<<4&4294967295|w>>>28),w=k+(b^I^N)+V[12]+3873151461&4294967295,k=b+(w<<11&4294967295|w>>>21),w=N+(k^b^I)+V[15]+530742520&4294967295,N=k+(w<<16&4294967295|w>>>16),w=I+(N^k^b)+V[2]+3299628645&4294967295,I=N+(w<<23&4294967295|w>>>9),w=b+(N^(I|~k))+V[0]+4096336452&4294967295,b=I+(w<<6&4294967295|w>>>26),w=k+(I^(b|~N))+V[7]+1126891415&4294967295,k=b+(w<<10&4294967295|w>>>22),w=N+(b^(k|~I))+V[14]+2878612391&4294967295,N=k+(w<<15&4294967295|w>>>17),w=I+(k^(N|~b))+V[5]+4237533241&4294967295,I=N+(w<<21&4294967295|w>>>11),w=b+(N^(I|~k))+V[12]+1700485571&4294967295,b=I+(w<<6&4294967295|w>>>26),w=k+(I^(b|~N))+V[3]+2399980690&4294967295,k=b+(w<<10&4294967295|w>>>22),w=N+(b^(k|~I))+V[10]+4293915773&4294967295,N=k+(w<<15&4294967295|w>>>17),w=I+(k^(N|~b))+V[1]+2240044497&4294967295,I=N+(w<<21&4294967295|w>>>11),w=b+(N^(I|~k))+V[8]+1873313359&4294967295,b=I+(w<<6&4294967295|w>>>26),w=k+(I^(b|~N))+V[15]+4264355552&4294967295,k=b+(w<<10&4294967295|w>>>22),w=N+(b^(k|~I))+V[6]+2734768916&4294967295,N=k+(w<<15&4294967295|w>>>17),w=I+(k^(N|~b))+V[13]+1309151649&4294967295,I=N+(w<<21&4294967295|w>>>11),w=b+(N^(I|~k))+V[4]+4149444226&4294967295,b=I+(w<<6&4294967295|w>>>26),w=k+(I^(b|~N))+V[11]+3174756917&4294967295,k=b+(w<<10&4294967295|w>>>22),w=N+(b^(k|~I))+V[2]+718787259&4294967295,N=k+(w<<15&4294967295|w>>>17),w=I+(k^(N|~b))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+k&4294967295}a.prototype.v=function(C,b){b===void 0&&(b=C.length);const I=b-this.blockSize,V=this.C;let N=this.h,k=0;for(;k<b;){if(N==0)for(;k<=I;)l(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<b;)if(V[N++]=C.charCodeAt(k++),N==this.blockSize){l(this,V),N=0;break}}else for(;k<b;)if(V[N++]=C[k++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=b},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)C[b++]=this.g[I]>>>V&255;return C};function h(C,b){var I=g;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=b(C)}function d(C,b){this.h=b;const I=[];let V=!0;for(let N=C.length-1;N>=0;N--){const k=C[N]|0;V&&k==b||(I[N]=k,V=!1)}this.g=I}var g={};function v(C){return-128<=C&&C<128?h(C,function(b){return new d([b|0],b<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return it(_(-C));const b=[];let I=1;for(let V=0;C>=I;V++)b[V]=C/I|0,I*=4294967296;return new d(b,0)}function A(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return it(A(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(b,8));let V=S;for(let k=0;k<C.length;k+=8){var N=Math.min(8,C.length-k);const w=parseInt(C.substring(k,k+N),b);N<8?(N=_(Math.pow(b,N)),V=V.j(N).add(_(w))):(V=V.j(I),V=V.add(_(w)))}return V}var S=v(0),M=v(1),Y=v(16777216);s=d.prototype,s.m=function(){if($(this))return-it(this).m();let C=0,b=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);C+=(V>=0?V:4294967296+V)*b,b*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(J(this))return"0";if($(this))return"-"+it(this).toString(C);const b=_(Math.pow(C,6));var I=this;let V="";for(;;){const N=Kt(I,b).g;I=dt(I,N.j(b));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=N,J(I))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function J(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function $(C){return C.h==-1}s.l=function(C){return C=dt(this,C),$(C)?-1:J(C)?0:1};function it(C){const b=C.g.length,I=[];for(let V=0;V<b;V++)I[V]=~C.g[V];return new d(I,~C.h).add(M)}s.abs=function(){return $(this)?it(this):this},s.add=function(C){const b=Math.max(this.g.length,C.g.length),I=[];let V=0;for(let N=0;N<=b;N++){let k=V+(this.i(N)&65535)+(C.i(N)&65535),w=(k>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);V=w>>>16,k&=65535,w&=65535,I[N]=w<<16|k}return new d(I,I[I.length-1]&-2147483648?-1:0)};function dt(C,b){return C.add(it(b))}s.j=function(C){if(J(this)||J(C))return S;if($(this))return $(C)?it(this).j(it(C)):it(it(this).j(C));if($(C))return it(this.j(it(C)));if(this.l(Y)<0&&C.l(Y)<0)return _(this.m()*C.m());const b=this.g.length+C.g.length,I=[];for(var V=0;V<2*b;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<C.g.length;N++){const k=this.i(V)>>>16,w=this.i(V)&65535,ie=C.i(N)>>>16,Ie=C.i(N)&65535;I[2*V+2*N]+=w*Ie,At(I,2*V+2*N),I[2*V+2*N+1]+=k*Ie,At(I,2*V+2*N+1),I[2*V+2*N+1]+=w*ie,At(I,2*V+2*N+1),I[2*V+2*N+2]+=k*ie,At(I,2*V+2*N+2)}for(C=0;C<b;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=b;C<2*b;C++)I[C]=0;return new d(I,0)};function At(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function yt(C,b){this.g=C,this.h=b}function Kt(C,b){if(J(b))throw Error("division by zero");if(J(C))return new yt(S,S);if($(C))return b=Kt(it(C),b),new yt(it(b.g),it(b.h));if($(b))return b=Kt(C,it(b)),new yt(it(b.g),b.h);if(C.g.length>30){if($(C)||$(b))throw Error("slowDivide_ only works with positive integers.");for(var I=M,V=b;V.l(C)<=0;)I=W(I),V=W(V);var N=vt(I,1),k=vt(V,1);for(V=vt(V,2),I=vt(I,2);!J(V);){var w=k.add(V);w.l(C)<=0&&(N=N.add(I),k=w),V=vt(V,1),I=vt(I,1)}return b=dt(C,N.j(b)),new yt(N,b)}for(N=S;C.l(b)>=0;){for(I=Math.max(1,Math.floor(C.m()/b.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=_(I),w=k.j(b);$(w)||w.l(C)>0;)I-=V,k=_(I),w=k.j(b);J(k)&&(k=M),N=N.add(k),C=dt(C,w)}return new yt(N,C)}s.B=function(C){return Kt(this,C).h},s.and=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<b;V++)I[V]=this.i(V)&C.i(V);return new d(I,this.h&C.h)},s.or=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<b;V++)I[V]=this.i(V)|C.i(V);return new d(I,this.h|C.h)},s.xor=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<b;V++)I[V]=this.i(V)^C.i(V);return new d(I,this.h^C.h)};function W(C){const b=C.g.length+1,I=[];for(let V=0;V<b;V++)I[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(I,C.h)}function vt(C,b){const I=b>>5;b%=32;const V=C.g.length-I,N=[];for(let k=0;k<V;k++)N[k]=b>0?C.i(k+I)>>>b|C.i(k+I+1)<<32-b:C.i(k+I);return new d(N,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,IE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Hr=d}).apply(typeof G_<"u"?G_:typeof self<"u"?self:typeof window<"u"?window:{});var Ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var CE,ml,DE,Cc,Gd,NE,OE,VE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ec=="object"&&Ec];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var y=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in y))break t;y=y[U]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var y=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&y.push([T,m[T]]);return y}});var h=h||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,y){return u.call.apply(u.bind,arguments)}function _(u,m,y){return _=v,_.apply(null,arguments)}function A(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(T,U,B){for(var Z=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)Z[bt-2]=arguments[bt];return m.prototype[U].apply(T,Z)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Y(u){const m=u.length;if(m>0){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function J(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var y=typeof U;if(y=y!="object"?y:U?Array.isArray(U)?"array":y:"null",y=="array"||y=="object"&&typeof U.length=="number"){y=u.length||0;const B=U.length||0;u.length=y+B;for(let Z=0;Z<B;Z++)u[y+Z]=U[Z]}else u.push(U)}}class ${constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function it(u){d.setTimeout(()=>{throw u},0)}function dt(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class At{constructor(){this.h=this.g=null}add(m,y){const T=yt.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var yt=new $(()=>new Kt,u=>u.reset());class Kt{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let W,vt=!1,C=new At,b=()=>{const u=Promise.resolve(void 0);W=()=>{u.then(I)}};function I(){for(var u;u=dt();){try{u.h.call(u.g)}catch(y){it(y)}var m=yt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}vt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ie(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ie,N),ie.prototype.init=function(u,m){const y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ie="closure_listenable_"+(Math.random()*1e6|0),H=0;function et(u,m,y,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=U,this.key=++H,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Lt(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function Ht(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function O(u){const m={};for(const y in u)m[y]=u[y];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let y,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(y in T)u[y]=T[y];for(let B=0;B<Q.length;B++)y=Q[B],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,y,T,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const Z=wt(u,m,T,U);return Z>-1?(m=u[Z],y||(m.fa=!1)):(m=new et(m,this.src,B,!!T,U),m.fa=y,u.push(m)),m};function gt(u,m){const y=m.type;if(y in u.g){var T=u.g[y],U=Array.prototype.indexOf.call(T,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(T,U,1),B&&(ht(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function wt(u,m,y,T){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!y&&B.ha==T)return U}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),Ce={};function re(u,m,y,T,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)re(u,m[B],y,T,U);return null}return y=lo(y),u&&u[Ie]?u.J(m,y,g(T)?!!T.capture:!1,U):Zr(u,m,y,!1,T,U)}function Zr(u,m,y,T,U,B){if(!m)throw Error("Invalid event type");const Z=g(U)?!!U.capture:!!U;let bt=$r(u);if(bt||(u[kt]=bt=new at(u)),y=bt.add(m,y,T,Z,B),y.proxy)return y;if(T=Gs(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)k||(U=Z),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Wn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Gs(){function u(y){return m.call(u.src,u.listener,y)}const m=ao;return u}function Fs(u,m,y,T,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)Fs(u,m[B],y,T,U);else T=g(T)?!!T.capture:!!T,y=lo(y),u&&u[Ie]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],y=wt(m,y,T,U),y>-1&&(ht(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=$r(u))&&(m=u.g[m.toString()],u=-1,m&&(u=wt(m,y,T,U)),(y=u>-1?m[u]:null)&&Qs(y))}function Qs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ie])gt(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(Wn(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=$r(m))?(gt(y,u),y.h==0&&(y.src=null,m[kt]=null)):ht(u)}}}function Wn(u){return u in Ce?Ce[u]:Ce[u]="on"+u}function ao(u,m){if(u.da)u=!0;else{m=new ie(m,this);const y=u.listener,T=u.ha||u.src;u.fa&&Qs(u),u=y.call(T,m)}return u}function $r(u){return u=u[kt],u instanceof at?u:null}var oo="__closure_events_fn_"+(Math.random()*1e9>>>0);function lo(u){return typeof u=="function"?u:(u[oo]||(u[oo]=function(m){return u.handleEvent(m)}),u[oo])}function pe(){V.call(this),this.i=new at(this),this.M=this,this.G=null}S(pe,V),pe.prototype[Ie]=!0,pe.prototype.removeEventListener=function(u,m,y,T){Fs(this,u,m,y,T)};function De(u,m){var y,T=u.G;if(T)for(y=[];T;T=T.G)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var U=m;m=new N(T,u),nt(m,U)}U=!0;let B,Z;if(y)for(Z=y.length-1;Z>=0;Z--)B=m.g=y[Z],U=nr(B,T,!0,m)&&U;if(B=m.g=u,U=nr(B,T,!0,m)&&U,U=nr(B,T,!1,m)&&U,y)for(Z=0;Z<y.length;Z++)B=m.g=y[Z],U=nr(B,T,!1,m)&&U}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let T=0;T<y.length;T++)ht(y[T]);delete u.g[m],u.h--}}this.G=null},pe.prototype.J=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},pe.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function nr(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const Z=m[B];if(Z&&!Z.da&&Z.capture==y){const bt=Z.listener,he=Z.ha||Z.src;Z.fa&&gt(u.i,Z),U=bt.call(he,T)!==!1&&U}}return U&&!T.defaultPrevented}function Th(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Fl(u){u.g=Th(()=>{u.g=null,u.i&&(u.i=!1,Fl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ze extends V{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Fl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wr(u){V.call(this),this.h=u,this.g={}}S(Wr,V);var uo=[];function co(u){Lt(u.g,function(m,y){this.g.hasOwnProperty(y)&&Qs(m)},u),u.g={}}Wr.prototype.N=function(){Wr.Z.N.call(this),co(this)},Wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ir=d.JSON.stringify,Ah=d.JSON.parse,Ql=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Kl(){}function Yl(){}var kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Le(){N.call(this,"d")}S(Le,N);function En(){N.call(this,"c")}S(En,N);var ce={},Xl=null;function Ks(){return Xl=Xl||new pe}ce.Ia="serverreachability";function Jl(u){N.call(this,ce.Ia,u)}S(Jl,N);function ti(u){const m=Ks();De(m,new Jl(m))}ce.STAT_EVENT="statevent";function ts(u,m){N.call(this,ce.STAT_EVENT,u),this.stat=m}S(ts,N);function ge(u){const m=Ks();De(m,new ts(m,u))}ce.Ja="timingevent";function ei(u,m){N.call(this,ce.Ja,u),this.size=m}S(ei,N);function ni(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Un(){this.g=!0}Un.prototype.ua=function(){this.g=!1};function bh(u,m,y,T,U,B){u.info(function(){if(u.g)if(B){var Z="",bt=B.split("&");for(let Bt=0;Bt<bt.length;Bt++){var he=bt[Bt].split("=");if(he.length>1){const se=he[0];he=he[1];const Sn=se.split("_");Z=Sn.length>=2&&Sn[1]=="type"?Z+(se+"="+he+"&"):Z+(se+"=redacted&")}}}else Z=null;else Z=B;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+y+`
`+Z})}function Zl(u,m,y,T,U,B,Z){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+y+`
`+B+" "+Z})}function ii(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Sh(u,y)+(T?" "+T:"")})}function es(u,m){u.info(function(){return"TIMEOUT: "+m})}Un.prototype.info=function(){};function Sh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var y=B[u];if(!(y.length<2)){var T=y[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let Z=1;Z<T.length;Z++)T[Z]=""}}}}return ir(B)}catch{return m}}var ns={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ho={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},fo;function is(){}S(is,Kl),is.prototype.g=function(){return new XMLHttpRequest},fo=new is;function Ci(u){return encodeURIComponent(String(u))}function $l(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function Ln(u,m,y,T){this.j=u,this.i=m,this.l=y,this.S=T||1,this.V=new Wr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pn}function Pn(){this.i=null,this.g="",this.h=!1}var ye={},Me={};function ri(u,m,y){u.M=1,u.A=rs(ve(m)),u.u=y,u.R=!0,Ys(u,null)}function Ys(u,m){u.F=Date.now(),si(u),u.B=ve(u.A);var y=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),$s(y.i,"t",T),u.C=0,y=u.j.L,u.h=new Pn,u.g=du(u.j,y?m:null,!u.u),u.P>0&&(u.O=new Ze(_(u.Y,u,u.g),u.P)),m=u.V,y=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(uo[0]=U.toString()),U=uo);for(let B=0;B<U.length;B++){const Z=re(y,U[B],T||m.handleEvent,!1,m.h||m);if(!Z)break;m.g[Z.key]=Z}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ti(),bh(u.i,u.v,u.B,u.l,u.S,u.u)}Ln.prototype.ba=function(u){u=u.target;const m=this.O;m&&jn(u)==3?m.j():this.Y(u)},Ln.prototype.Y=function(u){try{if(u==this.g)t:{const bt=jn(this.g),he=this.g.ya(),Bt=this.g.ca();if(!(bt<3)&&(bt!=3||this.g&&(this.h.h||this.g.la()||Pe(this.g)))){this.K||bt!=4||he==7||(he==8||Bt<=0?ti(3):ti(2)),ai(this);var m=this.g.ca();this.X=m;var y=wh(this);if(this.o=m==200,Zl(this.i,this.v,this.B,this.l,this.S,bt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)ii(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,oi(this,u);else{this.o=!1,this.m=3,ge(12),cn(this),Tn(this);break t}}if(this.R){u=!0;let se;for(;!this.K&&this.C<y.length;)if(se=tu(this,y),se==Me){bt==4&&(this.m=4,ge(14),u=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(se==ye){this.m=4,ge(15),ii(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else ii(this.i,this.l,se,null),oi(this,se);if(Wl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||y.length!=0||this.h.h||(this.m=1,ge(16),u=!1),this.o=this.o&&u,!u)ii(this.i,this.l,y,"[Invalid Chunked Response]"),cn(this),Tn(this);else if(y.length>0&&!this.W){this.W=!0;var Z=this.j;Z.g==this&&Z.aa&&!Z.P&&(Z.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),Co(Z),Z.P=!0,ge(11))}}else ii(this.i,this.l,y,null),oi(this,y);bt==4&&cn(this),this.o&&!this.K&&(bt==4?uu(this.j,this):(this.o=!1,si(this)))}else Ni(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,ge(12)):(this.m=0,ge(13)),cn(this),Tn(this)}}}catch{}};function wh(u){if(!Wl(u))return u.g.la();const m=Pe(u.g);if(m==="")return"";let y="";const T=m.length,U=jn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return cn(u),Tn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,y+=u.h.i.decode(m[B],{stream:!(U&&B==T-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function Wl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function tu(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?Me:(y=Number(m.substring(y,T)),isNaN(y)?ye:(T+=1,T+y>m.length?Me:(m=m.slice(T,T+y),u.C=T+y,m)))}Ln.prototype.cancel=function(){this.K=!0,cn(this)};function si(u){u.T=Date.now()+u.H,Xs(u,u.H)}function Xs(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ni(_(u.aa,u),m)}function ai(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Ln.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(es(this.i,this.B),this.M!=2&&(ti(),ge(17)),cn(this),this.m=2,Tn(this)):Xs(this,this.T-u)};function Tn(u){u.j.I==0||u.K||uu(u.j,u)}function cn(u){ai(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,co(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function oi(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||ui(y.h,u))){if(!u.L&&ui(y.h,u)&&y.I==3){try{var T=y.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)ia(y),hr(y);else break t;hs(y),ge(18)}}else y.xa=U[1],0<y.xa-y.K&&U[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=ni(_(y.Va,y),6e3));li(y.h)<=1&&y.ta&&(y.ta=void 0)}else pi(y,11)}else if((u.L||y.g==u)&&ia(y),!w(m))for(U=y.Ba.g.parse(m),m=0;m<U.length;m++){let Bt=U[m];const se=Bt[0];if(!(se<=y.K))if(y.K=se,Bt=Bt[1],y.I==2)if(Bt[0]=="c"){y.M=Bt[1],y.ba=Bt[2];const Sn=Bt[3];Sn!=null&&(y.ka=Sn,y.j.info("VER="+y.ka));const gi=Bt[4];gi!=null&&(y.za=gi,y.j.info("SVER="+y.za));const qn=Bt[5];qn!=null&&typeof qn=="number"&&qn>0&&(T=1.5*qn,y.O=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const Hn=u.g;if(Hn){const fs=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fs){var B=T.h;B.g||fs.indexOf("spdy")==-1&&fs.indexOf("quic")==-1&&fs.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(go(B,B.h),B.h=null))}if(T.G){const ra=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;ra&&(T.wa=ra,Gt(T.J,T.G,ra))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),T=y;var Z=u;if(T.na=fu(T,T.L?T.ba:null,T.W),Z.L){yo(T.h,Z);var bt=Z,he=T.O;he&&(bt.H=he),bt.D&&(ai(bt),si(bt)),T.g=Z}else ou(T);y.i.length>0&&mi(y)}else Bt[0]!="stop"&&Bt[0]!="close"||pi(y,7);else y.I==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?pi(y,7):Ro(y):Bt[0]!="noop"&&y.l&&y.l.qa(Bt),y.A=0)}}ti(4)}catch{}}var _e=class{constructor(u,m){this.g=u,this.map=m}};function mo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function po(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function li(u){return u.h?1:u.g?u.g.size:0}function ui(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function go(u,m){u.g?u.g.add(m):u.h=m}function yo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}mo.prototype.cancel=function(){if(this.i=_o(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function _o(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return Y(u.i)}var eu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Js(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const T=u[y].indexOf("=");let U,B=null;T>=0?(U=u[y].substring(0,T),B=u[y].substring(T+1)):U=u[y],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function hn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof hn?(this.l=u.l,xe(this,u.j),this.o=u.o,this.g=u.g,rr(this,u.u),this.h=u.h,vo(this,su(u.i)),this.m=u.m):u&&(m=String(u).match(eu))?(this.l=!1,xe(this,m[1]||"",!0),this.o=ci(m[2]||""),this.g=ci(m[3]||"",!0),rr(this,m[4]),this.h=ci(m[5]||"",!0),vo(this,m[6]||"",!0),this.m=ci(m[7]||"")):(this.l=!1,this.i=new ar(null,this.l))}hn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ss(m,Zs,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ss(m,Zs,!0),"@"),u.push(Ci(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(ss(y,y.charAt(0)=="/"?Eo:nu,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",ss(y,iu)),u.join("")},hn.prototype.resolve=function(u){const m=ve(this);let y=!!u.j;y?xe(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var T=u.h;if(y)rr(m,u.u);else if(y=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let Z=0;Z<U.length;){const bt=U[Z++];bt=="."?T&&Z==U.length&&B.push(""):bt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&Z==U.length&&B.push("")):(B.push(bt),T=!0)}T=B.join("/")}else T=U}return y?m.h=T:y=u.i.toString()!=="",y?vo(m,su(u.i)):y=!!u.m,y&&(m.m=u.m),m};function ve(u){return new hn(u)}function xe(u,m,y){u.j=y?ci(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function rr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function vo(u,m,y){m instanceof ar?(u.i=m,Ws(u.i,u.l)):(y||(m=ss(m,sr)),u.i=new ar(m,u.l))}function Gt(u,m,y){u.i.set(m,y)}function rs(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ci(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ss(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,en),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function en(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Zs=/[#\/\?@]/g,nu=/[#\?:]/g,Eo=/[#\?]/g,sr=/[#\?@]/g,iu=/#/g;function ar(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function nn(u){u.g||(u.g=new Map,u.h=0,u.i&&Js(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}s=ar.prototype,s.add=function(u,m){nn(this),this.i=null,u=or(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function ru(u,m){nn(u),m=or(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function To(u,m){return nn(u),m=or(u,m),u.g.has(m)}s.forEach=function(u,m){nn(this),this.g.forEach(function(y,T){y.forEach(function(U){u.call(m,U,T,this)},this)},this)};function Ao(u,m){nn(u);let y=[];if(typeof m=="string")To(u,m)&&(y=y.concat(u.g.get(or(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}s.set=function(u,m){return nn(this),this.i=null,u=or(this,u),To(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Ao(this,u),u.length>0?String(u[0]):m):m};function $s(u,m,y){ru(u,m),y.length>0&&(u.i=null,u.g.set(or(u,m),Y(y)),u.h+=y.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var y=m[T];const U=Ci(y);y=Ao(this,y);for(let B=0;B<y.length;B++){let Z=U;y[B]!==""&&(Z+="="+Ci(y[B])),u.push(Z)}}return this.i=u.join("&")};function su(u){const m=new ar;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function or(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ws(u,m){m&&!u.j&&(nn(u),u.i=null,u.g.forEach(function(y,T){const U=T.toLowerCase();T!=U&&(ru(this,T),$s(this,U,y))},u)),u.j=m}function zn(u,m){const y=new Un;if(d.Image){const T=new Image;T.onload=A(An,y,"TestLoadImage: loaded",!0,m,T),T.onerror=A(An,y,"TestLoadImage: error",!1,m,T),T.onabort=A(An,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(An,y,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function bo(u,m){const y=new Un,T=new AbortController,U=setTimeout(()=>{T.abort(),An(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(U),B.ok?An(y,"TestPingServer: ok",!0,m):An(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),An(y,"TestPingServer: error",!1,m)})}function An(u,m,y,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(y)}catch{}}function lr(){this.g=new Ql}function hi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(hi,Kl),hi.prototype.g=function(){return new as(this.i,this.h)};function as(u,m){pe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(as,pe),s=as.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Bn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ur(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ta(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ta(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ur(this):Bn(this),this.readyState==3&&ta(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,ur(this))},s.Na=function(u){this.g&&(this.response=u,ur(this))},s.ga=function(){this.g&&ur(this)};function ur(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Bn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Bn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(as.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function bn(u){let m="";return Lt(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function os(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=bn(y),typeof u=="string"?y!=null&&Ci(y):Gt(u,m,y))}function Yt(u){pe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Yt,pe);var fi=/^https?$/i,So=["POST","PUT"];s=Yt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():fo.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){ls(this,B);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)y.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())y.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(So,m,void 0)>=0)||T||U||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,Z]of y)this.g.setRequestHeader(B,Z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){ls(this,B)}};function ls(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,wo(u),Di(u)}function wo(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),Di(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Di(this,!0)),Yt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?us(this):this.Xa())},s.Xa=function(){us(this)};function us(u){if(u.h&&typeof h<"u"){if(u.v&&jn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),jn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=B===0){let Z=String(u.D).match(eu)[1]||null;!Z&&d.self&&d.self.location&&(Z=d.self.location.protocol.slice(0,-1)),T=!fi.test(Z?Z.toLowerCase():"")}y=T}if(y)De(u,"complete"),De(u,"success");else{u.o=6;try{var U=jn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",wo(u)}}finally{Di(u)}}}}function Di(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||De(u,"ready");try{y.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function jn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return jn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ah(m)}};function Pe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ni(u){const m={};u=(u.g&&jn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var y=$l(u[T]);const U=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const B=m[U]||[];m[U]=B,B.push(y)}Ht(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function di(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function cr(u){this.za=0,this.i=[],this.j=new Un,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=di("baseRetryDelayMs",5e3,u),this.Za=di("retryDelaySeedMs",1e4,u),this.Ta=di("forwardChannelMaxRetries",2,u),this.va=di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new mo(u&&u.concurrentRequestLimit),this.Ba=new lr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=cr.prototype,s.ka=8,s.I=1,s.connect=function(u,m,y,T){ge(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.J=fu(this,null,this.W),mi(this)};function Ro(u){if(ea(u),u.I==3){var m=u.V++,y=ve(u.J);if(Gt(y,"SID",u.M),Gt(y,"RID",m),Gt(y,"TYPE","terminate"),cs(u,y),m=new Ln(u,u.j,m),m.M=2,m.A=rs(ve(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.A,y=!0),y||(m.g=du(m.j,null),m.g.ea(m.A)),m.F=Date.now(),si(m)}hu(u)}function hr(u){u.g&&(Co(u),u.g.cancel(),u.g=null)}function ea(u){hr(u),u.v&&(d.clearTimeout(u.v),u.v=null),ia(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function mi(u){if(!po(u.h)&&!u.m){u.m=!0;var m=u.Ea;W||b(),vt||(W(),vt=!0),C.add(m,u),u.D=0}}function na(u,m){return li(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ni(_(u.Ea,u,m),cu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Ln(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),nt(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=au(this,U,m),y=ve(this.J),Gt(y,"RID",u),Gt(y,"CVER",22),this.G&&Gt(y,"X-HTTP-Session-Id",this.G),cs(this,y),B&&(this.R?m="headers="+Ci(bn(B))+"&"+m:this.u&&os(y,this.u,B)),go(this.h,U),this.Ra&&Gt(y,"TYPE","init"),this.S?(Gt(y,"$req",m),Gt(y,"SID","null"),U.U=!0,ri(U,y,null)):ri(U,y,m),this.I=2}}else this.I==3&&(u?Io(this,u):this.i.length==0||po(this.h)||Io(this))};function Io(u,m){var y;m?y=m.l:y=u.V++;const T=ve(u.J);Gt(T,"SID",u.M),Gt(T,"RID",y),Gt(T,"AID",u.K),cs(u,T),u.u&&u.o&&os(T,u.u,u.o),y=new Ln(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=au(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),go(u.h,y),ri(y,T,m)}function cs(u,m){u.H&&Lt(u.H,function(y,T){Gt(m,T,y)}),u.l&&Lt({},function(y,T){Gt(m,T,y)})}function au(u,m,y){y=Math.min(u.i.length,y);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var U=u.i;let bt=-1;for(;;){const he=["count="+y];bt==-1?y>0?(bt=U[0].g,he.push("ofs="+bt)):bt=0:he.push("ofs="+bt);let Bt=!0;for(let se=0;se<y;se++){var B=U[se].g;const Sn=U[se].map;if(B-=bt,B<0)bt=Math.max(0,U[se].g-100),Bt=!1;else try{B="req"+B+"_"||"";try{var Z=Sn instanceof Map?Sn:Object.entries(Sn);for(const[gi,qn]of Z){let Hn=qn;g(qn)&&(Hn=ir(qn)),he.push(B+gi+"="+encodeURIComponent(Hn))}}catch(gi){throw he.push(B+"type="+encodeURIComponent("_badmap")),gi}}catch{T&&T(Sn)}}if(Bt){Z=he.join("&");break t}}Z=void 0}return u=u.i.splice(0,y),m.G=u,Z}function ou(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;W||b(),vt||(W(),vt=!0),C.add(m,u),u.A=0}}function hs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ni(_(u.Da,u),cu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,lu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ni(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ge(10),hr(this),lu(this))};function Co(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function lu(u){u.g=new Ln(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ve(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),cs(u,m),u.u&&u.o&&os(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=rs(ve(m)),y.u=null,y.R=!0,Ys(y,u)}s.Va=function(){this.C!=null&&(this.C=null,hr(this),hs(this),ge(19))};function ia(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function uu(u,m){var y=null;if(u.g==m){ia(u),Co(u),u.g=null;var T=2}else if(ui(u.h,m))y=m.G,yo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=Ks(),De(T,new ei(T,y)),mi(u)}else ou(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&na(u,m)||T==2&&hs(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),U){case 1:pi(u,5);break;case 4:pi(u,10);break;case 3:pi(u,6);break;default:pi(u,2)}}}function cu(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function pi(u,m){if(u.j.info("Error code "+m),m==2){var y=_(u.bb,u),T=u.Ua;const U=!T;T=new hn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||xe(T,"https"),rs(T),U?zn(T.toString(),y):bo(T.toString(),y)}else ge(2);u.I=0,u.l&&u.l.pa(m),hu(u),ea(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ge(2)):(this.j.info("Failed to ping google.com"),ge(1))};function hu(u){if(u.I=0,u.ja=[],u.l){const m=_o(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,Y(u.i),u.i.length=0),u.l.oa()}}function fu(u,m,y){var T=y instanceof hn?ve(y):new hn(y);if(T.g!="")m&&(T.g=m+"."+T.g),rr(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new hn(null);T&&xe(B,T),m&&(B.g=m),U&&rr(B,U),y&&(B.h=y),T=B}return y=u.G,m=u.wa,y&&m&&Gt(T,y,m),Gt(T,"VER",u.ka),cs(u,T),T}function du(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Yt(new hi({ab:y})):new Yt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function mu(){}s=mu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function fr(){}fr.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){pe.call(this),this.g=new cr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Oi(this)}S($e,pe),$e.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){Ro(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=ir(u),u=y);m.i.push(new _e(m.Ya++,u)),m.I==3&&mi(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,Ro(this.g),delete this.g,$e.Z.N.call(this)};function pu(u){Le.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(pu,Le);function gu(){En.call(this),this.status=1}S(gu,En);function Oi(u){this.g=u}S(Oi,mu),Oi.prototype.ra=function(){De(this.g,"a")},Oi.prototype.qa=function(u){De(this.g,new pu(u))},Oi.prototype.pa=function(u){De(this.g,new gu)},Oi.prototype.oa=function(){De(this.g,"b")},fr.prototype.createWebChannel=fr.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,VE=function(){return new fr},OE=function(){return Ks()},NE=ce,Gd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ns.NO_ERROR=0,ns.TIMEOUT=8,ns.HTTP_ERROR=6,Cc=ns,ho.COMPLETE="complete",DE=ho,Yl.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",pe.prototype.listen=pe.prototype.J,ml=Yl,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,CE=Yt}).apply(typeof Ec<"u"?Ec:typeof self<"u"?self:typeof window<"u"?window:{});class Ye{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");let to="12.8.0";function a1(s){to=s}const Us=new hm("@firebase/firestore");function xa(){return Us.logLevel}function st(s,...t){if(Us.logLevel<=Ot.DEBUG){const i=t.map(mm);Us.debug(`Firestore (${to}): ${s}`,...i)}}function $i(s,...t){if(Us.logLevel<=Ot.ERROR){const i=t.map(mm);Us.error(`Firestore (${to}): ${s}`,...i)}}function Fa(s,...t){if(Us.logLevel<=Ot.WARN){const i=t.map(mm);Us.warn(`Firestore (${to}): ${s}`,...i)}}function mm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function mt(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,ME(s,a,i)}function ME(s,t,i){let a=`FIRESTORE (${to}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw $i(a),new Error(a)}function qt(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||ME(t,l,a)}function Tt(s,t){return s}const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends er{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Os{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class xE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class o1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ye.UNAUTHENTICATED)))}shutdown(){}}class l1{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class u1{constructor(t){this.t=t,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){qt(this.o===void 0,42304);let a=this.i;const l=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let h=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Os,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=h;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},g=v=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Os)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(qt(typeof a.accessToken=="string",31837,{l:a}),new xE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new Ye(t)}}class c1{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class h1{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new c1(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ye.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class F_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class f1{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){qt(this.o===void 0,3512);const a=h=>{h.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>a(h)))};const l=h=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>l(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new F_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new F_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function d1(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class pm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=d1(40);for(let h=0;h<l.length;++h)a.length<20&&l[h]<i&&(a+=t.charAt(l[h]%62))}return a}}function Vt(s,t){return s<t?-1:s>t?1:0}function Fd(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),h=t.charAt(a);if(l!==h)return Od(l)===Od(h)?Vt(l,h):Od(l)?1:-1}return Vt(s.length,t.length)}const m1=55296,p1=57343;function Od(s){const t=s.charCodeAt(0);return t>=m1&&t<=p1}function Qa(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const Q_="__name__";class Ti{constructor(t,i,a){i===void 0?i=0:i>t.length&&mt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&mt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ti.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ti?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const h=Ti.compareSegments(t.get(l),i.get(l));if(h!==0)return h}return Vt(t.length,i.length)}static compareSegments(t,i){const a=Ti.isNumericId(t),l=Ti.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ti.extractNumericId(t).compare(Ti.extractNumericId(i)):Fd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Hr.fromString(t.substring(4,t.length-2))}}class Wt extends Ti{construct(t,i,a){return new Wt(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new rt(K.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new Wt(i)}static emptyPath(){return new Wt([])}}const g1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends Ti{construct(t,i,a){return new Ge(t,i,a)}static isValidIdentifier(t){return g1.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Q_}static keyField(){return new Ge([Q_])}static fromServerFormat(t){const i=[];let a="",l=0;const h=()=>{if(a.length===0)throw new rt(K.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new rt(K.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new rt(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(h(),l++)}if(h(),d)throw new rt(K.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ge(i)}static emptyPath(){return new Ge([])}}class ct{constructor(t){this.path=t}static fromPath(t){return new ct(Wt.fromString(t))}static fromName(t){return new ct(Wt.fromString(t).popFirst(5))}static empty(){return new ct(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Wt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Wt.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ct(new Wt(t.slice()))}}function kE(s,t,i){if(!i)throw new rt(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function y1(s,t,i,a){if(t===!0&&a===!0)throw new rt(K.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function K_(s){if(!ct.isDocumentKey(s))throw new rt(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Y_(s){if(ct.isDocumentKey(s))throw new rt(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function UE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function rh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":mt(12329,{type:typeof s})}function vl(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new rt(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=rh(s);throw new rt(K.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Re(s,t){const i={typeString:s};return t&&(i.value=t),i}function Ll(s,t){if(!UE(s))throw new rt(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,h="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new rt(K.INVALID_ARGUMENT,i);return!0}const X_=-62135596800,J_=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(t){return ne.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*J_);return new ne(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new rt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<X_)throw new rt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/J_}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ll(t,ne._jsonSchema))return new ne(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-X_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:Re("string",ne._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new ne(0,0))}static max(){return new _t(new ne(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Rl=-1;function _1(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=_t.fromTimestamp(a===1e9?new ne(i+1,0):new ne(i,a));return new Fr(l,ct.empty(),t)}function v1(s){return new Fr(s.readTime,s.key,Rl)}class Fr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Fr(_t.min(),ct.empty(),Rl)}static max(){return new Fr(_t.max(),ct.empty(),Rl)}}function E1(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=ct.comparator(s.documentKey,t.documentKey),i!==0?i:Vt(s.largestBatchId,t.largestBatchId))}const T1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class A1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function eo(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==T1)throw s;st("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(a,l)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,h=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++h,d&&h===l&&i()}),(v=>a(v)))})),d=!0,h===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,h)=>{a.push(i.call(this,l,h))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const h=t.length,d=new Array(h);let g=0;for(let v=0;v<h;v++){const _=v;i(t[_]).next((A=>{d[_]=A,++g,g===h&&a(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new X(((a,l)=>{const h=()=>{t()===!0?i().next((()=>{h()}),l):a()};h()}))}}function b1(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function no(s){return s.name==="IndexedDbTransactionError"}class sh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}sh.ce=-1;const gm=-1;function ah(s){return s==null}function Bc(s){return s===0&&1/s==-1/0}function S1(s){return typeof s=="number"&&Number.isInteger(s)&&!Bc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const LE="";function w1(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=Z_(t)),t=R1(s.get(i),t);return Z_(t)}function R1(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const h=s.charAt(l);switch(h){case"\0":i+="";break;case LE:i+="";break;default:i+=h}}return i}function Z_(s){return s+LE+""}function $_(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function zs(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function PE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class oe{constructor(t,i){this.comparator=t,this.root=i||He.EMPTY}insert(t,i){return new oe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,He.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Tc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Tc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Tc(this.root,t,this.comparator,!0)}}class Tc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=i?a(t.key,i):1,i&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class He{constructor(t,i,a,l,h){this.key=t,this.value=i,this.color=a??He.RED,this.left=l??He.EMPTY,this.right=h??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,h){return new He(t??this.key,i??this.value,a??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const h=a(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,i,a),null):h===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return He.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw mt(27949);return t+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw mt(57766)}get value(){throw mt(16141)}get color(){throw mt(16727)}get left(){throw mt(29726)}get right(){throw mt(36894)}copy(t,i,a,l,h){return this}insert(t,i,a){return new He(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new W_(this.data.getIterator())}getIteratorFrom(t){return new W_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=a.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class W_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Yn{constructor(t){this.fields=t,t.sort(Ge.comparator)}static empty(){return new Yn([])}unionWith(t){let i=new Ve(Ge.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Yn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Qa(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class zE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Fe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new zE("Invalid base64 string: "+h):h}})(t);return new Fe(i)}static fromUint8Array(t){const i=(function(l){let h="";for(let d=0;d<l.length;++d)h+=String.fromCharCode(l[d]);return h})(t);return new Fe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const I1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qr(s){if(qt(!!s,39018),typeof s=="string"){let t=0;const i=I1.exec(s);if(qt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:me(s.seconds),nanos:me(s.nanos)}}function me(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Kr(s){return typeof s=="string"?Fe.fromBase64String(s):Fe.fromUint8Array(s)}const BE="server_timestamp",jE="__type__",qE="__previous_value__",HE="__local_write_time__";function ym(s){return(s?.mapValue?.fields||{})[jE]?.stringValue===BE}function oh(s){const t=s.mapValue.fields[qE];return ym(t)?oh(t):t}function Il(s){const t=Qr(s.mapValue.fields[HE].timestampValue);return new ne(t.seconds,t.nanos)}class C1{constructor(t,i,a,l,h,d,g,v,_,A,S){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A,this.apiKey=S}}const jc="(default)";class Cl{constructor(t,i){this.projectId=t,this.database=i||jc}static empty(){return new Cl("","")}get isDefaultDatabase(){return this.database===jc}isEqual(t){return t instanceof Cl&&t.projectId===this.projectId&&t.database===this.database}}function D1(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new rt(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cl(s.options.projectId,t)}const GE="__type__",N1="__max__",Ac={mapValue:{}},FE="__vector__",qc="value";function Yr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ym(s)?4:V1(s)?9007199254740991:O1(s)?10:11:mt(28295,{value:s})}function Ri(s,t){if(s===t)return!0;const i=Yr(s);if(i!==Yr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Il(s).isEqual(Il(t));case 3:return(function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const d=Qr(l.timestampValue),g=Qr(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,h){return Kr(l.bytesValue).isEqual(Kr(h.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,h){return me(l.geoPointValue.latitude)===me(h.geoPointValue.latitude)&&me(l.geoPointValue.longitude)===me(h.geoPointValue.longitude)})(s,t);case 2:return(function(l,h){if("integerValue"in l&&"integerValue"in h)return me(l.integerValue)===me(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const d=me(l.doubleValue),g=me(h.doubleValue);return d===g?Bc(d)===Bc(g):isNaN(d)&&isNaN(g)}return!1})(s,t);case 9:return Qa(s.arrayValue.values||[],t.arrayValue.values||[],Ri);case 10:case 11:return(function(l,h){const d=l.mapValue.fields||{},g=h.mapValue.fields||{};if($_(d)!==$_(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!Ri(d[v],g[v])))return!1;return!0})(s,t);default:return mt(52216,{left:s})}}function Dl(s,t){return(s.values||[]).find((i=>Ri(i,t)))!==void 0}function Ka(s,t){if(s===t)return 0;const i=Yr(s),a=Yr(t);if(i!==a)return Vt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(s.booleanValue,t.booleanValue);case 2:return(function(h,d){const g=me(h.integerValue||h.doubleValue),v=me(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(s,t);case 3:return tv(s.timestampValue,t.timestampValue);case 4:return tv(Il(s),Il(t));case 5:return Fd(s.stringValue,t.stringValue);case 6:return(function(h,d){const g=Kr(h),v=Kr(d);return g.compareTo(v)})(s.bytesValue,t.bytesValue);case 7:return(function(h,d){const g=h.split("/"),v=d.split("/");for(let _=0;_<g.length&&_<v.length;_++){const A=Vt(g[_],v[_]);if(A!==0)return A}return Vt(g.length,v.length)})(s.referenceValue,t.referenceValue);case 8:return(function(h,d){const g=Vt(me(h.latitude),me(d.latitude));return g!==0?g:Vt(me(h.longitude),me(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return ev(s.arrayValue,t.arrayValue);case 10:return(function(h,d){const g=h.fields||{},v=d.fields||{},_=g[qc]?.arrayValue,A=v[qc]?.arrayValue,S=Vt(_?.values?.length||0,A?.values?.length||0);return S!==0?S:ev(_,A)})(s.mapValue,t.mapValue);case 11:return(function(h,d){if(h===Ac.mapValue&&d===Ac.mapValue)return 0;if(h===Ac.mapValue)return 1;if(d===Ac.mapValue)return-1;const g=h.fields||{},v=Object.keys(g),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let S=0;S<v.length&&S<A.length;++S){const M=Fd(v[S],A[S]);if(M!==0)return M;const Y=Ka(g[v[S]],_[A[S]]);if(Y!==0)return Y}return Vt(v.length,A.length)})(s.mapValue,t.mapValue);default:throw mt(23264,{he:i})}}function tv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Vt(s,t);const i=Qr(s),a=Qr(t),l=Vt(i.seconds,a.seconds);return l!==0?l:Vt(i.nanos,a.nanos)}function ev(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const h=Ka(i[l],a[l]);if(h)return h}return Vt(i.length,a.length)}function Ya(s){return Qd(s)}function Qd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=Qr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Kr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ct.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const h of i.values||[])l?l=!1:a+=",",a+=Qd(h);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",h=!0;for(const d of a)h?h=!1:l+=",",l+=`${d}:${Qd(i.fields[d])}`;return l+"}"})(s.mapValue):mt(61005,{value:s})}function Dc(s){switch(Yr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=oh(s);return t?16+Dc(t):16;case 5:return 2*s.stringValue.length;case 6:return Kr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,h)=>l+Dc(h)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return zs(a.fields,((h,d)=>{l+=h.length+Dc(d)})),l})(s.mapValue);default:throw mt(13486,{value:s})}}function nv(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function Kd(s){return!!s&&"integerValue"in s}function _m(s){return!!s&&"arrayValue"in s}function iv(s){return!!s&&"nullValue"in s}function rv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Nc(s){return!!s&&"mapValue"in s}function O1(s){return(s?.mapValue?.fields||{})[GE]?.stringValue===FE}function El(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return zs(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=El(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=El(s.arrayValue.values[i]);return t}return{...s}}function V1(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===N1}class Mn{constructor(t){this.value=t}static empty(){return new Mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Nc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=El(i)}setAll(t){let i=Ge.emptyPath(),a={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=El(d):l.push(g.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,a,l)}delete(t){const i=this.field(t.popLast());Nc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ri(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Nc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){zs(i,((l,h)=>t[l]=h));for(const l of a)delete t[l]}clone(){return new Mn(El(this.value))}}function QE(s){const t=[];return zs(s.fields,((i,a)=>{const l=new Ge([i]);if(Nc(a)){const h=QE(a.mapValue).fields;if(h.length===0)t.push(l);else for(const d of h)t.push(l.child(d))}else t.push(l)})),new Yn(t)}class Xe{constructor(t,i,a,l,h,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Xe(t,0,_t.min(),_t.min(),_t.min(),Mn.empty(),0)}static newFoundDocument(t,i,a,l){return new Xe(t,1,i,_t.min(),a,l,0)}static newNoDocument(t,i){return new Xe(t,2,i,_t.min(),_t.min(),Mn.empty(),0)}static newUnknownDocument(t,i){return new Xe(t,3,i,_t.min(),_t.min(),Mn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Hc{constructor(t,i){this.position=t,this.inclusive=i}}function sv(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const h=t[l],d=s.position[l];if(h.field.isKeyField()?a=ct.comparator(ct.fromName(d.referenceValue),i.key):a=Ka(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function av(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ri(s.position[i],t.position[i]))return!1;return!0}class Nl{constructor(t,i="asc"){this.field=t,this.dir=i}}function M1(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class KE{}class we extends KE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new k1(t,i,a):i==="array-contains"?new P1(t,a):i==="in"?new z1(t,a):i==="not-in"?new B1(t,a):i==="array-contains-any"?new j1(t,a):new we(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new U1(t,a):new L1(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ka(i,this.value)):i!==null&&Yr(this.value)===Yr(i)&&this.matchesComparison(Ka(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $n extends KE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new $n(t,i)}matches(t){return YE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function YE(s){return s.op==="and"}function XE(s){return x1(s)&&YE(s)}function x1(s){for(const t of s.filters)if(t instanceof $n)return!1;return!0}function Yd(s){if(s instanceof we)return s.field.canonicalString()+s.op.toString()+Ya(s.value);if(XE(s))return s.filters.map((t=>Yd(t))).join(",");{const t=s.filters.map((i=>Yd(i))).join(",");return`${s.op}(${t})`}}function JE(s,t){return s instanceof we?(function(a,l){return l instanceof we&&a.op===l.op&&a.field.isEqual(l.field)&&Ri(a.value,l.value)})(s,t):s instanceof $n?(function(a,l){return l instanceof $n&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((h,d,g)=>h&&JE(d,l.filters[g])),!0):!1})(s,t):void mt(19439)}function ZE(s){return s instanceof we?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ya(i.value)}`})(s):s instanceof $n?(function(i){return i.op.toString()+" {"+i.getFilters().map(ZE).join(" ,")+"}"})(s):"Filter"}class k1 extends we{constructor(t,i,a){super(t,i,a),this.key=ct.fromName(a.referenceValue)}matches(t){const i=ct.comparator(t.key,this.key);return this.matchesComparison(i)}}class U1 extends we{constructor(t,i){super(t,"in",i),this.keys=$E("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class L1 extends we{constructor(t,i){super(t,"not-in",i),this.keys=$E("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function $E(s,t){return(t.arrayValue?.values||[]).map((i=>ct.fromName(i.referenceValue)))}class P1 extends we{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return _m(i)&&Dl(i.arrayValue,this.value)}}class z1 extends we{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Dl(this.value.arrayValue,i)}}class B1 extends we{constructor(t,i){super(t,"not-in",i)}matches(t){if(Dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Dl(this.value.arrayValue,i)}}class j1 extends we{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!_m(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Dl(this.value.arrayValue,a)))}}class q1{constructor(t,i=null,a=[],l=[],h=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=h,this.startAt=d,this.endAt=g,this.Te=null}}function ov(s,t=null,i=[],a=[],l=null,h=null,d=null){return new q1(s,t,i,a,l,h,d)}function vm(s){const t=Tt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>Yd(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(h){return h.field.canonicalString()+h.dir})(a))).join(","),ah(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Ya(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Ya(a))).join(",")),t.Te=i}return t.Te}function Em(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!M1(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!JE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!av(s.startAt,t.startAt)&&av(s.endAt,t.endAt)}function Xd(s){return ct.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class io{constructor(t,i=null,a=[],l=[],h=null,d="F",g=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function H1(s,t,i,a,l,h,d,g){return new io(s,t,i,a,l,h,d,g)}function Tm(s){return new io(s)}function lv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function G1(s){return ct.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function WE(s){return s.collectionGroup!==null}function Tl(s){const t=Tt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),i.add(h.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ve(Ge.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(t).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new Nl(h,a))})),i.has(Ge.keyField().canonicalString())||t.Ie.push(new Nl(Ge.keyField(),a))}return t.Ie}function Ai(s){const t=Tt(s);return t.Ee||(t.Ee=F1(t,Tl(s))),t.Ee}function F1(s,t){if(s.limitType==="F")return ov(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const h=l.dir==="desc"?"asc":"desc";return new Nl(l.field,h)}));const i=s.endAt?new Hc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Hc(s.startAt.position,s.startAt.inclusive):null;return ov(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function Jd(s,t){const i=s.filters.concat([t]);return new io(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Q1(s,t){const i=s.explicitOrderBy.concat([t]);return new io(s.path,s.collectionGroup,i,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function Zd(s,t,i){return new io(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function lh(s,t){return Em(Ai(s),Ai(t))&&s.limitType===t.limitType}function tT(s){return`${vm(Ai(s))}|lt:${s.limitType}`}function ka(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>ZE(l))).join(", ")}]`),ah(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Ya(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Ya(l))).join(",")),`Target(${a})`})(Ai(s))}; limitType=${s.limitType})`}function uh(s,t){return t.isFoundDocument()&&(function(a,l){const h=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ct.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)})(s,t)&&(function(a,l){for(const h of Tl(a))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const h of a.filters)if(!h.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,g,v){const _=sv(d,g,v);return d.inclusive?_<=0:_<0})(a.startAt,Tl(a),l)||a.endAt&&!(function(d,g,v){const _=sv(d,g,v);return d.inclusive?_>=0:_>0})(a.endAt,Tl(a),l))})(s,t)}function K1(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function eT(s){return(t,i)=>{let a=!1;for(const l of Tl(s)){const h=Y1(l,t,i);if(h!==0)return h;a=a||l.field.isKeyField()}return 0}}function Y1(s,t,i){const a=s.field.isKeyField()?ct.comparator(t.key,i.key):(function(h,d,g){const v=d.data.field(h),_=g.data.field(h);return v!==null&&_!==null?Ka(v,_):mt(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return mt(19790,{direction:s.dir})}}class Bs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,h]of a)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){zs(this.inner,((i,a)=>{for(const[l,h]of a)t(l,h)}))}isEmpty(){return PE(this.inner)}size(){return this.innerSize}}const X1=new oe(ct.comparator);function Wi(){return X1}const nT=new oe(ct.comparator);function pl(...s){let t=nT;for(const i of s)t=t.insert(i.key,i);return t}function iT(s){let t=nT;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Ds(){return Al()}function rT(){return Al()}function Al(){return new Bs((s=>s.toString()),((s,t)=>s.isEqual(t)))}const J1=new oe(ct.comparator),Z1=new Ve(ct.comparator);function Mt(...s){let t=Z1;for(const i of s)t=t.add(i);return t}const $1=new Ve(Vt);function W1(){return $1}function Am(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bc(t)?"-0":t}}function sT(s){return{integerValue:""+s}}function tw(s,t){return S1(t)?sT(t):Am(s,t)}class ch{constructor(){this._=void 0}}function ew(s,t,i){return s instanceof Ol?(function(l,h){const d={fields:{[jE]:{stringValue:BE},[HE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&ym(h)&&(h=oh(h)),h&&(d.fields[qE]=h),{mapValue:d}})(i,t):s instanceof Vl?oT(s,t):s instanceof Ml?lT(s,t):(function(l,h){const d=aT(l,h),g=uv(d)+uv(l.Ae);return Kd(d)&&Kd(l.Ae)?sT(g):Am(l.serializer,g)})(s,t)}function nw(s,t,i){return s instanceof Vl?oT(s,t):s instanceof Ml?lT(s,t):i}function aT(s,t){return s instanceof Gc?(function(a){return Kd(a)||(function(h){return!!h&&"doubleValue"in h})(a)})(t)?t:{integerValue:0}:null}class Ol extends ch{}class Vl extends ch{constructor(t){super(),this.elements=t}}function oT(s,t){const i=uT(t);for(const a of s.elements)i.some((l=>Ri(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ml extends ch{constructor(t){super(),this.elements=t}}function lT(s,t){let i=uT(t);for(const a of s.elements)i=i.filter((l=>!Ri(l,a)));return{arrayValue:{values:i}}}class Gc extends ch{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function uv(s){return me(s.integerValue||s.doubleValue)}function uT(s){return _m(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class iw{constructor(t,i){this.field=t,this.transform=i}}function rw(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof Vl&&l instanceof Vl||a instanceof Ml&&l instanceof Ml?Qa(a.elements,l.elements,Ri):a instanceof Gc&&l instanceof Gc?Ri(a.Ae,l.Ae):a instanceof Ol&&l instanceof Ol})(s.transform,t.transform)}class sw{constructor(t,i){this.version=t,this.transformResults=i}}class Ji{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Ji}static exists(t){return new Ji(void 0,t)}static updateTime(t){return new Ji(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Oc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class hh{}function cT(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new fT(s.key,Ji.none()):new Pl(s.key,s.data,Ji.none());{const i=s.data,a=Mn.empty();let l=new Ve(Ge.comparator);for(let h of t.fields)if(!l.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),l=l.add(h)}return new js(s.key,a,new Yn(l.toArray()),Ji.none())}}function aw(s,t,i){s instanceof Pl?(function(l,h,d){const g=l.value.clone(),v=hv(l.fieldTransforms,h,d.transformResults);g.setAll(v),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,i):s instanceof js?(function(l,h,d){if(!Oc(l.precondition,h))return void h.convertToUnknownDocument(d.version);const g=hv(l.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(hT(l)),v.setAll(g),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,t,i):(function(l,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function bl(s,t,i,a){return s instanceof Pl?(function(h,d,g,v){if(!Oc(h.precondition,d))return g;const _=h.value.clone(),A=fv(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,i,a):s instanceof js?(function(h,d,g,v){if(!Oc(h.precondition,d))return g;const _=fv(h.fieldTransforms,v,d),A=d.data;return A.setAll(hT(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((S=>S.field)))})(s,t,i,a):(function(h,d,g){return Oc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,t,i)}function ow(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),h=aT(a.transform,l||null);h!=null&&(i===null&&(i=Mn.empty()),i.set(a.field,h))}return i||null}function cv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Qa(a,l,((h,d)=>rw(h,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Pl extends hh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class js extends hh{constructor(t,i,a,l,h=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function hT(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function hv(s,t,i){const a=new Map;qt(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const h=s[l],d=h.transform,g=t.data.field(h.field);a.set(h.field,nw(d,g,i[l]))}return a}function fv(s,t,i){const a=new Map;for(const l of s){const h=l.transform,d=i.data.field(l.field);a.set(l.field,ew(h,d,t))}return a}class fT extends hh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lw extends hh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class uw{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&aw(h,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=bl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=bl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=rT();return this.mutations.forEach((l=>{const h=t.get(l.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(l.key)?null:g;const v=cT(d,g);v!==null&&a.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(_t.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Mt())}isEqual(t){return this.batchId===t.batchId&&Qa(this.mutations,t.mutations,((i,a)=>cv(i,a)))&&Qa(this.baseMutations,t.baseMutations,((i,a)=>cv(i,a)))}}class bm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){qt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return J1})();const h=t.mutations;for(let d=0;d<h.length;d++)l=l.insert(h[d].key,a[d].version);return new bm(t,i,a,l)}}class cw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class hw{constructor(t,i){this.count=t,this.unchangedNames=i}}var Se,Ut;function fw(s){switch(s){case K.OK:return mt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return mt(15467,{code:s})}}function dT(s){if(s===void 0)return $i("GRPC error has no .code"),K.UNKNOWN;switch(s){case Se.OK:return K.OK;case Se.CANCELLED:return K.CANCELLED;case Se.UNKNOWN:return K.UNKNOWN;case Se.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Se.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Se.INTERNAL:return K.INTERNAL;case Se.UNAVAILABLE:return K.UNAVAILABLE;case Se.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Se.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Se.NOT_FOUND:return K.NOT_FOUND;case Se.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Se.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Se.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Se.ABORTED:return K.ABORTED;case Se.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Se.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Se.DATA_LOSS:return K.DATA_LOSS;default:return mt(39323,{code:s})}}(Ut=Se||(Se={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";function dw(){return new TextEncoder}const mw=new Hr([4294967295,4294967295],0);function dv(s){const t=dw().encode(s),i=new IE;return i.update(t),new Uint8Array(i.digest())}function mv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new Hr([i,a],0),new Hr([l,h],0)]}class Sm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new gl(`Invalid padding: ${i}`);if(a<0)throw new gl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new gl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new gl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Hr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Hr.fromNumber(a)));return l.compare(mw)===1&&(l=new Hr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=dv(t),[a,l]=mv(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,l,h);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),d=new Sm(h,l,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=dv(t),[a,l]=mv(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,l,h);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class fh{constructor(t,i,a,l,h){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,zl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new fh(_t.min(),l,new oe(Vt),Wi(),Mt())}}class zl{constructor(t,i,a,l,h){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new zl(a,i,Mt(),Mt(),Mt())}}class Vc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=l}}class mT{constructor(t,i){this.targetId=t,this.Ce=i}}class pT{constructor(t,i,a=Fe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class pv{constructor(){this.ve=0,this.Fe=gv(),this.Me=Fe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Mt(),i=Mt(),a=Mt();return this.Fe.forEach(((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:mt(38017,{changeType:h})}})),new zl(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=gv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class pw{constructor(t){this.Ge=t,this.ze=new Map,this.je=Wi(),this.He=bc(),this.Je=bc(),this.Ze=new oe(Vt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:mt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const h=l.target;if(Xd(h))if(a===0){const d=new ct(h.path);this.et(i,d,Xe.newNoDocument(d,_t.min()))}else qt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),v=g?this.ct(g,t,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:h=0}=i;let d,g;try{d=Kr(a).toUint8Array()}catch(v){if(v instanceof zE)return Fa("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new Sm(d,l,h)}catch(v){return Fa(v instanceof gl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((h=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;t.mightContain(g)||(this.et(i,h,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((h,d)=>{const g=this.ot(d);if(g){if(h.current&&Xd(g.target)){const v=new ct(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Xe.newNoDocument(v,t))}h.Be&&(i.set(d,h.ke()),h.Ke())}}));let a=Mt();this.Je.forEach(((h,d)=>{let g=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(t)));const l=new fh(t,i,this.Ze,this.je,a);return this.je=Wi(),this.He=bc(),this.Je=bc(),this.Ze=new oe(Vt),l}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new pv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Ve(Vt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Ve(Vt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||st("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new pv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function bc(){return new oe(ct.comparator)}function gv(){return new oe(ct.comparator)}const gw={asc:"ASCENDING",desc:"DESCENDING"},yw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_w={and:"AND",or:"OR"};class vw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function $d(s,t){return s.useProto3Json||ah(t)?t:{value:t}}function Fc(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function gT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function Ew(s,t){return Fc(s,t.toTimestamp())}function bi(s){return qt(!!s,49232),_t.fromTimestamp((function(i){const a=Qr(i);return new ne(a.seconds,a.nanos)})(s))}function wm(s,t){return Wd(s,t).canonicalString()}function Wd(s,t){const i=(function(l){return new Wt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function yT(s){const t=Wt.fromString(s);return qt(AT(t),10190,{key:t.toString()}),t}function tm(s,t){return wm(s.databaseId,t.path)}function Vd(s,t){const i=yT(t);if(i.get(1)!==s.databaseId.projectId)throw new rt(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new rt(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ct(vT(i))}function _T(s,t){return wm(s.databaseId,t)}function Tw(s){const t=yT(s);return t.length===4?Wt.emptyPath():vT(t)}function em(s){return new Wt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function vT(s){return qt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function yv(s,t,i){return{name:tm(s,t),fields:i.value.mapValue.fields}}function Aw(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:mt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=(function(_,A){return _.useProto3Json?(qt(A===void 0||typeof A=="string",58123),Fe.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Fe.fromUint8Array(A||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(_){const A=_.code===void 0?K.UNKNOWN:dT(_.code);return new rt(A,_.message||"")})(d);i=new pT(a,l,h,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Vd(s,a.document.name),h=bi(a.document.updateTime),d=a.document.createTime?bi(a.document.createTime):_t.min(),g=new Mn({mapValue:{fields:a.document.fields}}),v=Xe.newFoundDocument(l,h,d,g),_=a.targetIds||[],A=a.removedTargetIds||[];i=new Vc(_,A,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Vd(s,a.document),h=a.readTime?bi(a.readTime):_t.min(),d=Xe.newNoDocument(l,h),g=a.removedTargetIds||[];i=new Vc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Vd(s,a.document),h=a.removedTargetIds||[];i=new Vc([],h,l,null)}else{if(!("filter"in t))return mt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:h}=a,d=new hw(l,h),g=a.targetId;i=new mT(g,d)}}return i}function bw(s,t){let i;if(t instanceof Pl)i={update:yv(s,t.key,t.value)};else if(t instanceof fT)i={delete:tm(s,t.key)};else if(t instanceof js)i={update:yv(s,t.key,t.data),updateMask:Vw(t.fieldMask)};else{if(!(t instanceof lw))return mt(16599,{dt:t.type});i={verify:tm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(h,d){const g=d.transform;if(g instanceof Ol)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Vl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ml)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Gc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw mt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,h){return h.updateTime!==void 0?{updateTime:Ew(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:mt(27497)})(s,t.precondition)),i}function Sw(s,t){return s&&s.length>0?(qt(t!==void 0,14353),s.map((i=>(function(l,h){let d=l.updateTime?bi(l.updateTime):bi(h);return d.isEqual(_t.min())&&(d=bi(h)),new sw(d,l.transformResults||[])})(i,t)))):[]}function ww(s,t){return{documents:[_T(s,t.path)]}}function Rw(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=_T(s,l);const h=(function(_){if(_.length!==0)return TT($n.create(_,"and"))})(t.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((A=>(function(M){return{field:Ua(M.field),direction:Dw(M.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=$d(s,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function Iw(s){let t=Tw(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){qt(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let h=[];i.where&&(h=(function(S){const M=ET(S);return M instanceof $n&&XE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((M=>(function(J){return new Nl(La(J.field),(function(it){switch(it){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(M)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let M;return M=typeof S=="object"?S.value:S,ah(M)?null:M})(i.limit));let v=null;i.startAt&&(v=(function(S){const M=!!S.before,Y=S.values||[];return new Hc(Y,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const M=!S.before,Y=S.values||[];return new Hc(Y,M)})(i.endAt)),H1(t,l,d,h,g,"F",v,_)}function Cw(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function ET(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=La(i.unaryFilter.field);return we.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=La(i.unaryFilter.field);return we.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=La(i.unaryFilter.field);return we.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=La(i.unaryFilter.field);return we.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mt(61313);default:return mt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return we.create(La(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mt(58110);default:return mt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return $n.create(i.compositeFilter.filters.map((a=>ET(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return mt(1026)}})(i.compositeFilter.op))})(s):mt(30097,{filter:s})}function Dw(s){return gw[s]}function Nw(s){return yw[s]}function Ow(s){return _w[s]}function Ua(s){return{fieldPath:s.canonicalString()}}function La(s){return Ge.fromServerFormat(s.fieldPath)}function TT(s){return s instanceof we?(function(i){if(i.op==="=="){if(rv(i.value))return{unaryFilter:{field:Ua(i.field),op:"IS_NAN"}};if(iv(i.value))return{unaryFilter:{field:Ua(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(rv(i.value))return{unaryFilter:{field:Ua(i.field),op:"IS_NOT_NAN"}};if(iv(i.value))return{unaryFilter:{field:Ua(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ua(i.field),op:Nw(i.op),value:i.value}}})(s):s instanceof $n?(function(i){const a=i.getFilters().map((l=>TT(l)));return a.length===1?a[0]:{compositeFilter:{op:Ow(i.op),filters:a}}})(s):mt(54877,{filter:s})}function Vw(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function AT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function bT(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class zr{constructor(t,i,a,l,h=_t.min(),d=_t.min(),g=Fe.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(t){return new zr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Mw{constructor(t){this.yt=t}}function xw(s){const t=Iw({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Zd(t,t.limit,"L"):t}class kw{constructor(){this.Sn=new Uw}addToCollectionParentIndex(t,i){return this.Sn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(Fr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(Fr.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class Uw{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Ve(Wt.comparator),h=!l.has(a);return this.index[i]=l.add(a),h}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Ve(Wt.comparator)).toArray()}}const _v={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ST=41943040;class un{static withCacheSize(t){return new un(t,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(ST,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);class Xa{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Xa(0)}static ar(){return new Xa(-1)}}const vv="LruGarbageCollector",Lw=1048576;function Ev([s,t],[i,a]){const l=Vt(s,i);return l===0?Vt(t,a):l}class Pw{constructor(t){this.Pr=t,this.buffer=new Ve(Ev),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Ev(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class zw{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){st(vv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){no(i)?st(vv,"Ignoring IndexedDB error during garbage collection: ",i):await eo(i)}await this.Ar(3e5)}))}}class Bw{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(sh.ce);const a=new Pw(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(_v)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_v):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,l,h,d,g,v,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(a=S,g=Date.now(),this.removeTargets(t,a,i)))).next((S=>(h=S,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(_=Date.now(),xa()<=Ot.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${h} targets in `+(v-g)+`ms
	Removed ${S} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:S}))))}}function jw(s,t){return new Bw(s,t)}class qw{constructor(){this.changes=new Bs((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Xe.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Hw{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class Gw{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&bl(a.mutation,l,Yn.empty(),ne.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Mt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Mt()){const l=Ds();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((h=>{let d=pl();return h.forEach(((g,v)=>{d=d.insert(g,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Ds();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Mt())))}populateOverlays(t,i,a){const l=[];return a.forEach((h=>{i.has(h)||l.push(h)})),this.documentOverlayCache.getOverlays(t,l).next((h=>{h.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,l){let h=Wi();const d=Al(),g=(function(){return Al()})();return i.forEach(((v,_)=>{const A=a.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof js)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),bl(A.mutation,_,A.mutation.getFieldMask(),ne.now())):d.set(_.key,Yn.empty())})),this.recalculateAndSaveOverlays(t,h).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>g.set(_,new Hw(A,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=Al();let l=new oe(((d,g)=>d-g)),h=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=a.get(v)||Yn.empty();A=g.applyToLocalView(_,A),a.set(v,A);const S=(l.get(g.batchId)||Mt()).add(v);l=l.insert(g.batchId,S)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),_=v.key,A=v.value,S=rT();A.forEach((M=>{if(!h.has(M)){const Y=cT(i.get(M),a.get(M));Y!==null&&S.set(M,Y),h=h.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,S))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return G1(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):WE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((h=>{const d=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-h.size):X.resolve(Ds());let g=Rl,v=h;return d.next((_=>X.forEach(_,((A,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),h.get(A)?X.resolve():this.remoteDocumentCache.getEntry(t,A).next((M=>{v=v.insert(A,M)}))))).next((()=>this.populateOverlays(t,_,h))).next((()=>this.computeViews(t,v,_,Mt()))).next((A=>({batchId:g,changes:iT(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ct(i)).next((a=>{let l=pl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const h=i.collectionGroup;let d=pl();return this.indexManager.getCollectionParents(t,h).next((g=>X.forEach(g,(v=>{const _=(function(S,M){return new io(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((A=>{A.forEach(((S,M)=>{d=d.insert(S,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,h,l)))).next((d=>{h.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Xe.newInvalidDocument(A)))}));let g=pl();return d.forEach(((v,_)=>{const A=h.get(v);A!==void 0&&bl(A.mutation,_,Yn.empty(),ne.now()),uh(i,_)&&(g=g.insert(v,_))})),g}))}}class Fw{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:bi(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:xw(l.bundledQuery),readTime:bi(l.readTime)}})(i)),X.resolve()}}class Qw{constructor(){this.overlays=new oe(ct.comparator),this.Lr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Ds();return X.forEach(i,(l=>this.getOverlay(t,l).next((h=>{h!==null&&a.set(l,h)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,h)=>{this.bt(t,i,h)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((h=>this.overlays=this.overlays.remove(h))),this.Lr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=Ds(),h=i.length+1,d=new ct(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>a&&l.set(v.getKey(),v)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let h=new oe(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=h.get(_.largestBatchId);A===null&&(A=Ds(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=Ds(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>g.set(_,A))),!(g.size()>=l)););return X.resolve(g)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new cw(i,a));let h=this.Lr.get(i);h===void 0&&(h=Mt(),this.Lr.set(i,h)),this.Lr.set(i,h.add(a.key))}}class Kw{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Rm{constructor(){this.kr=new Ve(Ue.Kr),this.qr=new Ve(Ue.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new Ue(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new Ue(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new ct(new Wt([])),a=new Ue(i,t),l=new Ue(i,t+1),h=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),h.push(d.key)})),h}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new ct(new Wt([])),a=new Ue(i,t),l=new Ue(i,t+1);let h=Mt();return this.qr.forEachInRange([a,l],(d=>{h=h.add(d.key)})),h}containsKey(t){const i=new Ue(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Ue{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return ct.comparator(t.key,i.key)||Vt(t.Hr,i.Hr)}static Ur(t,i){return Vt(t.Hr,i.Hr)||ct.comparator(t.key,i.key)}}class Yw{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ve(Ue.Kr)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const h=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new uw(h,i,a,l);this.mutationQueue.push(d);for(const g of l)this.Jr=this.Jr.add(new Ue(g.key,h)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),h=l<0?0:l;return X.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?gm:this.Yn-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Ue(i,0),l=new Ue(i,Number.POSITIVE_INFINITY),h=[];return this.Jr.forEachInRange([a,l],(d=>{const g=this.Zr(d.Hr);h.push(g)})),X.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ve(Vt);return i.forEach((l=>{const h=new Ue(l,0),d=new Ue(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([h,d],(g=>{a=a.add(g.Hr)}))})),X.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let h=a;ct.isDocumentKey(h)||(h=h.child(""));const d=new Ue(new ct(h),0);let g=new Ve(Vt);return this.Jr.forEachWhile((v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(g=g.add(v.Hr)),!0)}),d),X.resolve(this.Yr(g))}Yr(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){qt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return X.forEach(i.mutations,(l=>{const h=new Ue(l.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new Ue(i,0),l=this.Jr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Xw{constructor(t){this.ti=t,this.docs=(function(){return new oe(ct.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),h=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(t,i){let a=Wi();return i.forEach((l=>{const h=this.docs.get(l);a=a.insert(l,h?h.document.mutableCopy():Xe.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let h=Wi();const d=i.path,g=new ct(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||E1(v1(A),a)<=0||(l.has(A.key)||uh(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return X.resolve(h)}getAllFromCollectionGroup(t,i,a,l){mt(9500)}ni(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new Jw(this)}getSize(t){return X.resolve(this.size)}}class Jw extends qw{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class Zw{constructor(t){this.persistence=t,this.ri=new Bs((i=>vm(i)),Em),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.ii=0,this.si=new Rm,this.targetCount=0,this.oi=Xa._r()}forEachTarget(t,i){return this.ri.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),X.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new Xa(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.lr(i),X.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const h=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.ri.delete(d),h.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),X.waitFor(h).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),X.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,h=[];return l&&i.forEach((d=>{h.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(h)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this.si.containsKey(i))}}class wT{constructor(t,i){this._i={},this.overlays={},this.ai=new sh(0),this.ui=!1,this.ui=!0,this.ci=new Kw,this.referenceDelegate=t(this),this.li=new Zw(this),this.indexManager=new kw,this.remoteDocumentCache=(function(l){return new Xw(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new Mw(i),this.Pi=new Fw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Qw,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new Yw(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){st("MemoryPersistence","Starting transaction:",t);const l=new $w(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((h=>this.referenceDelegate.Ii(l).next((()=>h)))).toPromise().then((h=>(l.raiseOnCommittedEvent(),h)))}Ei(t,i){return X.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class $w extends A1{constructor(t){super(),this.currentSequenceNumber=t}}class Im{constructor(t){this.persistence=t,this.Ri=new Rm,this.Ai=null}static Vi(t){return new Im(t)}get di(){if(this.Ai)return this.Ai;throw mt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((h=>this.di.add(h.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(a=>{const l=ct.fromPath(a);return this.mi(t,l).next((h=>{h||i.removeEntry(l,_t.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class Qc{constructor(t,i){this.persistence=t,this.fi=new Bs((a=>w1(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=jw(this,i)}static Vi(t,i){return new Qc(t,i)}Ti(){}Ii(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return X.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((h=>h?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((g=>{g||(a++,h.removeEntry(d,_t.min()))})))).next((()=>h.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Dc(t.data.value)),i}wr(t,i,a){return X.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Cm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=l}static Es(t,i){let a=Mt(),l=Mt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new Cm(t,i.fromCache,a,l)}}class Ww{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class tR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Bb()?8:b1(Je())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const h={result:null};return this.gs(t,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ps(t,i,l,a).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new Ww;return this.ys(t,i,d).next((g=>{if(h.result=g,this.As)return this.ws(t,i,d,g.size)}))})).next((()=>h.result))}ws(t,i,a,l){return a.documentReadCount<this.Vs?(xa()<=Ot.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",ka(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(xa()<=Ot.DEBUG&&st("QueryEngine","Query:",ka(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(xa()<=Ot.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",ka(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ai(i))):X.resolve())}gs(t,i){if(lv(i))return X.resolve(null);let a=Ai(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Zd(i,null,"F"),a=Ai(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((h=>{const d=Mt(...h);return this.fs.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((v=>{const _=this.bs(i,g);return this.Ss(i,_,d,v.readTime)?this.gs(t,Zd(i,null,"F")):this.Ds(t,_,i,v)}))))})))))}ps(t,i,a,l){return lv(i)||l.isEqual(_t.min())?X.resolve(null):this.fs.getDocuments(t,a).next((h=>{const d=this.bs(i,h);return this.Ss(i,d,a,l)?X.resolve(null):(xa()<=Ot.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ka(i)),this.Ds(t,d,i,_1(l,Rl)).next((g=>g)))}))}bs(t,i){let a=new Ve(eT(t));return i.forEach(((l,h)=>{uh(t,h)&&(a=a.add(h))})),a}Ss(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const h=t.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}ys(t,i,a){return xa()<=Ot.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",ka(i)),this.fs.getDocumentsMatchingQuery(t,i,Fr.min(),a)}Ds(t,i,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}const Dm="LocalStore",eR=3e8;class nR{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new oe(Vt),this.Fs=new Bs((h=>vm(h)),Em),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Gw(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function iR(s,t,i,a){return new nR(s,t,i,a)}async function RT(s,t){const i=Tt(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((h=>(l=h,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((h=>{const d=[],g=[];let v=Mt();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){g.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(a,v).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function rR(s,t){const i=Tt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),h=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,v,_,A){const S=_.batch,M=S.keys();let Y=X.resolve();return M.forEach((J=>{Y=Y.next((()=>A.getEntry(v,J))).next(($=>{const it=_.docVersions.get(J);qt(it!==null,48541),$.version.compareTo(it)<0&&(S.applyToRemoteDocument($,_),$.isValidDocument()&&($.setReadTime(_.commitVersion),A.addEntry($)))}))})),Y.next((()=>g.mutationQueue.removeMutationBatch(v,S)))})(i,a,t,h).next((()=>h.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let v=Mt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(v=v.add(g.batch.mutations[_].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function IT(s){const t=Tt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function sR(s,t){const i=Tt(s),a=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const g=[];t.targetChanges.forEach(((A,S)=>{const M=l.get(S);if(!M)return;g.push(i.li.removeMatchingKeys(h,A.removedDocuments,S).next((()=>i.li.addMatchingKeys(h,A.addedDocuments,S))));let Y=M.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(S)!==null?Y=Y.withResumeToken(Fe.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):A.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(A.resumeToken,a)),l=l.insert(S,Y),(function($,it,dt){return $.resumeToken.approximateByteSize()===0||it.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=eR?!0:dt.addedDocuments.size+dt.modifiedDocuments.size+dt.removedDocuments.size>0})(M,Y,A)&&g.push(i.li.updateTargetData(h,Y))}));let v=Wi(),_=Mt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),g.push(aR(h,d,t.documentUpdates).next((A=>{v=A.Bs,_=A.Ls}))),!a.isEqual(_t.min())){const A=i.li.getLastRemoteSnapshotVersion(h).next((S=>i.li.setTargetsMetadata(h,h.currentSequenceNumber,a)));g.push(A)}return X.waitFor(g).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.vs=l,h)))}function aR(s,t,i){let a=Mt(),l=Mt();return i.forEach((h=>a=a.add(h))),t.getEntries(s,a).next((h=>{let d=Wi();return i.forEach(((g,v)=>{const _=h.get(g);v.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),v.isNoDocument()&&v.version.isEqual(_t.min())?(t.removeEntry(g,v.readTime),d=d.insert(g,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(v),d=d.insert(g,v)):st(Dm,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",v.version)})),{Bs:d,Ls:l}}))}function oR(s,t){const i=Tt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=gm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function lR(s,t){const i=Tt(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,t).next((h=>h?(l=h,X.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new zr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function nm(s,t,i){const a=Tt(s),l=a.vs.get(t),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!no(d))throw d;st(Dm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function Tv(s,t,i){const a=Tt(s);let l=_t.min(),h=Mt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const S=Tt(v),M=S.Fs.get(A);return M!==void 0?X.resolve(S.vs.get(M)):S.li.getTargetData(_,A)})(a,d,Ai(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,g.targetId).next((v=>{h=v}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:_t.min(),i?h:Mt()))).next((g=>(uR(a,K1(t),g),{documents:g,ks:h})))))}function uR(s,t,i){let a=s.Ms.get(t)||_t.min();i.forEach(((l,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)})),s.Ms.set(t,a)}class Av{constructor(){this.activeTargetIds=W1()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class cR{constructor(){this.vo=new Av,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Av,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class hR{Mo(t){}shutdown(){}}const bv="ConnectivityMonitor";class Sv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){st(bv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){st(bv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Sc=null;function im(){return Sc===null?Sc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Sc++,"0x"+Sc.toString(16)}const Md="RestConnection",fR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class dR{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===jc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,h){const d=im(),g=this.Qo(t,i.toUriEncodedString());st(Md,`Sending RPC '${t}' ${d}:`,g,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,l,h);const{host:_}=new URL(g),A=$a(_);return this.zo(t,g,v,a,A).then((S=>(st(Md,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw Fa(Md,`RPC '${t}' ${d} failed with error: `,S,"url: ",g,"request:",a),S}))}jo(t,i,a,l,h,d){return this.Wo(t,i,a,l,h)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+to})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,h)=>t[h]=l)),a&&a.headers.forEach(((l,h)=>t[h]=l))}Qo(t,i){const a=fR[t];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class mR{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Ke="WebChannelConnection",dl=(s,t,i)=>{s.listen(t,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Pa extends dR{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Pa.c_){const t=OE();dl(t,NE.STAT_EVENT,(i=>{i.stat===Gd.PROXY?st(Ke,"STAT_EVENT: detected buffering proxy"):i.stat===Gd.NOPROXY&&st(Ke,"STAT_EVENT: detected no buffering proxy")})),Pa.c_=!0}}zo(t,i,a,l,h){const d=im();return new Promise(((g,v)=>{const _=new CE;_.setWithCredentials(!0),_.listenOnce(DE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Cc.NO_ERROR:const S=_.getResponseJson();st(Ke,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),g(S);break;case Cc.TIMEOUT:st(Ke,`RPC '${t}' ${d} timed out`),v(new rt(K.DEADLINE_EXCEEDED,"Request time out"));break;case Cc.HTTP_ERROR:const M=_.getStatus();if(st(Ke,`RPC '${t}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let Y=_.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const J=Y?.error;if(J&&J.status&&J.message){const $=(function(dt){const At=dt.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(At)>=0?At:K.UNKNOWN})(J.status);v(new rt($,J.message))}else v(new rt(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new rt(K.UNAVAILABLE,"Connection failed."));break;default:mt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{st(Ke,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);st(Ke,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",A,a,15)}))}T_(t,i,a){const l=im(),h=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,a),g.encodeInitMessageHeaders=!0;const _=h.join("");st(Ke,`Creating RPC '${t}' stream ${l}: ${_}`,g);const A=d.createWebChannel(_,g);this.I_(A);let S=!1,M=!1;const Y=new mR({Ho:J=>{M?st(Ke,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(S||(st(Ke,`Opening RPC '${t}' stream ${l} transport.`),A.open(),S=!0),st(Ke,`RPC '${t}' stream ${l} sending:`,J),A.send(J))},Jo:()=>A.close()});return dl(A,ml.EventType.OPEN,(()=>{M||(st(Ke,`RPC '${t}' stream ${l} transport opened.`),Y.i_())})),dl(A,ml.EventType.CLOSE,(()=>{M||(M=!0,st(Ke,`RPC '${t}' stream ${l} transport closed`),Y.o_(),this.E_(A))})),dl(A,ml.EventType.ERROR,(J=>{M||(M=!0,Fa(Ke,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),Y.o_(new rt(K.UNAVAILABLE,"The operation could not be completed")))})),dl(A,ml.EventType.MESSAGE,(J=>{if(!M){const $=J.data[0];qt(!!$,16349);const it=$,dt=it?.error||it[0]?.error;if(dt){st(Ke,`RPC '${t}' stream ${l} received error:`,dt);const At=dt.status;let yt=(function(vt){const C=Se[vt];if(C!==void 0)return dT(C)})(At),Kt=dt.message;yt===void 0&&(yt=K.INTERNAL,Kt="Unknown error status: "+At+" with message "+dt.message),M=!0,Y.o_(new rt(yt,Kt)),A.close()}else st(Ke,`RPC '${t}' stream ${l} received:`,$),Y.__($)}})),Pa.u_(),setTimeout((()=>{Y.s_()}),0),Y}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return VE()}}function pR(s){return new Pa(s)}function xd(){return typeof document<"u"?document:null}function dh(s){return new vw(s,!0)}Pa.c_=!1;class CT{constructor(t,i,a=1e3,l=1.5,h=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=l,this.V_=h,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&st("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const wv="PersistentStream";class DT{constructor(t,i,a,l,h,d,g,v){this.Ci=t,this.b_=a,this.S_=l,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new CT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?($i(i.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new rt(K.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return st(wv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(st(wv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gR extends DT{constructor(t,i,a,l,h,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=h}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Aw(this.serializer,t),a=(function(h){if(!("targetChange"in h))return _t.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?bi(d.readTime):_t.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=em(this.serializer),i.addTarget=(function(h,d){let g;const v=d.target;if(g=Xd(v)?{documents:ww(h,v)}:{query:Rw(h,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=gT(h,d.resumeToken);const _=$d(h,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(_t.min())>0){g.readTime=Fc(h,d.snapshotVersion.toTimestamp());const _=$d(h,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,t);const a=Cw(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=em(this.serializer),i.removeTarget=t,this.K_(i)}}class yR extends DT{constructor(t,i,a,l,h,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=h}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Sw(t.writeResults,t.commitTime),a=bi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=em(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>bw(this.serializer,a)))};this.K_(i)}}class _R{}class vR extends _R{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new rt(K.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Wo(t,Wd(i,a),l,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new rt(K.UNKNOWN,h.toString())}))}jo(t,i,a,l,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(t,Wd(i,a),l,d,g,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(K.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function ER(s,t,i,a){return new vR(s,t,i,a)}class TR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($i(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ls="RemoteStore";class AR{constructor(t,i,a,l,h){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=h,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{qs(this)&&(st(Ls,"Restarting streams for network reachability change."),await(async function(v){const _=Tt(v);_.Ea.add(4),await Bl(_),_.Va.set("Unknown"),_.Ea.delete(4),await mh(_)})(this))}))})),this.Va=new TR(a,l)}}async function mh(s){if(qs(s))for(const t of s.Ra)await t(!0)}async function Bl(s){for(const t of s.Ra)await t(!1)}function NT(s,t){const i=Tt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Mm(i)?Vm(i):ro(i).O_()&&Om(i,t))}function Nm(s,t){const i=Tt(s),a=ro(i);i.Ia.delete(t),a.O_()&&OT(i,t),i.Ia.size===0&&(a.O_()?a.L_():qs(i)&&i.Va.set("Unknown"))}function Om(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ro(s).Z_(t)}function OT(s,t){s.da.$e(t),ro(s).X_(t)}function Vm(s){s.da=new pw({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),ro(s).start(),s.Va.ua()}function Mm(s){return qs(s)&&!ro(s).x_()&&s.Ia.size>0}function qs(s){return Tt(s).Ea.size===0}function VT(s){s.da=void 0}async function bR(s){s.Va.set("Online")}async function SR(s){s.Ia.forEach(((t,i)=>{Om(s,t)}))}async function wR(s,t){VT(s),Mm(s)?(s.Va.ha(t),Vm(s)):s.Va.set("Unknown")}async function RR(s,t,i){if(s.Va.set("Online"),t instanceof pT&&t.state===2&&t.cause)try{await(async function(l,h){const d=h.cause;for(const g of h.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.da.removeTarget(g))})(s,t)}catch(a){st(Ls,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Kc(s,a)}else if(t instanceof Vc?s.da.Xe(t):t instanceof mT?s.da.st(t):s.da.tt(t),!i.isEqual(_t.min()))try{const a=await IT(s.localStore);i.compareTo(a)>=0&&await(function(h,d){const g=h.da.Tt(d);return g.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),g.targetMismatches.forEach(((v,_)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(Fe.EMPTY_BYTE_STRING,A.snapshotVersion)),OT(h,v);const S=new zr(A.target,v,_,A.sequenceNumber);Om(h,S)})),h.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){st(Ls,"Failed to raise snapshot:",a),await Kc(s,a)}}async function Kc(s,t,i){if(!no(t))throw t;s.Ea.add(1),await Bl(s),s.Va.set("Offline"),i||(i=()=>IT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{st(Ls,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await mh(s)}))}function MT(s,t){return t().catch((i=>Kc(s,i,t)))}async function ph(s){const t=Tt(s),i=Xr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:gm;for(;IR(t);)try{const l=await oR(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,CR(t,l)}catch(l){await Kc(t,l)}xT(t)&&kT(t)}function IR(s){return qs(s)&&s.Ta.length<10}function CR(s,t){s.Ta.push(t);const i=Xr(s);i.O_()&&i.Y_&&i.ea(t.mutations)}function xT(s){return qs(s)&&!Xr(s).x_()&&s.Ta.length>0}function kT(s){Xr(s).start()}async function DR(s){Xr(s).ra()}async function NR(s){const t=Xr(s);for(const i of s.Ta)t.ea(i.mutations)}async function OR(s,t,i){const a=s.Ta.shift(),l=bm.from(a,t,i);await MT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await ph(s)}async function VR(s,t){t&&Xr(s).Y_&&await(async function(a,l){if((function(d){return fw(d)&&d!==K.ABORTED})(l.code)){const h=a.Ta.shift();Xr(a).B_(),await MT(a,(()=>a.remoteSyncer.rejectFailedWrite(h.batchId,l))),await ph(a)}})(s,t),xT(s)&&kT(s)}async function Rv(s,t){const i=Tt(s);i.asyncQueue.verifyOperationInProgress(),st(Ls,"RemoteStore received new credentials");const a=qs(i);i.Ea.add(3),await Bl(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await mh(i)}async function MR(s,t){const i=Tt(s);t?(i.Ea.delete(2),await mh(i)):t||(i.Ea.add(2),await Bl(i),i.Va.set("Unknown"))}function ro(s){return s.ma||(s.ma=(function(i,a,l){const h=Tt(i);return h.sa(),new gR(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(s.datastore,s.asyncQueue,{Zo:bR.bind(null,s),Yo:SR.bind(null,s),t_:wR.bind(null,s),J_:RR.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),Mm(s)?Vm(s):s.Va.set("Unknown")):(await s.ma.stop(),VT(s))}))),s.ma}function Xr(s){return s.fa||(s.fa=(function(i,a,l){const h=Tt(i);return h.sa(),new yR(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:DR.bind(null,s),t_:VR.bind(null,s),ta:NR.bind(null,s),na:OR.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await ph(s)):(await s.fa.stop(),s.Ta.length>0&&(st(Ls,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class xm{constructor(t,i,a,l,h){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=h,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,h){const d=Date.now()+a,g=new xm(t,i,d,l,h);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(K.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function km(s,t){if($i("AsyncQueue",`${t}: ${s}`),no(s))return new rt(K.UNAVAILABLE,`${t}: ${s}`);throw s}class za{static emptySet(t){return new za(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ct.comparator(i.key,a.key):(i,a)=>ct.comparator(i.key,a.key),this.keyedMap=pl(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof za)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=a.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new za;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Iv{constructor(){this.ga=new oe(ct.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):mt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class Ja{constructor(t,i,a,l,h,d,g,v,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,h){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Ja(t,i,za.emptySet(i),d,a,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&lh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class xR{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class kR{constructor(){this.queries=Cv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Tt(i),h=l.queries;l.queries=Cv(),h.forEach(((d,g)=>{for(const v of g.ba)v.onError(a)}))})(this,new rt(K.ABORTED,"Firestore shutting down"))}}function Cv(){return new Bs((s=>tT(s)),lh)}async function UR(s,t){const i=Tt(s);let a=3;const l=t.query;let h=i.queries.get(l);h?!h.Sa()&&t.Da()&&(a=2):(h=new xR,a=t.Da()?0:1);try{switch(a){case 0:h.wa=await i.onListen(l,!0);break;case 1:h.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=km(d,`Initialization of query '${ka(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,h),h.ba.push(t),t.va(i.onlineState),h.wa&&t.Fa(h.wa)&&Um(i)}async function LR(s,t){const i=Tt(s),a=t.query;let l=3;const h=i.queries.get(a);if(h){const d=h.ba.indexOf(t);d>=0&&(h.ba.splice(d,1),h.ba.length===0?l=t.Da()?0:1:!h.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function PR(s,t){const i=Tt(s);let a=!1;for(const l of t){const h=l.query,d=i.queries.get(h);if(d){for(const g of d.ba)g.Fa(l)&&(a=!0);d.wa=l}}a&&Um(i)}function zR(s,t,i){const a=Tt(s),l=a.queries.get(t);if(l)for(const h of l.ba)h.onError(i);a.queries.delete(t)}function Um(s){s.Ca.forEach((t=>{t.next()}))}var rm,Dv;(Dv=rm||(rm={})).Ma="default",Dv.Cache="cache";class BR{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new Ja(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Ja.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==rm.Cache}}class UT{constructor(t){this.key=t}}class LT{constructor(t){this.key=t}}class jR{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Mt(),this.mutatedKeys=Mt(),this.eu=eT(t),this.tu=new za(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new Iv,l=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,S)=>{const M=l.get(A),Y=uh(this.query,S)?S:null,J=!!M&&this.mutatedKeys.has(M.key),$=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let it=!1;M&&Y?M.data.isEqual(Y.data)?J!==$&&(a.track({type:3,doc:Y}),it=!0):this.su(M,Y)||(a.track({type:2,doc:Y}),it=!0,(v&&this.eu(Y,v)>0||_&&this.eu(Y,_)<0)&&(g=!0)):!M&&Y?(a.track({type:0,doc:Y}),it=!0):M&&!Y&&(a.track({type:1,doc:M}),it=!0,(v||_)&&(g=!0)),it&&(Y?(d=d.add(Y),h=$?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Ss:g,mutatedKeys:h}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,S)=>(function(Y,J){const $=it=>{switch(it){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt(20277,{Vt:it})}};return $(Y)-$(J)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(a),l=l??!1;const g=i&&!l?this._u():[],v=this.Ya.size===0&&this.current&&!l?1:0,_=v!==this.Xa;return this.Xa=v,d.length!==0||_?{snapshot:new Ja(this.query,t.tu,h,d,t.mutatedKeys,v===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Iv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Mt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new LT(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new UT(a))})),i}cu(t){this.Za=t.ks,this.Ya=Mt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Ja.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Lm="SyncEngine";class qR{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class HR{constructor(t){this.key=t,this.hu=!1}}class GR{constructor(t,i,a,l,h,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Bs((g=>tT(g)),lh),this.Iu=new Map,this.Eu=new Set,this.Ru=new oe(ct.comparator),this.Au=new Map,this.Vu=new Rm,this.du={},this.mu=new Map,this.fu=Xa.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function FR(s,t,i=!0){const a=HT(s);let l;const h=a.Tu.get(t);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.lu()):l=await PT(a,t,i,!0),l}async function QR(s,t){const i=HT(s);await PT(i,t,!0,!1)}async function PT(s,t,i,a){const l=await lR(s.localStore,Ai(t)),h=l.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let g;return a&&(g=await KR(s,t,h,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&NT(s.remoteStore,l),g}async function KR(s,t,i,a,l){s.pu=(S,M,Y)=>(async function($,it,dt,At){let yt=it.view.ru(dt);yt.Ss&&(yt=await Tv($.localStore,it.query,!1).then((({documents:C})=>it.view.ru(C,yt))));const Kt=At&&At.targetChanges.get(it.targetId),W=At&&At.targetMismatches.get(it.targetId)!=null,vt=it.view.applyChanges(yt,$.isPrimaryClient,Kt,W);return Ov($,it.targetId,vt.au),vt.snapshot})(s,S,M,Y);const h=await Tv(s.localStore,t,!0),d=new jR(t,h.ks),g=d.ru(h.documents),v=zl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),_=d.applyChanges(g,s.isPrimaryClient,v);Ov(s,i,_.au);const A=new qR(t,i,d);return s.Tu.set(t,A),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),_.snapshot}async function YR(s,t,i){const a=Tt(s),l=a.Tu.get(t),h=a.Iu.get(l.targetId);if(h.length>1)return a.Iu.set(l.targetId,h.filter((d=>!lh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await nm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Nm(a.remoteStore,l.targetId),sm(a,l.targetId)})).catch(eo)):(sm(a,l.targetId),await nm(a.localStore,l.targetId,!0))}async function XR(s,t){const i=Tt(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Nm(i.remoteStore,a.targetId))}async function JR(s,t,i){const a=iI(s);try{const l=await(function(d,g){const v=Tt(d),_=ne.now(),A=g.reduce(((Y,J)=>Y.add(J.key)),Mt());let S,M;return v.persistence.runTransaction("Locally write mutations","readwrite",(Y=>{let J=Wi(),$=Mt();return v.xs.getEntries(Y,A).next((it=>{J=it,J.forEach(((dt,At)=>{At.isValidDocument()||($=$.add(dt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(Y,J))).next((it=>{S=it;const dt=[];for(const At of g){const yt=ow(At,S.get(At.key).overlayedDocument);yt!=null&&dt.push(new js(At.key,yt,QE(yt.value.mapValue),Ji.exists(!0)))}return v.mutationQueue.addMutationBatch(Y,_,dt,g)})).next((it=>{M=it;const dt=it.applyToLocalDocumentSet(S,$);return v.documentOverlayCache.saveOverlays(Y,it.batchId,dt)}))})).then((()=>({batchId:M.batchId,changes:iT(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,v){let _=d.du[d.currentUser.toKey()];_||(_=new oe(Vt)),_=_.insert(g,v),d.du[d.currentUser.toKey()]=_})(a,l.batchId,i),await jl(a,l.changes),await ph(a.remoteStore)}catch(l){const h=km(l,"Failed to persist write");i.reject(h)}}async function zT(s,t){const i=Tt(s);try{const a=await sR(i.localStore,t);t.targetChanges.forEach(((l,h)=>{const d=i.Au.get(h);d&&(qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?qt(d.hu,14607):l.removedDocuments.size>0&&(qt(d.hu,42227),d.hu=!1))})),await jl(i,a,t)}catch(a){await eo(a)}}function Nv(s,t,i){const a=Tt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((h,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const v=Tt(d);v.onlineState=g;let _=!1;v.queries.forEach(((A,S)=>{for(const M of S.ba)M.va(g)&&(_=!0)})),_&&Um(v)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function ZR(s,t,i){const a=Tt(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),h=l&&l.key;if(h){let d=new oe(ct.comparator);d=d.insert(h,Xe.newNoDocument(h,_t.min()));const g=Mt().add(h),v=new fh(_t.min(),new Map,new oe(Vt),d,g);await zT(a,v),a.Ru=a.Ru.remove(h),a.Au.delete(t),Pm(a)}else await nm(a.localStore,t,!1).then((()=>sm(a,t,i))).catch(eo)}async function $R(s,t){const i=Tt(s),a=t.batch.batchId;try{const l=await rR(i.localStore,t);jT(i,a,null),BT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await jl(i,l)}catch(l){await eo(l)}}async function WR(s,t,i){const a=Tt(s);try{const l=await(function(d,g){const v=Tt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,g).next((S=>(qt(S!==null,37113),A=S.keys(),v.mutationQueue.removeMutationBatch(_,S)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(a.localStore,t);jT(a,t,i),BT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await jl(a,l)}catch(l){await eo(l)}}function BT(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function jT(s,t,i){const a=Tt(s);let l=a.du[a.currentUser.toKey()];if(l){const h=l.get(t);h&&(i?h.reject(i):h.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function sm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((a=>{s.Vu.containsKey(a)||qT(s,a)}))}function qT(s,t){s.Eu.delete(t.path.canonicalString());const i=s.Ru.get(t);i!==null&&(Nm(s.remoteStore,i),s.Ru=s.Ru.remove(t),s.Au.delete(i),Pm(s))}function Ov(s,t,i){for(const a of i)a instanceof UT?(s.Vu.addReference(a.key,t),tI(s,a)):a instanceof LT?(st(Lm,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,t),s.Vu.containsKey(a.key)||qT(s,a.key)):mt(19791,{wu:a})}function tI(s,t){const i=t.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(st(Lm,"New document in limbo: "+i),s.Eu.add(a),Pm(s))}function Pm(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new ct(Wt.fromString(t)),a=s.fu.next();s.Au.set(a,new HR(i)),s.Ru=s.Ru.insert(i,a),NT(s.remoteStore,new zr(Ai(Tm(i.path)),a,"TargetPurposeLimboResolution",sh.ce))}}async function jl(s,t,i){const a=Tt(s),l=[],h=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,v)=>{d.push(a.pu(v,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(_){l.push(_);const A=Cm.Es(v.targetId,_);h.push(A)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(v,_){const A=Tt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(_,(M=>X.forEach(M.Ts,(Y=>A.persistence.referenceDelegate.addReference(S,M.targetId,Y))).next((()=>X.forEach(M.Is,(Y=>A.persistence.referenceDelegate.removeReference(S,M.targetId,Y)))))))))}catch(S){if(!no(S))throw S;st(Dm,"Failed to update sequence numbers: "+S)}for(const S of _){const M=S.targetId;if(!S.fromCache){const Y=A.vs.get(M),J=Y.snapshotVersion,$=Y.withLastLimboFreeSnapshotVersion(J);A.vs=A.vs.insert(M,$)}}})(a.localStore,h))}async function eI(s,t){const i=Tt(s);if(!i.currentUser.isEqual(t)){st(Lm,"User change. New user:",t.toKey());const a=await RT(i.localStore,t);i.currentUser=t,(function(h,d){h.mu.forEach((g=>{g.forEach((v=>{v.reject(new rt(K.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await jl(i,a.Ns)}}function nI(s,t){const i=Tt(s),a=i.Au.get(t);if(a&&a.hu)return Mt().add(a.key);{let l=Mt();const h=i.Iu.get(t);if(!h)return l;for(const d of h){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function HT(s){const t=Tt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=zT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=nI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ZR.bind(null,t),t.Pu.J_=PR.bind(null,t.eventManager),t.Pu.yu=zR.bind(null,t.eventManager),t}function iI(s){const t=Tt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$R.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=WR.bind(null,t),t}class Yc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=dh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return iR(this.persistence,new tR,t.initialUser,this.serializer)}Cu(t){return new wT(Im.Vi,this.serializer)}Du(t){return new cR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yc.provider={build:()=>new Yc};class rI extends Yc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){qt(this.persistence.referenceDelegate instanceof Qc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new zw(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new wT((a=>Qc.Vi(a,i)),this.serializer)}}class am{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Nv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=eI.bind(null,this.syncEngine),await MR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new kR})()}createDatastore(t){const i=dh(t.databaseInfo.databaseId),a=pR(t.databaseInfo);return ER(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,h,d,g){return new AR(a,l,h,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>Nv(this.syncEngine,i,0)),(function(){return Sv.v()?new Sv:new hR})())}createSyncEngine(t,i){return(function(l,h,d,g,v,_,A){const S=new GR(l,h,d,g,v,_);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Tt(i);st(Ls,"RemoteStore shutting down."),a.Ea.add(5),await Bl(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}am.provider={build:()=>new am};class sI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):$i("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Jr="FirestoreClient";class aI{constructor(t,i,a,l,h){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=Ye.UNAUTHENTICATED,this.clientId=pm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,(async d=>{st(Jr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(st(Jr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=km(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function kd(s,t){s.asyncQueue.verifyOperationInProgress(),st(Jr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await RT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function Vv(s,t){s.asyncQueue.verifyOperationInProgress();const i=await oI(s);st(Jr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>Rv(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>Rv(t.remoteStore,l))),s._onlineComponents=t}async function oI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){st(Jr,"Using user provided OfflineComponentProvider");try{await kd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===K.FAILED_PRECONDITION||l.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Fa("Error using user provided cache. Falling back to memory cache: "+i),await kd(s,new Yc)}}else st(Jr,"Using default OfflineComponentProvider"),await kd(s,new rI(void 0));return s._offlineComponents}async function GT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(st(Jr,"Using user provided OnlineComponentProvider"),await Vv(s,s._uninitializedComponentsProvider._online)):(st(Jr,"Using default OnlineComponentProvider"),await Vv(s,new am))),s._onlineComponents}function lI(s){return GT(s).then((t=>t.syncEngine))}async function Mv(s){const t=await GT(s),i=t.eventManager;return i.onListen=FR.bind(null,t.syncEngine),i.onUnlisten=YR.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=QR.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=XR.bind(null,t.syncEngine),i}function uI(s,t,i,a){const l=new sI(a),h=new BR(t,l,i);return s.asyncQueue.enqueueAndForget((async()=>UR(await Mv(s),h))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>LR(await Mv(s),h)))}}function cI(s,t){const i=new Os;return s.asyncQueue.enqueueAndForget((async()=>JR(await lI(s),t,i))),i.promise}function FT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const hI="ComponentProvider",xv=new Map;function fI(s,t,i,a,l){return new C1(s,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,FT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const QT="firestore.googleapis.com",kv=!0;class Uv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new rt(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QT,this.ssl=kv}else this.host=t.host,this.ssl=t.ssl??kv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=ST;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Lw)throw new rt(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}y1("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new rt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new rt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new rt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class gh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Uv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new rt(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Uv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new o1;switch(a.type){case"firstParty":return new h1(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new rt(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=xv.get(i);a&&(st(hI,"Removing Datastore"),xv.delete(i),a.terminate())})(this),Promise.resolve()}}function dI(s,t,i,a={}){s=vl(s,gh);const l=$a(t),h=s._getSettings(),d={...h,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${i}`;l&&(vE(`https://${g}`),EE("Firestore",!0)),h.host!==QT&&h.host!==g&&Fa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:g,ssl:l,emulatorOptions:a};if(!xs(v,d)&&(s._setSettings(v),a.mockUserToken)){let _,A;if(typeof a.mockUserToken=="string")_=a.mockUserToken,A=Ye.MOCK_USER;else{_=Ob(a.mockUserToken,s._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new rt(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ye(S)}s._authCredentials=new l1(new xE(_,A))}}class Hs{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Hs(this.firestore,t,this._query)}}class Oe{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Oe(this.firestore,t,this._key)}toJSON(){return{type:Oe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Ll(i,Oe._jsonSchema))return new Oe(t,a||null,new ct(Wt.fromString(i.referencePath)))}}Oe._jsonSchemaVersion="firestore/documentReference/1.0",Oe._jsonSchema={type:Re("string",Oe._jsonSchemaVersion),referencePath:Re("string")};class Gr extends Hs{constructor(t,i,a){super(t,i,Tm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Oe(this.firestore,null,new ct(t))}withConverter(t){return new Gr(this.firestore,t,this._path)}}function wc(s,t,...i){if(s=tn(s),kE("collection","path",t),s instanceof gh){const a=Wt.fromString(t,...i);return Y_(a),new Gr(s,null,a)}{if(!(s instanceof Oe||s instanceof Gr))throw new rt(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Wt.fromString(t,...i));return Y_(a),new Gr(s.firestore,null,a)}}function mI(s,t,...i){if(s=tn(s),arguments.length===1&&(t=pm.newId()),kE("doc","path",t),s instanceof gh){const a=Wt.fromString(t,...i);return K_(a),new Oe(s,null,new ct(a))}{if(!(s instanceof Oe||s instanceof Gr))throw new rt(K.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Wt.fromString(t,...i));return K_(a),new Oe(s.firestore,s instanceof Gr?s.converter:null,new ct(a))}}const Lv="AsyncQueue";class Pv{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new CT(this,"async_queue_retry"),this._c=()=>{const a=xd();a&&st(Lv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=xd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=xd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Os;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!no(t))throw t;st(Lv,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,$i("INTERNAL UNHANDLED ERROR: ",zv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=xm.createAndSchedule(this,t,i,a,(h=>this.hc(h)));return this.tc.push(l),l}uc(){this.nc&&mt(47125,{Pc:zv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function zv(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class Xc extends gh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new Pv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Pv(t),this._firestoreClient=void 0,await t}}}function pI(s,t){const i=typeof s=="object"?s:SE(),a=typeof s=="string"?s:jc,l=dm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const h=Db("firestore");h&&dI(l,...h)}return l}function KT(s){if(s._terminated)throw new rt(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||gI(s),s._firestoreClient}function gI(s){const t=s._freezeSettings(),i=fI(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new aI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const h=l?._online.build();return{_offline:l?._offline.build(h),_online:h}})(s._componentsProvider))}class xn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new xn(Fe.fromBase64String(t))}catch(i){throw new rt(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new xn(Fe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ll(t,xn._jsonSchema))return xn.fromBase64String(t.bytes)}}xn._jsonSchemaVersion="firestore/bytes/1.0",xn._jsonSchema={type:Re("string",xn._jsonSchemaVersion),bytes:Re("string")};class YT{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new rt(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class zm{constructor(t){this._methodName=t}}class Si{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new rt(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new rt(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Si._jsonSchemaVersion}}static fromJSON(t){if(Ll(t,Si._jsonSchema))return new Si(t.latitude,t.longitude)}}Si._jsonSchemaVersion="firestore/geoPoint/1.0",Si._jsonSchema={type:Re("string",Si._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};class Jn{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==l[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Jn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ll(t,Jn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Jn(t.vectorValues);throw new rt(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Jn._jsonSchemaVersion="firestore/vectorValue/1.0",Jn._jsonSchema={type:Re("string",Jn._jsonSchemaVersion),vectorValues:Re("object")};const yI=/^__.*__$/;class _I{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new js(t,this.data,this.fieldMask,i,this.fieldTransforms):new Pl(t,this.data,i,this.fieldTransforms)}}function XT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt(40011,{dataSource:s})}}class Bm{constructor(t,i,a,l,h,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,h===void 0&&this.validatePath(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Bm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Jc(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(XT(this.dataSource)&&yI.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class vI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||dh(t)}createContext(t,i,a,l=!1){return new Bm({dataSource:t,methodName:i,targetDoc:a,path:Ge.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function JT(s){const t=s._freezeSettings(),i=dh(s._databaseId);return new vI(s._databaseId,!!t.ignoreUndefinedProperties,i)}function EI(s,t,i,a,l,h={}){const d=s.createContext(h.merge||h.mergeFields?2:0,t,i,l);WT("Data must be an object, but it was:",d,a);const g=ZT(a,d);let v,_;if(h.merge)v=new Yn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const S of h.mergeFields){const M=yh(t,S,i);if(!d.contains(M))throw new rt(K.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);SI(A,M)||A.push(M)}v=new Yn(A),_=d.fieldTransforms.filter((S=>v.covers(S.field)))}else v=null,_=d.fieldTransforms;return new _I(new Mn(g),v,_)}class jm extends zm{_toFieldTransform(t){return new iw(t.path,new Ol)}isEqual(t){return t instanceof jm}}function TI(s,t,i,a=!1){return qm(i,s.createContext(a?4:3,t))}function qm(s,t){if($T(s=tn(s)))return WT("Unsupported field value:",t,s),ZT(s,t);if(s instanceof zm)return(function(a,l){if(!XT(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(l);h&&l.fieldTransforms.push(h)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const h=[];let d=0;for(const g of a){let v=qm(g,l.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(s,t)}return(function(a,l){if((a=tn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return tw(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=ne.fromDate(a);return{timestampValue:Fc(l.serializer,h)}}if(a instanceof ne){const h=new ne(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Fc(l.serializer,h)}}if(a instanceof Si)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof xn)return{bytesValue:gT(l.serializer,a._byteString)};if(a instanceof Oe){const h=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:wm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Jn)return(function(d,g){const v=d instanceof Jn?d.toArray():d;return{mapValue:{fields:{[GE]:{stringValue:FE},[qc]:{arrayValue:{values:v.map((A=>{if(typeof A!="number")throw g.createError("VectorValues must only contain numeric values.");return Am(g.serializer,A)}))}}}}}})(a,l);if(bT(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${rh(a)}`)})(s,t)}function ZT(s,t){const i={};return PE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zs(s,((a,l)=>{const h=qm(l,t.childContextForField(a));h!=null&&(i[a]=h)})),{mapValue:{fields:i}}}function $T(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ne||s instanceof Si||s instanceof xn||s instanceof Oe||s instanceof zm||s instanceof Jn||bT(s))}function WT(s,t,i){if(!$T(i)||!UE(i)){const a=rh(i);throw a==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+a)}}function yh(s,t,i){if((t=tn(t))instanceof YT)return t._internalPath;if(typeof t=="string")return bI(s,t);throw Jc("Field path arguments must be of type string or ",s,!1,void 0,i)}const AI=new RegExp("[~\\*/\\[\\]]");function bI(s,t,i){if(t.search(AI)>=0)throw Jc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new YT(...t.split("."))._internalPath}catch{throw Jc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Jc(s,t,i,a,l){const h=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${a}`),d&&(v+=` in document ${l}`),v+=")"),new rt(K.INVALID_ARGUMENT,g+s+v)}function SI(s,t){return s.some((i=>i.isEqual(t)))}class wI{convertValue(t,i="none"){switch(Yr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Kr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw mt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return zs(t,((l,h)=>{a[l]=this.convertValue(h,i)})),a}convertVectorValue(t){const i=t.fields?.[qc].arrayValue?.values?.map((a=>me(a.doubleValue)));return new Jn(i)}convertGeoPoint(t){return new Si(me(t.latitude),me(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=oh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Il(t));default:return null}}convertTimestamp(t){const i=Qr(t);return new ne(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=Wt.fromString(t);qt(AT(a),9688,{name:t});const l=new Cl(a.get(1),a.get(3)),h=new ct(a.popFirst(5));return l.isEqual(i)||$i(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}class t0 extends wI{constructor(t){super(),this.firestore=t}convertBytes(t){return new xn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Oe(this.firestore,null,i)}}function Bv(){return new jm("serverTimestamp")}const jv="@firebase/firestore",qv="4.10.0";function Hv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const h of a)if(h in l&&typeof l[h]=="function")return!0;return!1})(s,["next","error","complete"])}class e0{constructor(t,i,a,l,h){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Oe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new RI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(yh("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class RI extends e0{data(){return super.data()}}function II(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new rt(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hm{}class n0 extends Hm{}function Gv(s,t,...i){let a=[];t instanceof Hm&&a.push(t),a=a.concat(i),(function(h){const d=h.filter((v=>v instanceof Fm)).length,g=h.filter((v=>v instanceof Gm)).length;if(d>1||d>0&&g>0)throw new rt(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)s=l._apply(s);return s}class Gm extends n0{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new Gm(t,i,a)}_apply(t){const i=this._parse(t);return i0(t._query,i),new Hs(t.firestore,t.converter,Jd(t._query,i))}_parse(t){const i=JT(t.firestore);return(function(h,d,g,v,_,A,S){let M;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new rt(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){Kv(S,A);const J=[];for(const $ of S)J.push(Qv(v,h,$));M={arrayValue:{values:J}}}else M=Qv(v,h,S)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||Kv(S,A),M=TI(g,d,S,A==="in"||A==="not-in");return we.create(_,A,M)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class Fm extends Hm{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Fm(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:$n.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,h){let d=l;const g=h.getFlattenedFilters();for(const v of g)i0(d,v),d=Jd(d,v)})(t._query,i),new Hs(t.firestore,t.converter,Jd(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Qm extends n0{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new Qm(t,i)}_apply(t){const i=(function(l,h,d){if(l.startAt!==null)throw new rt(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new rt(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Nl(h,d)})(t._query,this._field,this._direction);return new Hs(t.firestore,t.converter,Q1(t._query,i))}}function Fv(s,t="asc"){const i=t,a=yh("orderBy",s);return Qm._create(a,i)}function Qv(s,t,i){if(typeof(i=tn(i))=="string"){if(i==="")throw new rt(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WE(t)&&i.indexOf("/")!==-1)throw new rt(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(Wt.fromString(i));if(!ct.isDocumentKey(a))throw new rt(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return nv(s,new ct(a))}if(i instanceof Oe)return nv(s,i._key);throw new rt(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rh(i)}.`)}function Kv(s,t){if(!Array.isArray(s)||s.length===0)throw new rt(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function i0(s,t){const i=(function(l,h){for(const d of l)for(const g of d.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new rt(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rt(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}function CI(s,t,i){let a;return a=s?s.toFirestore(t):t,a}class yl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Vs extends e0{constructor(t,i,a,l,h,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(yh("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Vs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Vs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vs._jsonSchema={type:Re("string",Vs._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class Mc extends Vs{data(t={}){return super.data(t)}}class Ba{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new yl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Mc(this._firestore,this._userDataWriter,a.key,a,new yl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,h){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const v=new Mc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new yl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>h||g.type!==3)).map((g=>{const v=new Mc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new yl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:DI(g.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ba._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=pm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function DI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt(61501,{type:s})}}Ba._jsonSchemaVersion="firestore/querySnapshot/1.0",Ba._jsonSchema={type:Re("string",Ba._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};function Yv(s,t){const i=vl(s.firestore,Xc),a=mI(s),l=CI(s.converter,t),h=JT(s.firestore);return NI(i,[EI(h,"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,Ji.exists(!1))]).then((()=>a))}function Xv(s,...t){s=tn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||Hv(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Hv(t[a])){const _=t[a];t[a]=_.next?.bind(_),t[a+1]=_.error?.bind(_),t[a+2]=_.complete?.bind(_)}let h,d,g;if(s instanceof Oe)d=vl(s.firestore,Xc),g=Tm(s._key.path),h={next:_=>{t[a]&&t[a](OI(d,s,_))},error:t[a+1],complete:t[a+2]};else{const _=vl(s,Hs);d=vl(_.firestore,Xc),g=_._query;const A=new t0(d);h={next:S=>{t[a]&&t[a](new Ba(d,A,_,S))},error:t[a+1],complete:t[a+2]},II(s._query)}const v=KT(d);return uI(v,g,l,h)}function NI(s,t){const i=KT(s);return cI(i,t)}function OI(s,t,i){const a=i.docs.get(t._key),l=new t0(s);return new Vs(s,l,t._key,a,new yl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){a1(Wa),Ga(new ks("firestore",((a,{instanceIdentifier:l,options:h})=>{const d=a.getProvider("app").getImmediate(),g=new Xc(new u1(a.getProvider("auth-internal")),new f1(d,a.getProvider("app-check-internal")),D1(d,l),d);return h={useFetchStreams:i,...h},g._setSettings(h),g}),"PUBLIC").setMultipleInstances(!0)),qr(jv,qv,t),qr(jv,qv,"esm2020")})();function r0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VI=r0,s0=new kl("auth","Firebase",r0());const Zc=new hm("@firebase/auth");function MI(s,...t){Zc.logLevel<=Ot.WARN&&Zc.warn(`Auth (${Wa}): ${s}`,...t)}function xc(s,...t){Zc.logLevel<=Ot.ERROR&&Zc.error(`Auth (${Wa}): ${s}`,...t)}function Ii(s,...t){throw Ym(s,...t)}function Zn(s,...t){return Ym(s,...t)}function Km(s,t,i){const a={...VI(),[t]:i};return new kl("auth","Firebase",a).create(t,{appName:s.name})}function Ms(s){return Km(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xI(s,t,i){const a=i;if(!(t instanceof a))throw a.name!==t.constructor.name&&Ii(s,"argument-error"),Km(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ym(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return s0.create(s,...t)}function pt(s,t,...i){if(!s)throw Ym(t,...i)}function Yi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw xc(t),new Error(t)}function tr(s,t){s||Yi(t)}function om(){return typeof self<"u"&&self.location?.href||""}function kI(){return Jv()==="http:"||Jv()==="https:"}function Jv(){return typeof self<"u"&&self.location?.protocol||null}function UI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kI()||Lb()||"connection"in navigator)?navigator.onLine:!0}function LI(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class ql{constructor(t,i){this.shortDelay=t,this.longDelay=i,tr(i>t,"Short delay should be less than long delay!"),this.isMobile=xb()||Pb()}get(){return UI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Xm(s,t){tr(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class a0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const PI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const zI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],BI=new ql(3e4,6e4);function Jm(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function so(s,t,i,a,l={}){return o0(s,l,async()=>{let h={},d={};a&&(t==="GET"?d=a:h={body:JSON.stringify(a)});const g=Ul({key:s.config.apiKey,...d}).slice(1),v=await s._getAdditionalHeaders();v["Content-Type"]="application/json",s.languageCode&&(v["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:v,...h};return Ub()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&$a(s.emulatorConfig.host)&&(_.credentials="include"),a0.fetch()(await l0(s,s.config.apiHost,i,g),_)})}async function o0(s,t,i){s._canInitEmulator=!1;const a={...PI,...t};try{const l=new qI(s),h=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw Rc(s,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const g=h.ok?d.errorMessage:d.error.message,[v,_]=g.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rc(s,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Rc(s,"email-already-in-use",d);if(v==="USER_DISABLED")throw Rc(s,"user-disabled",d);const A=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Km(s,A,_);Ii(s,A)}}catch(l){if(l instanceof er)throw l;Ii(s,"network-request-failed",{message:String(l)})}}async function jI(s,t,i,a,l={}){const h=await so(s,t,i,a,l);return"mfaPendingCredential"in h&&Ii(s,"multi-factor-auth-required",{_serverResponse:h}),h}async function l0(s,t,i,a){const l=`${t}${i}?${a}`,h=s,d=h.config.emulator?Xm(s.config,l):`${s.config.apiScheme}://${l}`;return zI.includes(i)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}class qI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Zn(this.auth,"network-request-failed")),BI.get())})}}function Rc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Zn(s,t,a);return l.customData._tokenResponse=i,l}async function HI(s,t){return so(s,"POST","/v1/accounts:delete",t)}async function $c(s,t){return so(s,"POST","/v1/accounts:lookup",t)}function Sl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function GI(s,t=!1){const i=tn(s),a=await i.getIdToken(t),l=Zm(a);pt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,d=h?.sign_in_provider;return{claims:l,token:a,authTime:Sl(Ud(l.auth_time)),issuedAtTime:Sl(Ud(l.iat)),expirationTime:Sl(Ud(l.exp)),signInProvider:d||null,signInSecondFactor:h?.sign_in_second_factor||null}}function Ud(s){return Number(s)*1e3}function Zm(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return xc("JWT malformed, contained fewer than 3 sections"),null;try{const l=pE(i);return l?JSON.parse(l):(xc("Failed to decode base64 JWT payload"),null)}catch(l){return xc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Zv(s){const t=Zm(s);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function xl(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof er&&FI(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function FI({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class QI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class lm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sl(this.lastLoginAt),this.creationTime=Sl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Wc(s){const t=s.auth,i=await s.getIdToken(),a=await xl(s,$c(t,{idToken:i}));pt(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const h=l.providerUserInfo?.length?u0(l.providerUserInfo):[],d=YI(s.providerData,h),g=s.isAnonymous,v=!(s.email&&l.passwordHash)&&!d?.length,_=g?v:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new lm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,A)}async function KI(s){const t=tn(s);await Wc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function YI(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function u0(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function XI(s,t){const i=await o0(s,{},async()=>{const a=Ul({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=s.config,d=await l0(s,l,"/v1/token",`key=${h}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:g,body:a};return s.emulatorConfig&&$a(s.emulatorConfig.host)&&(v.credentials="include"),a0.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function JI(s,t){return so(s,"POST","/v2/accounts:revokeToken",Jm(s,t))}class ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Zv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const i=Zv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:h}=await XI(t,i);this.updateTokensAndExpiration(a,l,Number(h))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:h}=i,d=new ja;return a&&(pt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(pt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),h&&(pt(typeof h=="number","internal-error",{appName:t}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ja,this.toJSON())}_performRefresh(){return Yi("not implemented")}}function kr(s,t){pt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Xn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new QI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new lm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await xl(this,this.stsTokenManager.getToken(this.auth,t));return pt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return GI(this,t)}reload(){return KI(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Xn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Wc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(Ms(this.auth));const t=await this.getIdToken();return await xl(this,HI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,h=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,v=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:M,isAnonymous:Y,providerData:J,stsTokenManager:$}=i;pt(S&&$,t,"internal-error");const it=ja.fromJSON(this.name,$);pt(typeof S=="string",t,"internal-error"),kr(a,t.name),kr(l,t.name),pt(typeof M=="boolean",t,"internal-error"),pt(typeof Y=="boolean",t,"internal-error"),kr(h,t.name),kr(d,t.name),kr(g,t.name),kr(v,t.name),kr(_,t.name),kr(A,t.name);const dt=new Xn({uid:S,auth:t,email:l,emailVerified:M,displayName:a,isAnonymous:Y,photoURL:d,phoneNumber:h,tenantId:g,stsTokenManager:it,createdAt:_,lastLoginAt:A});return J&&Array.isArray(J)&&(dt.providerData=J.map(At=>({...At}))),v&&(dt._redirectEventId=v),dt}static async _fromIdTokenResponse(t,i,a=!1){const l=new ja;l.updateFromServerResponse(i);const h=new Xn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Wc(h),h}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];pt(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?u0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!h?.length,g=new ja;g.updateFromIdToken(a);const v=new Xn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new lm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(v,_),v}}const $v=new Map;function Xi(s){tr(s instanceof Function,"Expected a class definition");let t=$v.get(s);return t?(tr(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,$v.set(s,t),t)}class c0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}c0.type="NONE";const Wv=c0;function kc(s,t,i){return`firebase:${s}:${t}:${i}`}class qa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:h}=this.auth;this.fullUserKey=kc(this.userKey,l.apiKey,h),this.fullPersistenceKey=kc("persistence",l.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await $c(this.auth,{idToken:t}).catch(()=>{});return i?Xn._fromGetAccountInfoResponse(this.auth,i,t):null}return Xn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new qa(Xi(Wv),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let h=l[0]||Xi(Wv);const d=kc(a,t.config.apiKey,t.name);let g=null;for(const _ of i)try{const A=await _._get(d);if(A){let S;if(typeof A=="string"){const M=await $c(t,{idToken:A}).catch(()=>{});if(!M)break;S=await Xn._fromGetAccountInfoResponse(t,M,A)}else S=Xn._fromJSON(t,A);_!==h&&(g=S),h=_;break}}catch{}const v=l.filter(_=>_._shouldAllowMigration);return!h._shouldAllowMigration||!v.length?new qa(h,t,a):(h=v[0],g&&await h._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==h)try{await _._remove(d)}catch{}})),new qa(h,t,a))}}function tE(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(m0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(h0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(g0(t))return"Blackberry";if(y0(t))return"Webos";if(f0(t))return"Safari";if((t.includes("chrome/")||d0(t))&&!t.includes("edge/"))return"Chrome";if(p0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function h0(s=Je()){return/firefox\//i.test(s)}function f0(s=Je()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function d0(s=Je()){return/crios\//i.test(s)}function m0(s=Je()){return/iemobile/i.test(s)}function p0(s=Je()){return/android/i.test(s)}function g0(s=Je()){return/blackberry/i.test(s)}function y0(s=Je()){return/webos/i.test(s)}function $m(s=Je()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function ZI(s=Je()){return $m(s)&&!!window.navigator?.standalone}function $I(){return zb()&&document.documentMode===10}function _0(s=Je()){return $m(s)||p0(s)||y0(s)||g0(s)||/windows phone/i.test(s)||m0(s)}function v0(s,t=[]){let i;switch(s){case"Browser":i=tE(Je());break;case"Worker":i=`${tE(Je())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Wa}/${a}`}class WI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=h=>new Promise((d,g)=>{try{const v=t(h);d(v)}catch(v){g(v)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function tC(s,t={}){return so(s,"GET","/v2/passwordPolicy",Jm(s,t))}const eC=6;class nC{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??eC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}class iC{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eE(this),this.idTokenSubscription=new eE(this),this.beforeStateQueue=new WI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=s0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Xi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await qa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await $c(this,{idToken:t}),a=await Xn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Kn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!h||h===d)&&g?.user&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Wc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=LI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Kn(this.app))return Promise.reject(Ms(this));const i=t?tn(t):null;return i&&pt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(Ms(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Kn(this.app)?Promise.reject(Ms(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await tC(this),i=new nC(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new kl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await JI(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Xi(t)||this._popupRedirectResolver;pt(i,this,"argument-error"),this.redirectPersistenceManager=await qa.create(this,[Xi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(g,this,"internal-error"),g.then(()=>{d||h(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,l);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=v0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&MI(`Error while retrieving App Check token: ${t.error}`),t?.token}}function _h(s){return tn(s)}class eE{constructor(t){this.auth=t,this.observer=null,this.addObserver=Kb(i=>this.observer=i)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Wm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rC(s){Wm=s}function sC(s){return Wm.loadJS(s)}function aC(){return Wm.gapiScript}function oC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function lC(s,t){const i=dm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),h=i.getOptions();if(xs(h,t??{}))return l;Ii(l,"already-initialized")}return i.initialize({options:t})}function uC(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Xi);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function cC(s,t,i){const a=_h(s);pt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,h=E0(t),{host:d,port:g}=hC(t),v=g===null?"":`:${g}`,_={url:`${h}//${d}${v}/`},A=Object.freeze({host:d,port:g,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){pt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),pt(xs(_,a.config.emulator)&&xs(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,$a(d)?(vE(`${h}//${d}${v}`),EE("Auth",!0)):fC()}function E0(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function hC(s){const t=E0(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const h=l[1];return{host:h,port:nE(a.substr(h.length+1))}}else{const[h,d]=a.split(":");return{host:h,port:nE(d)}}}function nE(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function fC(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class T0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Yi("not implemented")}_getIdTokenResponse(t){return Yi("not implemented")}_linkToIdToken(t,i){return Yi("not implemented")}_getReauthenticationResolver(t){return Yi("not implemented")}}async function Ha(s,t){return jI(s,"POST","/v1/accounts:signInWithIdp",Jm(s,t))}const dC="http://localhost";class Ps extends T0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Ps(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Ii("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...h}=i;if(!a||!l)return null;const d=new Ps(a,l);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ha(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ha(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ha(t,i)}buildRequest(){const t={requestUri:dC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ul(i)}return t}}class tp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Hl extends tp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ur extends Hl{constructor(){super("facebook.com")}static credential(t){return Ps._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ur.credentialFromTaggedObject(t)}static credentialFromError(t){return Ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ur.credential(t.oauthAccessToken)}catch{return null}}}Ur.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ur.PROVIDER_ID="facebook.com";class Ki extends Hl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Ps._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ki.credentialFromTaggedObject(t)}static credentialFromError(t){return Ki.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Ki.credential(i,a)}catch{return null}}}Ki.GOOGLE_SIGN_IN_METHOD="google.com";Ki.PROVIDER_ID="google.com";class Lr extends Hl{constructor(){super("github.com")}static credential(t){return Ps._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Lr.credentialFromTaggedObject(t)}static credentialFromError(t){return Lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Lr.credential(t.oauthAccessToken)}catch{return null}}}Lr.GITHUB_SIGN_IN_METHOD="github.com";Lr.PROVIDER_ID="github.com";class Pr extends Hl{constructor(){super("twitter.com")}static credential(t,i){return Ps._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Pr.credential(i,a)}catch{return null}}}Pr.TWITTER_SIGN_IN_METHOD="twitter.com";Pr.PROVIDER_ID="twitter.com";class Za{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const h=await Xn._fromIdTokenResponse(t,a,l),d=iE(a);return new Za({user:h,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=iE(a);return new Za({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function iE(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class th extends er{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,th.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new th(t,i,a,l)}}function A0(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?th._fromErrorAndOperation(s,h,t,a):h})}async function mC(s,t,i=!1){const a=await xl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return Za._forOperation(s,"link",a)}async function pC(s,t,i=!1){const{auth:a}=s;if(Kn(a.app))return Promise.reject(Ms(a));const l="reauthenticate";try{const h=await xl(s,A0(a,l,t,s),i);pt(h.idToken,a,"internal-error");const d=Zm(h.idToken);pt(d,a,"internal-error");const{sub:g}=d;return pt(s.uid===g,a,"user-mismatch"),Za._forOperation(s,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&Ii(a,"user-mismatch"),h}}async function gC(s,t,i=!1){if(Kn(s.app))return Promise.reject(Ms(s));const a="signIn",l=await A0(s,a,t),h=await Za._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(h.user),h}function yC(s,t,i,a){return tn(s).onIdTokenChanged(t,i,a)}function _C(s,t,i){return tn(s).beforeAuthStateChanged(t,i)}function vC(s,t,i,a){return tn(s).onAuthStateChanged(t,i,a)}function EC(s){return tn(s).signOut()}const eh="__sak";class b0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(eh,"1"),this.storage.removeItem(eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const TC=1e3,AC=10;class S0 extends b0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},h=this.storage.getItem(a);$I()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,AC):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},TC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}S0.type="LOCAL";const bC=S0;class w0 extends b0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}w0.type="SESSION";const R0=w0;function SC(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class vh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new vh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:h}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async _=>_(i.origin,h)),v=await SC(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vh.receivers=[];function ep(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class wC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,d;return new Promise((g,v)=>{const _=ep("",20);l.port1.start();const A=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const M=S;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(A),h=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),g(M.data.response);break;default:clearTimeout(A),clearTimeout(h),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function wi(){return window}function RC(s){wi().location.href=s}function I0(){return typeof wi().WorkerGlobalScope<"u"&&typeof wi().importScripts=="function"}async function IC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CC(){return navigator?.serviceWorker?.controller||null}function DC(){return I0()?self:null}const C0="firebaseLocalStorageDb",NC=1,nh="firebaseLocalStorage",D0="fbase_key";class Gl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Eh(s,t){return s.transaction([nh],t?"readwrite":"readonly").objectStore(nh)}function OC(){const s=indexedDB.deleteDatabase(C0);return new Gl(s).toPromise()}function um(){const s=indexedDB.open(C0,NC);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(nh,{keyPath:D0})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(nh)?t(a):(a.close(),await OC(),t(await um()))})})}async function rE(s,t,i){const a=Eh(s,!0).put({[D0]:t,value:i});return new Gl(a).toPromise()}async function VC(s,t){const i=Eh(s,!1).get(t),a=await new Gl(i).toPromise();return a===void 0?null:a.value}function sE(s,t){const i=Eh(s,!0).delete(t);return new Gl(i).toPromise()}const MC=800,xC=3;class N0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await um(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>xC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return I0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vh._getInstance(DC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await IC(),!this.activeServiceWorker)return;this.sender=new wC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||CC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await um();return await rE(t,eh,"1"),await sE(t,eh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>rE(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>VC(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>sE(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=Eh(l,!1).getAll();return new Gl(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),MC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}N0.type="LOCAL";const kC=N0;new ql(3e4,6e4);function O0(s,t){return t?Xi(t):(pt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class np extends T0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ha(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ha(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ha(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function UC(s){return gC(s.auth,new np(s),s.bypassAuthState)}function LC(s){const{auth:t,user:i}=s;return pt(i,t,"internal-error"),pC(i,new np(s),s.bypassAuthState)}async function PC(s){const{auth:t,user:i}=s;return pt(i,t,"internal-error"),mC(i,new np(s),s.bypassAuthState)}class V0{constructor(t,i,a,l,h=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:h,error:d,type:g}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(v))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return UC;case"linkViaPopup":case"linkViaRedirect":return PC;case"reauthViaPopup":case"reauthViaRedirect":return LC;default:Ii(this.auth,"internal-error")}}resolve(t){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zC=new ql(2e3,1e4);async function BC(s,t,i){if(Kn(s.app))return Promise.reject(Zn(s,"operation-not-supported-in-this-environment"));const a=_h(s);xI(s,t,tp);const l=O0(a,i);return new Ns(a,"signInViaPopup",t,l).executeNotNull()}class Ns extends V0{constructor(t,i,a,l,h){super(t,i,l,h),this.provider=a,this.authWindow=null,this.pollId=null,Ns.currentPopupAction&&Ns.currentPopupAction.cancel(),Ns.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){tr(this.filter.length===1,"Popup operations only handle one event");const t=ep();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ns.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,zC.get())};t()}}Ns.currentPopupAction=null;const jC="pendingRedirect",Uc=new Map;class qC extends V0{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Uc.get(this.auth._key());if(!t){try{const a=await HC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Uc.set(this.auth._key(),t)}return this.bypassAuthState||Uc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HC(s,t){const i=QC(t),a=FC(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function GC(s,t){Uc.set(s._key(),t)}function FC(s){return Xi(s._redirectPersistence)}function QC(s){return kc(jC,s.config.apiKey,s.name)}async function KC(s,t,i=!1){if(Kn(s.app))return Promise.reject(Ms(s));const a=_h(s),l=O0(a,t),d=await new qC(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const YC=600*1e3;class XC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!JC(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!M0(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Zn(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=YC&&this.cachedEventUids.clear(),this.cachedEventUids.has(aE(t))}saveEventToCache(t){this.cachedEventUids.add(aE(t)),this.lastProcessedEventTime=Date.now()}}function aE(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function M0({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function JC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return M0(s);default:return!1}}async function ZC(s,t={}){return so(s,"GET","/v1/projects",t)}const $C=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WC=/^https?/;async function t2(s){if(s.config.emulator)return;const{authorizedDomains:t}=await ZC(s);for(const i of t)try{if(e2(i))return}catch{}Ii(s,"unauthorized-domain")}function e2(s){const t=om(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!WC.test(i))return!1;if($C.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const n2=new ql(3e4,6e4);function oE(){const s=wi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function i2(s){return new Promise((t,i)=>{function a(){oE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{oE(),i(Zn(s,"network-request-failed"))},timeout:n2.get()})}if(wi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(wi().gapi?.load)a();else{const l=oC("iframefcb");return wi()[l]=()=>{gapi.load?a():i(Zn(s,"network-request-failed"))},sC(`${aC()}?onload=${l}`).catch(h=>i(h))}}).catch(t=>{throw Lc=null,t})}let Lc=null;function r2(s){return Lc=Lc||i2(s),Lc}const s2=new ql(5e3,15e3),a2="__/auth/iframe",o2="emulator/auth/iframe",l2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},u2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function c2(s){const t=s.config;pt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Xm(t,o2):`https://${s.config.authDomain}/${a2}`,a={apiKey:t.apiKey,appName:s.name,v:Wa},l=u2.get(s.config.apiHost);l&&(a.eid=l);const h=s._getFrameworks();return h.length&&(a.fw=h.join(",")),`${i}?${Ul(a).slice(1)}`}async function h2(s){const t=await r2(s),i=wi().gapi;return pt(i,s,"internal-error"),t.open({where:document.body,url:c2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:l2,dontclear:!0},a=>new Promise(async(l,h)=>{await a.restyle({setHideOnLeave:!1});const d=Zn(s,"network-request-failed"),g=wi().setTimeout(()=>{h(d)},s2.get());function v(){wi().clearTimeout(g),l(a)}a.ping(v).then(v,()=>{h(d)})}))}const f2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},d2=500,m2=600,p2="_blank",g2="http://localhost";class lE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function y2(s,t,i,a=d2,l=m2){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const v={...f2,width:a.toString(),height:l.toString(),top:h,left:d},_=Je().toLowerCase();i&&(g=d0(_)?p2:i),h0(_)&&(t=t||g2,v.scrollbars="yes");const A=Object.entries(v).reduce((M,[Y,J])=>`${M}${Y}=${J},`,"");if(ZI(_)&&g!=="_self")return _2(t||"",g),new lE(null);const S=window.open(t||"",g,A);pt(S,s,"popup-blocked");try{S.focus()}catch{}return new lE(S)}function _2(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const v2="__/auth/handler",E2="emulator/auth/handler",T2=encodeURIComponent("fac");async function uE(s,t,i,a,l,h){pt(s.config.authDomain,s,"auth-domain-config-required"),pt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:Wa,eventId:l};if(t instanceof tp){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",Qb(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(t instanceof Hl){const A=t.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const v=await s._getAppCheckToken(),_=v?`#${T2}=${encodeURIComponent(v)}`:"";return`${A2(s)}?${Ul(g).slice(1)}${_}`}function A2({config:s}){return s.emulator?Xm(s,E2):`https://${s.authDomain}/${v2}`}const Ld="webStorageSupport";class b2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=R0,this._completeRedirectFn=KC,this._overrideRedirectResult=GC}async _openPopup(t,i,a,l){tr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await uE(t,i,a,om(),l);return y2(t,h,ep())}async _openRedirect(t,i,a,l){await this._originValidation(t);const h=await uE(t,i,a,om(),l);return RC(h),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:h}=this.eventManagers[i];return l?Promise.resolve(l):(tr(h,"If manager is not set, promise should be"),h)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await h2(t),a=new XC(t);return i.register("authEvent",l=>(pt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Ld,{type:Ld},l=>{const h=l?.[0]?.[Ld];h!==void 0&&i(!!h),Ii(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=t2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return _0()||f0()||$m()}}const S2=b2;var cE="@firebase/auth",hE="1.12.0";class w2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function R2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function I2(s){Ga(new ks("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;pt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:v0(s)},_=new iC(a,l,h,v);return uC(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Ga(new ks("auth-internal",t=>{const i=_h(t.getProvider("auth").getImmediate());return(a=>new w2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),qr(cE,hE,R2(s)),qr(cE,hE,"esm2020")}const C2=300,D2=_E("authIdTokenMaxAge")||C2;let fE=null;const N2=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>D2)return;const l=i?.token;fE!==l&&(fE=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function O2(s=SE()){const t=dm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=lC(s,{popupRedirectResolver:S2,persistence:[kC,bC,R0]}),a=_E("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(a,location.origin);if(location.origin===h.origin){const d=N2(h.toString());_C(i,d,()=>d(i.currentUser)),yC(i,g=>d(g))}}const l=gE("auth");return l&&cC(i,`http://${l}`),i}function V2(){return document.getElementsByTagName("head")?.[0]??document}rC({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const h=Zn("internal-error");h.customData=l,i(h)},a.type="text/javascript",a.charset="UTF-8",V2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});I2("Browser");const M2={apiKey:"AIzaSyCQyGS486-RohBd3FHBQENIhH0PSkInwBs",authDomain:"expothearchive.firebaseapp.com",projectId:"expothearchive",storageBucket:"expothearchive.firebasestorage.app",messagingSenderId:"18895439101",appId:"1:18895439101:web:c17f8c3e565147f7396a94"},x0=bE(M2),Ic=pI(x0),Pd=O2(x0),x2=new Ki;function k2(){const[s,t]=vn.useState([]),[i,a]=vn.useState([]),[l,h]=vn.useState(!0),[d,g]=vn.useState(null),[v,_]=vn.useState("grid"),[A,S]=vn.useState(null),[M,Y]=vn.useState(""),[J,$]=vn.useState({type:"blog",content:"",title:"",src:"",isTitle:!1,sourceInfo:"",date:new Date().toLocaleDateString("nl-NL")});vn.useEffect(()=>{const W=vC(Pd,vt=>{S(vt)});return()=>W()},[]);const it=async()=>{try{await BC(Pd,x2)}catch(W){console.error("Inloggen mislukt:",W),W.code==="auth/popup-closed-by-user"?alert("De login popup werd gesloten voordat je kon inloggen."):W.code==="auth/unauthorized-domain"?alert("Dit domein is niet toegestaan voor inloggen. Voeg dit domein toe aan 'Authorized Domains' in je Firebase Console."):alert("Inlogfout: "+W.message)}},dt=()=>EC(Pd);vn.useEffect(()=>{const W=Gv(wc(Ic,"posts"),Fv("timestamp","desc")),vt=Xv(W,C=>{const b=C.docs.map(I=>({id:I.id,...I.data()}));t(b),h(!1)},C=>{console.error("Database fout:",C),h(!1)});return()=>vt()},[v]),vn.useEffect(()=>{if(!d){a([]);return}const W=Gv(wc(Ic,"posts",d.id,"comments"),Fv("timestamp","asc")),vt=Xv(W,C=>{const b=C.docs.map(I=>({id:I.id,...I.data()}));a(b)});return()=>vt()},[d]);const At=async W=>{W.preventDefault();try{await Yv(wc(Ic,"posts"),{...J,timestamp:Bv(),authorEmail:A.email}),$({type:"blog",content:"",title:"",src:"",isTitle:!1,sourceInfo:"",date:new Date().toLocaleDateString("nl-NL")}),_("grid")}catch(vt){console.error("Opslaan mislukt:",vt)}},yt=async W=>{if(W.preventDefault(),!(!M.trim()||!A||!d))try{await Yv(wc(Ic,"posts",d.id,"comments"),{text:M,userName:A.displayName,userPhoto:A.photoURL,timestamp:Bv(),isAdmin:A.email==="gieltemolder@gmail.com"}),Y("")}catch(vt){console.error("Comment plaatsen mislukt:",vt)}};vn.useEffect(()=>{const W=document.createElement("style");W.innerHTML=`
      ::-webkit-scrollbar { display: none; }
      body { 
        -ms-overflow-style: none; 
        scrollbar-width: none; 
        overflow-y: scroll; 
        background-color: #f0f0f0;
        margin: 0;
      }
    `,document.head.appendChild(W)},[]);const Kt=A&&A.email==="gieltemolder@gmail.com";return tt.jsxs("div",{className:"min-h-screen text-[#1a1a1a] font-mono selection:bg-black selection:text-white pb-20",children:[v==="grid"&&tt.jsxs("header",{className:"p-4 md:p-10 border-b-8 border-black flex justify-between items-center bg-white sticky top-0 z-40 shadow-[0_8px_0_0_rgba(0,0,0,1)]",children:[tt.jsxs("div",{className:"group cursor-default",children:[tt.jsx("h1",{className:"text-3xl md:text-6xl font-black uppercase tracking-tighter italic leading-none group-hover:tracking-normal transition-all",children:"The Archive"}),tt.jsx("p",{className:"text-[10px] md:text-xs font-bold bg-black text-white px-2 py-1 mt-2 inline-block uppercase tracking-widest",children:"Exposure Therapy // Giel te Molder"})]}),tt.jsxs("div",{className:"flex gap-4",children:[Kt&&tt.jsx("button",{onClick:()=>_("admin"),className:"bg-yellow-400 border-4 border-black px-6 py-3 text-xs font-black uppercase shadow-[8px_8px_0_0_rgba(0,0,0,1)] hover:shadow-none hover:translate-x-1 hover:translate-y-1 transition-all",children:"+ NEW_ENTRY"}),A?tt.jsxs("div",{className:"flex items-center gap-4 bg-black text-white p-2 pr-6 border-4 border-black shadow-[8px_8px_0_0_rgba(255,235,59,1)]",children:[A.photoURL&&tt.jsx("img",{src:A.photoURL,className:"w-10 h-10 grayscale border-2 border-white",alt:"user"}),tt.jsxs("div",{className:"hidden sm:block text-left",children:[tt.jsx("p",{className:"text-[8px] font-black opacity-50 uppercase",children:A.displayName}),tt.jsx("button",{onClick:dt,className:"text-[10px] font-black underline uppercase hover:text-yellow-400 block",children:"Logout_"})]})]}):tt.jsx("button",{onClick:it,className:"border-4 border-black px-6 py-3 text-xs font-black uppercase bg-white shadow-[8px_8px_0_0_rgba(0,0,0,1)] hover:shadow-none hover:translate-x-1 hover:translate-y-1 transition-all",children:"LOGIN_"})]})]}),v==="admin"&&tt.jsx("div",{className:"min-h-screen bg-[#f0f0f0] flex flex-col p-6 md:p-20 items-center justify-center animate-in fade-in slide-in-from-bottom duration-700",children:tt.jsxs("div",{className:"max-w-3xl mx-auto w-full space-y-12 bg-white border-[10px] border-black p-10 shadow-[25px_25px_0_0_rgba(0,0,0,1)]",children:[tt.jsxs("div",{className:"flex justify-between items-center border-b-8 border-black pb-8",children:[tt.jsx("h2",{className:"text-5xl font-black italic tracking-tighter uppercase underline decoration-yellow-400 underline-offset-[12px]",children:"System_Input"}),tt.jsx("button",{onClick:()=>_("grid"),className:"text-xs font-black bg-black text-white px-8 py-4 hover:bg-yellow-400 hover:text-black transition-all border-4 border-black",children:"ABORT_MISSION"})]}),tt.jsxs("form",{onSubmit:At,className:"space-y-12",children:[tt.jsxs("div",{className:"flex border-4 border-black overflow-hidden shadow-[10px_10px_0_0_rgba(0,0,0,1)]",children:[tt.jsx("button",{type:"button",onClick:()=>$({...J,type:"blog"}),className:`flex-1 py-6 font-black uppercase text-sm transition-colors ${J.type==="blog"?"bg-black text-white":"bg-white hover:bg-yellow-100"}`,children:"TEXT_DATA"}),tt.jsx("button",{type:"button",onClick:()=>$({...J,type:"art"}),className:`flex-1 py-4 font-black uppercase text-sm transition-colors ${J.type==="art"?"bg-black text-white":"bg-white hover:bg-yellow-100"}`,children:"VISUAL_DATA"})]}),tt.jsxs("div",{className:"space-y-8",children:[J.type==="art"?tt.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[tt.jsx("input",{type:"text",placeholder:"FILE_IDENTIFIER",className:"w-full bg-transparent border-b-4 border-black p-4 text-2xl font-black outline-none placeholder:opacity-20 uppercase focus:border-yellow-400",value:J.title,onChange:W=>$({...J,title:W.target.value})}),tt.jsx("input",{type:"text",placeholder:"LOCAL_PATH (/art/bestandsnaam.jpg)",className:"w-full bg-transparent border-b-4 border-black p-4 text-2xl font-black outline-none placeholder:opacity-20 focus:border-yellow-400",value:J.src,onChange:W=>$({...J,src:W.target.value})})]}):tt.jsxs("div",{className:"space-y-8",children:[tt.jsxs("label",{className:"flex items-center gap-6 cursor-pointer p-6 border-4 border-black font-black uppercase text-sm bg-gray-50 hover:bg-yellow-400 transition-colors shadow-[8px_8px_0_0_rgba(0,0,0,1)] hover:shadow-none",children:[tt.jsx("input",{type:"checkbox",checked:J.isTitle,onChange:W=>$({...J,isTitle:W.target.checked}),className:"w-8 h-8 accent-black"}),tt.jsx("span",{children:"Structural Manifesto Mode (Grote Quotes)"})]}),J.isTitle&&tt.jsx("input",{type:"text",placeholder:"REFERENCE_SOURCE",className:"w-full bg-transparent border-b-4 border-black p-4 text-xl font-black outline-none italic uppercase placeholder:opacity-20",value:J.sourceInfo,onChange:W=>$({...J,sourceInfo:W.target.value})})]}),tt.jsx("textarea",{className:"w-full bg-white border-4 border-black p-8 h-96 text-xl font-bold shadow-[12px_12px_0_0_rgba(0,0,0,1)] outline-none transition-all placeholder:opacity-20 focus:bg-yellow-50 resize-none",placeholder:"INPUT_RAW_DATA_HERE...",value:J.content,onChange:W=>$({...J,content:W.target.value})})]}),tt.jsx("button",{type:"submit",className:"w-full bg-black text-white py-8 font-black text-4xl uppercase italic tracking-tighter hover:bg-yellow-400 hover:text-black transition-all shadow-[20px_20px_0_0_rgba(255,235,59,1)] active:translate-y-2 active:shadow-none",children:"PUSH_TO_CLOUD_"})]})]})}),v==="grid"&&tt.jsx("main",{className:"p-4 md:p-12 mt-8",children:tt.jsx("div",{className:"columns-2 md:columns-3 lg:columns-4 xl:columns-5 gap-8 max-w-[1700px] mx-auto space-y-8",children:s.map(W=>tt.jsxs("div",{onClick:()=>g(W),className:`
                  break-inside-avoid border-4 border-black group cursor-pointer transition-all mb-8
                  shadow-[10px_10px_0_0_rgba(0,0,0,1)] hover:shadow-none hover:translate-x-1 hover:translate-y-1
                  ${W.type==="art"?"bg-black p-1":"p-8"}
                  ${W.isTitle?"bg-white italic border-l-[15px]":W.type==="blog"?"bg-yellow-400 hover:bg-yellow-500":""}
                `,children:[W.type==="blog"&&tt.jsxs("div",{className:"space-y-4",children:[!W.isTitle&&tt.jsxs("div",{className:"flex justify-between items-center mb-4 border-b-4 border-black/10 pb-4",children:[tt.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:W.date}),tt.jsx("div",{className:"w-3 h-3 bg-black rounded-full animate-pulse"})]}),tt.jsx("p",{className:`font-black tracking-tighter leading-tight uppercase ${W.isTitle?"text-xl md:text-2xl py-2":"text-[11px] line-clamp-[15]"}`,children:W.isTitle?`"${W.content}"`:W.content}),!W.isTitle&&tt.jsx("div",{className:"text-[10px] font-black mt-6 opacity-40 text-right uppercase italic underline underline-offset-4",children:"READ_LOG_"})]}),W.type==="art"&&tt.jsxs("div",{className:"relative overflow-hidden",children:[tt.jsx("img",{src:W.src,alt:W.title,className:"w-full h-auto grayscale group-hover:grayscale-0 transition-all duration-1000 block border-2 border-black",onError:vt=>{vt.target.src="https://via.placeholder.com/400?text=DATA_MISSING"}}),tt.jsx("div",{className:"absolute top-4 left-4 bg-white border-4 border-black px-3 py-1 text-[10px] font-black uppercase italic shadow-[6px_6px_0_0_rgba(0,0,0,1)]",children:W.title})]})]},W.id))})}),d&&tt.jsx("div",{className:"fixed inset-0 bg-black/95 z-50 flex items-center justify-center p-4 md:p-12 backdrop-blur-xl animate-in fade-in duration-300",onClick:()=>g(null),children:tt.jsxs("div",{className:"w-full max-w-5xl max-h-[90vh] overflow-y-auto bg-white border-[10px] border-black p-6 md:p-12 relative shadow-[35px_35px_0_0_rgba(255,235,59,1)]",onClick:W=>W.stopPropagation(),children:[tt.jsx("button",{onClick:()=>g(null),className:"absolute top-8 right-8 font-black text-xs bg-black text-white px-8 py-4 hover:bg-yellow-400 hover:text-black transition-colors border-4 border-black shadow-[6px_6px_0_0_rgba(0,0,0,1)] active:shadow-none",children:"EXIT_ARCHIVE_"}),tt.jsxs("header",{className:"mb-12 border-b-[12px] border-black pb-8",children:[tt.jsx("h2",{className:"text-4xl md:text-6xl font-black uppercase italic tracking-tighter underline underline-offset-[12px] decoration-yellow-400 leading-none",children:d.title||(d.isTitle?"Manifesto":"Archive_Entry")}),tt.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mt-10",children:[tt.jsxs("p",{className:"text-[10px] font-black opacity-40 uppercase tracking-[0.3em]",children:[d.date," // NODE_ID_",d.id.slice(0,8)]}),d.sourceInfo&&tt.jsxs("span",{className:"text-[10px] font-black bg-black text-white px-3 py-1 italic shadow-[4px_4px_0_0_rgba(255,235,59,1)] uppercase",children:["SRC: ",d.sourceInfo]})]})]}),tt.jsxs("div",{className:"space-y-16",children:[d.type==="art"&&tt.jsx("div",{className:"border-[12px] border-black p-3 bg-black shadow-[20px_20px_0_0_rgba(0,0,0,1)]",children:tt.jsx("img",{src:d.src,className:"w-full h-auto grayscale hover:grayscale-0 transition-all duration-1000 border-4 border-white",alt:"Art Detail"})}),tt.jsx("div",{className:"text-2xl md:text-4xl leading-[1.1] font-black text-black text-justify whitespace-pre-wrap tracking-tighter uppercase selection:bg-yellow-400",children:d.content}),tt.jsxs("div",{className:"mt-20 border-t-8 border-black pt-12",children:[tt.jsx("h3",{className:"text-2xl font-black uppercase italic mb-8 underline",children:"Responses_"}),tt.jsx("div",{className:"space-y-6 mb-12",children:i.length===0?tt.jsx("p",{className:"text-xs font-bold opacity-30 uppercase italic",children:"Geen responses gevonden op deze node..."}):i.map(W=>tt.jsxs("div",{className:`p-4 border-2 border-black flex gap-4 ${W.isAdmin?"bg-yellow-100 shadow-[6px_6px_0_0_rgba(0,0,0,1)]":"bg-white shadow-[4px_4px_0_0_rgba(0,0,0,1)]"}`,children:[W.userPhoto&&tt.jsx("img",{src:W.userPhoto,className:"w-8 h-8 grayscale border border-black",alt:"avatar"}),tt.jsxs("div",{children:[tt.jsxs("p",{className:"text-[10px] font-black uppercase opacity-50 mb-1",children:[W.userName," // ",W.isAdmin?"[ADMIN]":"[USER]"]}),tt.jsx("p",{className:"text-sm font-bold uppercase",children:W.text})]})]},W.id))}),A?tt.jsxs("form",{onSubmit:yt,className:"flex flex-col gap-4",children:[tt.jsx("textarea",{value:M,onChange:W=>Y(W.target.value),placeholder:"Leave your mark on this entry...",className:"w-full border-4 border-black p-4 text-sm font-bold focus:bg-yellow-50 outline-none shadow-[8px_8px_0_0_rgba(0,0,0,1)]"}),tt.jsx("button",{type:"submit",className:"bg-black text-white py-3 font-black uppercase text-xs hover:bg-yellow-400 hover:text-black transition-all self-end px-10",children:"Send_Response"})]}):tt.jsxs("div",{className:"p-4 border-4 border-dashed border-black flex justify-between items-center bg-gray-100",children:[tt.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest",children:"Login to join the dialogue_"}),tt.jsx("button",{onClick:it,className:"bg-black text-white px-4 py-1 text-[10px] font-black hover:bg-yellow-400 hover:text-black",children:"LOGIN_"})]})]})]}),tt.jsxs("footer",{className:"mt-32 pt-12 border-t-8 border-black flex flex-col md:flex-row justify-between items-center text-[9px] font-black uppercase opacity-40 italic gap-4",children:[tt.jsx("span",{children:"Verified_Database_Node_Access"}),tt.jsx("span",{children:"Exposure Therapy // Giel te Molder // 2026"})]})]})})]})}Eb.createRoot(document.getElementById("root")).render(tt.jsx(vn.StrictMode,{children:tt.jsx(k2,{})}));
