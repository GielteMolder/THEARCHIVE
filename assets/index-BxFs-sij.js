(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Sd={exports:{}},_l={};var M_;function EA(){if(M_)return _l;M_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return _l.Fragment=t,_l.jsx=i,_l.jsxs=i,_l}var k_;function TA(){return k_||(k_=1,Sd.exports=EA()),Sd.exports}var q=TA(),wd={exports:{}},At={};var U_;function bA(){if(U_)return At;U_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),O=Symbol.iterator;function Y(D){return D===null||typeof D!="object"?null:(D=O&&D[O]||D["@@iterator"],typeof D=="function"?D:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,nt={};function pt(D,K,et){this.props=D,this.context=K,this.refs=nt,this.updater=et||Z}pt.prototype.isReactComponent={},pt.prototype.setState=function(D,K){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,K,"setState")},pt.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function vt(){}vt.prototype=pt.prototype;function Et(D,K,et){this.props=D,this.context=K,this.refs=nt,this.updater=et||Z}var Qt=Et.prototype=new vt;Qt.constructor=Et,it(Qt,pt.prototype),Qt.isPureReactComponent=!0;var oe=Array.isArray;function lt(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(D,K,et){var st=et.ref;return{$$typeof:s,type:D,key:K,ref:st!==void 0?st:null,props:et}}function V(D,K){return I(D.type,K,D.props)}function x(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function k(D){var K={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(et){return K[et]})}var w=/\/+/g;function Jt(D,K){return typeof D=="object"&&D!==null&&D.key!=null?k(""+D.key):K.toString(36)}function wt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(lt,lt):(D.status="pending",D.then(function(K){D.status==="pending"&&(D.status="fulfilled",D.value=K)},function(K){D.status==="pending"&&(D.status="rejected",D.reason=K)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function H(D,K,et,st,yt){var bt=typeof D;(bt==="undefined"||bt==="boolean")&&(D=null);var Dt=!1;if(D===null)Dt=!0;else switch(bt){case"bigint":case"string":case"number":Dt=!0;break;case"object":switch(D.$$typeof){case s:case t:Dt=!0;break;case T:return Dt=D._init,H(Dt(D._payload),K,et,st,yt)}}if(Dt)return yt=yt(D),Dt=st===""?"."+Jt(D,0):st,oe(yt)?(et="",Dt!=null&&(et=Dt.replace(w,"$&/")+"/"),H(yt,K,et,"",function(ze){return ze})):yt!=null&&(x(yt)&&(yt=V(yt,et+(yt.key==null||D&&D.key===yt.key?"":(""+yt.key).replace(w,"$&/")+"/")+Dt)),K.push(yt)),1;Dt=0;var F=st===""?".":st+":";if(oe(D))for(var dt=0;dt<D.length;dt++)st=D[dt],bt=F+Jt(st,dt),Dt+=H(st,K,et,bt,yt);else if(dt=Y(D),typeof dt=="function")for(D=dt.call(D),dt=0;!(st=D.next()).done;)st=st.value,bt=F+Jt(st,dt++),Dt+=H(st,K,et,bt,yt);else if(bt==="object"){if(typeof D.then=="function")return H(wt(D),K,et,st,yt);throw K=String(D),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Dt}function W(D,K,et){if(D==null)return D;var st=[],yt=0;return H(D,st,"","",function(bt){return K.call(et,bt,yt++)}),st}function ct(D){if(D._status===-1){var K=D._result;K=K(),K.then(function(et){(D._status===0||D._status===-1)&&(D._status=1,D._result=et)},function(et){(D._status===0||D._status===-1)&&(D._status=2,D._result=et)}),D._status===-1&&(D._status=0,D._result=K)}if(D._status===1)return D._result.default;throw D._result}var Lt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},qt={map:W,forEach:function(D,K,et){W(D,function(){K.apply(this,arguments)},et)},count:function(D){var K=0;return W(D,function(){K++}),K},toArray:function(D){return W(D,function(K){return K})||[]},only:function(D){if(!x(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return At.Activity=S,At.Children=qt,At.Component=pt,At.Fragment=i,At.Profiler=l,At.PureComponent=Et,At.StrictMode=a,At.Suspense=v,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,At.__COMPILER_RUNTIME={__proto__:null,c:function(D){return C.H.useMemoCache(D)}},At.cache=function(D){return function(){return D.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(D,K,et){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var st=it({},D.props),yt=D.key;if(K!=null)for(bt in K.key!==void 0&&(yt=""+K.key),K)!A.call(K,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&K.ref===void 0||(st[bt]=K[bt]);var bt=arguments.length-2;if(bt===1)st.children=et;else if(1<bt){for(var Dt=Array(bt),F=0;F<bt;F++)Dt[F]=arguments[F+2];st.children=Dt}return I(D.type,yt,st)},At.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},At.createElement=function(D,K,et){var st,yt={},bt=null;if(K!=null)for(st in K.key!==void 0&&(bt=""+K.key),K)A.call(K,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(yt[st]=K[st]);var Dt=arguments.length-2;if(Dt===1)yt.children=et;else if(1<Dt){for(var F=Array(Dt),dt=0;dt<Dt;dt++)F[dt]=arguments[dt+2];yt.children=F}if(D&&D.defaultProps)for(st in Dt=D.defaultProps,Dt)yt[st]===void 0&&(yt[st]=Dt[st]);return I(D,bt,yt)},At.createRef=function(){return{current:null}},At.forwardRef=function(D){return{$$typeof:g,render:D}},At.isValidElement=x,At.lazy=function(D){return{$$typeof:T,_payload:{_status:-1,_result:D},_init:ct}},At.memo=function(D,K){return{$$typeof:y,type:D,compare:K===void 0?null:K}},At.startTransition=function(D){var K=C.T,et={};C.T=et;try{var st=D(),yt=C.S;yt!==null&&yt(et,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(lt,Lt)}catch(bt){Lt(bt)}finally{K!==null&&et.types!==null&&(K.types=et.types),C.T=K}},At.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},At.use=function(D){return C.H.use(D)},At.useActionState=function(D,K,et){return C.H.useActionState(D,K,et)},At.useCallback=function(D,K){return C.H.useCallback(D,K)},At.useContext=function(D){return C.H.useContext(D)},At.useDebugValue=function(){},At.useDeferredValue=function(D,K){return C.H.useDeferredValue(D,K)},At.useEffect=function(D,K){return C.H.useEffect(D,K)},At.useEffectEvent=function(D){return C.H.useEffectEvent(D)},At.useId=function(){return C.H.useId()},At.useImperativeHandle=function(D,K,et){return C.H.useImperativeHandle(D,K,et)},At.useInsertionEffect=function(D,K){return C.H.useInsertionEffect(D,K)},At.useLayoutEffect=function(D,K){return C.H.useLayoutEffect(D,K)},At.useMemo=function(D,K){return C.H.useMemo(D,K)},At.useOptimistic=function(D,K){return C.H.useOptimistic(D,K)},At.useReducer=function(D,K,et){return C.H.useReducer(D,K,et)},At.useRef=function(D){return C.H.useRef(D)},At.useState=function(D){return C.H.useState(D)},At.useSyncExternalStore=function(D,K,et){return C.H.useSyncExternalStore(D,K,et)},At.useTransition=function(){return C.H.useTransition()},At.version="19.2.3",At}var L_;function gm(){return L_||(L_=1,wd.exports=bA()),wd.exports}var $t=gm(),Rd={exports:{}},vl={},Id={exports:{}},Cd={};var P_;function AA(){return P_||(P_=1,(function(s){function t(H,W){var ct=H.length;H.push(W);t:for(;0<ct;){var Lt=ct-1>>>1,qt=H[Lt];if(0<l(qt,W))H[Lt]=W,H[ct]=qt,ct=Lt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var W=H[0],ct=H.pop();if(ct!==W){H[0]=ct;t:for(var Lt=0,qt=H.length,D=qt>>>1;Lt<D;){var K=2*(Lt+1)-1,et=H[K],st=K+1,yt=H[st];if(0>l(et,ct))st<qt&&0>l(yt,et)?(H[Lt]=yt,H[st]=ct,Lt=st):(H[Lt]=et,H[K]=ct,Lt=K);else if(st<qt&&0>l(yt,ct))H[Lt]=yt,H[st]=ct,Lt=st;else break t}}return W}function l(H,W){var ct=H.sortIndex-W.sortIndex;return ct!==0?ct:H.id-W.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var v=[],y=[],T=1,S=null,O=3,Y=!1,Z=!1,it=!1,nt=!1,pt=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,Et=typeof setImmediate<"u"?setImmediate:null;function Qt(H){for(var W=i(y);W!==null;){if(W.callback===null)a(y);else if(W.startTime<=H)a(y),W.sortIndex=W.expirationTime,t(v,W);else break;W=i(y)}}function oe(H){if(it=!1,Qt(H),!Z)if(i(v)!==null)Z=!0,lt||(lt=!0,k());else{var W=i(y);W!==null&&wt(oe,W.startTime-H)}}var lt=!1,C=-1,A=5,I=-1;function V(){return nt?!0:!(s.unstable_now()-I<A)}function x(){if(nt=!1,lt){var H=s.unstable_now();I=H;var W=!0;try{t:{Z=!1,it&&(it=!1,vt(C),C=-1),Y=!0;var ct=O;try{e:{for(Qt(H),S=i(v);S!==null&&!(S.expirationTime>H&&V());){var Lt=S.callback;if(typeof Lt=="function"){S.callback=null,O=S.priorityLevel;var qt=Lt(S.expirationTime<=H);if(H=s.unstable_now(),typeof qt=="function"){S.callback=qt,Qt(H),W=!0;break e}S===i(v)&&a(v),Qt(H)}else a(v);S=i(v)}if(S!==null)W=!0;else{var D=i(y);D!==null&&wt(oe,D.startTime-H),W=!1}}break t}finally{S=null,O=ct,Y=!1}W=void 0}}finally{W?k():lt=!1}}}var k;if(typeof Et=="function")k=function(){Et(x)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Jt=w.port2;w.port1.onmessage=x,k=function(){Jt.postMessage(null)}}else k=function(){pt(x,0)};function wt(H,W){C=pt(function(){H(s.unstable_now())},W)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return O},s.unstable_next=function(H){switch(O){case 1:case 2:case 3:var W=3;break;default:W=O}var ct=O;O=W;try{return H()}finally{O=ct}},s.unstable_requestPaint=function(){nt=!0},s.unstable_runWithPriority=function(H,W){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ct=O;O=H;try{return W()}finally{O=ct}},s.unstable_scheduleCallback=function(H,W,ct){var Lt=s.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Lt+ct:Lt):ct=Lt,H){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=ct+qt,H={id:T++,callback:W,priorityLevel:H,startTime:ct,expirationTime:qt,sortIndex:-1},ct>Lt?(H.sortIndex=ct,t(y,H),i(v)===null&&H===i(y)&&(it?(vt(C),C=-1):it=!0,wt(oe,ct-Lt))):(H.sortIndex=qt,t(v,H),Z||Y||(Z=!0,lt||(lt=!0,k()))),H},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(H){var W=O;return function(){var ct=O;O=W;try{return H.apply(this,arguments)}finally{O=ct}}}})(Cd)),Cd}var z_;function SA(){return z_||(z_=1,Id.exports=AA()),Id.exports}var Nd={exports:{}},Xe={};var j_;function wA(){if(j_)return Xe;j_=1;var s=gm();function t(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(v,y,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:v,containerInfo:y,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Xe.createPortal=function(v,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(v,y,null,T)},Xe.flushSync=function(v){var y=d.T,T=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=y,a.p=T,a.d.f()}},Xe.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(v,y))},Xe.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Xe.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var T=y.as,S=g(T,y.crossOrigin),O=typeof y.integrity=="string"?y.integrity:void 0,Y=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?a.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:O,fetchPriority:Y}):T==="script"&&a.d.X(v,{crossOrigin:S,integrity:O,fetchPriority:Y,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Xe.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=g(y.as,y.crossOrigin);a.d.M(v,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(v)},Xe.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,S=g(T,y.crossOrigin);a.d.L(v,T,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Xe.preloadModule=function(v,y){if(typeof v=="string")if(y){var T=g(y.as,y.crossOrigin);a.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(v)},Xe.requestFormReset=function(v){a.d.r(v)},Xe.unstable_batchedUpdates=function(v,y){return v(y)},Xe.useFormState=function(v,y,T){return d.H.useFormState(v,y,T)},Xe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xe.version="19.2.3",Xe}var B_;function RA(){if(B_)return Nd.exports;B_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Nd.exports=wA(),Nd.exports}var q_;function IA(){if(q_)return vl;q_=1;var s=SA(),t=gm(),i=RA();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return v(h),e;if(f===o)return v(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===r){p=!0,r=h,o=f;break}if(E===o){p=!0,o=h,r=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===r){p=!0,r=f,o=h;break}if(E===o){p=!0,o=f,r=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function T(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=T(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,O=Symbol.for("react.element"),Y=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),pt=Symbol.for("react.profiler"),vt=Symbol.for("react.consumer"),Et=Symbol.for("react.context"),Qt=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),lt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=x&&e[x]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function Jt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case it:return"Fragment";case pt:return"Profiler";case nt:return"StrictMode";case oe:return"Suspense";case lt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case Et:return e.displayName||"Context";case vt:return(e._context.displayName||"Context")+".Consumer";case Qt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:Jt(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return Jt(e(n))}catch{}}return null}var wt=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Lt=[],qt=-1;function D(e){return{current:e}}function K(e){0>qt||(e.current=Lt[qt],Lt[qt]=null,qt--)}function et(e,n){qt++,Lt[qt]=e.current,e.current=n}var st=D(null),yt=D(null),bt=D(null),Dt=D(null);function F(e,n){switch(et(bt,n),et(yt,e),et(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?i_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=i_(n),e=r_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(st),et(st,e)}function dt(){K(st),K(yt),K(bt)}function ze(e){e.memoizedState!==null&&et(Dt,e);var n=st.current,r=r_(n,e.type);n!==r&&(et(yt,e),et(st,r))}function Pn(e){yt.current===e&&(K(st),K(yt)),Dt.current===e&&(K(Dt),ml._currentValue=ct)}var tn,Xs;function ii(e){if(tn===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);tn=n&&n[1]||"",Xs=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tn+e+Xs}var mo=!1;function rs(e,n){if(!e||mo)return"";mo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(B){var z=B}Reflect.construct(e,[],X)}else{try{X.call()}catch(B){z=B}e.call(X.prototype)}}else{try{throw Error()}catch(B){z=B}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var R=p.split(`
`),P=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===P.length)for(o=R.length-1,h=P.length-1;1<=o&&0<=h&&R[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==P[h]){var G=`
`+R[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{mo=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?ii(r):""}function po(e,n){switch(e.tag){case 26:case 27:case 5:return ii(e.type);case 16:return ii("Lazy");case 13:return e.child!==n&&n!==null?ii("Suspense Fallback"):ii("Suspense");case 19:return ii("SuspenseList");case 0:case 15:return rs(e.type,!1);case 11:return rs(e.type.render,!1);case 1:return rs(e.type,!0);case 31:return ii("Activity");default:return""}}function go(e){try{var n="",r=null;do n+=po(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _e=Object.prototype.hasOwnProperty,De=s.unstable_scheduleCallback,ar=s.unstable_cancelCallback,wh=s.unstable_shouldYield,Jl=s.unstable_requestPaint,en=s.unstable_now,ss=s.unstable_getCurrentPriorityLevel,yo=s.unstable_ImmediatePriority,_o=s.unstable_UserBlockingPriority,or=s.unstable_NormalPriority,Rh=s.unstable_LowPriority,Zl=s.unstable_IdlePriority,Wl=s.log,tu=s.unstable_setDisableYieldValue,zn=null,je=null;function Sn(e){if(typeof Wl=="function"&&tu(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(zn,e)}catch{}}var de=Math.clz32?Math.clz32:nu,eu=Math.log,$s=Math.LN2;function nu(e){return e>>>=0,e===0?32:31-(eu(e)/$s|0)|0}var ri=256,as=262144,ve=4194304;function si(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ai(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=si(o):(p&=E,p!==0?h=si(p):r||(r=E&~e,r!==0&&(h=si(r))))):(E=o&~f,E!==0?h=si(E):p!==0?h=si(p):r||(r=o&~e,r!==0&&(h=si(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function jn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ih(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iu(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function oi(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function os(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ch(e,n,r,o,h,f){var p=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,P=e.hiddenUpdates;for(r=p&~r;0<r;){var G=31-de(r),X=1<<G;E[G]=0,R[G]=-1;var z=P[G];if(z!==null)for(P[G]=null,G=0;G<z.length;G++){var B=z[G];B!==null&&(B.lane&=-536870913)}r&=~X}o!==0&&ls(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function ls(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-de(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function vo(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-de(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function Eo(e,n){var r=n&-n;return r=(r&42)!==0?1:us(r),(r&(e.suspendedLanes|n))!==0?0:r}function us(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Oi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ru(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:I_(e.type))}function Bn(e,n){var r=W.p;try{return W.p=e,n()}finally{W.p=r}}var qn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+qn,Me="__reactProps$"+qn,li="__reactContainer$"+qn,Js="__reactEvents$"+qn,Nh="__reactListeners$"+qn,su="__reactHandles$"+qn,au="__reactResources$"+qn,ui="__reactMarker$"+qn;function Zs(e){delete e[Ee],delete e[Me],delete e[Js],delete e[Nh],delete e[su]}function ci(e){var n=e[Ee];if(n)return n;for(var r=e.parentNode;r;){if(n=r[li]||r[Ee]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=h_(e);e!==null;){if(r=e[Ee])return r;e=h_(e)}return n}e=r,r=e.parentNode}return null}function wn(e){if(e=e[Ee]||e[li]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function mn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function hi(e){var n=e[au];return n||(n=e[au]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Te(e){e[ui]=!0}var To=new Set,bo={};function fi(e,n){di(e,n),di(e+"Capture",n)}function di(e,n){for(bo[e]=n,e=0;e<n.length;e++)To.add(n[e])}var Ao=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),So={},wo={};function ou(e){return _e.call(wo,e)?!0:_e.call(So,e)?!1:Ao.test(e)?wo[e]=!0:(So[e]=!0,!1)}function Ws(e,n,r){if(ou(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function pn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function be(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function lr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ro(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Yt(e){if(!e._valueTracker){var n=lr(e)?"checked":"value";e._valueTracker=Ro(e,n,""+e[n])}}function cs(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=lr(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function mi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var hs=/[\n"\\]/g;function sn(e){return e.replace(hs,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ta(e,n,r,o,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ke(n)):e.value!==""+ke(n)&&(e.value=""+ke(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Io(e,p,ke(n)):r!=null?Io(e,p,ke(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+ke(E):e.removeAttribute("name")}function lu(e,n,r,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Yt(e);return}r=r!=null?""+ke(r):"",n=n!=null?""+ke(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Yt(e)}function Io(e,n,r){n==="number"&&mi(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function ur(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+ke(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function uu(e,n,r){if(n!=null&&(n=""+ke(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+ke(r):""}function cr(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(wt(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=ke(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Yt(e)}function an(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Co(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||cu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function No(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Co(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Co(e,f,n[f])}function ea(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function na(e){return hr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Hn(){}var xo=null;function Rn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fr=null,pi=null;function fs(e){var n=wn(e);if(n&&(e=n.stateNode)){var r=e[Me]||null;t:switch(e=n.stateNode,n.type){case"input":if(ta(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[Me]||null;if(!h)throw Error(a(90));ta(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&cs(o)}break t;case"textarea":uu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&ur(e,!!r.multiple,n,!1)}}}var ia=!1;function dr(e,n,r){if(ia)return e(n,r);ia=!0;try{var o=e(n);return o}finally{if(ia=!1,(fr!==null||pi!==null)&&(rc(),fr&&(n=fr,e=pi,pi=fr=null,fs(n),e)))for(n=0;n<e.length;n++)fs(e[n])}}function Gn(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Me]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ds=!1;if(In)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){ds=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{ds=!1}var gi=null,Do=null,ms=null;function Oo(){if(ms)return ms;var e,n=Do,r=n.length,o,h="value"in gi?gi.value:gi.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var p=r-e;for(o=1;o<=p&&n[r-o]===h[f-o];o++);return ms=h.slice(e,1<o?1-o:void 0)}function ps(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Vi(){return!0}function Fn(){return!1}function Be(e){function n(r,o,h,f,p){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Vi:Fn,this.isPropagationStopped=Fn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),n}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yi=Be(Mi),mr=S({},Mi,{view:0,detail:0}),Vo=Be(mr),pr,ra,_i,sa=S({},mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_i&&(_i&&e.type==="mousemove"?(pr=e.screenX-_i.screenX,ra=e.screenY-_i.screenY):ra=pr=0,_i=e),pr)},movementY:function(e){return"movementY"in e?e.movementY:ra}}),Mo=Be(sa),gs=S({},sa,{dataTransfer:0}),fu=Be(gs),du=S({},mr,{relatedTarget:0}),ys=Be(du),ko=S({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),mu=Be(ko),aa=S({},Mi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pu=Be(aa),gu=S({},Mi,{data:0}),vi=Be(gu),yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=vu[e])?!!n[e]:!1}function gr(){return Eu}var nn=S({},mr,{key:function(e){if(e.key){var n=yu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ps(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_u[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gr,charCode:function(e){return e.type==="keypress"?ps(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ps(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tu=Be(nn),bu=S({},sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ki=Be(bu),u=S({},mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gr}),m=Be(u),_=S({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Be(_),U=S({},sa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j=Be(U),tt=S({},Mi,{newState:0,oldState:0}),Rt=Be(tt),me=[9,13,27,32],Ht=In&&"CompositionEvent"in window,le=null;In&&"documentMode"in document&&(le=document.documentMode);var Cn=In&&"TextEvent"in window&&!le,Ei=In&&(!Ht||le&&8<le&&11>=le),Qn=" ",Yn=!1;function _s(e,n){switch(e){case"keyup":return me.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var la=!1;function GT(e,n){switch(e){case"compositionend":return oa(n);case"keypress":return n.which!==32?null:(Yn=!0,Qn);case"textInput":return e=n.data,e===Qn&&Yn?null:e;default:return null}}function FT(e,n){if(la)return e==="compositionend"||!Ht&&_s(e,n)?(e=Oo(),ms=Do=gi=null,la=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ei&&n.locale!=="ko"?null:n.data;default:return null}}var QT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!QT[e.type]:n==="textarea"}function pp(e,n,r,o){fr?pi?pi.push(o):pi=[o]:fr=o,n=hc(n,"onChange"),0<n.length&&(r=new yi("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Uo=null,Lo=null;function YT(e){Jy(e,0)}function Au(e){var n=mn(e);if(cs(n))return e}function gp(e,n){if(e==="change")return n}var yp=!1;if(In){var xh;if(In){var Dh="oninput"in document;if(!Dh){var _p=document.createElement("div");_p.setAttribute("oninput","return;"),Dh=typeof _p.oninput=="function"}xh=Dh}else xh=!1;yp=xh&&(!document.documentMode||9<document.documentMode)}function vp(){Uo&&(Uo.detachEvent("onpropertychange",Ep),Lo=Uo=null)}function Ep(e){if(e.propertyName==="value"&&Au(Lo)){var n=[];pp(n,Lo,e,Rn(e)),dr(YT,n)}}function KT(e,n,r){e==="focusin"?(vp(),Uo=n,Lo=r,Uo.attachEvent("onpropertychange",Ep)):e==="focusout"&&vp()}function XT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Au(Lo)}function $T(e,n){if(e==="click")return Au(n)}function JT(e,n){if(e==="input"||e==="change")return Au(n)}function ZT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var gn=typeof Object.is=="function"?Object.is:ZT;function Po(e,n){if(gn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!_e.call(n,h)||!gn(e[h],n[h]))return!1}return!0}function Tp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bp(e,n){var r=Tp(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Tp(r)}}function Ap(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Ap(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Sp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=mi(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=mi(e.document)}return n}function Oh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var WT=In&&"documentMode"in document&&11>=document.documentMode,ua=null,Vh=null,zo=null,Mh=!1;function wp(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Mh||ua==null||ua!==mi(o)||(o=ua,"selectionStart"in o&&Oh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),zo&&Po(zo,o)||(zo=o,o=hc(Vh,"onSelect"),0<o.length&&(n=new yi("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=ua)))}function vs(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ca={animationend:vs("Animation","AnimationEnd"),animationiteration:vs("Animation","AnimationIteration"),animationstart:vs("Animation","AnimationStart"),transitionrun:vs("Transition","TransitionRun"),transitionstart:vs("Transition","TransitionStart"),transitioncancel:vs("Transition","TransitionCancel"),transitionend:vs("Transition","TransitionEnd")},kh={},Rp={};In&&(Rp=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function Es(e){if(kh[e])return kh[e];if(!ca[e])return e;var n=ca[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Rp)return kh[e]=n[r];return e}var Ip=Es("animationend"),Cp=Es("animationiteration"),Np=Es("animationstart"),tb=Es("transitionrun"),eb=Es("transitionstart"),nb=Es("transitioncancel"),xp=Es("transitionend"),Dp=new Map,Uh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uh.push("scrollEnd");function Kn(e,n){Dp.set(e,n),fi(n,[e])}var Su=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Nn=[],ha=0,Lh=0;function wu(){for(var e=ha,n=Lh=ha=0;n<e;){var r=Nn[n];Nn[n++]=null;var o=Nn[n];Nn[n++]=null;var h=Nn[n];Nn[n++]=null;var f=Nn[n];if(Nn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Op(r,h,f)}}function Ru(e,n,r,o){Nn[ha++]=e,Nn[ha++]=n,Nn[ha++]=r,Nn[ha++]=o,Lh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Ph(e,n,r,o){return Ru(e,n,r,o),Iu(e)}function Ts(e,n){return Ru(e,null,null,n),Iu(e)}function Op(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-de(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Iu(e){if(50<ol)throw ol=0,Kf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var fa={};function ib(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,n,r,o){return new ib(e,n,r,o)}function zh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ui(e,n){var r=e.alternate;return r===null?(r=yn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Vp(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Cu(e,n,r,o,h,f){var p=0;if(o=e,typeof e=="function")zh(e)&&(p=1);else if(typeof e=="string")p=lA(e,r,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=yn(31,r,n,h),e.elementType=I,e.lanes=f,e;case it:return bs(r.children,h,f,n);case nt:p=8,h|=24;break;case pt:return e=yn(12,r,n,h|2),e.elementType=pt,e.lanes=f,e;case oe:return e=yn(13,r,n,h),e.elementType=oe,e.lanes=f,e;case lt:return e=yn(19,r,n,h),e.elementType=lt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Et:p=10;break t;case vt:p=9;break t;case Qt:p=11;break t;case C:p=14;break t;case A:p=16,o=null;break t}p=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=yn(p,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function bs(e,n,r,o){return e=yn(7,e,o,n),e.lanes=r,e}function jh(e,n,r){return e=yn(6,e,null,n),e.lanes=r,e}function Mp(e){var n=yn(18,null,null,0);return n.stateNode=e,n}function Bh(e,n,r){return n=yn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var kp=new WeakMap;function xn(e,n){if(typeof e=="object"&&e!==null){var r=kp.get(e);return r!==void 0?r:(n={value:e,source:n,stack:go(n)},kp.set(e,n),n)}return{value:e,source:n,stack:go(n)}}var da=[],ma=0,Nu=null,jo=0,Dn=[],On=0,yr=null,Ti=1,bi="";function Li(e,n){da[ma++]=jo,da[ma++]=Nu,Nu=e,jo=n}function Up(e,n,r){Dn[On++]=Ti,Dn[On++]=bi,Dn[On++]=yr,yr=e;var o=Ti;e=bi;var h=32-de(o)-1;o&=~(1<<h),r+=1;var f=32-de(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Ti=1<<32-de(n)+h|r<<h|o,bi=f+e}else Ti=1<<f|r<<h|o,bi=e}function qh(e){e.return!==null&&(Li(e,1),Up(e,1,0))}function Hh(e){for(;e===Nu;)Nu=da[--ma],da[ma]=null,jo=da[--ma],da[ma]=null;for(;e===yr;)yr=Dn[--On],Dn[On]=null,bi=Dn[--On],Dn[On]=null,Ti=Dn[--On],Dn[On]=null}function Lp(e,n){Dn[On++]=Ti,Dn[On++]=bi,Dn[On++]=yr,Ti=n.id,bi=n.overflow,yr=e}var qe=null,re=null,Pt=!1,_r=null,Vn=!1,Gh=Error(a(519));function vr(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bo(xn(n,e)),Gh}function Pp(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[Ee]=e,n[Me]=o,r){case"dialog":xt("cancel",n),xt("close",n);break;case"iframe":case"object":case"embed":xt("load",n);break;case"video":case"audio":for(r=0;r<ul.length;r++)xt(ul[r],n);break;case"source":xt("error",n);break;case"img":case"image":case"link":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"input":xt("invalid",n),lu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":xt("invalid",n);break;case"textarea":xt("invalid",n),cr(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||e_(n.textContent,r)?(o.popover!=null&&(xt("beforetoggle",n),xt("toggle",n)),o.onScroll!=null&&xt("scroll",n),o.onScrollEnd!=null&&xt("scrollend",n),o.onClick!=null&&(n.onclick=Hn),n=!0):n=!1,n||vr(e,!0)}function zp(e){for(qe=e.return;qe;)switch(qe.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:qe=qe.return}}function pa(e){if(e!==qe)return!1;if(!Pt)return zp(e),Pt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||ud(e.type,e.memoizedProps)),r=!r),r&&re&&vr(e),zp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));re=c_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));re=c_(e)}else n===27?(n=re,Vr(e.type)?(e=md,md=null,re=e):re=n):re=qe?kn(e.stateNode.nextSibling):null;return!0}function As(){re=qe=null,Pt=!1}function Fh(){var e=_r;return e!==null&&(cn===null?cn=e:cn.push.apply(cn,e),_r=null),e}function Bo(e){_r===null?_r=[e]:_r.push(e)}var Qh=D(null),Ss=null,Pi=null;function Er(e,n,r){et(Qh,n._currentValue),n._currentValue=r}function zi(e){e._currentValue=Qh.current,K(Qh)}function Yh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function Kh(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Yh(f.return,r,e),o||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),Yh(p,r,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function ga(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;gn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===Dt.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ml):e=[ml])}h=h.return}e!==null&&Kh(n,e,r,o),n.flags|=262144}function xu(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ws(e){Ss=e,Pi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return jp(Ss,e)}function Du(e,n){return Ss===null&&ws(e),jp(e,n)}function jp(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Pi===null){if(e===null)throw Error(a(308));Pi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Pi=Pi.next=n;return r}var rb=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},sb=s.unstable_scheduleCallback,ab=s.unstable_NormalPriority,Ae={$$typeof:Et,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xh(){return{controller:new rb,data:new Map,refCount:0}}function qo(e){e.refCount--,e.refCount===0&&sb(ab,function(){e.controller.abort()})}var Ho=null,$h=0,ya=0,_a=null;function ob(e,n){if(Ho===null){var r=Ho=[];$h=0,ya=td(),_a={status:"pending",value:void 0,then:function(o){r.push(o)}}}return $h++,n.then(Bp,Bp),n}function Bp(){if(--$h===0&&Ho!==null){_a!==null&&(_a.status="fulfilled");var e=Ho;Ho=null,ya=0,_a=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function lb(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var qp=H.S;H.S=function(e,n){wy=en(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&ob(e,n),qp!==null&&qp(e,n)};var Rs=D(null);function Jh(){var e=Rs.current;return e!==null?e:ne.pooledCache}function Ou(e,n){n===null?et(Rs,Rs.current):et(Rs,n.pool)}function Hp(){var e=Jh();return e===null?null:{parent:Ae._currentValue,pool:e}}var va=Error(a(460)),Zh=Error(a(474)),Vu=Error(a(542)),Mu={then:function(){}};function Gp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Fp(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Hn,Hn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Yp(e),e;default:if(typeof n.status=="string")n.then(Hn,Hn);else{if(e=ne,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Yp(e),e}throw Cs=n,va}}function Is(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Cs=r,va):r}}var Cs=null;function Qp(){if(Cs===null)throw Error(a(459));var e=Cs;return Cs=null,e}function Yp(e){if(e===va||e===Vu)throw Error(a(483))}var Ea=null,Go=0;function ku(e){var n=Go;return Go+=1,Ea===null&&(Ea=[]),Fp(Ea,e,n)}function Fo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Uu(e,n){throw n.$$typeof===O?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Kp(e){function n(M,N){if(e){var L=M.deletions;L===null?(M.deletions=[N],M.flags|=16):L.push(N)}}function r(M,N){if(!e)return null;for(;N!==null;)n(M,N),N=N.sibling;return null}function o(M){for(var N=new Map;M!==null;)M.key!==null?N.set(M.key,M):N.set(M.index,M),M=M.sibling;return N}function h(M,N){return M=Ui(M,N),M.index=0,M.sibling=null,M}function f(M,N,L){return M.index=L,e?(L=M.alternate,L!==null?(L=L.index,L<N?(M.flags|=67108866,N):L):(M.flags|=67108866,N)):(M.flags|=1048576,N)}function p(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function E(M,N,L,Q){return N===null||N.tag!==6?(N=jh(L,M.mode,Q),N.return=M,N):(N=h(N,L),N.return=M,N)}function R(M,N,L,Q){var ht=L.type;return ht===it?G(M,N,L.props.children,Q,L.key):N!==null&&(N.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===A&&Is(ht)===N.type)?(N=h(N,L.props),Fo(N,L),N.return=M,N):(N=Cu(L.type,L.key,L.props,null,M.mode,Q),Fo(N,L),N.return=M,N)}function P(M,N,L,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=Bh(L,M.mode,Q),N.return=M,N):(N=h(N,L.children||[]),N.return=M,N)}function G(M,N,L,Q,ht){return N===null||N.tag!==7?(N=bs(L,M.mode,Q,ht),N.return=M,N):(N=h(N,L),N.return=M,N)}function X(M,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=jh(""+N,M.mode,L),N.return=M,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Y:return L=Cu(N.type,N.key,N.props,null,M.mode,L),Fo(L,N),L.return=M,L;case Z:return N=Bh(N,M.mode,L),N.return=M,N;case A:return N=Is(N),X(M,N,L)}if(wt(N)||k(N))return N=bs(N,M.mode,L,null),N.return=M,N;if(typeof N.then=="function")return X(M,ku(N),L);if(N.$$typeof===Et)return X(M,Du(M,N),L);Uu(M,N)}return null}function z(M,N,L,Q){var ht=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ht!==null?null:E(M,N,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Y:return L.key===ht?R(M,N,L,Q):null;case Z:return L.key===ht?P(M,N,L,Q):null;case A:return L=Is(L),z(M,N,L,Q)}if(wt(L)||k(L))return ht!==null?null:G(M,N,L,Q,null);if(typeof L.then=="function")return z(M,N,ku(L),Q);if(L.$$typeof===Et)return z(M,N,Du(M,L),Q);Uu(M,L)}return null}function B(M,N,L,Q,ht){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return M=M.get(L)||null,E(N,M,""+Q,ht);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case Y:return M=M.get(Q.key===null?L:Q.key)||null,R(N,M,Q,ht);case Z:return M=M.get(Q.key===null?L:Q.key)||null,P(N,M,Q,ht);case A:return Q=Is(Q),B(M,N,L,Q,ht)}if(wt(Q)||k(Q))return M=M.get(L)||null,G(N,M,Q,ht,null);if(typeof Q.then=="function")return B(M,N,L,ku(Q),ht);if(Q.$$typeof===Et)return B(M,N,L,Du(N,Q),ht);Uu(N,Q)}return null}function ot(M,N,L,Q){for(var ht=null,jt=null,ut=N,Ct=N=0,Vt=null;ut!==null&&Ct<L.length;Ct++){ut.index>Ct?(Vt=ut,ut=null):Vt=ut.sibling;var Bt=z(M,ut,L[Ct],Q);if(Bt===null){ut===null&&(ut=Vt);break}e&&ut&&Bt.alternate===null&&n(M,ut),N=f(Bt,N,Ct),jt===null?ht=Bt:jt.sibling=Bt,jt=Bt,ut=Vt}if(Ct===L.length)return r(M,ut),Pt&&Li(M,Ct),ht;if(ut===null){for(;Ct<L.length;Ct++)ut=X(M,L[Ct],Q),ut!==null&&(N=f(ut,N,Ct),jt===null?ht=ut:jt.sibling=ut,jt=ut);return Pt&&Li(M,Ct),ht}for(ut=o(ut);Ct<L.length;Ct++)Vt=B(ut,M,Ct,L[Ct],Q),Vt!==null&&(e&&Vt.alternate!==null&&ut.delete(Vt.key===null?Ct:Vt.key),N=f(Vt,N,Ct),jt===null?ht=Vt:jt.sibling=Vt,jt=Vt);return e&&ut.forEach(function(Pr){return n(M,Pr)}),Pt&&Li(M,Ct),ht}function mt(M,N,L,Q){if(L==null)throw Error(a(151));for(var ht=null,jt=null,ut=N,Ct=N=0,Vt=null,Bt=L.next();ut!==null&&!Bt.done;Ct++,Bt=L.next()){ut.index>Ct?(Vt=ut,ut=null):Vt=ut.sibling;var Pr=z(M,ut,Bt.value,Q);if(Pr===null){ut===null&&(ut=Vt);break}e&&ut&&Pr.alternate===null&&n(M,ut),N=f(Pr,N,Ct),jt===null?ht=Pr:jt.sibling=Pr,jt=Pr,ut=Vt}if(Bt.done)return r(M,ut),Pt&&Li(M,Ct),ht;if(ut===null){for(;!Bt.done;Ct++,Bt=L.next())Bt=X(M,Bt.value,Q),Bt!==null&&(N=f(Bt,N,Ct),jt===null?ht=Bt:jt.sibling=Bt,jt=Bt);return Pt&&Li(M,Ct),ht}for(ut=o(ut);!Bt.done;Ct++,Bt=L.next())Bt=B(ut,M,Ct,Bt.value,Q),Bt!==null&&(e&&Bt.alternate!==null&&ut.delete(Bt.key===null?Ct:Bt.key),N=f(Bt,N,Ct),jt===null?ht=Bt:jt.sibling=Bt,jt=Bt);return e&&ut.forEach(function(vA){return n(M,vA)}),Pt&&Li(M,Ct),ht}function ee(M,N,L,Q){if(typeof L=="object"&&L!==null&&L.type===it&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case Y:t:{for(var ht=L.key;N!==null;){if(N.key===ht){if(ht=L.type,ht===it){if(N.tag===7){r(M,N.sibling),Q=h(N,L.props.children),Q.return=M,M=Q;break t}}else if(N.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===A&&Is(ht)===N.type){r(M,N.sibling),Q=h(N,L.props),Fo(Q,L),Q.return=M,M=Q;break t}r(M,N);break}else n(M,N);N=N.sibling}L.type===it?(Q=bs(L.props.children,M.mode,Q,L.key),Q.return=M,M=Q):(Q=Cu(L.type,L.key,L.props,null,M.mode,Q),Fo(Q,L),Q.return=M,M=Q)}return p(M);case Z:t:{for(ht=L.key;N!==null;){if(N.key===ht)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){r(M,N.sibling),Q=h(N,L.children||[]),Q.return=M,M=Q;break t}else{r(M,N);break}else n(M,N);N=N.sibling}Q=Bh(L,M.mode,Q),Q.return=M,M=Q}return p(M);case A:return L=Is(L),ee(M,N,L,Q)}if(wt(L))return ot(M,N,L,Q);if(k(L)){if(ht=k(L),typeof ht!="function")throw Error(a(150));return L=ht.call(L),mt(M,N,L,Q)}if(typeof L.then=="function")return ee(M,N,ku(L),Q);if(L.$$typeof===Et)return ee(M,N,Du(M,L),Q);Uu(M,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(r(M,N.sibling),Q=h(N,L),Q.return=M,M=Q):(r(M,N),Q=jh(L,M.mode,Q),Q.return=M,M=Q),p(M)):r(M,N)}return function(M,N,L,Q){try{Go=0;var ht=ee(M,N,L,Q);return Ea=null,ht}catch(ut){if(ut===va||ut===Vu)throw ut;var jt=yn(29,ut,null,M.mode);return jt.lanes=Q,jt.return=M,jt}}}var Ns=Kp(!0),Xp=Kp(!1),Tr=!1;function Wh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function br(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ar(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Gt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Iu(e),Op(e,null,r),n}return Ru(e,o,n,r),Iu(e)}function Qo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,vo(e,r)}}function ef(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var nf=!1;function Yo(){if(nf){var e=_a;if(e!==null)throw e}}function Ko(e,n,r,o){nf=!1;var h=e.updateQueue;Tr=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,P=R.next;R.next=null,p===null?f=P:p.next=P,p=R;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==p&&(E===null?G.firstBaseUpdate=P:E.next=P,G.lastBaseUpdate=R))}if(f!==null){var X=h.baseState;p=0,G=P=R=null,E=f;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(Ot&z)===z:(o&z)===z){z!==0&&z===ya&&(nf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,mt=E;z=n;var ee=r;switch(mt.tag){case 1:if(ot=mt.payload,typeof ot=="function"){X=ot.call(ee,X,z);break t}X=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=mt.payload,z=typeof ot=="function"?ot.call(ee,X,z):ot,z==null)break t;X=S({},X,z);break t;case 2:Tr=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(P=G=B,R=X):G=G.next=B,p|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);G===null&&(R=X),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Cr|=p,e.lanes=p,e.memoizedState=X}}function $p(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Jp(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)$p(r[e],n)}var Ta=D(null),Lu=D(0);function Zp(e,n){e=Ki,et(Lu,e),et(Ta,n),Ki=e|n.baseLanes}function rf(){et(Lu,Ki),et(Ta,Ta.current)}function sf(){Ki=Lu.current,K(Ta),K(Lu)}var _n=D(null),Mn=null;function Sr(e){var n=e.alternate;et(pe,pe.current&1),et(_n,e),Mn===null&&(n===null||Ta.current!==null||n.memoizedState!==null)&&(Mn=e)}function af(e){et(pe,pe.current),et(_n,e),Mn===null&&(Mn=e)}function Wp(e){e.tag===22?(et(pe,pe.current),et(_n,e),Mn===null&&(Mn=e)):wr()}function wr(){et(pe,pe.current),et(_n,_n.current)}function vn(e){K(_n),Mn===e&&(Mn=null),K(pe)}var pe=D(0);function Pu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||fd(r)||dd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ji=0,It=null,Wt=null,Se=null,zu=!1,ba=!1,xs=!1,ju=0,Xo=0,Aa=null,ub=0;function he(){throw Error(a(321))}function of(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!gn(e[r],n[r]))return!1;return!0}function lf(e,n,r,o,h,f){return ji=f,It=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?Ug:Af,xs=!1,f=r(o,h),xs=!1,ba&&(f=eg(n,r,o,h)),tg(e),f}function tg(e){H.H=Zo;var n=Wt!==null&&Wt.next!==null;if(ji=0,Se=Wt=It=null,zu=!1,Xo=0,Aa=null,n)throw Error(a(300));e===null||we||(e=e.dependencies,e!==null&&xu(e)&&(we=!0))}function eg(e,n,r,o){It=e;var h=0;do{if(ba&&(Aa=null),Xo=0,ba=!1,25<=h)throw Error(a(301));if(h+=1,Se=Wt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Lg,f=n(r,o)}while(ba);return f}function cb(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?$o(n):n,e=e.useState()[0],(Wt!==null?Wt.memoizedState:null)!==e&&(It.flags|=1024),n}function uf(){var e=ju!==0;return ju=0,e}function cf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function hf(e){if(zu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}zu=!1}ji=0,Se=Wt=It=null,ba=!1,Xo=ju=0,Aa=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?It.memoizedState=Se=e:Se=Se.next=e,Se}function ge(){if(Wt===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=Wt.next;var n=Se===null?It.memoizedState:Se.next;if(n!==null)Se=n,Wt=e;else{if(e===null)throw It.alternate===null?Error(a(467)):Error(a(310));Wt=e,e={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Se===null?It.memoizedState=Se=e:Se=Se.next=e}return Se}function Bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $o(e){var n=Xo;return Xo+=1,Aa===null&&(Aa=[]),e=Fp(Aa,e,n),n=It,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Ug:Af),e}function qu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return $o(e);if(e.$$typeof===Et)return He(e)}throw Error(a(438,String(e)))}function ff(e){var n=null,r=It.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=It.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Bu(),It.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=V;return n.index++,r}function Bi(e,n){return typeof n=="function"?n(e):n}function Hu(e){var n=ge();return df(n,Wt,e)}function df(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,R=null,P=n,G=!1;do{var X=P.lane&-536870913;if(X!==P.lane?(Ot&X)===X:(ji&X)===X){var z=P.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),X===ya&&(G=!0);else if((ji&z)===z){P=P.next,z===ya&&(G=!0);continue}else X={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=X,p=f):R=R.next=X,It.lanes|=z,Cr|=z;X=P.action,xs&&r(f,X),f=P.hasEagerState?P.eagerState:r(f,X)}else z={lane:X,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=z,p=f):R=R.next=z,It.lanes|=X,Cr|=X;P=P.next}while(P!==null&&P!==n);if(R===null?p=f:R.next=E,!gn(f,e.memoizedState)&&(we=!0,G&&(r=_a,r!==null)))throw r;e.memoizedState=f,e.baseState=p,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function mf(e){var n=ge(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);gn(f,n.memoizedState)||(we=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function ng(e,n,r){var o=It,h=ge(),f=Pt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!gn((Wt||h).memoizedState,r);if(p&&(h.memoizedState=r,we=!0),h=h.queue,yf(sg.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||Se!==null&&Se.memoizedState.tag&1){if(o.flags|=2048,Sa(9,{destroy:void 0},rg.bind(null,o,h,r,n),null),ne===null)throw Error(a(349));f||(ji&127)!==0||ig(o,n,r)}return r}function ig(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=It.updateQueue,n===null?(n=Bu(),It.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function rg(e,n,r,o){n.value=r,n.getSnapshot=o,ag(n)&&og(e)}function sg(e,n,r){return r(function(){ag(n)&&og(e)})}function ag(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!gn(e,r)}catch{return!0}}function og(e){var n=Ts(e,2);n!==null&&hn(n,e,2)}function pf(e){var n=rn();if(typeof e=="function"){var r=e;if(e=r(),xs){Sn(!0);try{r()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:e},n}function lg(e,n,r,o){return e.baseState=r,df(e,Wt,typeof o=="function"?o:Bi)}function hb(e,n,r,o,h){if(Qu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};H.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,ug(n,f)):(f.next=r.next,n.pending=r.next=f)}}function ug(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,p={};H.T=p;try{var E=r(h,o),R=H.S;R!==null&&R(p,E),cg(e,n,E)}catch(P){gf(e,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),H.T=f}}else try{f=r(h,o),cg(e,n,f)}catch(P){gf(e,n,P)}}function cg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){hg(e,n,o)},function(o){return gf(e,n,o)}):hg(e,n,r)}function hg(e,n,r){n.status="fulfilled",n.value=r,fg(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,ug(e,r)))}function gf(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,fg(n),n=n.next;while(n!==o)}e.action=null}function fg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function dg(e,n){return n}function mg(e,n){if(Pt){var r=ne.formState;if(r!==null){t:{var o=It;if(Pt){if(re){e:{for(var h=re,f=Vn;h.nodeType!==8;){if(!f){h=null;break e}if(h=kn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){re=kn(h.nextSibling),o=h.data==="F!";break t}}vr(o)}o=!1}o&&(n=r[0])}}return r=rn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dg,lastRenderedState:n},r.queue=o,r=Vg.bind(null,It,o),o.dispatch=r,o=pf(!1),f=bf.bind(null,It,!1,o.queue),o=rn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=hb.bind(null,It,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function pg(e){var n=ge();return gg(n,Wt,e)}function gg(e,n,r){if(n=df(e,n,dg)[0],e=Hu(Bi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=$o(n)}catch(p){throw p===va?Vu:p}else o=n;n=ge();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(It.flags|=2048,Sa(9,{destroy:void 0},fb.bind(null,h,r),null)),[o,f,e]}function fb(e,n){e.action=n}function yg(e){var n=ge(),r=Wt;if(r!==null)return gg(n,r,e);ge(),n=n.memoizedState,r=ge();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Sa(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=It.updateQueue,n===null&&(n=Bu(),It.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function _g(){return ge().memoizedState}function Gu(e,n,r,o){var h=rn();It.flags|=e,h.memoizedState=Sa(1|n,{destroy:void 0},r,o===void 0?null:o)}function Fu(e,n,r,o){var h=ge();o=o===void 0?null:o;var f=h.memoizedState.inst;Wt!==null&&o!==null&&of(o,Wt.memoizedState.deps)?h.memoizedState=Sa(n,f,r,o):(It.flags|=e,h.memoizedState=Sa(1|n,f,r,o))}function vg(e,n){Gu(8390656,8,e,n)}function yf(e,n){Fu(2048,8,e,n)}function db(e){It.flags|=4;var n=It.updateQueue;if(n===null)n=Bu(),It.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function Eg(e){var n=ge().memoizedState;return db({ref:n,nextImpl:e}),function(){if((Gt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Tg(e,n){return Fu(4,2,e,n)}function bg(e,n){return Fu(4,4,e,n)}function Ag(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Sg(e,n,r){r=r!=null?r.concat([e]):null,Fu(4,4,Ag.bind(null,n,e),r)}function _f(){}function wg(e,n){var r=ge();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&of(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function Rg(e,n){var r=ge();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&of(n,o[1]))return o[0];if(o=e(),xs){Sn(!0);try{e()}finally{Sn(!1)}}return r.memoizedState=[o,n],o}function vf(e,n,r){return r===void 0||(ji&1073741824)!==0&&(Ot&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=Iy(),It.lanes|=e,Cr|=e,r)}function Ig(e,n,r,o){return gn(r,n)?r:Ta.current!==null?(e=vf(e,r,o),gn(e,n)||(we=!0),e):(ji&42)===0||(ji&1073741824)!==0&&(Ot&261930)===0?(we=!0,e.memoizedState=r):(e=Iy(),It.lanes|=e,Cr|=e,n)}function Cg(e,n,r,o,h){var f=W.p;W.p=f!==0&&8>f?f:8;var p=H.T,E={};H.T=E,bf(e,!1,n,r);try{var R=h(),P=H.S;if(P!==null&&P(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=lb(R,o);Jo(e,n,G,bn(e))}else Jo(e,n,o,bn(e))}catch(X){Jo(e,n,{then:function(){},status:"rejected",reason:X},bn())}finally{W.p=f,p!==null&&E.types!==null&&(p.types=E.types),H.T=p}}function mb(){}function Ef(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=Ng(e).queue;Cg(e,h,n,ct,r===null?mb:function(){return xg(e),r(o)})}function Ng(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:ct},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function xg(e){var n=Ng(e);n.next===null&&(n=e.alternate.memoizedState),Jo(e,n.next.queue,{},bn())}function Tf(){return He(ml)}function Dg(){return ge().memoizedState}function Og(){return ge().memoizedState}function pb(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=bn();e=br(r);var o=Ar(n,e,r);o!==null&&(hn(o,n,r),Qo(o,n,r)),n={cache:Xh()},e.payload=n;return}n=n.return}}function gb(e,n,r){var o=bn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Qu(e)?Mg(n,r):(r=Ph(e,n,r,o),r!==null&&(hn(r,e,o),kg(r,n,o)))}function Vg(e,n,r){var o=bn();Jo(e,n,r,o)}function Jo(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Qu(e))Mg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,r);if(h.hasEagerState=!0,h.eagerState=E,gn(E,p))return Ru(e,n,h,0),ne===null&&wu(),!1}catch{}if(r=Ph(e,n,h,o),r!==null)return hn(r,e,o),kg(r,n,o),!0}return!1}function bf(e,n,r,o){if(o={lane:2,revertLane:td(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Qu(e)){if(n)throw Error(a(479))}else n=Ph(e,r,o,2),n!==null&&hn(n,e,2)}function Qu(e){var n=e.alternate;return e===It||n!==null&&n===It}function Mg(e,n){ba=zu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function kg(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,vo(e,r)}}var Zo={readContext:He,use:qu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};Zo.useEffectEvent=he;var Ug={readContext:He,use:qu,useCallback:function(e,n){return rn().memoizedState=[e,n===void 0?null:n],e},useContext:He,useEffect:vg,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Gu(4194308,4,Ag.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Gu(4194308,4,e,n)},useInsertionEffect:function(e,n){Gu(4,2,e,n)},useMemo:function(e,n){var r=rn();n=n===void 0?null:n;var o=e();if(xs){Sn(!0);try{e()}finally{Sn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=rn();if(r!==void 0){var h=r(n);if(xs){Sn(!0);try{r(n)}finally{Sn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=gb.bind(null,It,e),[o.memoizedState,e]},useRef:function(e){var n=rn();return e={current:e},n.memoizedState=e},useState:function(e){e=pf(e);var n=e.queue,r=Vg.bind(null,It,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:_f,useDeferredValue:function(e,n){var r=rn();return vf(r,e,n)},useTransition:function(){var e=pf(!1);return e=Cg.bind(null,It,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=It,h=rn();if(Pt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),ne===null)throw Error(a(349));(Ot&127)!==0||ig(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,vg(sg.bind(null,o,f,e),[e]),o.flags|=2048,Sa(9,{destroy:void 0},rg.bind(null,o,f,r,n),null),r},useId:function(){var e=rn(),n=ne.identifierPrefix;if(Pt){var r=bi,o=Ti;r=(o&~(1<<32-de(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=ju++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=ub++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Tf,useFormState:mg,useActionState:mg,useOptimistic:function(e){var n=rn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=bf.bind(null,It,!0,r),r.dispatch=n,[e,n]},useMemoCache:ff,useCacheRefresh:function(){return rn().memoizedState=pb.bind(null,It)},useEffectEvent:function(e){var n=rn(),r={impl:e};return n.memoizedState=r,function(){if((Gt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Af={readContext:He,use:qu,useCallback:wg,useContext:He,useEffect:yf,useImperativeHandle:Sg,useInsertionEffect:Tg,useLayoutEffect:bg,useMemo:Rg,useReducer:Hu,useRef:_g,useState:function(){return Hu(Bi)},useDebugValue:_f,useDeferredValue:function(e,n){var r=ge();return Ig(r,Wt.memoizedState,e,n)},useTransition:function(){var e=Hu(Bi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:$o(e),n]},useSyncExternalStore:ng,useId:Dg,useHostTransitionStatus:Tf,useFormState:pg,useActionState:pg,useOptimistic:function(e,n){var r=ge();return lg(r,Wt,e,n)},useMemoCache:ff,useCacheRefresh:Og};Af.useEffectEvent=Eg;var Lg={readContext:He,use:qu,useCallback:wg,useContext:He,useEffect:yf,useImperativeHandle:Sg,useInsertionEffect:Tg,useLayoutEffect:bg,useMemo:Rg,useReducer:mf,useRef:_g,useState:function(){return mf(Bi)},useDebugValue:_f,useDeferredValue:function(e,n){var r=ge();return Wt===null?vf(r,e,n):Ig(r,Wt.memoizedState,e,n)},useTransition:function(){var e=mf(Bi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:$o(e),n]},useSyncExternalStore:ng,useId:Dg,useHostTransitionStatus:Tf,useFormState:yg,useActionState:yg,useOptimistic:function(e,n){var r=ge();return Wt!==null?lg(r,Wt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:ff,useCacheRefresh:Og};Lg.useEffectEvent=Eg;function Sf(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:S({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var wf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=bn(),h=br(o);h.payload=n,r!=null&&(h.callback=r),n=Ar(e,h,o),n!==null&&(hn(n,e,o),Qo(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=bn(),h=br(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Ar(e,h,o),n!==null&&(hn(n,e,o),Qo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=bn(),o=br(r);o.tag=2,n!=null&&(o.callback=n),n=Ar(e,o,r),n!==null&&(hn(n,e,r),Qo(n,e,r))}};function Pg(e,n,r,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Po(r,o)||!Po(h,f):!0}function zg(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&wf.enqueueReplaceState(n,n.state,null)}function Ds(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=S({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function jg(e){Su(e)}function Bg(e){console.error(e)}function qg(e){Su(e)}function Yu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Hg(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Rf(e,n,r){return r=br(r),r.tag=3,r.payload={element:null},r.callback=function(){Yu(e,n)},r}function Gg(e){return e=br(e),e.tag=3,e}function Fg(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Hg(n,r,o)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Hg(n,r,o),typeof h!="function"&&(Nr===null?Nr=new Set([this]):Nr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function yb(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&ga(n,r,h,!0),r=_n.current,r!==null){switch(r.tag){case 31:case 13:return Mn===null?sc():r.alternate===null&&fe===0&&(fe=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Mu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Jf(e,o,h)),!1;case 22:return r.flags|=65536,o===Mu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Jf(e,o,h)),!1}throw Error(a(435,r.tag))}return Jf(e,o,h),sc(),!1}if(Pt)return n=_n.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Gh&&(e=Error(a(422),{cause:o}),Bo(xn(e,r)))):(o!==Gh&&(n=Error(a(423),{cause:o}),Bo(xn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=xn(o,r),h=Rf(e.stateNode,o,h),ef(e,h),fe!==4&&(fe=2)),!1;var f=Error(a(520),{cause:o});if(f=xn(f,r),al===null?al=[f]:al.push(f),fe!==4&&(fe=2),n===null)return!0;o=xn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Rf(r.stateNode,o,e),ef(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Nr===null||!Nr.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Gg(h),Fg(h,e,r,o),ef(r,h),!1}r=r.return}while(r!==null);return!1}var If=Error(a(461)),we=!1;function Ge(e,n,r,o){n.child=e===null?Xp(n,null,r,o):Ns(n,e.child,r,o)}function Qg(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return ws(n),o=lf(e,n,r,p,f,h),E=uf(),e!==null&&!we?(cf(e,n,h),qi(e,n,h)):(Pt&&E&&qh(n),n.flags|=1,Ge(e,n,o,h),n.child)}function Yg(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!zh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Kg(e,n,f,o,h)):(e=Cu(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!kf(e,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:Po,r(p,o)&&e.ref===n.ref)return qi(e,n,h)}return n.flags|=1,e=Ui(f,o),e.ref=n.ref,e.return=n,n.child=e}function Kg(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(Po(f,o)&&e.ref===n.ref)if(we=!1,n.pendingProps=o=f,kf(e,h))(e.flags&131072)!==0&&(we=!0);else return n.lanes=e.lanes,qi(e,n,h)}return Cf(e,n,r,o,h)}function Xg(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return $g(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ou(n,f!==null?f.cachePool:null),f!==null?Zp(n,f):rf(),Wp(n);else return o=n.lanes=536870912,$g(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Ou(n,f.cachePool),Zp(n,f),wr(),n.memoizedState=null):(e!==null&&Ou(n,null),rf(),wr());return Ge(e,n,h,r),n.child}function Wo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function $g(e,n,r,o,h){var f=Jh();return f=f===null?null:{parent:Ae._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Ou(n,null),rf(),Wp(n),e!==null&&ga(e,n,o,!0),n.childLanes=h,null}function Ku(e,n){return n=$u({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Jg(e,n,r){return Ns(n,e.child,null,r),e=Ku(n,n.pendingProps),e.flags|=2,vn(n),n.memoizedState=null,e}function _b(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Pt){if(o.mode==="hidden")return e=Ku(n,o),n.lanes=536870912,Wo(null,e);if(af(n),(e=re)?(e=u_(e,Vn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:yr!==null?{id:Ti,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},r=Mp(e),r.return=n,n.child=r,qe=n,re=null)):e=null,e===null)throw vr(n);return n.lanes=536870912,null}return Ku(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(af(n),h)if(n.flags&256)n.flags&=-257,n=Jg(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(we||ga(e,n,r,!1),h=(r&e.childLanes)!==0,we||h){if(o=ne,o!==null&&(p=Eo(o,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,Ts(e,p),hn(o,e,p),If;sc(),n=Jg(e,n,r)}else e=f.treeContext,re=kn(p.nextSibling),qe=n,Pt=!0,_r=null,Vn=!1,e!==null&&Lp(n,e),n=Ku(n,o),n.flags|=4096;return n}return e=Ui(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Xu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Cf(e,n,r,o,h){return ws(n),r=lf(e,n,r,o,void 0,h),o=uf(),e!==null&&!we?(cf(e,n,h),qi(e,n,h)):(Pt&&o&&qh(n),n.flags|=1,Ge(e,n,r,h),n.child)}function Zg(e,n,r,o,h,f){return ws(n),n.updateQueue=null,r=eg(n,o,r,h),tg(e),o=uf(),e!==null&&!we?(cf(e,n,f),qi(e,n,f)):(Pt&&o&&qh(n),n.flags|=1,Ge(e,n,r,f),n.child)}function Wg(e,n,r,o,h){if(ws(n),n.stateNode===null){var f=fa,p=r.contextType;typeof p=="object"&&p!==null&&(f=He(p)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=wf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Wh(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?He(p):fa,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Sf(n,r,p,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&wf.enqueueReplaceState(f,f.state,null),Ko(n,o,f,h),Yo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Ds(r,E);f.props=R;var P=f.context,G=r.contextType;p=fa,typeof G=="object"&&G!==null&&(p=He(G));var X=r.getDerivedStateFromProps;G=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==p)&&zg(n,f,o,p),Tr=!1;var z=n.memoizedState;f.state=z,Ko(n,o,f,h),Yo(),P=n.memoizedState,E||z!==P||Tr?(typeof X=="function"&&(Sf(n,r,X,o),P=n.memoizedState),(R=Tr||Pg(n,r,R,o,z,P,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=p,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,tf(e,n),p=n.memoizedProps,G=Ds(r,p),f.props=G,X=n.pendingProps,z=f.context,P=r.contextType,R=fa,typeof P=="object"&&P!==null&&(R=He(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==X||z!==R)&&zg(n,f,o,R),Tr=!1,z=n.memoizedState,f.state=z,Ko(n,o,f,h),Yo();var B=n.memoizedState;p!==X||z!==B||Tr||e!==null&&e.dependencies!==null&&xu(e.dependencies)?(typeof E=="function"&&(Sf(n,r,E,o),B=n.memoizedState),(G=Tr||Pg(n,r,G,o,z,B,R)||e!==null&&e.dependencies!==null&&xu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=R,o=G):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Xu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Ns(n,e.child,null,h),n.child=Ns(n,null,r,h)):Ge(e,n,r,h),n.memoizedState=f.state,e=n.child):e=qi(e,n,h),e}function ty(e,n,r,o){return As(),n.flags|=256,Ge(e,n,r,o),n.child}var Nf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xf(e){return{baseLanes:e,cachePool:Hp()}}function Df(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Tn),e}function ey(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(pe.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Pt){if(h?Sr(n):wr(),(e=re)?(e=u_(e,Vn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:yr!==null?{id:Ti,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},r=Mp(e),r.return=n,n.child=r,qe=n,re=null)):e=null,e===null)throw vr(n);return dd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(wr(),h=n.mode,E=$u({mode:"hidden",children:E},h),o=bs(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=xf(r),o.childLanes=Df(e,p,r),n.memoizedState=Nf,Wo(null,o)):(Sr(n),Of(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Sr(n),n.flags&=-257,n=Vf(e,n,r)):n.memoizedState!==null?(wr(),n.child=e.child,n.flags|=128,n=null):(wr(),E=o.fallback,h=n.mode,o=$u({mode:"visible",children:o.children},h),E=bs(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Ns(n,e.child,null,r),o=n.child,o.memoizedState=xf(r),o.childLanes=Df(e,p,r),n.memoizedState=Nf,n=Wo(null,o));else if(Sr(n),dd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var P=p.dgst;p=P,o=Error(a(419)),o.stack="",o.digest=p,Bo({value:o,source:null,stack:null}),n=Vf(e,n,r)}else if(we||ga(e,n,r,!1),p=(r&e.childLanes)!==0,we||p){if(p=ne,p!==null&&(o=Eo(p,r),o!==0&&o!==R.retryLane))throw R.retryLane=o,Ts(e,o),hn(p,e,o),If;fd(E)||sc(),n=Vf(e,n,r)}else fd(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,re=kn(E.nextSibling),qe=n,Pt=!0,_r=null,Vn=!1,e!==null&&Lp(n,e),n=Of(n,o.children),n.flags|=4096);return n}return h?(wr(),E=o.fallback,h=n.mode,R=e.child,P=R.sibling,o=Ui(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,P!==null?E=Ui(P,E):(E=bs(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Wo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=xf(r):(h=E.cachePool,h!==null?(R=Ae._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Hp(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=Df(e,p,r),n.memoizedState=Nf,Wo(e.child,o)):(Sr(n),r=e.child,e=r.sibling,r=Ui(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=r,n.memoizedState=null,r)}function Of(e,n){return n=$u({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function $u(e,n){return e=yn(22,e,null,n),e.lanes=0,e}function Vf(e,n,r){return Ns(n,e.child,null,r),e=Of(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ny(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Yh(e.return,n,r)}function Mf(e,n,r,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function iy(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=pe.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,et(pe,p),Ge(e,n,o,r),o=Pt?jo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ny(e,r,n);else if(e.tag===19)ny(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Pu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Mf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Pu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Mf(n,!0,r,null,f,o);break;case"together":Mf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function qi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Cr|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(ga(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Ui(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Ui(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function kf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&xu(e)))}function vb(e,n,r){switch(n.tag){case 3:F(n,n.stateNode.containerInfo),Er(n,Ae,e.memoizedState.cache),As();break;case 27:case 5:ze(n);break;case 4:F(n,n.stateNode.containerInfo);break;case 10:Er(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,af(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Sr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?ey(e,n,r):(Sr(n),e=qi(e,n,r),e!==null?e.sibling:null);Sr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(ga(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return iy(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(pe,pe.current),o)break;return null;case 22:return n.lanes=0,Xg(e,n,r,n.pendingProps);case 24:Er(n,Ae,e.memoizedState.cache)}return qi(e,n,r)}function ry(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)we=!0;else{if(!kf(e,r)&&(n.flags&128)===0)return we=!1,vb(e,n,r);we=(e.flags&131072)!==0}else we=!1,Pt&&(n.flags&1048576)!==0&&Up(n,jo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Is(n.elementType),n.type=e,typeof e=="function")zh(e)?(o=Ds(e,o),n.tag=1,n=Wg(null,n,e,o,r)):(n.tag=0,n=Cf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===Qt){n.tag=11,n=Qg(null,n,e,o,r);break t}else if(h===C){n.tag=14,n=Yg(null,n,e,o,r);break t}}throw n=Jt(e)||e,Error(a(306,n,""))}}return n;case 0:return Cf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Ds(o,n.pendingProps),Wg(e,n,o,h,r);case 3:t:{if(F(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,tf(e,n),Ko(n,o,null,r);var p=n.memoizedState;if(o=p.cache,Er(n,Ae,o),o!==f.cache&&Kh(n,[Ae],r,!0),Yo(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ty(e,n,o,r);break t}else if(o!==h){h=xn(Error(a(424)),n),Bo(h),n=ty(e,n,o,r);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,re=kn(e.firstChild),qe=n,Pt=!0,_r=null,Vn=!0,r=Xp(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(As(),o===h){n=qi(e,n,r);break t}Ge(e,n,o,r)}n=n.child}return n;case 26:return Xu(e,n),e===null?(r=p_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Pt||(r=n.type,e=n.pendingProps,o=fc(bt.current).createElement(r),o[Ee]=n,o[Me]=e,Fe(o,r,e),Te(o),n.stateNode=o):n.memoizedState=p_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ze(n),e===null&&Pt&&(o=n.stateNode=f_(n.type,n.pendingProps,bt.current),qe=n,Vn=!0,h=re,Vr(n.type)?(md=h,re=kn(o.firstChild)):re=h),Ge(e,n,n.pendingProps.children,r),Xu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Pt&&((h=o=re)&&(o=Xb(o,n.type,n.pendingProps,Vn),o!==null?(n.stateNode=o,qe=n,re=kn(o.firstChild),Vn=!1,h=!0):h=!1),h||vr(n)),ze(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,ud(h,f)?o=null:p!==null&&ud(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=lf(e,n,cb,null,null,r),ml._currentValue=h),Xu(e,n),Ge(e,n,o,r),n.child;case 6:return e===null&&Pt&&((e=r=re)&&(r=$b(r,n.pendingProps,Vn),r!==null?(n.stateNode=r,qe=n,re=null,e=!0):e=!1),e||vr(n)),null;case 13:return ey(e,n,r);case 4:return F(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Ns(n,null,o,r):Ge(e,n,o,r),n.child;case 11:return Qg(e,n,n.type,n.pendingProps,r);case 7:return Ge(e,n,n.pendingProps,r),n.child;case 8:return Ge(e,n,n.pendingProps.children,r),n.child;case 12:return Ge(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Er(n,n.type,o.value),Ge(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,ws(n),h=He(h),o=o(h),n.flags|=1,Ge(e,n,o,r),n.child;case 14:return Yg(e,n,n.type,n.pendingProps,r);case 15:return Kg(e,n,n.type,n.pendingProps,r);case 19:return iy(e,n,r);case 31:return _b(e,n,r);case 22:return Xg(e,n,r,n.pendingProps);case 24:return ws(n),o=He(Ae),e===null?(h=Jh(),h===null&&(h=ne,f=Xh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},Wh(n),Er(n,Ae,h)):((e.lanes&r)!==0&&(tf(e,n),Ko(n,null,null,r),Yo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Er(n,Ae,o)):(o=f.cache,Er(n,Ae,o),o!==h.cache&&Kh(n,[Ae],r,!0))),Ge(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Hi(e){e.flags|=4}function Uf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Dy())e.flags|=8192;else throw Cs=Mu,Zh}else e.flags&=-16777217}function sy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!E_(n))if(Dy())e.flags|=8192;else throw Cs=Mu,Zh}function Ju(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?iu():536870912,e.lanes|=n,Ca|=n)}function tl(e,n){if(!Pt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function se(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function Eb(e,n,r){var o=n.pendingProps;switch(Hh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(n),null;case 1:return se(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),zi(Ae),dt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(pa(n)?Hi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Fh())),se(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Hi(n),f!==null?(se(n),sy(n,f)):(se(n),Uf(n,h,null,o,r))):f?f!==e.memoizedState?(Hi(n),se(n),sy(n,f)):(se(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Hi(n),se(n),Uf(n,h,e,o,r)),null;case 27:if(Pn(n),r=bt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Hi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return se(n),null}e=st.current,pa(n)?Pp(n):(e=f_(h,o,r),n.stateNode=e,Hi(n))}return se(n),null;case 5:if(Pn(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Hi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return se(n),null}if(f=st.current,pa(n))Pp(n);else{var p=fc(bt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[Ee]=n,f[Me]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Fe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Hi(n)}}return se(n),Uf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Hi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=bt.current,pa(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=qe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ee]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||e_(e.nodeValue,r)),e||vr(n,!0)}else e=fc(e).createTextNode(o),e[Ee]=n,n.stateNode=e}return se(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=pa(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ee]=n}else As(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),e=!1}else r=Fh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(vn(n),n):(vn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return se(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=pa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ee]=n}else As(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),h=!1}else h=Fh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(vn(n),n):(vn(n),null)}return vn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Ju(n,n.updateQueue),se(n),null);case 4:return dt(),e===null&&rd(n.stateNode.containerInfo),se(n),null;case 10:return zi(n.type),se(n),null;case 19:if(K(pe),o=n.memoizedState,o===null)return se(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)tl(o,!1);else{if(fe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Pu(e),f!==null){for(n.flags|=128,tl(o,!1),e=f.updateQueue,n.updateQueue=e,Ju(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Vp(r,e),r=r.sibling;return et(pe,pe.current&1|2),Pt&&Li(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&en()>nc&&(n.flags|=128,h=!0,tl(o,!1),n.lanes=4194304)}else{if(!h)if(e=Pu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Ju(n,e),tl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Pt)return se(n),null}else 2*en()-o.renderingStartTime>nc&&r!==536870912&&(n.flags|=128,h=!0,tl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=en(),e.sibling=null,r=pe.current,et(pe,h?r&1|2:r&1),Pt&&Li(n,o.treeForkCount),e):(se(n),null);case 22:case 23:return vn(n),sf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(se(n),n.subtreeFlags&6&&(n.flags|=8192)):se(n),r=n.updateQueue,r!==null&&Ju(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&K(Rs),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),zi(Ae),se(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function Tb(e,n){switch(Hh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return zi(Ae),dt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Pn(n),null;case 31:if(n.memoizedState!==null){if(vn(n),n.alternate===null)throw Error(a(340));As()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(vn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));As()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(pe),null;case 4:return dt(),null;case 10:return zi(n.type),null;case 22:case 23:return vn(n),sf(),e!==null&&K(Rs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return zi(Ae),null;case 25:return null;default:return null}}function ay(e,n){switch(Hh(n),n.tag){case 3:zi(Ae),dt();break;case 26:case 27:case 5:Pn(n);break;case 4:dt();break;case 31:n.memoizedState!==null&&vn(n);break;case 13:vn(n);break;case 19:K(pe);break;case 10:zi(n.type);break;case 22:case 23:vn(n),sf(),e!==null&&K(Rs);break;case 24:zi(Ae)}}function el(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,p=r.inst;o=f(),p.destroy=o}r=r.next}while(r!==h)}}catch(E){Xt(n,n.return,E)}}function Rr(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var R=r,P=E;try{P()}catch(G){Xt(h,R,G)}}}o=o.next}while(o!==f)}}catch(G){Xt(n,n.return,G)}}function oy(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Jp(n,r)}catch(o){Xt(e,e.return,o)}}}function ly(e,n,r){r.props=Ds(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Xt(e,n,o)}}function nl(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){Xt(e,n,h)}}function Ai(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Xt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Xt(e,n,h)}else r.current=null}function uy(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Xt(e,e.return,h)}}function Lf(e,n,r){try{var o=e.stateNode;Hb(o,e.type,r,n),o[Me]=n}catch(h){Xt(e,e.return,h)}}function cy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vr(e.type)||e.tag===4}function Pf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||cy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Hn));else if(o!==4&&(o===27&&Vr(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(zf(e,n,r),e=e.sibling;e!==null;)zf(e,n,r),e=e.sibling}function Zu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Vr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Zu(e,n,r),e=e.sibling;e!==null;)Zu(e,n,r),e=e.sibling}function hy(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Fe(n,o,r),n[Ee]=e,n[Me]=r}catch(f){Xt(e,e.return,f)}}var Gi=!1,Re=!1,jf=!1,fy=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function bb(e,n){if(e=e.containerInfo,od=vc,e=Sp(e),Oh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var p=0,E=-1,R=-1,P=0,G=0,X=e,z=null;e:for(;;){for(var B;X!==r||h!==0&&X.nodeType!==3||(E=p+h),X!==f||o!==0&&X.nodeType!==3||(R=p+o),X.nodeType===3&&(p+=X.nodeValue.length),(B=X.firstChild)!==null;)z=X,X=B;for(;;){if(X===e)break e;if(z===r&&++P===h&&(E=p),z===f&&++G===o&&(R=p),(B=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=B}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(ld={focusedElem:e,selectionRange:r},vc=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var ot=Ds(r.type,h);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(mt){Xt(r,r.return,mt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)hd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":hd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}}function dy(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Qi(e,r),o&4&&el(5,r);break;case 1:if(Qi(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(p){Xt(r,r.return,p)}else{var h=Ds(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Xt(r,r.return,p)}}o&64&&oy(r),o&512&&nl(r,r.return);break;case 3:if(Qi(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Jp(e,n)}catch(p){Xt(r,r.return,p)}}break;case 27:n===null&&o&4&&hy(r);case 26:case 5:Qi(e,r),n===null&&o&4&&uy(r),o&512&&nl(r,r.return);break;case 12:Qi(e,r);break;case 31:Qi(e,r),o&4&&gy(e,r);break;case 13:Qi(e,r),o&4&&yy(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=Db.bind(null,r),Jb(e,r))));break;case 22:if(o=r.memoizedState!==null||Gi,!o){n=n!==null&&n.memoizedState!==null||Re,h=Gi;var f=Re;Gi=o,(Re=n)&&!f?Yi(e,r,(r.subtreeFlags&8772)!==0):Qi(e,r),Gi=h,Re=f}break;case 30:break;default:Qi(e,r)}}function my(e){var n=e.alternate;n!==null&&(e.alternate=null,my(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Zs(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ue=null,on=!1;function Fi(e,n,r){for(r=r.child;r!==null;)py(e,n,r),r=r.sibling}function py(e,n,r){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(zn,r)}catch{}switch(r.tag){case 26:Re||Ai(r,n),Fi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Re||Ai(r,n);var o=ue,h=on;Vr(r.type)&&(ue=r.stateNode,on=!1),Fi(e,n,r),hl(r.stateNode),ue=o,on=h;break;case 5:Re||Ai(r,n);case 6:if(o=ue,h=on,ue=null,Fi(e,n,r),ue=o,on=h,ue!==null)if(on)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(r.stateNode)}catch(f){Xt(r,n,f)}else try{ue.removeChild(r.stateNode)}catch(f){Xt(r,n,f)}break;case 18:ue!==null&&(on?(e=ue,o_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Ua(e)):o_(ue,r.stateNode));break;case 4:o=ue,h=on,ue=r.stateNode.containerInfo,on=!0,Fi(e,n,r),ue=o,on=h;break;case 0:case 11:case 14:case 15:Rr(2,r,n),Re||Rr(4,r,n),Fi(e,n,r);break;case 1:Re||(Ai(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&ly(r,n,o)),Fi(e,n,r);break;case 21:Fi(e,n,r);break;case 22:Re=(o=Re)||r.memoizedState!==null,Fi(e,n,r),Re=o;break;default:Fi(e,n,r)}}function gy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ua(e)}catch(r){Xt(n,n.return,r)}}}function yy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ua(e)}catch(r){Xt(n,n.return,r)}}function Ab(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new fy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new fy),n;default:throw Error(a(435,e.tag))}}function Wu(e,n){var r=Ab(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=Ob.bind(null,e,o);o.then(h,h)}})}function ln(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Vr(E.type)){ue=E.stateNode,on=!1;break t}break;case 5:ue=E.stateNode,on=!1;break t;case 3:case 4:ue=E.stateNode.containerInfo,on=!0;break t}E=E.return}if(ue===null)throw Error(a(160));py(f,p,h),ue=null,on=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)_y(n,e),n=n.sibling}var Xn=null;function _y(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ln(n,e),un(e),o&4&&(Rr(3,e,e.return),el(3,e),Rr(5,e,e.return));break;case 1:ln(n,e),un(e),o&512&&(Re||r===null||Ai(r,r.return)),o&64&&Gi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=Xn;if(ln(n,e),un(e),o&512&&(Re||r===null||Ai(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ui]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Fe(f,o,r),f[Ee]=e,Te(f),o=f;break t;case"link":var p=__("link","href",h).get(o+(r.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,r),h.head.appendChild(f);break;case"meta":if(p=__("meta","content",h).get(o+(r.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ee]=e,Te(f),o=f}e.stateNode=o}else v_(h,e.type,e.stateNode);else e.stateNode=y_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?v_(h,e.type,e.stateNode):y_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Lf(e,e.memoizedProps,r.memoizedProps)}break;case 27:ln(n,e),un(e),o&512&&(Re||r===null||Ai(r,r.return)),r!==null&&o&4&&Lf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(ln(n,e),un(e),o&512&&(Re||r===null||Ai(r,r.return)),e.flags&32){h=e.stateNode;try{an(h,"")}catch(ot){Xt(e,e.return,ot)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Lf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(jf=!0);break;case 6:if(ln(n,e),un(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(ot){Xt(e,e.return,ot)}}break;case 3:if(pc=null,h=Xn,Xn=dc(n.containerInfo),ln(n,e),Xn=h,un(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Ua(n.containerInfo)}catch(ot){Xt(e,e.return,ot)}jf&&(jf=!1,vy(e));break;case 4:o=Xn,Xn=dc(e.stateNode.containerInfo),ln(n,e),un(e),Xn=o;break;case 12:ln(n,e),un(e);break;case 31:ln(n,e),un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Wu(e,o)));break;case 13:ln(n,e),un(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ec=en()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Wu(e,o)));break;case 22:h=e.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,P=Gi,G=Re;if(Gi=P||h,Re=G||R,ln(n,e),Re=G,Gi=P,un(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||R||Gi||Re||Os(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=R.stateNode;var X=R.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ot){Xt(R,R.return,ot)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(ot){Xt(R,R.return,ot)}}}else if(n.tag===18){if(r===null){R=n;try{var B=R.stateNode;h?l_(B,!0):l_(R.stateNode,!1)}catch(ot){Xt(R,R.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Wu(e,r))));break;case 19:ln(n,e),un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Wu(e,o)));break;case 30:break;case 21:break;default:ln(n,e),un(e)}}function un(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(cy(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Pf(e);Zu(e,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(an(p,""),r.flags&=-33);var E=Pf(e);Zu(e,E,p);break;case 3:case 4:var R=r.stateNode.containerInfo,P=Pf(e);zf(e,P,R);break;default:throw Error(a(161))}}catch(G){Xt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function vy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;vy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Qi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)dy(e,n.alternate,n),n=n.sibling}function Os(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Rr(4,n,n.return),Os(n);break;case 1:Ai(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&ly(n,n.return,r),Os(n);break;case 27:hl(n.stateNode);case 26:case 5:Ai(n,n.return),Os(n);break;case 22:n.memoizedState===null&&Os(n);break;case 30:Os(n);break;default:Os(n)}e=e.sibling}}function Yi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Yi(h,f,r),el(4,f);break;case 1:if(Yi(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Xt(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)$p(R[h],E)}catch(P){Xt(o,o.return,P)}}r&&p&64&&oy(f),nl(f,f.return);break;case 27:hy(f);case 26:case 5:Yi(h,f,r),r&&o===null&&p&4&&uy(f),nl(f,f.return);break;case 12:Yi(h,f,r);break;case 31:Yi(h,f,r),r&&p&4&&gy(h,f);break;case 13:Yi(h,f,r),r&&p&4&&yy(h,f);break;case 22:f.memoizedState===null&&Yi(h,f,r),nl(f,f.return);break;case 30:break;default:Yi(h,f,r)}n=n.sibling}}function Bf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&qo(r))}function qf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&qo(e))}function $n(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ey(e,n,r,o),n=n.sibling}function Ey(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:$n(e,n,r,o),h&2048&&el(9,n);break;case 1:$n(e,n,r,o);break;case 3:$n(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&qo(e)));break;case 12:if(h&2048){$n(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Xt(n,n.return,R)}}else $n(e,n,r,o);break;case 31:$n(e,n,r,o);break;case 13:$n(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?$n(e,n,r,o):il(e,n):f._visibility&2?$n(e,n,r,o):(f._visibility|=2,wa(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Bf(p,n);break;case 24:$n(e,n,r,o),h&2048&&qf(n.alternate,n);break;default:$n(e,n,r,o)}}function wa(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=r,R=o,P=p.flags;switch(p.tag){case 0:case 11:case 15:wa(f,p,E,R,h),el(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?wa(f,p,E,R,h):il(f,p):(G._visibility|=2,wa(f,p,E,R,h)),h&&P&2048&&Bf(p.alternate,p);break;case 24:wa(f,p,E,R,h),h&&P&2048&&qf(p.alternate,p);break;default:wa(f,p,E,R,h)}n=n.sibling}}function il(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:il(r,o),h&2048&&Bf(o.alternate,o);break;case 24:il(r,o),h&2048&&qf(o.alternate,o);break;default:il(r,o)}n=n.sibling}}var rl=8192;function Ra(e,n,r){if(e.subtreeFlags&rl)for(e=e.child;e!==null;)Ty(e,n,r),e=e.sibling}function Ty(e,n,r){switch(e.tag){case 26:Ra(e,n,r),e.flags&rl&&e.memoizedState!==null&&uA(r,Xn,e.memoizedState,e.memoizedProps);break;case 5:Ra(e,n,r);break;case 3:case 4:var o=Xn;Xn=dc(e.stateNode.containerInfo),Ra(e,n,r),Xn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=rl,rl=16777216,Ra(e,n,r),rl=o):Ra(e,n,r));break;default:Ra(e,n,r)}}function by(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function sl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ue=o,Sy(o,e)}by(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ay(e),e=e.sibling}function Ay(e){switch(e.tag){case 0:case 11:case 15:sl(e),e.flags&2048&&Rr(9,e,e.return);break;case 3:sl(e);break;case 12:sl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,tc(e)):sl(e);break;default:sl(e)}}function tc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ue=o,Sy(o,e)}by(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Rr(8,n,n.return),tc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,tc(n));break;default:tc(n)}e=e.sibling}}function Sy(e,n){for(;Ue!==null;){var r=Ue;switch(r.tag){case 0:case 11:case 15:Rr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:qo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Ue=o;else t:for(r=e;Ue!==null;){o=Ue;var h=o.sibling,f=o.return;if(my(o),o===r){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var Sb={getCacheForType:function(e){var n=He(Ae),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return He(Ae).controller.signal}},wb=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ne=null,Nt=null,Ot=0,Kt=0,En=null,Ir=!1,Ia=!1,Hf=!1,Ki=0,fe=0,Cr=0,Vs=0,Gf=0,Tn=0,Ca=0,al=null,cn=null,Ff=!1,ec=0,wy=0,nc=1/0,ic=null,Nr=null,Oe=0,xr=null,Na=null,Xi=0,Qf=0,Yf=null,Ry=null,ol=0,Kf=null;function bn(){return(Gt&2)!==0&&Ot!==0?Ot&-Ot:H.T!==null?td():ru()}function Iy(){if(Tn===0)if((Ot&536870912)===0||Pt){var e=as;as<<=1,(as&3932160)===0&&(as=262144),Tn=e}else Tn=536870912;return e=_n.current,e!==null&&(e.flags|=32),Tn}function hn(e,n,r){(e===ne&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(xa(e,0),Dr(e,Ot,Tn,!1)),os(e,r),((Gt&2)===0||e!==ne)&&(e===ne&&((Gt&2)===0&&(Vs|=r),fe===4&&Dr(e,Ot,Tn,!1)),Si(e))}function Cy(e,n,r){if((Gt&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||jn(e,n),h=o?Cb(e,n):$f(e,n,!0),f=o;do{if(h===0){Ia&&!o&&Dr(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!Rb(r)){h=$f(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=al;var R=E.current.memoizedState.isDehydrated;if(R&&(xa(E,p).flags|=256),p=$f(E,p,!1),p!==2){if(Hf&&!R){E.errorRecoveryDisabledLanes|=f,Vs|=f,h=4;break t}f=cn,cn=h,f!==null&&(cn===null?cn=f:cn.push.apply(cn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){xa(e,0),Dr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Dr(o,n,Tn,!Ir);break t;case 2:cn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ec+300-en(),10<h)){if(Dr(o,n,Tn,!Ir),ai(o,0,!0)!==0)break t;Xi=n,o.timeoutHandle=s_(Ny.bind(null,o,r,cn,ic,Ff,n,Tn,Vs,Ca,Ir,f,"Throttled",-0,0),h);break t}Ny(o,r,cn,ic,Ff,n,Tn,Vs,Ca,Ir,f,null,-0,0)}}break}while(!0);Si(e)}function Ny(e,n,r,o,h,f,p,E,R,P,G,X,z,B){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},Ty(n,f,X);var ot=(f&62914560)===f?ec-en():(f&4194048)===f?wy-en():0;if(ot=cA(X,ot),ot!==null){Xi=f,e.cancelPendingCommit=ot(Ly.bind(null,e,n,f,r,o,h,p,E,R,G,X,null,z,B)),Dr(e,f,p,!P);return}}Ly(e,n,f,r,o,h,p,E,R)}function Rb(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!gn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Dr(e,n,r,o){n&=~Gf,n&=~Vs,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-de(h),p=1<<f;o[f]=-1,h&=~p}r!==0&&ls(e,r,n)}function rc(){return(Gt&6)===0?(ll(0),!1):!0}function Xf(){if(Nt!==null){if(Kt===0)var e=Nt.return;else e=Nt,Pi=Ss=null,hf(e),Ea=null,Go=0,e=Nt;for(;e!==null;)ay(e.alternate,e),e=e.return;Nt=null}}function xa(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,Qb(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Xi=0,Xf(),ne=e,Nt=r=Ui(e.current,null),Ot=n,Kt=0,En=null,Ir=!1,Ia=jn(e,n),Hf=!1,Ca=Tn=Gf=Vs=Cr=fe=0,cn=al=null,Ff=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-de(o),f=1<<h;n|=e[h],o&=~f}return Ki=n,wu(),r}function xy(e,n){It=null,H.H=Zo,n===va||n===Vu?(n=Qp(),Kt=3):n===Zh?(n=Qp(),Kt=4):Kt=n===If?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,En=n,Nt===null&&(fe=1,Yu(e,xn(n,e.current)))}function Dy(){var e=_n.current;return e===null?!0:(Ot&4194048)===Ot?Mn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?e===Mn:!1}function Oy(){var e=H.H;return H.H=Zo,e===null?Zo:e}function Vy(){var e=H.A;return H.A=Sb,e}function sc(){fe=4,Ir||(Ot&4194048)!==Ot&&_n.current!==null||(Ia=!0),(Cr&134217727)===0&&(Vs&134217727)===0||ne===null||Dr(ne,Ot,Tn,!1)}function $f(e,n,r){var o=Gt;Gt|=2;var h=Oy(),f=Vy();(ne!==e||Ot!==n)&&(ic=null,xa(e,n)),n=!1;var p=fe;t:do try{if(Kt!==0&&Nt!==null){var E=Nt,R=En;switch(Kt){case 8:Xf(),p=6;break t;case 3:case 2:case 9:case 6:_n.current===null&&(n=!0);var P=Kt;if(Kt=0,En=null,Da(e,E,R,P),r&&Ia){p=0;break t}break;default:P=Kt,Kt=0,En=null,Da(e,E,R,P)}}Ib(),p=fe;break}catch(G){xy(e,G)}while(!0);return n&&e.shellSuspendCounter++,Pi=Ss=null,Gt=o,H.H=h,H.A=f,Nt===null&&(ne=null,Ot=0,wu()),p}function Ib(){for(;Nt!==null;)My(Nt)}function Cb(e,n){var r=Gt;Gt|=2;var o=Oy(),h=Vy();ne!==e||Ot!==n?(ic=null,nc=en()+500,xa(e,n)):Ia=jn(e,n);t:do try{if(Kt!==0&&Nt!==null){n=Nt;var f=En;e:switch(Kt){case 1:Kt=0,En=null,Da(e,n,f,1);break;case 2:case 9:if(Gp(f)){Kt=0,En=null,ky(n);break}n=function(){Kt!==2&&Kt!==9||ne!==e||(Kt=7),Si(e)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Gp(f)?(Kt=0,En=null,ky(n)):(Kt=0,En=null,Da(e,n,f,7));break;case 5:var p=null;switch(Nt.tag){case 26:p=Nt.memoizedState;case 5:case 27:var E=Nt;if(p?E_(p):E.stateNode.complete){Kt=0,En=null;var R=E.sibling;if(R!==null)Nt=R;else{var P=E.return;P!==null?(Nt=P,ac(P)):Nt=null}break e}}Kt=0,En=null,Da(e,n,f,5);break;case 6:Kt=0,En=null,Da(e,n,f,6);break;case 8:Xf(),fe=6;break t;default:throw Error(a(462))}}Nb();break}catch(G){xy(e,G)}while(!0);return Pi=Ss=null,H.H=o,H.A=h,Gt=r,Nt!==null?0:(ne=null,Ot=0,wu(),fe)}function Nb(){for(;Nt!==null&&!wh();)My(Nt)}function My(e){var n=ry(e.alternate,e,Ki);e.memoizedProps=e.pendingProps,n===null?ac(e):Nt=n}function ky(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Zg(r,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=Zg(r,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:hf(n);default:ay(r,n),n=Nt=Vp(n,Ki),n=ry(r,n,Ki)}e.memoizedProps=e.pendingProps,n===null?ac(e):Nt=n}function Da(e,n,r,o){Pi=Ss=null,hf(n),Ea=null,Go=0;var h=n.return;try{if(yb(e,h,n,r,Ot)){fe=1,Yu(e,xn(r,e.current)),Nt=null;return}}catch(f){if(h!==null)throw Nt=h,f;fe=1,Yu(e,xn(r,e.current)),Nt=null;return}n.flags&32768?(Pt||o===1?e=!0:Ia||(Ot&536870912)!==0?e=!1:(Ir=e=!0,(o===2||o===9||o===3||o===6)&&(o=_n.current,o!==null&&o.tag===13&&(o.flags|=16384))),Uy(n,e)):ac(n)}function ac(e){var n=e;do{if((n.flags&32768)!==0){Uy(n,Ir);return}e=n.return;var r=Eb(n.alternate,n,Ki);if(r!==null){Nt=r;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=e}while(n!==null);fe===0&&(fe=5)}function Uy(e,n){do{var r=Tb(e.alternate,e);if(r!==null){r.flags&=32767,Nt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=r}while(e!==null);fe=6,Nt=null}function Ly(e,n,r,o,h,f,p,E,R){e.cancelPendingCommit=null;do oc();while(Oe!==0);if((Gt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Lh,Ch(e,r,f,p,E,R),e===ne&&(Nt=ne=null,Ot=0),Na=n,xr=e,Xi=r,Qf=f,Yf=h,Ry=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Vb(or,function(){return qy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=W.p,W.p=2,p=Gt,Gt|=4;try{bb(e,n,r)}finally{Gt=p,W.p=h,H.T=o}}Oe=1,Py(),zy(),jy()}}function Py(){if(Oe===1){Oe=0;var e=xr,n=Na,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var o=W.p;W.p=2;var h=Gt;Gt|=4;try{_y(n,e);var f=ld,p=Sp(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Ap(E.ownerDocument.documentElement,E)){if(R!==null&&Oh(E)){var P=R.start,G=R.end;if(G===void 0&&(G=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(G,E.value.length);else{var X=E.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var B=z.getSelection(),ot=E.textContent.length,mt=Math.min(R.start,ot),ee=R.end===void 0?mt:Math.min(R.end,ot);!B.extend&&mt>ee&&(p=ee,ee=mt,mt=p);var M=bp(E,mt),N=bp(E,ee);if(M&&N&&(B.rangeCount!==1||B.anchorNode!==M.node||B.anchorOffset!==M.offset||B.focusNode!==N.node||B.focusOffset!==N.offset)){var L=X.createRange();L.setStart(M.node,M.offset),B.removeAllRanges(),mt>ee?(B.addRange(L),B.extend(N.node,N.offset)):(L.setEnd(N.node,N.offset),B.addRange(L))}}}}for(X=[],B=E;B=B.parentNode;)B.nodeType===1&&X.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Q=X[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}vc=!!od,ld=od=null}finally{Gt=h,W.p=o,H.T=r}}e.current=n,Oe=2}}function zy(){if(Oe===2){Oe=0;var e=xr,n=Na,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var o=W.p;W.p=2;var h=Gt;Gt|=4;try{dy(e,n.alternate,n)}finally{Gt=h,W.p=o,H.T=r}}Oe=3}}function jy(){if(Oe===4||Oe===3){Oe=0,Jl();var e=xr,n=Na,r=Xi,o=Ry;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,Na=xr=null,By(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Nr=null),Oi(r),n=n.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(zn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=W.p,W.p=2,H.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{H.T=n,W.p=h}}(Xi&3)!==0&&oc(),Si(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===Kf?ol++:(ol=0,Kf=e):ol=0,ll(0)}}function By(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,qo(n)))}function oc(){return Py(),zy(),jy(),qy()}function qy(){if(Oe!==5)return!1;var e=xr,n=Qf;Qf=0;var r=Oi(Xi),o=H.T,h=W.p;try{W.p=32>r?32:r,H.T=null,r=Yf,Yf=null;var f=xr,p=Xi;if(Oe=0,Na=xr=null,Xi=0,(Gt&6)!==0)throw Error(a(331));var E=Gt;if(Gt|=4,Ay(f.current),Ey(f,f.current,p,r),Gt=E,ll(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(zn,f)}catch{}return!0}finally{W.p=h,H.T=o,By(e,n)}}function Hy(e,n,r){n=xn(r,n),n=Rf(e.stateNode,n,2),e=Ar(e,n,2),e!==null&&(os(e,2),Si(e))}function Xt(e,n,r){if(e.tag===3)Hy(e,e,r);else for(;n!==null;){if(n.tag===3){Hy(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Nr===null||!Nr.has(o))){e=xn(r,e),r=Gg(2),o=Ar(n,r,2),o!==null&&(Fg(r,o,n,e),os(o,2),Si(o));break}}n=n.return}}function Jf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new wb;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Hf=!0,h.add(r),e=xb.bind(null,e,n,r),n.then(e,e))}function xb(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,ne===e&&(Ot&r)===r&&(fe===4||fe===3&&(Ot&62914560)===Ot&&300>en()-ec?(Gt&2)===0&&xa(e,0):Gf|=r,Ca===Ot&&(Ca=0)),Si(e)}function Gy(e,n){n===0&&(n=iu()),e=Ts(e,n),e!==null&&(os(e,n),Si(e))}function Db(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Gy(e,r)}function Ob(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Gy(e,r)}function Vb(e,n){return De(e,n)}var lc=null,Oa=null,Zf=!1,uc=!1,Wf=!1,Or=0;function Si(e){e!==Oa&&e.next===null&&(Oa===null?lc=Oa=e:Oa=Oa.next=e),uc=!0,Zf||(Zf=!0,kb())}function ll(e,n){if(!Wf&&uc){Wf=!0;do for(var r=!1,o=lc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-de(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Ky(o,f))}else f=Ot,f=ai(o,o===ne?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||jn(o,f)||(r=!0,Ky(o,f));o=o.next}while(r);Wf=!1}}function Mb(){Fy()}function Fy(){uc=Zf=!1;var e=0;Or!==0&&Fb()&&(e=Or);for(var n=en(),r=null,o=lc;o!==null;){var h=o.next,f=Qy(o,n);f===0?(o.next=null,r===null?lc=h:r.next=h,h===null&&(Oa=r)):(r=o,(e!==0||(f&3)!==0)&&(uc=!0)),o=h}Oe!==0&&Oe!==5||ll(e),Or!==0&&(Or=0)}function Qy(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-de(f),E=1<<p,R=h[p];R===-1?((E&r)===0||(E&o)!==0)&&(h[p]=Ih(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=ne,r=Ot,r=ai(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ar(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||jn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&ar(o),Oi(r)){case 2:case 8:r=_o;break;case 32:r=or;break;case 268435456:r=Zl;break;default:r=or}return o=Yy.bind(null,e),r=De(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&ar(o),e.callbackPriority=2,e.callbackNode=null,2}function Yy(e,n){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(oc()&&e.callbackNode!==r)return null;var o=Ot;return o=ai(e,e===ne?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Cy(e,o,n),Qy(e,en()),e.callbackNode!=null&&e.callbackNode===r?Yy.bind(null,e):null)}function Ky(e,n){if(oc())return null;Cy(e,n,!0)}function kb(){Yb(function(){(Gt&6)!==0?De(yo,Mb):Fy()})}function td(){if(Or===0){var e=ya;e===0&&(e=ri,ri<<=1,(ri&261888)===0&&(ri=256)),Or=e}return Or}function Xy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:na(""+e)}function $y(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function Ub(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=Xy((h[Me]||null).action),p=o.submitter;p&&(n=(n=p[Me]||null)?Xy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new yi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Or!==0){var R=p?$y(h,p):new FormData(h);Ef(r,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=p?$y(h,p):new FormData(h),Ef(r,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var ed=0;ed<Uh.length;ed++){var nd=Uh[ed],Lb=nd.toLowerCase(),Pb=nd[0].toUpperCase()+nd.slice(1);Kn(Lb,"on"+Pb)}Kn(Ip,"onAnimationEnd"),Kn(Cp,"onAnimationIteration"),Kn(Np,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(tb,"onTransitionRun"),Kn(eb,"onTransitionStart"),Kn(nb,"onTransitionCancel"),Kn(xp,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ul));function Jy(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],R=E.instance,P=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(G){Su(G)}h.currentTarget=null,f=R}else for(p=0;p<o.length;p++){if(E=o[p],R=E.instance,P=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(G){Su(G)}h.currentTarget=null,f=R}}}}function xt(e,n){var r=n[Js];r===void 0&&(r=n[Js]=new Set);var o=e+"__bubble";r.has(o)||(Zy(n,e,2,!1),r.add(o))}function id(e,n,r){var o=0;n&&(o|=4),Zy(r,e,o,n)}var cc="_reactListening"+Math.random().toString(36).slice(2);function rd(e){if(!e[cc]){e[cc]=!0,To.forEach(function(r){r!=="selectionchange"&&(zb.has(r)||id(r,!1,e),id(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[cc]||(n[cc]=!0,id("selectionchange",!1,n))}}function Zy(e,n,r,o){switch(I_(n)){case 2:var h=dA;break;case 8:h=mA;break;default:h=vd}r=h.bind(null,n,r,e),h=void 0,!ds||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function sd(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=ci(E),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){o=f=p;continue t}E=E.parentNode}}o=o.return}dr(function(){var P=f,G=Rn(r),X=[];t:{var z=Dp.get(e);if(z!==void 0){var B=yi,ot=e;switch(e){case"keypress":if(ps(r)===0)break t;case"keydown":case"keyup":B=Tu;break;case"focusin":ot="focus",B=ys;break;case"focusout":ot="blur",B=ys;break;case"beforeblur":case"afterblur":B=ys;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Mo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=m;break;case Ip:case Cp:case Np:B=mu;break;case xp:B=b;break;case"scroll":case"scrollend":B=Vo;break;case"wheel":B=j;break;case"copy":case"cut":case"paste":B=pu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=ki;break;case"toggle":case"beforetoggle":B=Rt}var mt=(n&4)!==0,ee=!mt&&(e==="scroll"||e==="scrollend"),M=mt?z!==null?z+"Capture":null:z;mt=[];for(var N=P,L;N!==null;){var Q=N;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||M===null||(Q=Gn(N,M),Q!=null&&mt.push(cl(N,Q,L))),ee)break;N=N.return}0<mt.length&&(z=new B(z,ot,null,r,G),X.push({event:z,listeners:mt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&r!==xo&&(ot=r.relatedTarget||r.fromElement)&&(ci(ot)||ot[li]))break t;if((B||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,B?(ot=r.relatedTarget||r.toElement,B=P,ot=ot?ci(ot):null,ot!==null&&(ee=c(ot),mt=ot.tag,ot!==ee||mt!==5&&mt!==27&&mt!==6)&&(ot=null)):(B=null,ot=P),B!==ot)){if(mt=Mo,Q="onMouseLeave",M="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(mt=ki,Q="onPointerLeave",M="onPointerEnter",N="pointer"),ee=B==null?z:mn(B),L=ot==null?z:mn(ot),z=new mt(Q,N+"leave",B,r,G),z.target=ee,z.relatedTarget=L,Q=null,ci(G)===P&&(mt=new mt(M,N+"enter",ot,r,G),mt.target=L,mt.relatedTarget=ee,Q=mt),ee=Q,B&&ot)e:{for(mt=jb,M=B,N=ot,L=0,Q=M;Q;Q=mt(Q))L++;Q=0;for(var ht=N;ht;ht=mt(ht))Q++;for(;0<L-Q;)M=mt(M),L--;for(;0<Q-L;)N=mt(N),Q--;for(;L--;){if(M===N||N!==null&&M===N.alternate){mt=M;break e}M=mt(M),N=mt(N)}mt=null}else mt=null;B!==null&&Wy(X,z,B,mt,!1),ot!==null&&ee!==null&&Wy(X,ee,ot,mt,!0)}}t:{if(z=P?mn(P):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var jt=gp;else if(mp(z))if(yp)jt=JT;else{jt=XT;var ut=KT}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&ea(P.elementType)&&(jt=gp):jt=$T;if(jt&&(jt=jt(e,P))){pp(X,jt,r,G);break t}ut&&ut(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&Io(z,"number",z.value)}switch(ut=P?mn(P):window,e){case"focusin":(mp(ut)||ut.contentEditable==="true")&&(ua=ut,Vh=P,zo=null);break;case"focusout":zo=Vh=ua=null;break;case"mousedown":Mh=!0;break;case"contextmenu":case"mouseup":case"dragend":Mh=!1,wp(X,r,G);break;case"selectionchange":if(WT)break;case"keydown":case"keyup":wp(X,r,G)}var Ct;if(Ht)t:{switch(e){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else la?_s(e,r)&&(Vt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Vt="onCompositionStart");Vt&&(Ei&&r.locale!=="ko"&&(la||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&la&&(Ct=Oo()):(gi=G,Do="value"in gi?gi.value:gi.textContent,la=!0)),ut=hc(P,Vt),0<ut.length&&(Vt=new vi(Vt,e,null,r,G),X.push({event:Vt,listeners:ut}),Ct?Vt.data=Ct:(Ct=oa(r),Ct!==null&&(Vt.data=Ct)))),(Ct=Cn?GT(e,r):FT(e,r))&&(Vt=hc(P,"onBeforeInput"),0<Vt.length&&(ut=new vi("onBeforeInput","beforeinput",null,r,G),X.push({event:ut,listeners:Vt}),ut.data=Ct)),Ub(X,e,P,r,G)}Jy(X,n)})}function cl(e,n,r){return{instance:e,listener:n,currentTarget:r}}function hc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Gn(e,r),h!=null&&o.unshift(cl(e,h,f)),h=Gn(e,n),h!=null&&o.push(cl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function jb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Wy(e,n,r,o,h){for(var f=n._reactName,p=[];r!==null&&r!==o;){var E=r,R=E.alternate,P=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||P===null||(R=P,h?(P=Gn(r,f),P!=null&&p.unshift(cl(r,P,R))):h||(P=Gn(r,f),P!=null&&p.push(cl(r,P,R)))),r=r.return}p.length!==0&&e.push({event:n,listeners:p})}var Bb=/\r\n?/g,qb=/\u0000|\uFFFD/g;function t_(e){return(typeof e=="string"?e:""+e).replace(Bb,`
`).replace(qb,"")}function e_(e,n){return n=t_(n),t_(e)===n}function te(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||an(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&an(e,""+o);break;case"className":pn(e,"class",o);break;case"tabIndex":pn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(e,r,o);break;case"style":No(e,o,f);break;case"data":if(n!=="object"){pn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=na(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&te(e,n,"name",h.name,h,null),te(e,n,"formEncType",h.formEncType,h,null),te(e,n,"formMethod",h.formMethod,h,null),te(e,n,"formTarget",h.formTarget,h,null)):(te(e,n,"encType",h.encType,h,null),te(e,n,"method",h.method,h,null),te(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=na(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Hn);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=na(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":xt("beforetoggle",e),xt("toggle",e),Ws(e,"popover",o);break;case"xlinkActuate":be(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":be(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":be(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":be(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":be(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":be(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":be(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":be(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":be(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ws(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=hu.get(r)||r,Ws(e,r,o))}}function ad(e,n,r,o,h,f){switch(r){case"style":No(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?an(e,o):(typeof o=="number"||typeof o=="bigint")&&an(e,""+o);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bo.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Me]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):Ws(e,r,o)}}}function Fe(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",e),xt("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:te(e,n,f,p,r,null)}}h&&te(e,n,"srcSet",r.srcSet,r,null),o&&te(e,n,"src",r.src,r,null);return;case"input":xt("invalid",e);var E=f=p=h=null,R=null,P=null;for(o in r)if(r.hasOwnProperty(o)){var G=r[o];if(G!=null)switch(o){case"name":h=G;break;case"type":p=G;break;case"checked":R=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:te(e,n,o,G,r,null)}}lu(e,f,E,R,P,p,h,!1);return;case"select":xt("invalid",e),o=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:te(e,n,h,E,r,null)}n=f,r=p,e.multiple=!!o,n!=null?ur(e,!!o,n,!1):r!=null&&ur(e,!!o,r,!0);return;case"textarea":xt("invalid",e),f=h=o=null;for(p in r)if(r.hasOwnProperty(p)&&(E=r[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:te(e,n,p,E,r,null)}cr(e,o,h,f);return;case"option":for(R in r)r.hasOwnProperty(R)&&(o=r[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":te(e,n,R,o,r,null));return;case"dialog":xt("beforetoggle",e),xt("toggle",e),xt("cancel",e),xt("close",e);break;case"iframe":case"object":xt("load",e);break;case"video":case"audio":for(o=0;o<ul.length;o++)xt(ul[o],e);break;case"image":xt("error",e),xt("load",e);break;case"details":xt("toggle",e);break;case"embed":case"source":case"link":xt("error",e),xt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(o=r[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:te(e,n,P,o,r,null)}return;default:if(ea(n)){for(G in r)r.hasOwnProperty(G)&&(o=r[G],o!==void 0&&ad(e,n,G,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&te(e,n,E,o,r,null))}function Hb(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,R=null,P=null,G=null;for(B in r){var X=r[B];if(r.hasOwnProperty(B)&&X!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":R=X;default:o.hasOwnProperty(B)||te(e,n,B,null,o,X)}}for(var z in o){var B=o[z];if(X=r[z],o.hasOwnProperty(z)&&(B!=null||X!=null))switch(z){case"type":f=B;break;case"name":h=B;break;case"checked":P=B;break;case"defaultChecked":G=B;break;case"value":p=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:B!==X&&te(e,n,z,B,o,X)}}ta(e,p,E,R,P,G,f,h);return;case"select":B=p=E=z=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":B=R;default:o.hasOwnProperty(f)||te(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=r[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==R&&te(e,n,h,f,o,R)}n=E,r=p,o=B,z!=null?ur(e,!!r,z,!1):!!o!=!!r&&(n!=null?ur(e,!!r,n,!0):ur(e,!!r,r?[]:"",!1));return;case"textarea":B=z=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:te(e,n,E,null,o,h)}for(p in o)if(h=o[p],f=r[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&te(e,n,p,h,o,f)}uu(e,z,B);return;case"option":for(var ot in r)z=r[ot],r.hasOwnProperty(ot)&&z!=null&&!o.hasOwnProperty(ot)&&(ot==="selected"?e.selected=!1:te(e,n,ot,null,o,z));for(R in o)z=o[R],B=r[R],o.hasOwnProperty(R)&&z!==B&&(z!=null||B!=null)&&(R==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":te(e,n,R,z,o,B));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in r)z=r[mt],r.hasOwnProperty(mt)&&z!=null&&!o.hasOwnProperty(mt)&&te(e,n,mt,null,o,z);for(P in o)if(z=o[P],B=r[P],o.hasOwnProperty(P)&&z!==B&&(z!=null||B!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:te(e,n,P,z,o,B)}return;default:if(ea(n)){for(var ee in r)z=r[ee],r.hasOwnProperty(ee)&&z!==void 0&&!o.hasOwnProperty(ee)&&ad(e,n,ee,void 0,o,z);for(G in o)z=o[G],B=r[G],!o.hasOwnProperty(G)||z===B||z===void 0&&B===void 0||ad(e,n,G,z,o,B);return}}for(var M in r)z=r[M],r.hasOwnProperty(M)&&z!=null&&!o.hasOwnProperty(M)&&te(e,n,M,null,o,z);for(X in o)z=o[X],B=r[X],!o.hasOwnProperty(X)||z===B||z==null&&B==null||te(e,n,X,z,o,B)}function n_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Gb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&n_(p)){for(p=0,E=h.responseEnd,o+=1;o<r.length;o++){var R=r[o],P=R.startTime;if(P>E)break;var G=R.transferSize,X=R.initiatorType;G&&n_(X)&&(R=R.responseEnd,p+=G*(R<E?1:(E-P)/(R-P)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var od=null,ld=null;function fc(e){return e.nodeType===9?e:e.ownerDocument}function i_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function r_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function ud(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var cd=null;function Fb(){var e=window.event;return e&&e.type==="popstate"?e===cd?!1:(cd=e,!0):(cd=null,!1)}var s_=typeof setTimeout=="function"?setTimeout:void 0,Qb=typeof clearTimeout=="function"?clearTimeout:void 0,a_=typeof Promise=="function"?Promise:void 0,Yb=typeof queueMicrotask=="function"?queueMicrotask:typeof a_<"u"?function(e){return a_.resolve(null).then(e).catch(Kb)}:s_;function Kb(e){setTimeout(function(){throw e})}function Vr(e){return e==="head"}function o_(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),Ua(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")hl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,hl(r);for(var f=r.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[ui]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&hl(e.ownerDocument.body);r=h}while(r);Ua(n)}function l_(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function hd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":hd(r),Zs(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function Xb(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ui])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=kn(e.nextSibling),e===null)break}return null}function $b(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=kn(e.nextSibling),e===null))return null;return e}function u_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=kn(e.nextSibling),e===null))return null;return e}function fd(e){return e.data==="$?"||e.data==="$~"}function dd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Jb(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function kn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var md=null;function c_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return kn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function h_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function f_(e,n,r){switch(n=fc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function hl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Zs(e)}var Un=new Map,d_=new Set;function dc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var $i=W.d;W.d={f:Zb,r:Wb,D:tA,C:eA,L:nA,m:iA,X:sA,S:rA,M:aA};function Zb(){var e=$i.f(),n=rc();return e||n}function Wb(e){var n=wn(e);n!==null&&n.tag===5&&n.type==="form"?xg(n):$i.r(e)}var Va=typeof document>"u"?null:document;function m_(e,n,r){var o=Va;if(o&&typeof n=="string"&&n){var h=sn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),d_.has(h)||(d_.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Fe(n,"link",e),Te(n),o.head.appendChild(n)))}}function tA(e){$i.D(e),m_("dns-prefetch",e,null)}function eA(e,n){$i.C(e,n),m_("preconnect",e,n)}function nA(e,n,r){$i.L(e,n,r);var o=Va;if(o&&e&&n){var h='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+sn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+sn(r.imageSizes)+'"]')):h+='[href="'+sn(e)+'"]';var f=h;switch(n){case"style":f=Ma(e);break;case"script":f=ka(e)}Un.has(f)||(e=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Un.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(fl(f))||n==="script"&&o.querySelector(dl(f))||(n=o.createElement("link"),Fe(n,"link",e),Te(n),o.head.appendChild(n)))}}function iA(e,n){$i.m(e,n);var r=Va;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+sn(o)+'"][href="'+sn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ka(e)}if(!Un.has(f)&&(e=S({rel:"modulepreload",href:e},n),Un.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(dl(f)))return}o=r.createElement("link"),Fe(o,"link",e),Te(o),r.head.appendChild(o)}}}function rA(e,n,r){$i.S(e,n,r);var o=Va;if(o&&e){var h=hi(o).hoistableStyles,f=Ma(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(fl(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Un.get(f))&&pd(e,r);var R=p=o.createElement("link");Te(R),Fe(R,"link",e),R._p=new Promise(function(P,G){R.onload=P,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,mc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function sA(e,n){$i.X(e,n);var r=Va;if(r&&e){var o=hi(r).hoistableScripts,h=ka(e),f=o.get(h);f||(f=r.querySelector(dl(h)),f||(e=S({src:e,async:!0},n),(n=Un.get(h))&&gd(e,n),f=r.createElement("script"),Te(f),Fe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function aA(e,n){$i.M(e,n);var r=Va;if(r&&e){var o=hi(r).hoistableScripts,h=ka(e),f=o.get(h);f||(f=r.querySelector(dl(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Un.get(h))&&gd(e,n),f=r.createElement("script"),Te(f),Fe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function p_(e,n,r,o){var h=(h=bt.current)?dc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ma(r.href),r=hi(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Ma(r.href);var f=hi(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(fl(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Un.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Un.set(e,r),f||oA(h,e,r,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ka(r),r=hi(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ma(e){return'href="'+sn(e)+'"'}function fl(e){return'link[rel="stylesheet"]['+e+"]"}function g_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function oA(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Fe(n,"link",r),Te(n),e.head.appendChild(n))}function ka(e){return'[src="'+sn(e)+'"]'}function dl(e){return"script[async]"+e}function y_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+sn(r.href)+'"]');if(o)return n.instance=o,Te(o),o;var h=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Te(o),Fe(o,"style",h),mc(o,r.precedence,e),n.instance=o;case"stylesheet":h=Ma(r.href);var f=e.querySelector(fl(h));if(f)return n.state.loading|=4,n.instance=f,Te(f),f;o=g_(r),(h=Un.get(h))&&pd(o,h),f=(e.ownerDocument||e).createElement("link"),Te(f);var p=f;return p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),Fe(f,"link",o),n.state.loading|=4,mc(f,r.precedence,e),n.instance=f;case"script":return f=ka(r.src),(h=e.querySelector(dl(f)))?(n.instance=h,Te(h),h):(o=r,(h=Un.get(f))&&(o=S({},r),gd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Te(h),Fe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,mc(o,r.precedence,e));return n.instance}function mc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function pd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function gd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var pc=null;function __(e,n,r){if(pc===null){var o=new Map,h=pc=new Map;h.set(r,o)}else h=pc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[ui]||f[Ee]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function v_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function lA(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function E_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function uA(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ma(o.href),f=n.querySelector(fl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=gc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,Te(f);return}f=n.ownerDocument||n,o=g_(o),(h=Un.get(h))&&pd(o,h),f=f.createElement("link"),Te(f);var p=f;p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),Fe(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=gc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var yd=0;function cA(e,n){return e.stylesheets&&e.count===0&&_c(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&_c(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&yd===0&&(yd=62500*Gb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&_c(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>yd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_c(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var yc=null;function _c(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,yc=new Map,n.forEach(hA,e),yc=null,gc.call(e))}function hA(e,n){if(!(n.state.loading&4)){var r=yc.get(e);if(r)var o=r.get(null);else{r=new Map,yc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),o=p)}o&&r.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||o,f===o&&r.set(null,h),r.set(p,h),this.count++,o=gc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ml={$$typeof:Et,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function fA(e,n,r,o,h,f,p,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function T_(e,n,r,o,h,f,p,E,R,P,G,X){return e=new fA(e,n,r,p,R,P,G,X,E),n=1,f===!0&&(n|=24),f=yn(3,null,null,n),e.current=f,f.stateNode=e,n=Xh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},Wh(f),e}function b_(e){return e?(e=fa,e):fa}function A_(e,n,r,o,h,f){h=b_(h),o.context===null?o.context=h:o.pendingContext=h,o=br(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Ar(e,o,n),r!==null&&(hn(r,e,n),Qo(r,e,n))}function S_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function _d(e,n){S_(e,n),(e=e.alternate)&&S_(e,n)}function w_(e){if(e.tag===13||e.tag===31){var n=Ts(e,67108864);n!==null&&hn(n,e,67108864),_d(e,67108864)}}function R_(e){if(e.tag===13||e.tag===31){var n=bn();n=us(n);var r=Ts(e,n);r!==null&&hn(r,e,n),_d(e,n)}}var vc=!0;function dA(e,n,r,o){var h=H.T;H.T=null;var f=W.p;try{W.p=2,vd(e,n,r,o)}finally{W.p=f,H.T=h}}function mA(e,n,r,o){var h=H.T;H.T=null;var f=W.p;try{W.p=8,vd(e,n,r,o)}finally{W.p=f,H.T=h}}function vd(e,n,r,o){if(vc){var h=Ed(o);if(h===null)sd(e,n,o,Ec,r),C_(e,o);else if(gA(h,e,n,r,o))o.stopPropagation();else if(C_(e,o),n&4&&-1<pA.indexOf(e)){for(;h!==null;){var f=wn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=si(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var R=1<<31-de(p);E.entanglements[1]|=R,p&=~R}Si(f),(Gt&6)===0&&(nc=en()+500,ll(0))}}break;case 31:case 13:E=Ts(f,2),E!==null&&hn(E,f,2),rc(),_d(f,2)}if(f=Ed(o),f===null&&sd(e,n,o,Ec,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else sd(e,n,o,null,r)}}function Ed(e){return e=Rn(e),Td(e)}var Ec=null;function Td(e){if(Ec=null,e=ci(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=g(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ec=e,null}function I_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ss()){case yo:return 2;case _o:return 8;case or:case Rh:return 32;case Zl:return 268435456;default:return 32}default:return 32}}var bd=!1,Mr=null,kr=null,Ur=null,pl=new Map,gl=new Map,Lr=[],pA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C_(e,n){switch(e){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":pl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(n.pointerId)}}function yl(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=wn(n),n!==null&&w_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function gA(e,n,r,o,h){switch(n){case"focusin":return Mr=yl(Mr,e,n,r,o,h),!0;case"dragenter":return kr=yl(kr,e,n,r,o,h),!0;case"mouseover":return Ur=yl(Ur,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return pl.set(f,yl(pl.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,gl.set(f,yl(gl.get(f)||null,e,n,r,o,h)),!0}return!1}function N_(e){var n=ci(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Bn(e.priority,function(){R_(r)});return}}else if(n===31){if(n=g(r),n!==null){e.blockedOn=n,Bn(e.priority,function(){R_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Ed(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);xo=o,r.target.dispatchEvent(o),xo=null}else return n=wn(r),n!==null&&w_(n),e.blockedOn=r,!1;n.shift()}return!0}function x_(e,n,r){Tc(e)&&r.delete(n)}function yA(){bd=!1,Mr!==null&&Tc(Mr)&&(Mr=null),kr!==null&&Tc(kr)&&(kr=null),Ur!==null&&Tc(Ur)&&(Ur=null),pl.forEach(x_),gl.forEach(x_)}function bc(e,n){e.blockedOn===n&&(e.blockedOn=null,bd||(bd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,yA)))}var Ac=null;function D_(e){Ac!==e&&(Ac=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ac===e&&(Ac=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Td(o||r)===null)continue;break}var f=wn(r);f!==null&&(e.splice(n,3),n-=3,Ef(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Ua(e){function n(R){return bc(R,e)}Mr!==null&&bc(Mr,e),kr!==null&&bc(kr,e),Ur!==null&&bc(Ur,e),pl.forEach(n),gl.forEach(n);for(var r=0;r<Lr.length;r++){var o=Lr[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Lr.length&&(r=Lr[0],r.blockedOn===null);)N_(r),r.blockedOn===null&&Lr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],p=h[Me]||null;if(typeof f=="function")p||D_(r);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Me]||null)E=p.formAction;else if(Td(h)!==null)continue}else E=p.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),D_(r)}}}function O_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ad(e){this._internalRoot=e}Sc.prototype.render=Ad.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=bn();A_(r,o,e,n,null,null)},Sc.prototype.unmount=Ad.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;A_(e.current,2,null,e,null,null),rc(),n[li]=null}};function Sc(e){this._internalRoot=e}Sc.prototype.unstable_scheduleHydration=function(e){if(e){var n=ru();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Lr.length&&n!==0&&n<Lr[r].priority;r++);Lr.splice(r,0,e),r===0&&N_(e)}};var V_=t.version;if(V_!=="19.2.3")throw Error(a(527,V_,"19.2.3"));W.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var _A={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{zn=wc.inject(_A),je=wc}catch{}}return vl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=jg,f=Bg,p=qg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=T_(e,1,!1,null,null,r,o,null,h,f,p,O_),e[li]=n.current,rd(e),new Ad(n)},vl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=jg,p=Bg,E=qg,R=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=T_(e,1,!0,n,r??null,o,h,R,f,p,E,O_),n.context=b_(null),r=n.current,o=bn(),o=us(o),h=br(o),h.callback=null,Ar(r,h,o),r=o,n.current.lanes=r,os(n,r),Si(n),e[li]=n.current,rd(e),new Sc(n)},vl.version="19.2.3",vl}var H_;function CA(){if(H_)return Rd.exports;H_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Rd.exports=IA(),Rd.exports}var NA=CA();const xA=()=>{};var G_={};const T0=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},DA=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],g=s[i++],v=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},b0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,v=l+2<s.length,y=v?s[l+2]:0,T=c>>2,S=(c&3)<<4|g>>4;let O=(g&15)<<2|y>>6,Y=y&63;v||(Y=64,d||(O=64)),a.push(i[T],i[S],i[O],i[Y])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(T0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):DA(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const S=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||g==null||y==null||S==null)throw new OA;const O=c<<2|g>>4;if(a.push(O),y!==64){const Y=g<<4&240|y>>2;if(a.push(Y),S!==64){const Z=y<<6&192|S;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class OA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VA=function(s){const t=T0(s);return b0.encodeByteArray(t,!0)},qc=function(s){return VA(s).replace(/\./g,"")},A0=function(s){try{return b0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function MA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const kA=()=>MA().__FIREBASE_DEFAULTS__,UA=()=>{if(typeof process>"u"||typeof G_>"u")return;const s=G_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},LA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&A0(s[1]);return t&&JSON.parse(t)},sh=()=>{try{return xA()||kA()||UA()||LA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},S0=s=>sh()?.emulatorHosts?.[s],PA=s=>{const t=S0(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},w0=()=>sh()?.config,R0=s=>sh()?.[`_${s}`];class zA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function so(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function I0(s){return(await fetch(s,{credentials:"include"})).ok}function jA(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[qc(JSON.stringify(i)),qc(JSON.stringify(d)),""].join(".")}const Rl={};function BA(){const s={prod:[],emulator:[]};for(const t of Object.keys(Rl))Rl[t]?s.emulator.push(t):s.prod.push(t);return s}function qA(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let F_=!1;function C0(s,t){if(typeof window>"u"||typeof document>"u"||!so(window.location.host)||Rl[s]===t||Rl[s]||F_)return;Rl[s]=t;function i(O){return`__firebase__banner__${O}`}const a="__firebase__banner",c=BA().prod.length>0;function d(){const O=document.getElementById(a);O&&O.remove()}function g(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function v(O,Y){O.setAttribute("width","24"),O.setAttribute("id",Y),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function y(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{F_=!0,d()},O}function T(O,Y){O.setAttribute("id",Y),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function S(){const O=qA(a),Y=i("text"),Z=document.getElementById(Y)||document.createElement("span"),it=i("learnmore"),nt=document.getElementById(it)||document.createElement("a"),pt=i("preprendIcon"),vt=document.getElementById(pt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const Et=O.element;g(Et),T(nt,it);const Qt=y();v(vt,pt),Et.append(vt,Z,nt,Qt),document.body.appendChild(Et)}c?(Z.innerText="Preview backend disconnected.",vt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(vt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",Y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function GA(){const s=sh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function YA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KA(){const s=We();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function XA(){return!GA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $A(){try{return typeof indexedDB=="object"}catch{return!1}}function JA(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const ZA="FirebaseError";class sr extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=ZA,Object.setPrototypeOf(this,sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bl.prototype.create)}}class Bl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?WA(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new sr(l,g,a)}}function WA(s,t){return s.replace(tS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const tS=/\{\$([^}]+)}/g;function eS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function tr(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(Q_(c)&&Q_(d)){if(!tr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function Q_(s){return s!==null&&typeof s=="object"}function ql(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function nS(s,t){const i=new iS(s,t);return i.subscribe.bind(i)}class iS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");rS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=xd),l.error===void 0&&(l.error=xd),l.complete===void 0&&(l.complete=xd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rS(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function xd(){}function Pe(s){return s&&s._delegate?s._delegate:s}class js{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ms="[DEFAULT]";class sS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new zA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(oS(t))try{this.getOrInitializeService({instanceIdentifier:Ms})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Ms){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ms){return this.instances.has(t)}getOptions(t=Ms){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:aS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Ms){return this.component?this.component.multipleInstances?t:Ms:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aS(s){return s===Ms?void 0:s}function oS(s){return s.instantiationMode==="EAGER"}class lS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new sS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Mt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Mt||(Mt={}));const uS={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},cS=Mt.INFO,hS={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},fS=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=hS[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ym{constructor(t){this.name=t,this._logLevel=cS,this._logHandler=fS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?uS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const dS=(s,t)=>t.some(i=>s instanceof i);let Y_,K_;function mS(){return Y_||(Y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pS(){return K_||(K_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const N0=new WeakMap,Gd=new WeakMap,x0=new WeakMap,Dd=new WeakMap,_m=new WeakMap;function gS(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Gr(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&N0.set(i,s)}).catch(()=>{}),_m.set(t,s),t}function yS(s){if(Gd.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Gd.set(s,t)}let Fd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Gd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||x0.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Gr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function _S(s){Fd=s(Fd)}function vS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Od(this),t,...i);return x0.set(a,t.sort?t.sort():[t]),Gr(a)}:pS().includes(s)?function(...t){return s.apply(Od(this),t),Gr(N0.get(this))}:function(...t){return Gr(s.apply(Od(this),t))}}function ES(s){return typeof s=="function"?vS(s):(s instanceof IDBTransaction&&yS(s),dS(s,mS())?new Proxy(s,Fd):s)}function Gr(s){if(s instanceof IDBRequest)return gS(s);if(Dd.has(s))return Dd.get(s);const t=ES(s);return t!==s&&(Dd.set(s,t),_m.set(t,s)),t}const Od=s=>_m.get(s);function TS(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),g=Gr(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Gr(d.result),v.oldVersion,v.newVersion,Gr(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{c&&v.addEventListener("close",()=>c()),l&&v.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const bS=["get","getKey","getAll","getAllKeys","count"],AS=["put","add","delete","clear"],Vd=new Map;function X_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Vd.get(t))return Vd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=AS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||bS.includes(i)))return;const c=async function(d,...g){const v=this.transaction(d,l?"readwrite":"readonly");let y=v.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),l&&v.done]))[0]};return Vd.set(t,c),c}_S(s=>({...s,get:(t,i,a)=>X_(t,i)||s.get(t,i,a),has:(t,i)=>!!X_(t,i)||s.has(t,i)}));class SS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(wS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function wS(s){return s.getComponent()?.type==="VERSION"}const Qd="@firebase/app",$_="0.14.7";const er=new ym("@firebase/app"),RS="@firebase/app-compat",IS="@firebase/analytics-compat",CS="@firebase/analytics",NS="@firebase/app-check-compat",xS="@firebase/app-check",DS="@firebase/auth",OS="@firebase/auth-compat",VS="@firebase/database",MS="@firebase/data-connect",kS="@firebase/database-compat",US="@firebase/functions",LS="@firebase/functions-compat",PS="@firebase/installations",zS="@firebase/installations-compat",jS="@firebase/messaging",BS="@firebase/messaging-compat",qS="@firebase/performance",HS="@firebase/performance-compat",GS="@firebase/remote-config",FS="@firebase/remote-config-compat",QS="@firebase/storage",YS="@firebase/storage-compat",KS="@firebase/firestore",XS="@firebase/ai",$S="@firebase/firestore-compat",JS="firebase",ZS="12.8.0";const Yd="[DEFAULT]",WS={[Qd]:"fire-core",[RS]:"fire-core-compat",[CS]:"fire-analytics",[IS]:"fire-analytics-compat",[xS]:"fire-app-check",[NS]:"fire-app-check-compat",[DS]:"fire-auth",[OS]:"fire-auth-compat",[VS]:"fire-rtdb",[MS]:"fire-data-connect",[kS]:"fire-rtdb-compat",[US]:"fire-fn",[LS]:"fire-fn-compat",[PS]:"fire-iid",[zS]:"fire-iid-compat",[jS]:"fire-fcm",[BS]:"fire-fcm-compat",[qS]:"fire-perf",[HS]:"fire-perf-compat",[GS]:"fire-rc",[FS]:"fire-rc-compat",[QS]:"fire-gcs",[YS]:"fire-gcs-compat",[KS]:"fire-fst",[$S]:"fire-fst-compat",[XS]:"fire-vertex","fire-js":"fire-js",[JS]:"fire-js-all"};const Hc=new Map,t1=new Map,Kd=new Map;function J_(s,t){try{s.container.addComponent(t)}catch(i){er.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Ya(s){const t=s.name;if(Kd.has(t))return er.debug(`There were multiple attempts to register component ${t}.`),!1;Kd.set(t,s);for(const i of Hc.values())J_(i,s);for(const i of t1.values())J_(i,s);return!0}function vm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Jn(s){return s==null?!1:s.settings!==void 0}const e1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fr=new Bl("app","Firebase",e1);class n1{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}const ao=ZS;function D0(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:Yd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Fr.create("bad-app-name",{appName:String(l)});if(i||(i=w0()),!i)throw Fr.create("no-options");const c=Hc.get(l);if(c){if(tr(i,c.options)&&tr(a,c.config))return c;throw Fr.create("duplicate-app",{appName:l})}const d=new lS(l);for(const v of Kd.values())d.addComponent(v);const g=new n1(i,a,d);return Hc.set(l,g),g}function O0(s=Yd){const t=Hc.get(s);if(!t&&s===Yd&&w0())return D0();if(!t)throw Fr.create("no-app",{appName:s});return t}function Qr(s,t,i){let a=WS[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),er.warn(d.join(" "));return}Ya(new js(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const i1="firebase-heartbeat-database",r1=1,Ol="firebase-heartbeat-store";let Md=null;function V0(){return Md||(Md=TS(i1,r1,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Ol)}catch(i){console.warn(i)}}}}).catch(s=>{throw Fr.create("idb-open",{originalErrorMessage:s.message})})),Md}async function s1(s){try{const i=(await V0()).transaction(Ol),a=await i.objectStore(Ol).get(M0(s));return await i.done,a}catch(t){if(t instanceof sr)er.warn(t.message);else{const i=Fr.create("idb-get",{originalErrorMessage:t?.message});er.warn(i.message)}}}async function Z_(s,t){try{const a=(await V0()).transaction(Ol,"readwrite");await a.objectStore(Ol).put(t,M0(s)),await a.done}catch(i){if(i instanceof sr)er.warn(i.message);else{const a=Fr.create("idb-set",{originalErrorMessage:i?.message});er.warn(a.message)}}}function M0(s){return`${s.name}!${s.options.appId}`}const a1=1024,o1=30;class l1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new c1(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=W_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>o1){const l=h1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){er.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=W_(),{heartbeatsToSend:i,unsentEntries:a}=u1(this._heartbeatsCache.heartbeats),l=qc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return er.warn(t),""}}}function W_(){return new Date().toISOString().substring(0,10)}function u1(s,t=a1){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),tv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),tv(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class c1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $A()?JA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await s1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Z_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Z_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function tv(s){return qc(JSON.stringify({version:2,heartbeats:s})).length}function h1(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function f1(s){Ya(new js("platform-logger",t=>new SS(t),"PRIVATE")),Ya(new js("heartbeat",t=>new l1(t),"PRIVATE")),Qr(Qd,$_,s),Qr(Qd,$_,"esm2020"),Qr("fire-js","")}f1("");var d1="firebase",m1="12.8.0";Qr(d1,m1,"app");var ev=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Yr,k0;(function(){var s;function t(C,A){function I(){}I.prototype=A.prototype,C.F=A.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(V,x,k){for(var w=Array(arguments.length-2),Jt=2;Jt<arguments.length;Jt++)w[Jt-2]=arguments[Jt];return A.prototype[x].apply(V,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,A,I){I||(I=0);const V=Array(16);if(typeof A=="string")for(var x=0;x<16;++x)V[x]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(x=0;x<16;++x)V[x]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=C.g[0],I=C.g[1],x=C.g[2];let k=C.g[3],w;w=A+(k^I&(x^k))+V[0]+3614090360&4294967295,A=I+(w<<7&4294967295|w>>>25),w=k+(x^A&(I^x))+V[1]+3905402710&4294967295,k=A+(w<<12&4294967295|w>>>20),w=x+(I^k&(A^I))+V[2]+606105819&4294967295,x=k+(w<<17&4294967295|w>>>15),w=I+(A^x&(k^A))+V[3]+3250441966&4294967295,I=x+(w<<22&4294967295|w>>>10),w=A+(k^I&(x^k))+V[4]+4118548399&4294967295,A=I+(w<<7&4294967295|w>>>25),w=k+(x^A&(I^x))+V[5]+1200080426&4294967295,k=A+(w<<12&4294967295|w>>>20),w=x+(I^k&(A^I))+V[6]+2821735955&4294967295,x=k+(w<<17&4294967295|w>>>15),w=I+(A^x&(k^A))+V[7]+4249261313&4294967295,I=x+(w<<22&4294967295|w>>>10),w=A+(k^I&(x^k))+V[8]+1770035416&4294967295,A=I+(w<<7&4294967295|w>>>25),w=k+(x^A&(I^x))+V[9]+2336552879&4294967295,k=A+(w<<12&4294967295|w>>>20),w=x+(I^k&(A^I))+V[10]+4294925233&4294967295,x=k+(w<<17&4294967295|w>>>15),w=I+(A^x&(k^A))+V[11]+2304563134&4294967295,I=x+(w<<22&4294967295|w>>>10),w=A+(k^I&(x^k))+V[12]+1804603682&4294967295,A=I+(w<<7&4294967295|w>>>25),w=k+(x^A&(I^x))+V[13]+4254626195&4294967295,k=A+(w<<12&4294967295|w>>>20),w=x+(I^k&(A^I))+V[14]+2792965006&4294967295,x=k+(w<<17&4294967295|w>>>15),w=I+(A^x&(k^A))+V[15]+1236535329&4294967295,I=x+(w<<22&4294967295|w>>>10),w=A+(x^k&(I^x))+V[1]+4129170786&4294967295,A=I+(w<<5&4294967295|w>>>27),w=k+(I^x&(A^I))+V[6]+3225465664&4294967295,k=A+(w<<9&4294967295|w>>>23),w=x+(A^I&(k^A))+V[11]+643717713&4294967295,x=k+(w<<14&4294967295|w>>>18),w=I+(k^A&(x^k))+V[0]+3921069994&4294967295,I=x+(w<<20&4294967295|w>>>12),w=A+(x^k&(I^x))+V[5]+3593408605&4294967295,A=I+(w<<5&4294967295|w>>>27),w=k+(I^x&(A^I))+V[10]+38016083&4294967295,k=A+(w<<9&4294967295|w>>>23),w=x+(A^I&(k^A))+V[15]+3634488961&4294967295,x=k+(w<<14&4294967295|w>>>18),w=I+(k^A&(x^k))+V[4]+3889429448&4294967295,I=x+(w<<20&4294967295|w>>>12),w=A+(x^k&(I^x))+V[9]+568446438&4294967295,A=I+(w<<5&4294967295|w>>>27),w=k+(I^x&(A^I))+V[14]+3275163606&4294967295,k=A+(w<<9&4294967295|w>>>23),w=x+(A^I&(k^A))+V[3]+4107603335&4294967295,x=k+(w<<14&4294967295|w>>>18),w=I+(k^A&(x^k))+V[8]+1163531501&4294967295,I=x+(w<<20&4294967295|w>>>12),w=A+(x^k&(I^x))+V[13]+2850285829&4294967295,A=I+(w<<5&4294967295|w>>>27),w=k+(I^x&(A^I))+V[2]+4243563512&4294967295,k=A+(w<<9&4294967295|w>>>23),w=x+(A^I&(k^A))+V[7]+1735328473&4294967295,x=k+(w<<14&4294967295|w>>>18),w=I+(k^A&(x^k))+V[12]+2368359562&4294967295,I=x+(w<<20&4294967295|w>>>12),w=A+(I^x^k)+V[5]+4294588738&4294967295,A=I+(w<<4&4294967295|w>>>28),w=k+(A^I^x)+V[8]+2272392833&4294967295,k=A+(w<<11&4294967295|w>>>21),w=x+(k^A^I)+V[11]+1839030562&4294967295,x=k+(w<<16&4294967295|w>>>16),w=I+(x^k^A)+V[14]+4259657740&4294967295,I=x+(w<<23&4294967295|w>>>9),w=A+(I^x^k)+V[1]+2763975236&4294967295,A=I+(w<<4&4294967295|w>>>28),w=k+(A^I^x)+V[4]+1272893353&4294967295,k=A+(w<<11&4294967295|w>>>21),w=x+(k^A^I)+V[7]+4139469664&4294967295,x=k+(w<<16&4294967295|w>>>16),w=I+(x^k^A)+V[10]+3200236656&4294967295,I=x+(w<<23&4294967295|w>>>9),w=A+(I^x^k)+V[13]+681279174&4294967295,A=I+(w<<4&4294967295|w>>>28),w=k+(A^I^x)+V[0]+3936430074&4294967295,k=A+(w<<11&4294967295|w>>>21),w=x+(k^A^I)+V[3]+3572445317&4294967295,x=k+(w<<16&4294967295|w>>>16),w=I+(x^k^A)+V[6]+76029189&4294967295,I=x+(w<<23&4294967295|w>>>9),w=A+(I^x^k)+V[9]+3654602809&4294967295,A=I+(w<<4&4294967295|w>>>28),w=k+(A^I^x)+V[12]+3873151461&4294967295,k=A+(w<<11&4294967295|w>>>21),w=x+(k^A^I)+V[15]+530742520&4294967295,x=k+(w<<16&4294967295|w>>>16),w=I+(x^k^A)+V[2]+3299628645&4294967295,I=x+(w<<23&4294967295|w>>>9),w=A+(x^(I|~k))+V[0]+4096336452&4294967295,A=I+(w<<6&4294967295|w>>>26),w=k+(I^(A|~x))+V[7]+1126891415&4294967295,k=A+(w<<10&4294967295|w>>>22),w=x+(A^(k|~I))+V[14]+2878612391&4294967295,x=k+(w<<15&4294967295|w>>>17),w=I+(k^(x|~A))+V[5]+4237533241&4294967295,I=x+(w<<21&4294967295|w>>>11),w=A+(x^(I|~k))+V[12]+1700485571&4294967295,A=I+(w<<6&4294967295|w>>>26),w=k+(I^(A|~x))+V[3]+2399980690&4294967295,k=A+(w<<10&4294967295|w>>>22),w=x+(A^(k|~I))+V[10]+4293915773&4294967295,x=k+(w<<15&4294967295|w>>>17),w=I+(k^(x|~A))+V[1]+2240044497&4294967295,I=x+(w<<21&4294967295|w>>>11),w=A+(x^(I|~k))+V[8]+1873313359&4294967295,A=I+(w<<6&4294967295|w>>>26),w=k+(I^(A|~x))+V[15]+4264355552&4294967295,k=A+(w<<10&4294967295|w>>>22),w=x+(A^(k|~I))+V[6]+2734768916&4294967295,x=k+(w<<15&4294967295|w>>>17),w=I+(k^(x|~A))+V[13]+1309151649&4294967295,I=x+(w<<21&4294967295|w>>>11),w=A+(x^(I|~k))+V[4]+4149444226&4294967295,A=I+(w<<6&4294967295|w>>>26),w=k+(I^(A|~x))+V[11]+3174756917&4294967295,k=A+(w<<10&4294967295|w>>>22),w=x+(A^(k|~I))+V[2]+718787259&4294967295,x=k+(w<<15&4294967295|w>>>17),w=I+(k^(x|~A))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(x+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+x&4294967295,C.g[3]=C.g[3]+k&4294967295}a.prototype.v=function(C,A){A===void 0&&(A=C.length);const I=A-this.blockSize,V=this.C;let x=this.h,k=0;for(;k<A;){if(x==0)for(;k<=I;)l(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<A;)if(V[x++]=C.charCodeAt(k++),x==this.blockSize){l(this,V),x=0;break}}else for(;k<A;)if(V[x++]=C[k++],x==this.blockSize){l(this,V),x=0;break}}this.h=x,this.o+=A},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)C[A++]=this.g[I]>>>V&255;return C};function c(C,A){var I=g;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=A(C)}function d(C,A){this.h=A;const I=[];let V=!0;for(let x=C.length-1;x>=0;x--){const k=C[x]|0;V&&k==A||(I[x]=k,V=!1)}this.g=I}var g={};function v(C){return-128<=C&&C<128?c(C,function(A){return new d([A|0],A<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return nt(y(-C));const A=[];let I=1;for(let V=0;C>=I;V++)A[V]=C/I|0,I*=4294967296;return new d(A,0)}function T(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return nt(T(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(A,8));let V=S;for(let k=0;k<C.length;k+=8){var x=Math.min(8,C.length-k);const w=parseInt(C.substring(k,k+x),A);x<8?(x=y(Math.pow(A,x)),V=V.j(x).add(y(w))):(V=V.j(I),V=V.add(y(w)))}return V}var S=v(0),O=v(1),Y=v(16777216);s=d.prototype,s.m=function(){if(it(this))return-nt(this).m();let C=0,A=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);C+=(V>=0?V:4294967296+V)*A,A*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(Z(this))return"0";if(it(this))return"-"+nt(this).toString(C);const A=y(Math.pow(C,6));var I=this;let V="";for(;;){const x=Qt(I,A).g;I=pt(I,x.j(A));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=x,Z(I))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function Z(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function it(C){return C.h==-1}s.l=function(C){return C=pt(this,C),it(C)?-1:Z(C)?0:1};function nt(C){const A=C.g.length,I=[];for(let V=0;V<A;V++)I[V]=~C.g[V];return new d(I,~C.h).add(O)}s.abs=function(){return it(this)?nt(this):this},s.add=function(C){const A=Math.max(this.g.length,C.g.length),I=[];let V=0;for(let x=0;x<=A;x++){let k=V+(this.i(x)&65535)+(C.i(x)&65535),w=(k>>>16)+(this.i(x)>>>16)+(C.i(x)>>>16);V=w>>>16,k&=65535,w&=65535,I[x]=w<<16|k}return new d(I,I[I.length-1]&-2147483648?-1:0)};function pt(C,A){return C.add(nt(A))}s.j=function(C){if(Z(this)||Z(C))return S;if(it(this))return it(C)?nt(this).j(nt(C)):nt(nt(this).j(C));if(it(C))return nt(this.j(nt(C)));if(this.l(Y)<0&&C.l(Y)<0)return y(this.m()*C.m());const A=this.g.length+C.g.length,I=[];for(var V=0;V<2*A;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let x=0;x<C.g.length;x++){const k=this.i(V)>>>16,w=this.i(V)&65535,Jt=C.i(x)>>>16,wt=C.i(x)&65535;I[2*V+2*x]+=w*wt,vt(I,2*V+2*x),I[2*V+2*x+1]+=k*wt,vt(I,2*V+2*x+1),I[2*V+2*x+1]+=w*Jt,vt(I,2*V+2*x+1),I[2*V+2*x+2]+=k*Jt,vt(I,2*V+2*x+2)}for(C=0;C<A;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=A;C<2*A;C++)I[C]=0;return new d(I,0)};function vt(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function Et(C,A){this.g=C,this.h=A}function Qt(C,A){if(Z(A))throw Error("division by zero");if(Z(C))return new Et(S,S);if(it(C))return A=Qt(nt(C),A),new Et(nt(A.g),nt(A.h));if(it(A))return A=Qt(C,nt(A)),new Et(nt(A.g),A.h);if(C.g.length>30){if(it(C)||it(A))throw Error("slowDivide_ only works with positive integers.");for(var I=O,V=A;V.l(C)<=0;)I=oe(I),V=oe(V);var x=lt(I,1),k=lt(V,1);for(V=lt(V,2),I=lt(I,2);!Z(V);){var w=k.add(V);w.l(C)<=0&&(x=x.add(I),k=w),V=lt(V,1),I=lt(I,1)}return A=pt(C,x.j(A)),new Et(x,A)}for(x=S;C.l(A)>=0;){for(I=Math.max(1,Math.floor(C.m()/A.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=y(I),w=k.j(A);it(w)||w.l(C)>0;)I-=V,k=y(I),w=k.j(A);Z(k)&&(k=O),x=x.add(k),C=pt(C,w)}return new Et(x,C)}s.B=function(C){return Qt(this,C).h},s.and=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)&C.i(V);return new d(I,this.h&C.h)},s.or=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)|C.i(V);return new d(I,this.h|C.h)},s.xor=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)^C.i(V);return new d(I,this.h^C.h)};function oe(C){const A=C.g.length+1,I=[];for(let V=0;V<A;V++)I[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(I,C.h)}function lt(C,A){const I=A>>5;A%=32;const V=C.g.length-I,x=[];for(let k=0;k<V;k++)x[k]=A>0?C.i(k+I)>>>A|C.i(k+I+1)<<32-A:C.i(k+I);return new d(x,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,k0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,Yr=d}).apply(typeof ev<"u"?ev:typeof self<"u"?self:typeof window<"u"?window:{});var Rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var U0,bl,L0,Oc,Xd,P0,z0,j0;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rc=="object"&&Rc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var _=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var U=u[b];if(!(U in _))break t;_=_[U]}u=u[u.length-1],b=_[u],m=m(b),m!=b&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var _=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&_.push([b,m[b]]);return _}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function T(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function S(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(b,U,j){for(var tt=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)tt[Rt-2]=arguments[Rt];return m.prototype[U].apply(b,tt)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Y(u){const m=u.length;if(m>0){const _=Array(m);for(let b=0;b<m;b++)_[b]=u[b];return _}return[]}function Z(u,m){for(let b=1;b<arguments.length;b++){const U=arguments[b];var _=typeof U;if(_=_!="object"?_:U?Array.isArray(U)?"array":_:"null",_=="array"||_=="object"&&typeof U.length=="number"){_=u.length||0;const j=U.length||0;u.length=_+j;for(let tt=0;tt<j;tt++)u[_+tt]=U[tt]}else u.push(U)}}class it{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function nt(u){d.setTimeout(()=>{throw u},0)}function pt(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class vt{constructor(){this.h=this.g=null}add(m,_){const b=Et.get();b.set(m,_),this.h?this.h.next=b:this.g=b,this.h=b}}var Et=new it(()=>new Qt,u=>u.reset());class Qt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,lt=!1,C=new vt,A=()=>{const u=Promise.resolve(void 0);oe=()=>{u.then(I)}};function I(){for(var u;u=pt();){try{u.h.call(u.g)}catch(_){nt(_)}var m=Et;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}lt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function Jt(u,m){x.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(Jt,x),Jt.prototype.init=function(u,m){const _=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Jt.Z.h.call(this)},Jt.prototype.h=function(){Jt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var wt="closure_listenable_"+(Math.random()*1e6|0),H=0;function W(u,m,_,b,U){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!b,this.ha=U,this.key=++H,this.da=this.fa=!1}function ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Lt(u,m,_){for(const b in u)m.call(_,u[b],b,u)}function qt(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function D(u){const m={};for(const _ in u)m[_]=u[_];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let _,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(_ in b)u[_]=b[_];for(let j=0;j<K.length;j++)_=K[j],Object.prototype.hasOwnProperty.call(b,_)&&(u[_]=b[_])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,_,b,U){const j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);const tt=bt(u,m,b,U);return tt>-1?(m=u[tt],_||(m.fa=!1)):(m=new W(m,this.src,j,!!b,U),m.fa=_,u.push(m)),m};function yt(u,m){const _=m.type;if(_ in u.g){var b=u.g[_],U=Array.prototype.indexOf.call(b,m,void 0),j;(j=U>=0)&&Array.prototype.splice.call(b,U,1),j&&(ct(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function bt(u,m,_,b){for(let U=0;U<u.length;++U){const j=u[U];if(!j.da&&j.listener==m&&j.capture==!!_&&j.ha==b)return U}return-1}var Dt="closure_lm_"+(Math.random()*1e6|0),F={};function dt(u,m,_,b,U){if(Array.isArray(m)){for(let j=0;j<m.length;j++)dt(u,m[j],_,b,U);return null}return _=go(_),u&&u[wt]?u.J(m,_,g(b)?!!b.capture:!1,U):ze(u,m,_,!1,b,U)}function ze(u,m,_,b,U,j){if(!m)throw Error("Invalid event type");const tt=g(U)?!!U.capture:!!U;let Rt=rs(u);if(Rt||(u[Dt]=Rt=new st(u)),_=Rt.add(m,_,b,tt,j),_.proxy)return _;if(b=Pn(),_.proxy=b,b.src=u,b.listener=_,u.addEventListener)k||(U=tt),U===void 0&&(U=!1),u.addEventListener(m.toString(),b,U);else if(u.attachEvent)u.attachEvent(ii(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Pn(){function u(_){return m.call(u.src,u.listener,_)}const m=mo;return u}function tn(u,m,_,b,U){if(Array.isArray(m))for(var j=0;j<m.length;j++)tn(u,m[j],_,b,U);else b=g(b)?!!b.capture:!!b,_=go(_),u&&u[wt]?(u=u.i,j=String(m).toString(),j in u.g&&(m=u.g[j],_=bt(m,_,b,U),_>-1&&(ct(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[j],u.h--)))):u&&(u=rs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=bt(m,_,b,U)),(_=u>-1?m[u]:null)&&Xs(_))}function Xs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[wt])yt(m.i,u);else{var _=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(_,b,u.capture):m.detachEvent?m.detachEvent(ii(_),b):m.addListener&&m.removeListener&&m.removeListener(b),(_=rs(m))?(yt(_,u),_.h==0&&(_.src=null,m[Dt]=null)):ct(u)}}}function ii(u){return u in F?F[u]:F[u]="on"+u}function mo(u,m){if(u.da)u=!0;else{m=new Jt(m,this);const _=u.listener,b=u.ha||u.src;u.fa&&Xs(u),u=_.call(b,m)}return u}function rs(u){return u=u[Dt],u instanceof st?u:null}var po="__closure_events_fn_"+(Math.random()*1e9>>>0);function go(u){return typeof u=="function"?u:(u[po]||(u[po]=function(m){return u.handleEvent(m)}),u[po])}function _e(){V.call(this),this.i=new st(this),this.M=this,this.G=null}S(_e,V),_e.prototype[wt]=!0,_e.prototype.removeEventListener=function(u,m,_,b){tn(this,u,m,_,b)};function De(u,m){var _,b=u.G;if(b)for(_=[];b;b=b.G)_.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new x(m,u);else if(m instanceof x)m.target=m.target||u;else{var U=m;m=new x(b,u),et(m,U)}U=!0;let j,tt;if(_)for(tt=_.length-1;tt>=0;tt--)j=m.g=_[tt],U=ar(j,b,!0,m)&&U;if(j=m.g=u,U=ar(j,b,!0,m)&&U,U=ar(j,b,!1,m)&&U,_)for(tt=0;tt<_.length;tt++)j=m.g=_[tt],U=ar(j,b,!1,m)&&U}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let b=0;b<_.length;b++)ct(_[b]);delete u.g[m],u.h--}}this.G=null},_e.prototype.J=function(u,m,_,b){return this.i.add(String(u),m,!1,_,b)},_e.prototype.K=function(u,m,_,b){return this.i.add(String(u),m,!0,_,b)};function ar(u,m,_,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let j=0;j<m.length;++j){const tt=m[j];if(tt&&!tt.da&&tt.capture==_){const Rt=tt.listener,me=tt.ha||tt.src;tt.fa&&yt(u.i,tt),U=Rt.call(me,b)!==!1&&U}}return U&&!b.defaultPrevented}function wh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Jl(u){u.g=wh(()=>{u.g=null,u.i&&(u.i=!1,Jl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class en extends V{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Jl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ss(u){V.call(this),this.h=u,this.g={}}S(ss,V);var yo=[];function _o(u){Lt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Xs(m)},u),u.g={}}ss.prototype.N=function(){ss.Z.N.call(this),_o(this)},ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var or=d.JSON.stringify,Rh=d.JSON.parse,Zl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Wl(){}function tu(){}var zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function je(){x.call(this,"d")}S(je,x);function Sn(){x.call(this,"c")}S(Sn,x);var de={},eu=null;function $s(){return eu=eu||new _e}de.Ia="serverreachability";function nu(u){x.call(this,de.Ia,u)}S(nu,x);function ri(u){const m=$s();De(m,new nu(m))}de.STAT_EVENT="statevent";function as(u,m){x.call(this,de.STAT_EVENT,u),this.stat=m}S(as,x);function ve(u){const m=$s();De(m,new as(m,u))}de.Ja="timingevent";function si(u,m){x.call(this,de.Ja,u),this.size=m}S(si,x);function ai(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function jn(){this.g=!0}jn.prototype.ua=function(){this.g=!1};function Ih(u,m,_,b,U,j){u.info(function(){if(u.g)if(j){var tt="",Rt=j.split("&");for(let Ht=0;Ht<Rt.length;Ht++){var me=Rt[Ht].split("=");if(me.length>1){const le=me[0];me=me[1];const Cn=le.split("_");tt=Cn.length>=2&&Cn[1]=="type"?tt+(le+"="+me+"&"):tt+(le+"=redacted&")}}}else tt=null;else tt=j;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+m+`
`+_+`
`+tt})}function iu(u,m,_,b,U,j,tt){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+m+`
`+_+`
`+j+" "+tt})}function oi(u,m,_,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ch(u,_)+(b?" "+b:"")})}function os(u,m){u.info(function(){return"TIMEOUT: "+m})}jn.prototype.info=function(){};function Ch(u,m){if(!u.g)return m;if(!m)return null;try{const j=JSON.parse(m);if(j){for(u=0;u<j.length;u++)if(Array.isArray(j[u])){var _=j[u];if(!(_.length<2)){var b=_[1];if(Array.isArray(b)&&!(b.length<1)){var U=b[0];if(U!="noop"&&U!="stop"&&U!="close")for(let tt=1;tt<b.length;tt++)b[tt]=""}}}}return or(j)}catch{return m}}var ls={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Eo;function us(){}S(us,Wl),us.prototype.g=function(){return new XMLHttpRequest},Eo=new us;function Oi(u){return encodeURIComponent(String(u))}function ru(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function Bn(u,m,_,b){this.j=u,this.i=m,this.l=_,this.S=b||1,this.V=new ss(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qn}function qn(){this.i=null,this.g="",this.h=!1}var Ee={},Me={};function li(u,m,_){u.M=1,u.A=cs(be(m)),u.u=_,u.R=!0,Js(u,null)}function Js(u,m){u.F=Date.now(),ui(u),u.B=be(u.A);var _=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),ea(_.i,"t",b),u.C=0,_=u.j.L,u.h=new qn,u.g=vu(u.j,_?m:null,!u.u),u.P>0&&(u.O=new en(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,b=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(yo[0]=U.toString()),U=yo);for(let j=0;j<U.length;j++){const tt=dt(_,U[j],b||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?D(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ri(),Ih(u.i,u.v,u.B,u.l,u.S,u.u)}Bn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Fn(u)==3?m.j():this.Y(u)},Bn.prototype.Y=function(u){try{if(u==this.g)t:{const Rt=Fn(this.g),me=this.g.ya(),Ht=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||Rt!=4||me==7||(me==8||Ht<=0?ri(3):ri(2)),ci(this);var m=this.g.ca();this.X=m;var _=Nh(this);if(this.o=m==200,iu(this.i,this.v,this.B,this.l,this.S,Rt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,U=this.g;if((b=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(b)){var j=b;break e}}j=null}if(u=j)oi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hi(this,u);else{this.o=!1,this.m=3,ve(12),mn(this),wn(this);break t}}if(this.R){u=!0;let le;for(;!this.K&&this.C<_.length;)if(le=au(this,_),le==Me){Rt==4&&(this.m=4,ve(14),u=!1),oi(this.i,this.l,null,"[Incomplete Response]");break}else if(le==Ee){this.m=4,ve(15),oi(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else oi(this.i,this.l,le,null),hi(this,le);if(su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||_.length!=0||this.h.h||(this.m=1,ve(16),u=!1),this.o=this.o&&u,!u)oi(this.i,this.l,_,"[Invalid Chunked Response]"),mn(this),wn(this);else if(_.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),ko(tt),tt.P=!0,ve(11))}}else oi(this.i,this.l,_,null),hi(this,_);Rt==4&&mn(this),this.o&&!this.K&&(Rt==4?pu(this.j,this):(this.o=!1,ui(this)))}else Mi(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),mn(this),wn(this)}}}catch{}};function Nh(u){if(!su(u))return u.g.la();const m=Be(u.g);if(m==="")return"";let _="";const b=m.length,U=Fn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return mn(u),wn(u),"";u.h.i=new d.TextDecoder}for(let j=0;j<b;j++)u.h.h=!0,_+=u.h.i.decode(m[j],{stream:!(U&&j==b-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function su(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function au(u,m){var _=u.C,b=m.indexOf(`
`,_);return b==-1?Me:(_=Number(m.substring(_,b)),isNaN(_)?Ee:(b+=1,b+_>m.length?Me:(m=m.slice(b,b+_),u.C=b+_,m)))}Bn.prototype.cancel=function(){this.K=!0,mn(this)};function ui(u){u.T=Date.now()+u.H,Zs(u,u.H)}function Zs(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ai(y(u.aa,u),m)}function ci(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Bn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(os(this.i,this.B),this.M!=2&&(ri(),ve(17)),mn(this),this.m=2,wn(this)):Zs(this,this.T-u)};function wn(u){u.j.I==0||u.K||pu(u.j,u)}function mn(u){ci(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,_o(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function hi(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||di(_.h,u))){if(!u.L&&di(_.h,u)&&_.I==3){try{var b=_.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)aa(_),pr(_);else break t;ys(_),ve(18)}}else _.xa=U[1],0<_.xa-_.K&&U[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ai(y(_.Va,_),6e3));fi(_.h)<=1&&_.ta&&(_.ta=void 0)}else vi(_,11)}else if((u.L||_.g==u)&&aa(_),!w(m))for(U=_.Ba.g.parse(m),m=0;m<U.length;m++){let Ht=U[m];const le=Ht[0];if(!(le<=_.K))if(_.K=le,Ht=Ht[1],_.I==2)if(Ht[0]=="c"){_.M=Ht[1],_.ba=Ht[2];const Cn=Ht[3];Cn!=null&&(_.ka=Cn,_.j.info("VER="+_.ka));const Ei=Ht[4];Ei!=null&&(_.za=Ei,_.j.info("SVER="+_.za));const Qn=Ht[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(b=1.5*Qn,_.O=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Yn=u.g;if(Yn){const _s=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_s){var j=b.h;j.g||_s.indexOf("spdy")==-1&&_s.indexOf("quic")==-1&&_s.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Ao(j,j.h),j.h=null))}if(b.G){const oa=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;oa&&(b.wa=oa,Yt(b.J,b.G,oa))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),b=_;var tt=u;if(b.na=_u(b,b.L?b.ba:null,b.W),tt.L){So(b.h,tt);var Rt=tt,me=b.O;me&&(Rt.H=me),Rt.D&&(ci(Rt),ui(Rt)),b.g=tt}else du(b);_.i.length>0&&_i(_)}else Ht[0]!="stop"&&Ht[0]!="close"||vi(_,7);else _.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?vi(_,7):Vo(_):Ht[0]!="noop"&&_.l&&_.l.qa(Ht),_.A=0)}}ri(4)}catch{}}var Te=class{constructor(u,m){this.g=u,this.map=m}};function To(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function fi(u){return u.h?1:u.g?u.g.size:0}function di(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ao(u,m){u.g?u.g.add(m):u.h=m}function So(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}To.prototype.cancel=function(){if(this.i=wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function wo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return Y(u.i)}var ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ws(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const b=u[_].indexOf("=");let U,j=null;b>=0?(U=u[_].substring(0,b),j=u[_].substring(b+1)):U=u[_],m(U,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function pn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof pn?(this.l=u.l,ke(this,u.j),this.o=u.o,this.g=u.g,lr(this,u.u),this.h=u.h,Ro(this,hu(u.i)),this.m=u.m):u&&(m=String(u).match(ou))?(this.l=!1,ke(this,m[1]||"",!0),this.o=mi(m[2]||""),this.g=mi(m[3]||"",!0),lr(this,m[4]),this.h=mi(m[5]||"",!0),Ro(this,m[6]||"",!0),this.m=mi(m[7]||"")):(this.l=!1,this.i=new cr(null,this.l))}pn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(hs(m,ta,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(hs(m,ta,!0),"@"),u.push(Oi(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(hs(_,_.charAt(0)=="/"?Io:lu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",hs(_,uu)),u.join("")},pn.prototype.resolve=function(u){const m=be(this);let _=!!u.j;_?ke(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var b=u.h;if(_)lr(m,u.u);else if(_=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var U=m.h.lastIndexOf("/");U!=-1&&(b=m.h.slice(0,U+1)+b)}if(U=b,U==".."||U==".")b="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){b=U.lastIndexOf("/",0)==0,U=U.split("/");const j=[];for(let tt=0;tt<U.length;){const Rt=U[tt++];Rt=="."?b&&tt==U.length&&j.push(""):Rt==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),b&&tt==U.length&&j.push("")):(j.push(Rt),b=!0)}b=j.join("/")}else b=U}return _?m.h=b:_=u.i.toString()!=="",_?Ro(m,hu(u.i)):_=!!u.m,_&&(m.m=u.m),m};function be(u){return new pn(u)}function ke(u,m,_){u.j=_?mi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function lr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ro(u,m,_){m instanceof cr?(u.i=m,na(u.i,u.l)):(_||(m=hs(m,ur)),u.i=new cr(m,u.l))}function Yt(u,m,_){u.i.set(m,_)}function cs(u){return Yt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function mi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function hs(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,sn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ta=/[#\/\?@]/g,lu=/[#\?:]/g,Io=/[#\?]/g,ur=/[#\?@]/g,uu=/#/g;function cr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function an(u){u.g||(u.g=new Map,u.h=0,u.i&&Ws(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}s=cr.prototype,s.add=function(u,m){an(this),this.i=null,u=hr(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function cu(u,m){an(u),m=hr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Co(u,m){return an(u),m=hr(u,m),u.g.has(m)}s.forEach=function(u,m){an(this),this.g.forEach(function(_,b){_.forEach(function(U){u.call(m,U,b,this)},this)},this)};function No(u,m){an(u);let _=[];if(typeof m=="string")Co(u,m)&&(_=_.concat(u.g.get(hr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}s.set=function(u,m){return an(this),this.i=null,u=hr(this,u),Co(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=No(this,u),u.length>0?String(u[0]):m):m};function ea(u,m,_){cu(u,m),_.length>0&&(u.i=null,u.g.set(hr(u,m),Y(_)),u.h+=_.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var _=m[b];const U=Oi(_);_=No(this,_);for(let j=0;j<_.length;j++){let tt=U;_[j]!==""&&(tt+="="+Oi(_[j])),u.push(tt)}}return this.i=u.join("&")};function hu(u){const m=new cr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function hr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function na(u,m){m&&!u.j&&(an(u),u.i=null,u.g.forEach(function(_,b){const U=b.toLowerCase();b!=U&&(cu(this,b),ea(this,U,_))},u)),u.j=m}function Hn(u,m){const _=new jn;if(d.Image){const b=new Image;b.onload=T(Rn,_,"TestLoadImage: loaded",!0,m,b),b.onerror=T(Rn,_,"TestLoadImage: error",!1,m,b),b.onabort=T(Rn,_,"TestLoadImage: abort",!1,m,b),b.ontimeout=T(Rn,_,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function xo(u,m){const _=new jn,b=new AbortController,U=setTimeout(()=>{b.abort(),Rn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(j=>{clearTimeout(U),j.ok?Rn(_,"TestPingServer: ok",!0,m):Rn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Rn(_,"TestPingServer: error",!1,m)})}function Rn(u,m,_,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(_)}catch{}}function fr(){this.g=new Zl}function pi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(pi,Wl),pi.prototype.g=function(){return new fs(this.i,this.h)};function fs(u,m){_e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(fs,_e),s=fs.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Gn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,dr(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ia(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ia(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?dr(this):Gn(this),this.readyState==3&&ia(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,dr(this))},s.Na=function(u){this.g&&(this.response=u,dr(this))},s.ga=function(){this.g&&dr(this)};function dr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Gn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Gn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(fs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function In(u){let m="";return Lt(u,function(_,b){m+=b,m+=":",m+=_,m+=`\r
`}),m}function ds(u,m,_){t:{for(b in _){var b=!1;break t}b=!0}b||(_=In(_),typeof u=="string"?_!=null&&Oi(_):Yt(u,m,_))}function Zt(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Zt,_e);var gi=/^https?$/i,Do=["POST","PUT"];s=Zt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Eo.g(),this.g.onreadystatechange=O(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){ms(this,j);return}if(u=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)_.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const j of b.keys())_.set(j,b.get(j));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(j=>j.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Do,m,void 0)>=0)||b||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,tt]of _)this.g.setRequestHeader(j,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(j){ms(this,j)}};function ms(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Oo(u),Vi(u)}function Oo(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),Vi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vi(this,!0)),Zt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?ps(this):this.Xa())},s.Xa=function(){ps(this)};function ps(u){if(u.h&&typeof c<"u"){if(u.v&&Fn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),Fn(u)==4){u.h=!1;try{const j=u.ca();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var b;if(b=j===0){let tt=String(u.D).match(ou)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),b=!gi.test(tt?tt.toLowerCase():"")}_=b}if(_)De(u,"complete"),De(u,"success");else{u.o=6;try{var U=Fn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Oo(u)}}finally{Vi(u)}}}}function Vi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||De(u,"ready");try{_.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Fn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Fn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Rh(m)}};function Be(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Mi(u){const m={};u=(u.g&&Fn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(w(u[b]))continue;var _=ru(u[b]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const j=m[U]||[];m[U]=j,j.push(_)}qt(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yi(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function mr(u){this.za=0,this.i=[],this.j=new jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yi("baseRetryDelayMs",5e3,u),this.Za=yi("retryDelaySeedMs",1e4,u),this.Ta=yi("forwardChannelMaxRetries",2,u),this.va=yi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new To(u&&u.concurrentRequestLimit),this.Ba=new fr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=mr.prototype,s.ka=8,s.I=1,s.connect=function(u,m,_,b){ve(0),this.W=u,this.H=m||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.J=_u(this,null,this.W),_i(this)};function Vo(u){if(ra(u),u.I==3){var m=u.V++,_=be(u.J);if(Yt(_,"SID",u.M),Yt(_,"RID",m),Yt(_,"TYPE","terminate"),gs(u,_),m=new Bn(u,u.j,m),m.M=2,m.A=cs(be(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=vu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ui(m)}yu(u)}function pr(u){u.g&&(ko(u),u.g.cancel(),u.g=null)}function ra(u){pr(u),u.v&&(d.clearTimeout(u.v),u.v=null),aa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function _i(u){if(!bo(u.h)&&!u.m){u.m=!0;var m=u.Ea;oe||A(),lt||(oe(),lt=!0),C.add(m,u),u.D=0}}function sa(u,m){return fi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ai(y(u.Ea,u,m),gu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Bn(this,this.j,u);let j=this.o;if(this.U&&(j?(j=D(j),et(j,this.U)):j=this.U),this.u!==null||this.R||(U.J=j,j=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=fu(this,U,m),_=be(this.J),Yt(_,"RID",u),Yt(_,"CVER",22),this.G&&Yt(_,"X-HTTP-Session-Id",this.G),gs(this,_),j&&(this.R?m="headers="+Oi(In(j))+"&"+m:this.u&&ds(_,this.u,j)),Ao(this.h,U),this.Ra&&Yt(_,"TYPE","init"),this.S?(Yt(_,"$req",m),Yt(_,"SID","null"),U.U=!0,li(U,_,null)):li(U,_,m),this.I=2}}else this.I==3&&(u?Mo(this,u):this.i.length==0||bo(this.h)||Mo(this))};function Mo(u,m){var _;m?_=m.l:_=u.V++;const b=be(u.J);Yt(b,"SID",u.M),Yt(b,"RID",_),Yt(b,"AID",u.K),gs(u,b),u.u&&u.o&&ds(b,u.u,u.o),_=new Bn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=fu(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ao(u.h,_),li(_,b,m)}function gs(u,m){u.H&&Lt(u.H,function(_,b){Yt(m,b,_)}),u.l&&Lt({},function(_,b){Yt(m,b,_)})}function fu(u,m,_){_=Math.min(u.i.length,_);const b=u.l?y(u.l.Ka,u.l,u):null;t:{var U=u.i;let Rt=-1;for(;;){const me=["count="+_];Rt==-1?_>0?(Rt=U[0].g,me.push("ofs="+Rt)):Rt=0:me.push("ofs="+Rt);let Ht=!0;for(let le=0;le<_;le++){var j=U[le].g;const Cn=U[le].map;if(j-=Rt,j<0)Rt=Math.max(0,U[le].g-100),Ht=!1;else try{j="req"+j+"_"||"";try{var tt=Cn instanceof Map?Cn:Object.entries(Cn);for(const[Ei,Qn]of tt){let Yn=Qn;g(Qn)&&(Yn=or(Qn)),me.push(j+Ei+"="+encodeURIComponent(Yn))}}catch(Ei){throw me.push(j+"type="+encodeURIComponent("_badmap")),Ei}}catch{b&&b(Cn)}}if(Ht){tt=me.join("&");break t}}tt=void 0}return u=u.i.splice(0,_),m.G=u,tt}function du(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;oe||A(),lt||(oe(),lt=!0),C.add(m,u),u.A=0}}function ys(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ai(y(u.Da,u),gu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,mu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ai(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),pr(this),mu(this))};function ko(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function mu(u){u.g=new Bn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=be(u.na);Yt(m,"RID","rpc"),Yt(m,"SID",u.M),Yt(m,"AID",u.K),Yt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Yt(m,"TO",u.ia),Yt(m,"TYPE","xmlhttp"),gs(u,m),u.u&&u.o&&ds(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=cs(be(m)),_.u=null,_.R=!0,Js(_,u)}s.Va=function(){this.C!=null&&(this.C=null,pr(this),ys(this),ve(19))};function aa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function pu(u,m){var _=null;if(u.g==m){aa(u),ko(u),u.g=null;var b=2}else if(di(u.h,m))_=m.G,So(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;b=$s(),De(b,new si(b,_)),_i(u)}else du(u);else if(U=m.m,U==3||U==0&&m.X>0||!(b==1&&sa(u,m)||b==2&&ys(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),U){case 1:vi(u,5);break;case 4:vi(u,10);break;case 3:vi(u,6);break;default:vi(u,2)}}}function gu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function vi(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),b=u.Ua;const U=!b;b=new pn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ke(b,"https"),cs(b),U?Hn(b.toString(),_):xo(b.toString(),_)}else ve(2);u.I=0,u.l&&u.l.pa(m),yu(u),ra(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function yu(u){if(u.I=0,u.ja=[],u.l){const m=wo(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,Y(u.i),u.i.length=0),u.l.oa()}}function _u(u,m,_){var b=_ instanceof pn?be(_):new pn(_);if(b.g!="")m&&(b.g=m+"."+b.g),lr(b,b.u);else{var U=d.location;b=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const j=new pn(null);b&&ke(j,b),m&&(j.g=m),U&&lr(j,U),_&&(j.h=_),b=j}return _=u.G,m=u.wa,_&&m&&Yt(b,_,m),Yt(b,"VER",u.ka),gs(u,b),b}function vu(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Zt(new pi({ab:_})):new Zt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}s=Eu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function gr(){}gr.prototype.g=function(u,m){return new nn(u,m)};function nn(u,m){_e.call(this),this.g=new mr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ki(this)}S(nn,_e),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Vo(this.g)},nn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=or(u),u=_);m.i.push(new Te(m.Ya++,u)),m.I==3&&_i(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,Vo(this.g),delete this.g,nn.Z.N.call(this)};function Tu(u){je.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Tu,je);function bu(){Sn.call(this),this.status=1}S(bu,Sn);function ki(u){this.g=u}S(ki,Eu),ki.prototype.ra=function(){De(this.g,"a")},ki.prototype.qa=function(u){De(this.g,new Tu(u))},ki.prototype.pa=function(u){De(this.g,new bu)},ki.prototype.oa=function(){De(this.g,"b")},gr.prototype.createWebChannel=gr.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,j0=function(){return new gr},z0=function(){return $s()},P0=de,Xd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ls.NO_ERROR=0,ls.TIMEOUT=8,ls.HTTP_ERROR=6,Oc=ls,vo.COMPLETE="complete",L0=vo,tu.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",_e.prototype.listen=_e.prototype.J,bl=tu,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,U0=Zt}).apply(typeof Rc<"u"?Rc:typeof self<"u"?self:typeof window<"u"?window:{});class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");let oo="12.8.0";function p1(s){oo=s}const Bs=new ym("@firebase/firestore");function La(){return Bs.logLevel}function at(s,...t){if(Bs.logLevel<=Mt.DEBUG){const i=t.map(Em);Bs.debug(`Firestore (${oo}): ${s}`,...i)}}function nr(s,...t){if(Bs.logLevel<=Mt.ERROR){const i=t.map(Em);Bs.error(`Firestore (${oo}): ${s}`,...i)}}function Ka(s,...t){if(Bs.logLevel<=Mt.WARN){const i=t.map(Em);Bs.warn(`Firestore (${oo}): ${s}`,...i)}}function Em(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function gt(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,B0(s,a,i)}function B0(s,t,i){let a=`FIRESTORE (${oo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw nr(a),new Error(a)}function Ft(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||B0(t,l,a)}function St(s,t){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends sr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ls{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class q0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class g1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Je.UNAUTHENTICATED)))}shutdown(){}}class y1{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class _1{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ft(this.o===void 0,42304);let a=this.i;const l=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new Ls;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ls,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=c;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},g=v=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ls)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ft(typeof a.accessToken=="string",31837,{l:a}),new q0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class v1{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class E1{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new v1(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class nv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class T1{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ft(this.o===void 0,3512);const a=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new nv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new nv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function b1(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Tm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=b1(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function kt(s,t){return s<t?-1:s>t?1:0}function $d(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=t.charAt(a);if(l!==c)return kd(l)===kd(c)?kt(l,c):kd(l)?1:-1}return kt(s.length,t.length)}const A1=55296,S1=57343;function kd(s){const t=s.charCodeAt(0);return t>=A1&&t<=S1}function Xa(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const iv="__name__";class wi{constructor(t,i,a){i===void 0?i=0:i>t.length&&gt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&gt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return wi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof wi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=wi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return kt(t.length,i.length)}static compareSegments(t,i){const a=wi.isNumericId(t),l=wi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?wi.extractNumericId(t).compare(wi.extractNumericId(i)):$d(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Yr.fromString(t.substring(4,t.length-2))}}class ie extends wi{construct(t,i,a){return new ie(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new rt($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ie(i)}static emptyPath(){return new ie([])}}const w1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends wi{construct(t,i,a){return new Ye(t,i,a)}static isValidIdentifier(t){return w1.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===iv}static keyField(){return new Ye([iv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new rt($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new rt($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new rt($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new rt($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ye(i)}static emptyPath(){return new Ye([])}}class ft{constructor(t){this.path=t}static fromPath(t){return new ft(ie.fromString(t))}static fromName(t){return new ft(ie.fromString(t).popFirst(5))}static empty(){return new ft(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ie.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ie.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new ie(t.slice()))}}function H0(s,t,i){if(!i)throw new rt($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function R1(s,t,i,a){if(t===!0&&a===!0)throw new rt($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function rv(s){if(!ft.isDocumentKey(s))throw new rt($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function sv(s){if(ft.isDocumentKey(s))throw new rt($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function G0(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function ah(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":gt(12329,{type:typeof s})}function Kr(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new rt($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ah(s);throw new rt($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Ne(s,t){const i={typeString:s};return t&&(i.value=t),i}function Hl(s,t){if(!G0(s))throw new rt($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new rt($.INVALID_ARGUMENT,i);return!0}const av=-62135596800,ov=1e6;class ae{static now(){return ae.fromMillis(Date.now())}static fromDate(t){return ae.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*ov);return new ae(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new rt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<av)throw new rt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ov}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Hl(t,ae._jsonSchema))return new ae(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-av;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ae._jsonSchemaVersion="firestore/timestamp/1.0",ae._jsonSchema={type:Ne("string",ae._jsonSchemaVersion),seconds:Ne("number"),nanoseconds:Ne("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new ae(0,0))}static max(){return new Tt(new ae(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Vl=-1;function I1(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=Tt.fromTimestamp(a===1e9?new ae(i+1,0):new ae(i,a));return new $r(l,ft.empty(),t)}function C1(s){return new $r(s.readTime,s.key,Vl)}class $r{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new $r(Tt.min(),ft.empty(),Vl)}static max(){return new $r(Tt.max(),ft.empty(),Vl)}}function N1(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=ft.comparator(s.documentKey,t.documentKey),i!==0?i:kt(s.largestBatchId,t.largestBatchId))}const x1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class D1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function lo(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==x1)throw s;at("LocalStore","Unexpectedly lost primary lease")}class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new J(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):J.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):J.reject(i)}static resolve(t){return new J(((i,a)=>{i(t)}))}static reject(t){return new J(((i,a)=>{a(t)}))}static waitFor(t){return new J(((i,a)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(v=>a(v)))})),d=!0,c===l&&i()}))}static or(t){let i=J.resolve(!1);for(const a of t)i=i.next((l=>l?J.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new J(((a,l)=>{const c=t.length,d=new Array(c);let g=0;for(let v=0;v<c;v++){const y=v;i(t[y]).next((T=>{d[y]=T,++g,g===c&&a(d)}),(T=>l(T)))}}))}static doWhile(t,i){return new J(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function O1(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function uo(s){return s.name==="IndexedDbTransactionError"}class oh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}oh.ce=-1;const bm=-1;function lh(s){return s==null}function Gc(s){return s===0&&1/s==-1/0}function V1(s){return typeof s=="number"&&Number.isInteger(s)&&!Gc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const F0="";function M1(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=lv(t)),t=k1(s.get(i),t);return lv(t)}function k1(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case F0:i+="";break;default:i+=c}}return i}function lv(s){return s+F0+""}function uv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function ns(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function Q0(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class ce{constructor(t,i){this.comparator=t,this.root=i||Qe.EMPTY}insert(t,i){return new ce(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ic(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ic(this.root,t,this.comparator,!0)}}class Ic{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Qe.RED,this.left=l??Qe.EMPTY,this.right=c??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Qe(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Qe.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Qe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new cv(this.data.getIterator())}getIteratorFrom(t){return new cv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class cv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class An{constructor(t){this.fields=t,t.sort(Ye.comparator)}static empty(){return new An([])}unionWith(t){let i=new Ve(Ye.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new An(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Xa(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class Y0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Y0("Invalid base64 string: "+c):c}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const U1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jr(s){if(Ft(!!s,39018),typeof s=="string"){let t=0;const i=U1.exec(s);if(Ft(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ye(s.seconds),nanos:ye(s.nanos)}}function ye(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Zr(s){return typeof s=="string"?Ke.fromBase64String(s):Ke.fromUint8Array(s)}const K0="server_timestamp",X0="__type__",$0="__previous_value__",J0="__local_write_time__";function Am(s){return(s?.mapValue?.fields||{})[X0]?.stringValue===K0}function uh(s){const t=s.mapValue.fields[$0];return Am(t)?uh(t):t}function Ml(s){const t=Jr(s.mapValue.fields[J0].timestampValue);return new ae(t.seconds,t.nanos)}class L1{constructor(t,i,a,l,c,d,g,v,y,T,S){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=T,this.apiKey=S}}const Fc="(default)";class kl{constructor(t,i){this.projectId=t,this.database=i||Fc}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database===Fc}isEqual(t){return t instanceof kl&&t.projectId===this.projectId&&t.database===this.database}}function P1(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new rt($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(s.options.projectId,t)}const Z0="__type__",z1="__max__",Cc={mapValue:{}},W0="__vector__",Qc="value";function Wr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Am(s)?4:B1(s)?9007199254740991:j1(s)?10:11:gt(28295,{value:s})}function xi(s,t){if(s===t)return!0;const i=Wr(s);if(i!==Wr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Ml(s).isEqual(Ml(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Jr(l.timestampValue),g=Jr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return Zr(l.bytesValue).isEqual(Zr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return ye(l.geoPointValue.latitude)===ye(c.geoPointValue.latitude)&&ye(l.geoPointValue.longitude)===ye(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ye(l.integerValue)===ye(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ye(l.doubleValue),g=ye(c.doubleValue);return d===g?Gc(d)===Gc(g):isNaN(d)&&isNaN(g)}return!1})(s,t);case 9:return Xa(s.arrayValue.values||[],t.arrayValue.values||[],xi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(uv(d)!==uv(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!xi(d[v],g[v])))return!1;return!0})(s,t);default:return gt(52216,{left:s})}}function Ul(s,t){return(s.values||[]).find((i=>xi(i,t)))!==void 0}function $a(s,t){if(s===t)return 0;const i=Wr(s),a=Wr(t);if(i!==a)return kt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return kt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=ye(c.integerValue||c.doubleValue),v=ye(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(s,t);case 3:return hv(s.timestampValue,t.timestampValue);case 4:return hv(Ml(s),Ml(t));case 5:return $d(s.stringValue,t.stringValue);case 6:return(function(c,d){const g=Zr(c),v=Zr(d);return g.compareTo(v)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),v=d.split("/");for(let y=0;y<g.length&&y<v.length;y++){const T=kt(g[y],v[y]);if(T!==0)return T}return kt(g.length,v.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=kt(ye(c.latitude),ye(d.latitude));return g!==0?g:kt(ye(c.longitude),ye(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return fv(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},v=d.fields||{},y=g[Qc]?.arrayValue,T=v[Qc]?.arrayValue,S=kt(y?.values?.length||0,T?.values?.length||0);return S!==0?S:fv(y,T)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Cc.mapValue&&d===Cc.mapValue)return 0;if(c===Cc.mapValue)return 1;if(d===Cc.mapValue)return-1;const g=c.fields||{},v=Object.keys(g),y=d.fields||{},T=Object.keys(y);v.sort(),T.sort();for(let S=0;S<v.length&&S<T.length;++S){const O=$d(v[S],T[S]);if(O!==0)return O;const Y=$a(g[v[S]],y[T[S]]);if(Y!==0)return Y}return kt(v.length,T.length)})(s.mapValue,t.mapValue);default:throw gt(23264,{he:i})}}function hv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return kt(s,t);const i=Jr(s),a=Jr(t),l=kt(i.seconds,a.seconds);return l!==0?l:kt(i.nanos,a.nanos)}function fv(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=$a(i[l],a[l]);if(c)return c}return kt(i.length,a.length)}function Ja(s){return Jd(s)}function Jd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=Jr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Zr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ft.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=Jd(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${Jd(i.fields[d])}`;return l+"}"})(s.mapValue):gt(61005,{value:s})}function Vc(s){switch(Wr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=uh(s);return t?16+Vc(t):16;case 5:return 2*s.stringValue.length;case 6:return Zr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Vc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return ns(a.fields,((c,d)=>{l+=c.length+Vc(d)})),l})(s.mapValue);default:throw gt(13486,{value:s})}}function dv(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function Zd(s){return!!s&&"integerValue"in s}function Sm(s){return!!s&&"arrayValue"in s}function mv(s){return!!s&&"nullValue"in s}function pv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Mc(s){return!!s&&"mapValue"in s}function j1(s){return(s?.mapValue?.fields||{})[Z0]?.stringValue===W0}function Il(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return ns(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Il(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Il(s.arrayValue.values[i]);return t}return{...s}}function B1(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===z1}class dn{constructor(t){this.value=t}static empty(){return new dn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Mc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Il(i)}setAll(t){let i=Ye.emptyPath(),a={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=Il(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Mc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return xi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Mc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){ns(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new dn(Il(this.value))}}function tE(s){const t=[];return ns(s.fields,((i,a)=>{const l=new Ye([i]);if(Mc(a)){const c=tE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new An(t)}class Ze{constructor(t,i,a,l,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Ze(t,0,Tt.min(),Tt.min(),Tt.min(),dn.empty(),0)}static newFoundDocument(t,i,a,l){return new Ze(t,1,i,Tt.min(),a,l,0)}static newNoDocument(t,i){return new Ze(t,2,i,Tt.min(),Tt.min(),dn.empty(),0)}static newUnknownDocument(t,i){return new Ze(t,3,i,Tt.min(),Tt.min(),dn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Yc{constructor(t,i){this.position=t,this.inclusive=i}}function gv(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=ft.comparator(ft.fromName(d.referenceValue),i.key):a=$a(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function yv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!xi(s.position[i],t.position[i]))return!1;return!0}class Ll{constructor(t,i="asc"){this.field=t,this.dir=i}}function q1(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class eE{}class Ce extends eE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new G1(t,i,a):i==="array-contains"?new Y1(t,a):i==="in"?new K1(t,a):i==="not-in"?new X1(t,a):i==="array-contains-any"?new $1(t,a):new Ce(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new F1(t,a):new Q1(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison($a(i,this.value)):i!==null&&Wr(this.value)===Wr(i)&&this.matchesComparison($a(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends eE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ni(t,i)}matches(t){return nE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function nE(s){return s.op==="and"}function iE(s){return H1(s)&&nE(s)}function H1(s){for(const t of s.filters)if(t instanceof ni)return!1;return!0}function Wd(s){if(s instanceof Ce)return s.field.canonicalString()+s.op.toString()+Ja(s.value);if(iE(s))return s.filters.map((t=>Wd(t))).join(",");{const t=s.filters.map((i=>Wd(i))).join(",");return`${s.op}(${t})`}}function rE(s,t){return s instanceof Ce?(function(a,l){return l instanceof Ce&&a.op===l.op&&a.field.isEqual(l.field)&&xi(a.value,l.value)})(s,t):s instanceof ni?(function(a,l){return l instanceof ni&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,g)=>c&&rE(d,l.filters[g])),!0):!1})(s,t):void gt(19439)}function sE(s){return s instanceof Ce?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ja(i.value)}`})(s):s instanceof ni?(function(i){return i.op.toString()+" {"+i.getFilters().map(sE).join(" ,")+"}"})(s):"Filter"}class G1 extends Ce{constructor(t,i,a){super(t,i,a),this.key=ft.fromName(a.referenceValue)}matches(t){const i=ft.comparator(t.key,this.key);return this.matchesComparison(i)}}class F1 extends Ce{constructor(t,i){super(t,"in",i),this.keys=aE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Q1 extends Ce{constructor(t,i){super(t,"not-in",i),this.keys=aE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function aE(s,t){return(t.arrayValue?.values||[]).map((i=>ft.fromName(i.referenceValue)))}class Y1 extends Ce{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Sm(i)&&Ul(i.arrayValue,this.value)}}class K1 extends Ce{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ul(this.value.arrayValue,i)}}class X1 extends Ce{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ul(this.value.arrayValue,i)}}class $1 extends Ce{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Sm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ul(this.value.arrayValue,a)))}}class J1{constructor(t,i=null,a=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function _v(s,t=null,i=[],a=[],l=null,c=null,d=null){return new J1(s,t,i,a,l,c,d)}function wm(s){const t=St(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>Wd(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),lh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Ja(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Ja(a))).join(",")),t.Te=i}return t.Te}function Rm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!q1(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!rE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!yv(s.startAt,t.startAt)&&yv(s.endAt,t.endAt)}function tm(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class co{constructor(t,i=null,a=[],l=[],c=null,d="F",g=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Z1(s,t,i,a,l,c,d,g){return new co(s,t,i,a,l,c,d,g)}function Im(s){return new co(s)}function vv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function W1(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function oE(s){return s.collectionGroup!==null}function Cl(s){const t=St(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ve(Ye.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Ll(c,a))})),i.has(Ye.keyField().canonicalString())||t.Ie.push(new Ll(Ye.keyField(),a))}return t.Ie}function Ri(s){const t=St(s);return t.Ee||(t.Ee=tw(t,Cl(s))),t.Ee}function tw(s,t){if(s.limitType==="F")return _v(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Ll(l.field,c)}));const i=s.endAt?new Yc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Yc(s.startAt.position,s.startAt.inclusive):null;return _v(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function em(s,t){const i=s.filters.concat([t]);return new co(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function ew(s,t){const i=s.explicitOrderBy.concat([t]);return new co(s.path,s.collectionGroup,i,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function nm(s,t,i){return new co(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function ch(s,t){return Rm(Ri(s),Ri(t))&&s.limitType===t.limitType}function lE(s){return`${wm(Ri(s))}|lt:${s.limitType}`}function Pa(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>sE(l))).join(", ")}]`),lh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Ja(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Ja(l))).join(",")),`Target(${a})`})(Ri(s))}; limitType=${s.limitType})`}function hh(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ft.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of Cl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,g,v){const y=gv(d,g,v);return d.inclusive?y<=0:y<0})(a.startAt,Cl(a),l)||a.endAt&&!(function(d,g,v){const y=gv(d,g,v);return d.inclusive?y>=0:y>0})(a.endAt,Cl(a),l))})(s,t)}function nw(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function uE(s){return(t,i)=>{let a=!1;for(const l of Cl(s)){const c=iw(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function iw(s,t,i){const a=s.field.isKeyField()?ft.comparator(t.key,i.key):(function(c,d,g){const v=d.data.field(c),y=g.data.field(c);return v!==null&&y!==null?$a(v,y):gt(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return gt(19790,{direction:s.dir})}}class Gs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){ns(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return Q0(this.inner)}size(){return this.innerSize}}const rw=new ce(ft.comparator);function ir(){return rw}const cE=new ce(ft.comparator);function Al(...s){let t=cE;for(const i of s)t=t.insert(i.key,i);return t}function hE(s){let t=cE;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function ks(){return Nl()}function fE(){return Nl()}function Nl(){return new Gs((s=>s.toString()),((s,t)=>s.isEqual(t)))}const sw=new ce(ft.comparator),aw=new Ve(ft.comparator);function Ut(...s){let t=aw;for(const i of s)t=t.add(i);return t}const ow=new Ve(kt);function lw(){return ow}function Cm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(t)?"-0":t}}function dE(s){return{integerValue:""+s}}function mE(s,t){return V1(t)?dE(t):Cm(s,t)}class fh{constructor(){this._=void 0}}function uw(s,t,i){return s instanceof Pl?(function(l,c){const d={fields:{[X0]:{stringValue:K0},[J0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Am(c)&&(c=uh(c)),c&&(d.fields[$0]=c),{mapValue:d}})(i,t):s instanceof Za?gE(s,t):s instanceof Wa?yE(s,t):(function(l,c){const d=pE(l,c),g=Ev(d)+Ev(l.Ae);return Zd(d)&&Zd(l.Ae)?dE(g):Cm(l.serializer,g)})(s,t)}function cw(s,t,i){return s instanceof Za?gE(s,t):s instanceof Wa?yE(s,t):i}function pE(s,t){return s instanceof zl?(function(a){return Zd(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Pl extends fh{}class Za extends fh{constructor(t){super(),this.elements=t}}function gE(s,t){const i=_E(t);for(const a of s.elements)i.some((l=>xi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Wa extends fh{constructor(t){super(),this.elements=t}}function yE(s,t){let i=_E(t);for(const a of s.elements)i=i.filter((l=>!xi(l,a)));return{arrayValue:{values:i}}}class zl extends fh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Ev(s){return ye(s.integerValue||s.doubleValue)}function _E(s){return Sm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class dh{constructor(t,i){this.field=t,this.transform=i}}function hw(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof Za&&l instanceof Za||a instanceof Wa&&l instanceof Wa?Xa(a.elements,l.elements,xi):a instanceof zl&&l instanceof zl?xi(a.Ae,l.Ae):a instanceof Pl&&l instanceof Pl})(s.transform,t.transform)}class fw{constructor(t,i){this.version=t,this.transformResults=i}}class Wn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Wn}static exists(t){return new Wn(void 0,t)}static updateTime(t){return new Wn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function kc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class mh{}function vE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Nm(s.key,Wn.none()):new Gl(s.key,s.data,Wn.none());{const i=s.data,a=dn.empty();let l=new Ve(Ye.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new is(s.key,a,new An(l.toArray()),Wn.none())}}function dw(s,t,i){s instanceof Gl?(function(l,c,d){const g=l.value.clone(),v=bv(l.fieldTransforms,c,d.transformResults);g.setAll(v),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,i):s instanceof is?(function(l,c,d){if(!kc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=bv(l.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(EE(l)),v.setAll(g),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function xl(s,t,i,a){return s instanceof Gl?(function(c,d,g,v){if(!kc(c.precondition,d))return g;const y=c.value.clone(),T=Av(c.fieldTransforms,v,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,i,a):s instanceof is?(function(c,d,g,v){if(!kc(c.precondition,d))return g;const y=Av(c.fieldTransforms,v,d),T=d.data;return T.setAll(EE(c)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,t,i,a):(function(c,d,g){return kc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,t,i)}function mw(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=pE(a.transform,l||null);c!=null&&(i===null&&(i=dn.empty()),i.set(a.field,c))}return i||null}function Tv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Xa(a,l,((c,d)=>hw(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Gl extends mh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class is extends mh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function EE(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function bv(s,t,i){const a=new Map;Ft(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,g=t.data.field(c.field);a.set(c.field,cw(d,g,i[l]))}return a}function Av(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,uw(c,d,t))}return a}class Nm extends mh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pw extends mh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class gw{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&dw(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=xl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=xl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=fE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const v=vE(d,g);v!==null&&a.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(Tt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&Xa(this.mutations,t.mutations,((i,a)=>Tv(i,a)))&&Xa(this.baseMutations,t.baseMutations,((i,a)=>Tv(i,a)))}}class xm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Ft(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return sw})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new xm(t,i,a,l)}}class yw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class _w{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ie,zt;function vw(s){switch(s){case $.OK:return gt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return gt(15467,{code:s})}}function TE(s){if(s===void 0)return nr("GRPC error has no .code"),$.UNKNOWN;switch(s){case Ie.OK:return $.OK;case Ie.CANCELLED:return $.CANCELLED;case Ie.UNKNOWN:return $.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return $.INTERNAL;case Ie.UNAVAILABLE:return $.UNAVAILABLE;case Ie.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ie.NOT_FOUND:return $.NOT_FOUND;case Ie.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ie.ABORTED:return $.ABORTED;case Ie.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ie.DATA_LOSS:return $.DATA_LOSS;default:return gt(39323,{code:s})}}(zt=Ie||(Ie={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";function Ew(){return new TextEncoder}const Tw=new Yr([4294967295,4294967295],0);function Sv(s){const t=Ew().encode(s),i=new k0;return i.update(t),new Uint8Array(i.digest())}function wv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Yr([i,a],0),new Yr([l,c],0)]}class Dm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Sl(`Invalid padding: ${i}`);if(a<0)throw new Sl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Sl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Sl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Yr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Yr.fromNumber(a)));return l.compare(Tw)===1&&(l=new Yr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Sv(t),[a,l]=wv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Dm(c,l,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=Sv(t),[a,l]=wv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ph{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Fl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new ph(Tt.min(),l,new ce(kt),ir(),Ut())}}class Fl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Fl(a,i,Ut(),Ut(),Ut())}}class Uc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=l}}class bE{constructor(t,i){this.targetId=t,this.Ce=i}}class AE{constructor(t,i,a=Ke.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Rv{constructor(){this.ve=0,this.Fe=Iv(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),i=Ut(),a=Ut();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:gt(38017,{changeType:c})}})),new Fl(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=Iv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class bw{constructor(t){this.Ge=t,this.ze=new Map,this.je=ir(),this.He=Nc(),this.Je=Nc(),this.Ze=new ce(kt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(tm(c))if(a===0){const d=new ft(c.path);this.et(i,d,Ze.newNoDocument(d,Tt.min()))}else Ft(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),v=g?this.ct(g,t,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=Zr(a).toUint8Array()}catch(v){if(v instanceof Y0)return Ka("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new Dm(d,l,c)}catch(v){return Ka(v instanceof Sl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&tm(g.target)){const v=new ft(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Ze.newNoDocument(v,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Ut();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new ph(t,i,this.Ze,this.je,a);return this.je=ir(),this.He=Nc(),this.Je=Nc(),this.Ze=new ce(kt),l}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new Rv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Ve(kt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Ve(kt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Rv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Nc(){return new ce(ft.comparator)}function Iv(){return new ce(ft.comparator)}const Aw={asc:"ASCENDING",desc:"DESCENDING"},Sw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ww={and:"AND",or:"OR"};class Rw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function im(s,t){return s.useProto3Json||lh(t)?t:{value:t}}function Kc(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function SE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function Iw(s,t){return Kc(s,t.toTimestamp())}function Ii(s){return Ft(!!s,49232),Tt.fromTimestamp((function(i){const a=Jr(i);return new ae(a.seconds,a.nanos)})(s))}function Om(s,t){return rm(s,t).canonicalString()}function rm(s,t){const i=(function(l){return new ie(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function wE(s){const t=ie.fromString(s);return Ft(xE(t),10190,{key:t.toString()}),t}function sm(s,t){return Om(s.databaseId,t.path)}function Ud(s,t){const i=wE(t);if(i.get(1)!==s.databaseId.projectId)throw new rt($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new rt($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ft(IE(i))}function RE(s,t){return Om(s.databaseId,t)}function Cw(s){const t=wE(s);return t.length===4?ie.emptyPath():IE(t)}function am(s){return new ie(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function IE(s){return Ft(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Cv(s,t,i){return{name:sm(s,t),fields:i.value.mapValue.fields}}function Nw(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:gt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,T){return y.useProto3Json?(Ft(T===void 0||typeof T=="string",58123),Ke.fromBase64String(T||"")):(Ft(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Ke.fromUint8Array(T||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const T=y.code===void 0?$.UNKNOWN:TE(y.code);return new rt(T,y.message||"")})(d);i=new AE(a,l,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Ud(s,a.document.name),c=Ii(a.document.updateTime),d=a.document.createTime?Ii(a.document.createTime):Tt.min(),g=new dn({mapValue:{fields:a.document.fields}}),v=Ze.newFoundDocument(l,c,d,g),y=a.targetIds||[],T=a.removedTargetIds||[];i=new Uc(y,T,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Ud(s,a.document),c=a.readTime?Ii(a.readTime):Tt.min(),d=Ze.newNoDocument(l,c),g=a.removedTargetIds||[];i=new Uc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Ud(s,a.document),c=a.removedTargetIds||[];i=new Uc([],c,l,null)}else{if(!("filter"in t))return gt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new _w(l,c),g=a.targetId;i=new bE(g,d)}}return i}function xw(s,t){let i;if(t instanceof Gl)i={update:Cv(s,t.key,t.value)};else if(t instanceof Nm)i={delete:sm(s,t.key)};else if(t instanceof is)i={update:Cv(s,t.key,t.data),updateMask:zw(t.fieldMask)};else{if(!(t instanceof pw))return gt(16599,{dt:t.type});i={verify:sm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof Pl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Za)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Wa)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof zl)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw gt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Iw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:gt(27497)})(s,t.precondition)),i}function Dw(s,t){return s&&s.length>0?(Ft(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Ii(l.updateTime):Ii(c);return d.isEqual(Tt.min())&&(d=Ii(c)),new fw(d,l.transformResults||[])})(i,t)))):[]}function Ow(s,t){return{documents:[RE(s,t.path)]}}function Vw(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=RE(s,l);const c=(function(y){if(y.length!==0)return NE(ni.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((T=>(function(O){return{field:za(O.field),direction:Uw(O.dir)}})(T)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=im(s,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function Mw(s){let t=Cw(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Ft(a===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let c=[];i.where&&(c=(function(S){const O=CE(S);return O instanceof ni&&iE(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((O=>(function(Z){return new Ll(ja(Z.field),(function(nt){switch(nt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(O)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let O;return O=typeof S=="object"?S.value:S,lh(O)?null:O})(i.limit));let v=null;i.startAt&&(v=(function(S){const O=!!S.before,Y=S.values||[];return new Yc(Y,O)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const O=!S.before,Y=S.values||[];return new Yc(Y,O)})(i.endAt)),Z1(t,l,d,c,g,"F",v,y)}function kw(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function CE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ja(i.unaryFilter.field);return Ce.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=ja(i.unaryFilter.field);return Ce.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ja(i.unaryFilter.field);return Ce.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ja(i.unaryFilter.field);return Ce.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ce.create(ja(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return ni.create(i.compositeFilter.filters.map((a=>CE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(s):gt(30097,{filter:s})}function Uw(s){return Aw[s]}function Lw(s){return Sw[s]}function Pw(s){return ww[s]}function za(s){return{fieldPath:s.canonicalString()}}function ja(s){return Ye.fromServerFormat(s.fieldPath)}function NE(s){return s instanceof Ce?(function(i){if(i.op==="=="){if(pv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NAN"}};if(mv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(pv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NOT_NAN"}};if(mv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(i.field),op:Lw(i.op),value:i.value}}})(s):s instanceof ni?(function(i){const a=i.getFilters().map((l=>NE(l)));return a.length===1?a[0]:{compositeFilter:{op:Pw(i.op),filters:a}}})(s):gt(54877,{filter:s})}function zw(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function xE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function DE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class Hr{constructor(t,i,a,l,c=Tt.min(),d=Tt.min(),g=Ke.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(t){return new Hr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class jw{constructor(t){this.yt=t}}function Bw(s){const t=Mw({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?nm(t,t.limit,"L"):t}class qw{constructor(){this.Sn=new Hw}addToCollectionParentIndex(t,i){return this.Sn.add(i),J.resolve()}getCollectionParents(t,i){return J.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return J.resolve()}deleteFieldIndex(t,i){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,i){return J.resolve()}getDocumentsMatchingTarget(t,i){return J.resolve(null)}getIndexType(t,i){return J.resolve(0)}getFieldIndexes(t,i){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,i){return J.resolve($r.min())}getMinOffsetFromCollectionGroup(t,i){return J.resolve($r.min())}updateCollectionGroup(t,i,a){return J.resolve()}updateIndexEntries(t,i){return J.resolve()}}class Hw{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Ve(ie.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Ve(ie.comparator)).toArray()}}const Nv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OE=41943040;class fn{static withCacheSize(t){return new fn(t,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(OE,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class to{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new to(0)}static ar(){return new to(-1)}}const xv="LruGarbageCollector",Gw=1048576;function Dv([s,t],[i,a]){const l=kt(s,i);return l===0?kt(t,a):l}class Fw{constructor(t){this.Pr=t,this.buffer=new Ve(Dv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Dv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Qw{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){at(xv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){uo(i)?at(xv,"Ignoring IndexedDB error during garbage collection: ",i):await lo(i)}await this.Ar(3e5)}))}}class Yw{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return J.resolve(oh.ce);const a=new Fw(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Nv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Nv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,l,c,d,g,v,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(a=S,g=Date.now(),this.removeTargets(t,a,i)))).next((S=>(c=S,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(y=Date.now(),La()<=Mt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(v-g)+`ms
	Removed ${S} documents in `+(y-v)+`ms
Total Duration: ${y-T}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function Kw(s,t){return new Yw(s,t)}class Xw{constructor(){this.changes=new Gs((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?J.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class $w{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class Jw{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&xl(a.mutation,l,An.empty(),ae.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Ut()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Ut()){const l=ks();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=Al();return c.forEach(((g,v)=>{d=d.insert(g,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=ks();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Ut())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,l){let c=ir();const d=Nl(),g=(function(){return Nl()})();return i.forEach(((v,y)=>{const T=a.get(y.key);l.has(y.key)&&(T===void 0||T.mutation instanceof is)?c=c.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),xl(T.mutation,y,T.mutation.getFieldMask(),ae.now())):d.set(y.key,An.empty())})),this.recalculateAndSaveOverlays(t,c).next((v=>(v.forEach(((y,T)=>d.set(y,T))),i.forEach(((y,T)=>g.set(y,new $w(T,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=Nl();let l=new ce(((d,g)=>d-g)),c=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let T=a.get(v)||An.empty();T=g.applyToLocalView(y,T),a.set(v,T);const S=(l.get(g.batchId)||Ut()).add(v);l=l.insert(g.batchId,S)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),y=v.key,T=v.value,S=fE();T.forEach((O=>{if(!c.has(O)){const Y=vE(i.get(O),a.get(O));Y!==null&&S.set(O,Y),c=c.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,S))}return J.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return W1(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):oE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):J.resolve(ks());let g=Vl,v=c;return d.next((y=>J.forEach(y,((T,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(T)?J.resolve():this.remoteDocumentCache.getEntry(t,T).next((O=>{v=v.insert(T,O)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,v,y,Ut()))).next((T=>({batchId:g,changes:hE(T)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ft(i)).next((a=>{let l=Al();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=Al();return this.indexManager.getCollectionParents(t,c).next((g=>J.forEach(g,(v=>{const y=(function(S,O){return new co(O,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((T=>{T.forEach(((S,O)=>{d=d.insert(S,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((v,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,Ze.newInvalidDocument(T)))}));let g=Al();return d.forEach(((v,y)=>{const T=c.get(v);T!==void 0&&xl(T.mutation,y,An.empty(),ae.now()),hh(i,y)&&(g=g.insert(v,y))})),g}))}}class Zw{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return J.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ii(l.createTime)}})(i)),J.resolve()}getNamedQuery(t,i){return J.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:Bw(l.bundledQuery),readTime:Ii(l.readTime)}})(i)),J.resolve()}}class Ww{constructor(){this.overlays=new ce(ft.comparator),this.Lr=new Map}getOverlay(t,i){return J.resolve(this.overlays.get(i))}getOverlays(t,i){const a=ks();return J.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.bt(t,i,c)})),J.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),J.resolve()}getOverlaysForCollection(t,i,a){const l=ks(),c=i.length+1,d=new ft(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>a&&l.set(v.getKey(),v)}return J.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new ce(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let T=c.get(y.largestBatchId);T===null&&(T=ks(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const g=ks(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,T)=>g.set(y,T))),!(g.size()>=l)););return J.resolve(g)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new yw(i,a));let c=this.Lr.get(i);c===void 0&&(c=Ut(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class tR{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,J.resolve()}}class Vm{constructor(){this.kr=new Ve(Le.Kr),this.qr=new Ve(Le.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new Le(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new Le(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new ft(new ie([])),a=new Le(i,t),l=new Le(i,t+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new ft(new ie([])),a=new Le(i,t),l=new Le(i,t+1);let c=Ut();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Le(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Le{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return ft.comparator(t.key,i.key)||kt(t.Hr,i.Hr)}static Ur(t,i){return kt(t.Hr,i.Hr)||ft.comparator(t.key,i.key)}}class eR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ve(Le.Kr)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new gw(c,i,a,l);this.mutationQueue.push(d);for(const g of l)this.Jr=this.Jr.add(new Le(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return J.resolve(d)}lookupMutationBatch(t,i){return J.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?bm:this.Yn-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Le(i,0),l=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const g=this.Zr(d.Hr);c.push(g)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ve(kt);return i.forEach((l=>{const c=new Le(l,0),d=new Le(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{a=a.add(g.Hr)}))})),J.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;ft.isDocumentKey(c)||(c=c.child(""));const d=new Le(new ft(c),0);let g=new Ve(kt);return this.Jr.forEachWhile((v=>{const y=v.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(g=g.add(v.Hr)),!0)}),d),J.resolve(this.Yr(g))}Yr(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ft(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return J.forEach(i.mutations,(l=>{const c=new Le(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new Le(i,0),l=this.Jr.firstAfterOrEqual(a);return J.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class nR{constructor(t){this.ti=t,this.docs=(function(){return new ce(ft.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return J.resolve(a?a.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(t,i){let a=ir();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Ze.newInvalidDocument(l))})),J.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=ir();const d=i.path,g=new ft(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:y,value:{document:T}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||N1(C1(T),a)<=0||(l.has(T.key)||hh(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(t,i,a,l){gt(9500)}ni(t,i){return J.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new iR(this)}getSize(t){return J.resolve(this.size)}}class iR extends Xw{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),J.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class rR{constructor(t){this.persistence=t,this.ri=new Gs((i=>wm(i)),Rm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.ii=0,this.si=new Vm,this.targetCount=0,this.oi=to._r()}forEachTarget(t,i){return this.ri.forEach(((a,l)=>i(l))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),J.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new to(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,J.resolve()}updateTargetData(t,i){return this.lr(i),J.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),J.waitFor(c).next((()=>l))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return J.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),J.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),J.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return J.resolve(a)}containsKey(t,i){return J.resolve(this.si.containsKey(i))}}class VE{constructor(t,i){this._i={},this.overlays={},this.ai=new oh(0),this.ui=!1,this.ui=!0,this.ci=new tR,this.referenceDelegate=t(this),this.li=new rR(this),this.indexManager=new qw,this.remoteDocumentCache=(function(l){return new nR(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new jw(i),this.Pi=new Zw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Ww,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new eR(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){at("MemoryPersistence","Starting transaction:",t);const l=new sR(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return J.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class sR extends D1{constructor(t){super(),this.currentSequenceNumber=t}}class Mm{constructor(t){this.persistence=t,this.Ri=new Vm,this.Ai=null}static Vi(t){return new Mm(t)}get di(){if(this.Ai)return this.Ai;throw gt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),J.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),J.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),J.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,(a=>{const l=ft.fromPath(a);return this.mi(t,l).next((c=>{c||i.removeEntry(l,Tt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class Xc{constructor(t,i){this.persistence=t,this.fi=new Gs((a=>M1(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=Kw(this,i)}static Vi(t,i){return new Xc(t,i)}Ti(){}Ii(t){return J.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return J.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((c=>c?J.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((g=>{g||(a++,c.removeEntry(d,Tt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),J.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),J.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),J.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Vc(t.data.value)),i}wr(t,i,a){return J.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return J.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class km{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=l}static Es(t,i){let a=Ut(),l=Ut();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new km(t,i.fromCache,a,l)}}class aR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class oR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return XA()?8:O1(We())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new aR;return this.ys(t,i,d).next((g=>{if(c.result=g,this.As)return this.ws(t,i,d,g.size)}))})).next((()=>c.result))}ws(t,i,a,l){return a.documentReadCount<this.Vs?(La()<=Mt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Pa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(La()<=Mt.DEBUG&&at("QueryEngine","Query:",Pa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(La()<=Mt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Pa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ri(i))):J.resolve())}gs(t,i){if(vv(i))return J.resolve(null);let a=Ri(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=nm(i,null,"F"),a=Ri(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Ut(...c);return this.fs.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((v=>{const y=this.bs(i,g);return this.Ss(i,y,d,v.readTime)?this.gs(t,nm(i,null,"F")):this.Ds(t,y,i,v)}))))})))))}ps(t,i,a,l){return vv(i)||l.isEqual(Tt.min())?J.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?J.resolve(null):(La()<=Mt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Pa(i)),this.Ds(t,d,i,I1(l,Vl)).next((g=>g)))}))}bs(t,i){let a=new Ve(uE(t));return i.forEach(((l,c)=>{hh(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,a){return La()<=Mt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Pa(i)),this.fs.getDocumentsMatchingQuery(t,i,$r.min(),a)}Ds(t,i,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Um="LocalStore",lR=3e8;class uR{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new ce(kt),this.Fs=new Gs((c=>wm(c)),Rm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Jw(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function cR(s,t,i,a){return new uR(s,t,i,a)}async function ME(s,t){const i=St(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let v=Ut();for(const y of l){d.push(y.batchId);for(const T of y.mutations)v=v.add(T.key)}for(const y of c){g.push(y.batchId);for(const T of y.mutations)v=v.add(T.key)}return i.localDocuments.getDocuments(a,v).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function hR(s,t){const i=St(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,v,y,T){const S=y.batch,O=S.keys();let Y=J.resolve();return O.forEach((Z=>{Y=Y.next((()=>T.getEntry(v,Z))).next((it=>{const nt=y.docVersions.get(Z);Ft(nt!==null,48541),it.version.compareTo(nt)<0&&(S.applyToRemoteDocument(it,y),it.isValidDocument()&&(it.setReadTime(y.commitVersion),T.addEntry(it)))}))})),Y.next((()=>g.mutationQueue.removeMutationBatch(v,S)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let v=Ut();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(v=v.add(g.batch.mutations[y].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function kE(s){const t=St(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function fR(s,t){const i=St(s),a=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const g=[];t.targetChanges.forEach(((T,S)=>{const O=l.get(S);if(!O)return;g.push(i.li.removeMatchingKeys(c,T.removedDocuments,S).next((()=>i.li.addMatchingKeys(c,T.addedDocuments,S))));let Y=O.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?Y=Y.withResumeToken(Ke.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):T.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(T.resumeToken,a)),l=l.insert(S,Y),(function(it,nt,pt){return it.resumeToken.approximateByteSize()===0||nt.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=lR?!0:pt.addedDocuments.size+pt.modifiedDocuments.size+pt.removedDocuments.size>0})(O,Y,T)&&g.push(i.li.updateTargetData(c,Y))}));let v=ir(),y=Ut();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),g.push(dR(c,d,t.documentUpdates).next((T=>{v=T.Bs,y=T.Ls}))),!a.isEqual(Tt.min())){const T=i.li.getLastRemoteSnapshotVersion(c).next((S=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(T)}return J.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,y))).next((()=>v))})).then((c=>(i.vs=l,c)))}function dR(s,t,i){let a=Ut(),l=Ut();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=ir();return i.forEach(((g,v)=>{const y=c.get(g);v.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),v.isNoDocument()&&v.version.isEqual(Tt.min())?(t.removeEntry(g,v.readTime),d=d.insert(g,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(v),d=d.insert(g,v)):at(Um,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",v.version)})),{Bs:d,Ls:l}}))}function mR(s,t){const i=St(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=bm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function pR(s,t){const i=St(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,t).next((c=>c?(l=c,J.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new Hr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function om(s,t,i){const a=St(s),l=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!uo(d))throw d;at(Um,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function Ov(s,t,i){const a=St(s);let l=Tt.min(),c=Ut();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,T){const S=St(v),O=S.Fs.get(T);return O!==void 0?J.resolve(S.vs.get(O)):S.li.getTargetData(y,T)})(a,d,Ri(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,g.targetId).next((v=>{c=v}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:Tt.min(),i?c:Ut()))).next((g=>(gR(a,nw(t),g),{documents:g,ks:c})))))}function gR(s,t,i){let a=s.Ms.get(t)||Tt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(t,a)}class Vv{constructor(){this.activeTargetIds=lw()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class yR{constructor(){this.vo=new Vv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Vv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class _R{Mo(t){}shutdown(){}}const Mv="ConnectivityMonitor";class kv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){at(Mv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){at(Mv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let xc=null;function lm(){return xc===null?xc=(function(){return 268435456+Math.round(2147483648*Math.random())})():xc++,"0x"+xc.toString(16)}const Ld="RestConnection",vR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class ER{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===Fc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,c){const d=lm(),g=this.Qo(t,i.toUriEncodedString());at(Ld,`Sending RPC '${t}' ${d}:`,g,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,l,c);const{host:y}=new URL(g),T=so(y);return this.zo(t,g,v,a,T).then((S=>(at(Ld,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw Ka(Ld,`RPC '${t}' ${d} failed with error: `,S,"url: ",g,"request:",a),S}))}jo(t,i,a,l,c,d){return this.Wo(t,i,a,l,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+oo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const a=vR[t];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class TR{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const $e="WebChannelConnection",El=(s,t,i)=>{s.listen(t,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Ba extends ER{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Ba.c_){const t=z0();El(t,P0.STAT_EVENT,(i=>{i.stat===Xd.PROXY?at($e,"STAT_EVENT: detected buffering proxy"):i.stat===Xd.NOPROXY&&at($e,"STAT_EVENT: detected no buffering proxy")})),Ba.c_=!0}}zo(t,i,a,l,c){const d=lm();return new Promise(((g,v)=>{const y=new U0;y.setWithCredentials(!0),y.listenOnce(L0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Oc.NO_ERROR:const S=y.getResponseJson();at($e,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),g(S);break;case Oc.TIMEOUT:at($e,`RPC '${t}' ${d} timed out`),v(new rt($.DEADLINE_EXCEEDED,"Request time out"));break;case Oc.HTTP_ERROR:const O=y.getStatus();if(at($e,`RPC '${t}' ${d} failed with status:`,O,"response text:",y.getResponseText()),O>0){let Y=y.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const Z=Y?.error;if(Z&&Z.status&&Z.message){const it=(function(pt){const vt=pt.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(vt)>=0?vt:$.UNKNOWN})(Z.status);v(new rt(it,Z.message))}else v(new rt($.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new rt($.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{at($e,`RPC '${t}' ${d} completed.`)}}));const T=JSON.stringify(l);at($e,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",T,a,15)}))}T_(t,i,a){const l=lm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,a),g.encodeInitMessageHeaders=!0;const y=c.join("");at($e,`Creating RPC '${t}' stream ${l}: ${y}`,g);const T=d.createWebChannel(y,g);this.I_(T);let S=!1,O=!1;const Y=new TR({Ho:Z=>{O?at($e,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(S||(at($e,`Opening RPC '${t}' stream ${l} transport.`),T.open(),S=!0),at($e,`RPC '${t}' stream ${l} sending:`,Z),T.send(Z))},Jo:()=>T.close()});return El(T,bl.EventType.OPEN,(()=>{O||(at($e,`RPC '${t}' stream ${l} transport opened.`),Y.i_())})),El(T,bl.EventType.CLOSE,(()=>{O||(O=!0,at($e,`RPC '${t}' stream ${l} transport closed`),Y.o_(),this.E_(T))})),El(T,bl.EventType.ERROR,(Z=>{O||(O=!0,Ka($e,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),Y.o_(new rt($.UNAVAILABLE,"The operation could not be completed")))})),El(T,bl.EventType.MESSAGE,(Z=>{if(!O){const it=Z.data[0];Ft(!!it,16349);const nt=it,pt=nt?.error||nt[0]?.error;if(pt){at($e,`RPC '${t}' stream ${l} received error:`,pt);const vt=pt.status;let Et=(function(lt){const C=Ie[lt];if(C!==void 0)return TE(C)})(vt),Qt=pt.message;Et===void 0&&(Et=$.INTERNAL,Qt="Unknown error status: "+vt+" with message "+pt.message),O=!0,Y.o_(new rt(Et,Qt)),T.close()}else at($e,`RPC '${t}' stream ${l} received:`,it),Y.__(it)}})),Ba.u_(),setTimeout((()=>{Y.s_()}),0),Y}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return j0()}}function bR(s){return new Ba(s)}function Pd(){return typeof document<"u"?document:null}function gh(s){return new Rw(s,!0)}Ba.c_=!1;class UE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&at("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Uv="PersistentStream";class LE{constructor(t,i,a,l,c,d,g,v){this.Ci=t,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new UE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(nr(i.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new rt($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(Uv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(at(Uv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class AR extends LE{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Nw(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Tt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?Ii(d.readTime):Tt.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=am(this.serializer),i.addTarget=(function(c,d){let g;const v=d.target;if(g=tm(v)?{documents:Ow(c,v)}:{query:Vw(c,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=SE(c,d.resumeToken);const y=im(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(Tt.min())>0){g.readTime=Kc(c,d.snapshotVersion.toTimestamp());const y=im(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const a=kw(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=am(this.serializer),i.removeTarget=t,this.K_(i)}}class SR extends LE{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Dw(t.writeResults,t.commitTime),a=Ii(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=am(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>xw(this.serializer,a)))};this.K_(i)}}class wR{}class RR extends wR{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new rt($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,rm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new rt($.UNKNOWN,c.toString())}))}jo(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(t,rm(i,a),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function IR(s,t,i,a){return new RR(s,t,i,a)}class CR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(nr(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const qs="RemoteStore";class NR{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{Fs(this)&&(at(qs,"Restarting streams for network reachability change."),await(async function(v){const y=St(v);y.Ea.add(4),await Ql(y),y.Va.set("Unknown"),y.Ea.delete(4),await yh(y)})(this))}))})),this.Va=new CR(a,l)}}async function yh(s){if(Fs(s))for(const t of s.Ra)await t(!0)}async function Ql(s){for(const t of s.Ra)await t(!1)}function PE(s,t){const i=St(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),jm(i)?zm(i):ho(i).O_()&&Pm(i,t))}function Lm(s,t){const i=St(s),a=ho(i);i.Ia.delete(t),a.O_()&&zE(i,t),i.Ia.size===0&&(a.O_()?a.L_():Fs(i)&&i.Va.set("Unknown"))}function Pm(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ho(s).Z_(t)}function zE(s,t){s.da.$e(t),ho(s).X_(t)}function zm(s){s.da=new bw({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),ho(s).start(),s.Va.ua()}function jm(s){return Fs(s)&&!ho(s).x_()&&s.Ia.size>0}function Fs(s){return St(s).Ea.size===0}function jE(s){s.da=void 0}async function xR(s){s.Va.set("Online")}async function DR(s){s.Ia.forEach(((t,i)=>{Pm(s,t)}))}async function OR(s,t){jE(s),jm(s)?(s.Va.ha(t),zm(s)):s.Va.set("Unknown")}async function VR(s,t,i){if(s.Va.set("Online"),t instanceof AE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.da.removeTarget(g))})(s,t)}catch(a){at(qs,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await $c(s,a)}else if(t instanceof Uc?s.da.Xe(t):t instanceof bE?s.da.st(t):s.da.tt(t),!i.isEqual(Tt.min()))try{const a=await kE(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const T=c.Ia.get(y);T&&c.Ia.set(y,T.withResumeToken(v.resumeToken,d))}})),g.targetMismatches.forEach(((v,y)=>{const T=c.Ia.get(v);if(!T)return;c.Ia.set(v,T.withResumeToken(Ke.EMPTY_BYTE_STRING,T.snapshotVersion)),zE(c,v);const S=new Hr(T.target,v,y,T.sequenceNumber);Pm(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){at(qs,"Failed to raise snapshot:",a),await $c(s,a)}}async function $c(s,t,i){if(!uo(t))throw t;s.Ea.add(1),await Ql(s),s.Va.set("Offline"),i||(i=()=>kE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{at(qs,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await yh(s)}))}function BE(s,t){return t().catch((i=>$c(s,i,t)))}async function _h(s){const t=St(s),i=ts(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:bm;for(;MR(t);)try{const l=await mR(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,kR(t,l)}catch(l){await $c(t,l)}qE(t)&&HE(t)}function MR(s){return Fs(s)&&s.Ta.length<10}function kR(s,t){s.Ta.push(t);const i=ts(s);i.O_()&&i.Y_&&i.ea(t.mutations)}function qE(s){return Fs(s)&&!ts(s).x_()&&s.Ta.length>0}function HE(s){ts(s).start()}async function UR(s){ts(s).ra()}async function LR(s){const t=ts(s);for(const i of s.Ta)t.ea(i.mutations)}async function PR(s,t,i){const a=s.Ta.shift(),l=xm.from(a,t,i);await BE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await _h(s)}async function zR(s,t){t&&ts(s).Y_&&await(async function(a,l){if((function(d){return vw(d)&&d!==$.ABORTED})(l.code)){const c=a.Ta.shift();ts(a).B_(),await BE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await _h(a)}})(s,t),qE(s)&&HE(s)}async function Lv(s,t){const i=St(s);i.asyncQueue.verifyOperationInProgress(),at(qs,"RemoteStore received new credentials");const a=Fs(i);i.Ea.add(3),await Ql(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await yh(i)}async function jR(s,t){const i=St(s);t?(i.Ea.delete(2),await yh(i)):t||(i.Ea.add(2),await Ql(i),i.Va.set("Unknown"))}function ho(s){return s.ma||(s.ma=(function(i,a,l){const c=St(i);return c.sa(),new AR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:xR.bind(null,s),Yo:DR.bind(null,s),t_:OR.bind(null,s),J_:VR.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),jm(s)?zm(s):s.Va.set("Unknown")):(await s.ma.stop(),jE(s))}))),s.ma}function ts(s){return s.fa||(s.fa=(function(i,a,l){const c=St(i);return c.sa(),new SR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:UR.bind(null,s),t_:zR.bind(null,s),ta:LR.bind(null,s),na:PR.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await _h(s)):(await s.fa.stop(),s.Ta.length>0&&(at(qs,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Bm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Ls,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,g=new Bm(t,i,d,l,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qm(s,t){if(nr("AsyncQueue",`${t}: ${s}`),uo(s))return new rt($.UNAVAILABLE,`${t}: ${s}`);throw s}class qa{static emptySet(t){return new qa(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ft.comparator(i.key,a.key):(i,a)=>ft.comparator(i.key,a.key),this.keyedMap=Al(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof qa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new qa;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Pv{constructor(){this.ga=new ce(ft.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):gt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class eo{constructor(t,i,a,l,c,d,g,v,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new eo(t,i,qa.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ch(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class BR{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class qR{constructor(){this.queries=zv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=St(i),c=l.queries;l.queries=zv(),c.forEach(((d,g)=>{for(const v of g.ba)v.onError(a)}))})(this,new rt($.ABORTED,"Firestore shutting down"))}}function zv(){return new Gs((s=>lE(s)),ch)}async function HR(s,t){const i=St(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(a=2):(c=new BR,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=qm(d,`Initialization of query '${Pa(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Hm(i)}async function GR(s,t){const i=St(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function FR(s,t){const i=St(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.ba)g.Fa(l)&&(a=!0);d.wa=l}}a&&Hm(i)}function QR(s,t,i){const a=St(s),l=a.queries.get(t);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(t)}function Hm(s){s.Ca.forEach((t=>{t.next()}))}var um,jv;(jv=um||(um={})).Ma="default",jv.Cache="cache";class YR{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new eo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=eo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==um.Cache}}class GE{constructor(t){this.key=t}}class FE{constructor(t){this.key=t}}class KR{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ut(),this.mutatedKeys=Ut(),this.eu=uE(t),this.tu=new qa(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new Pv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((T,S)=>{const O=l.get(T),Y=hh(this.query,S)?S:null,Z=!!O&&this.mutatedKeys.has(O.key),it=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let nt=!1;O&&Y?O.data.isEqual(Y.data)?Z!==it&&(a.track({type:3,doc:Y}),nt=!0):this.su(O,Y)||(a.track({type:2,doc:Y}),nt=!0,(v&&this.eu(Y,v)>0||y&&this.eu(Y,y)<0)&&(g=!0)):!O&&Y?(a.track({type:0,doc:Y}),nt=!0):O&&!Y&&(a.track({type:1,doc:O}),nt=!0,(v||y)&&(g=!0)),nt&&(Y?(d=d.add(Y),c=it?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),a.track({type:1,doc:T})}return{tu:d,iu:a,Ss:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((T,S)=>(function(Y,Z){const it=nt=>{switch(nt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Vt:nt})}};return it(Y)-it(Z)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(a),l=l??!1;const g=i&&!l?this._u():[],v=this.Ya.size===0&&this.current&&!l?1:0,y=v!==this.Xa;return this.Xa=v,d.length!==0||y?{snapshot:new eo(this.query,t.tu,c,d,t.mutatedKeys,v===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Pv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Ut(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new FE(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new GE(a))})),i}cu(t){this.Za=t.ks,this.Ya=Ut();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Gm="SyncEngine";class XR{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class $R{constructor(t){this.key=t,this.hu=!1}}class JR{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Gs((g=>lE(g)),ch),this.Iu=new Map,this.Eu=new Set,this.Ru=new ce(ft.comparator),this.Au=new Map,this.Vu=new Vm,this.du={},this.mu=new Map,this.fu=to.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ZR(s,t,i=!0){const a=JE(s);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await QE(a,t,i,!0),l}async function WR(s,t){const i=JE(s);await QE(i,t,!0,!1)}async function QE(s,t,i,a){const l=await pR(s.localStore,Ri(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await t2(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&PE(s.remoteStore,l),g}async function t2(s,t,i,a,l){s.pu=(S,O,Y)=>(async function(it,nt,pt,vt){let Et=nt.view.ru(pt);Et.Ss&&(Et=await Ov(it.localStore,nt.query,!1).then((({documents:C})=>nt.view.ru(C,Et))));const Qt=vt&&vt.targetChanges.get(nt.targetId),oe=vt&&vt.targetMismatches.get(nt.targetId)!=null,lt=nt.view.applyChanges(Et,it.isPrimaryClient,Qt,oe);return qv(it,nt.targetId,lt.au),lt.snapshot})(s,S,O,Y);const c=await Ov(s.localStore,t,!0),d=new KR(t,c.ks),g=d.ru(c.documents),v=Fl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),y=d.applyChanges(g,s.isPrimaryClient,v);qv(s,i,y.au);const T=new XR(t,i,d);return s.Tu.set(t,T),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),y.snapshot}async function e2(s,t,i){const a=St(s),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!ch(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await om(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Lm(a.remoteStore,l.targetId),cm(a,l.targetId)})).catch(lo)):(cm(a,l.targetId),await om(a.localStore,l.targetId,!0))}async function n2(s,t){const i=St(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Lm(i.remoteStore,a.targetId))}async function i2(s,t,i){const a=c2(s);try{const l=await(function(d,g){const v=St(d),y=ae.now(),T=g.reduce(((Y,Z)=>Y.add(Z.key)),Ut());let S,O;return v.persistence.runTransaction("Locally write mutations","readwrite",(Y=>{let Z=ir(),it=Ut();return v.xs.getEntries(Y,T).next((nt=>{Z=nt,Z.forEach(((pt,vt)=>{vt.isValidDocument()||(it=it.add(pt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(Y,Z))).next((nt=>{S=nt;const pt=[];for(const vt of g){const Et=mw(vt,S.get(vt.key).overlayedDocument);Et!=null&&pt.push(new is(vt.key,Et,tE(Et.value.mapValue),Wn.exists(!0)))}return v.mutationQueue.addMutationBatch(Y,y,pt,g)})).next((nt=>{O=nt;const pt=nt.applyToLocalDocumentSet(S,it);return v.documentOverlayCache.saveOverlays(Y,nt.batchId,pt)}))})).then((()=>({batchId:O.batchId,changes:hE(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,v){let y=d.du[d.currentUser.toKey()];y||(y=new ce(kt)),y=y.insert(g,v),d.du[d.currentUser.toKey()]=y})(a,l.batchId,i),await Yl(a,l.changes),await _h(a.remoteStore)}catch(l){const c=qm(l,"Failed to persist write");i.reject(c)}}async function YE(s,t){const i=St(s);try{const a=await fR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ft(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ft(d.hu,14607):l.removedDocuments.size>0&&(Ft(d.hu,42227),d.hu=!1))})),await Yl(i,a,t)}catch(a){await lo(a)}}function Bv(s,t,i){const a=St(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const v=St(d);v.onlineState=g;let y=!1;v.queries.forEach(((T,S)=>{for(const O of S.ba)O.va(g)&&(y=!0)})),y&&Hm(v)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function r2(s,t,i){const a=St(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new ce(ft.comparator);d=d.insert(c,Ze.newNoDocument(c,Tt.min()));const g=Ut().add(c),v=new ph(Tt.min(),new Map,new ce(kt),d,g);await YE(a,v),a.Ru=a.Ru.remove(c),a.Au.delete(t),Fm(a)}else await om(a.localStore,t,!1).then((()=>cm(a,t,i))).catch(lo)}async function s2(s,t){const i=St(s),a=t.batch.batchId;try{const l=await hR(i.localStore,t);XE(i,a,null),KE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Yl(i,l)}catch(l){await lo(l)}}async function a2(s,t,i){const a=St(s);try{const l=await(function(d,g){const v=St(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return v.mutationQueue.lookupMutationBatch(y,g).next((S=>(Ft(S!==null,37113),T=S.keys(),v.mutationQueue.removeMutationBatch(y,S)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,T,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>v.localDocuments.getDocuments(y,T)))}))})(a.localStore,t);XE(a,t,i),KE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Yl(a,l)}catch(l){await lo(l)}}function KE(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function XE(s,t,i){const a=St(s);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function cm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((a=>{s.Vu.containsKey(a)||$E(s,a)}))}function $E(s,t){s.Eu.delete(t.path.canonicalString());const i=s.Ru.get(t);i!==null&&(Lm(s.remoteStore,i),s.Ru=s.Ru.remove(t),s.Au.delete(i),Fm(s))}function qv(s,t,i){for(const a of i)a instanceof GE?(s.Vu.addReference(a.key,t),o2(s,a)):a instanceof FE?(at(Gm,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,t),s.Vu.containsKey(a.key)||$E(s,a.key)):gt(19791,{wu:a})}function o2(s,t){const i=t.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(at(Gm,"New document in limbo: "+i),s.Eu.add(a),Fm(s))}function Fm(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new ft(ie.fromString(t)),a=s.fu.next();s.Au.set(a,new $R(i)),s.Ru=s.Ru.insert(i,a),PE(s.remoteStore,new Hr(Ri(Im(i.path)),a,"TargetPurposeLimboResolution",oh.ce))}}async function Yl(s,t,i){const a=St(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,v)=>{d.push(a.pu(v,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const T=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,T?"current":"not-current")}if(y){l.push(y);const T=km.Es(v.targetId,y);c.push(T)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(v,y){const T=St(v);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>J.forEach(y,(O=>J.forEach(O.Ts,(Y=>T.persistence.referenceDelegate.addReference(S,O.targetId,Y))).next((()=>J.forEach(O.Is,(Y=>T.persistence.referenceDelegate.removeReference(S,O.targetId,Y)))))))))}catch(S){if(!uo(S))throw S;at(Um,"Failed to update sequence numbers: "+S)}for(const S of y){const O=S.targetId;if(!S.fromCache){const Y=T.vs.get(O),Z=Y.snapshotVersion,it=Y.withLastLimboFreeSnapshotVersion(Z);T.vs=T.vs.insert(O,it)}}})(a.localStore,c))}async function l2(s,t){const i=St(s);if(!i.currentUser.isEqual(t)){at(Gm,"User change. New user:",t.toKey());const a=await ME(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((v=>{v.reject(new rt($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Yl(i,a.Ns)}}function u2(s,t){const i=St(s),a=i.Au.get(t);if(a&&a.hu)return Ut().add(a.key);{let l=Ut();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function JE(s){const t=St(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=YE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=u2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=r2.bind(null,t),t.Pu.J_=FR.bind(null,t.eventManager),t.Pu.yu=QR.bind(null,t.eventManager),t}function c2(s){const t=St(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=s2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=a2.bind(null,t),t}class Jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=gh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return cR(this.persistence,new oR,t.initialUser,this.serializer)}Cu(t){return new VE(Mm.Vi,this.serializer)}Du(t){return new yR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jc.provider={build:()=>new Jc};class h2 extends Jc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ft(this.persistence.referenceDelegate instanceof Xc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Qw(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new VE((a=>Xc.Vi(a,i)),this.serializer)}}class hm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Bv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=l2.bind(null,this.syncEngine),await jR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new qR})()}createDatastore(t){const i=gh(t.databaseInfo.databaseId),a=bR(t.databaseInfo);return IR(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,g){return new NR(a,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>Bv(this.syncEngine,i,0)),(function(){return kv.v()?new kv:new _R})())}createSyncEngine(t,i){return(function(l,c,d,g,v,y,T){const S=new JR(l,c,d,g,v,y);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=St(i);at(qs,"RemoteStore shutting down."),a.Ea.add(5),await Ql(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}hm.provider={build:()=>new hm};class f2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):nr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const es="FirestoreClient";class d2{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=Je.UNAUTHENTICATED,this.clientId=Tm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{at(es,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(at(es,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ls;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=qm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function zd(s,t){s.asyncQueue.verifyOperationInProgress(),at(es,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await ME(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function Hv(s,t){s.asyncQueue.verifyOperationInProgress();const i=await m2(s);at(es,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>Lv(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>Lv(t.remoteStore,l))),s._onlineComponents=t}async function m2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){at(es,"Using user provided OfflineComponentProvider");try{await zd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ka("Error using user provided cache. Falling back to memory cache: "+i),await zd(s,new Jc)}}else at(es,"Using default OfflineComponentProvider"),await zd(s,new h2(void 0));return s._offlineComponents}async function ZE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(at(es,"Using user provided OnlineComponentProvider"),await Hv(s,s._uninitializedComponentsProvider._online)):(at(es,"Using default OnlineComponentProvider"),await Hv(s,new hm))),s._onlineComponents}function p2(s){return ZE(s).then((t=>t.syncEngine))}async function Gv(s){const t=await ZE(s),i=t.eventManager;return i.onListen=ZR.bind(null,t.syncEngine),i.onUnlisten=e2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=WR.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=n2.bind(null,t.syncEngine),i}function g2(s,t,i,a){const l=new f2(a),c=new YR(t,l,i);return s.asyncQueue.enqueueAndForget((async()=>HR(await Gv(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>GR(await Gv(s),c)))}}function y2(s,t){const i=new Ls;return s.asyncQueue.enqueueAndForget((async()=>i2(await p2(s),t,i))),i.promise}function WE(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const _2="ComponentProvider",Fv=new Map;function v2(s,t,i,a,l){return new L1(s,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,WE(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const tT="firestore.googleapis.com",Qv=!0;class Yv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new rt($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tT,this.ssl=Qv}else this.host=t.host,this.ssl=t.ssl??Qv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=OE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Gw)throw new rt($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}R1("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WE(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new rt($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new rt($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new rt($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class vh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new rt($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new g1;switch(a.type){case"firstParty":return new E1(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new rt($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Fv.get(i);a&&(at(_2,"Removing Datastore"),Fv.delete(i),a.terminate())})(this),Promise.resolve()}}function E2(s,t,i,a={}){s=Kr(s,vh);const l=so(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${i}`;l&&(I0(`https://${g}`),C0("Firestore",!0)),c.host!==tT&&c.host!==g&&Ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:g,ssl:l,emulatorOptions:a};if(!tr(v,d)&&(s._setSettings(v),a.mockUserToken)){let y,T;if(typeof a.mockUserToken=="string")y=a.mockUserToken,T=Je.MOCK_USER;else{y=jA(a.mockUserToken,s._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new rt($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Je(S)}s._authCredentials=new y1(new q0(y,T))}}class Qs{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Qs(this.firestore,t,this._query)}}class xe{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new xe(this.firestore,t,this._key)}toJSON(){return{type:xe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Hl(i,xe._jsonSchema))return new xe(t,a||null,new ft(ie.fromString(i.referencePath)))}}xe._jsonSchemaVersion="firestore/documentReference/1.0",xe._jsonSchema={type:Ne("string",xe._jsonSchemaVersion),referencePath:Ne("string")};class Xr extends Qs{constructor(t,i,a){super(t,i,Im(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new xe(this.firestore,null,new ft(t))}withConverter(t){return new Xr(this.firestore,t,this._path)}}function jd(s,t,...i){if(s=Pe(s),H0("collection","path",t),s instanceof vh){const a=ie.fromString(t,...i);return sv(a),new Xr(s,null,a)}{if(!(s instanceof xe||s instanceof Xr))throw new rt($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ie.fromString(t,...i));return sv(a),new Xr(s.firestore,null,a)}}function fm(s,t,...i){if(s=Pe(s),arguments.length===1&&(t=Tm.newId()),H0("doc","path",t),s instanceof vh){const a=ie.fromString(t,...i);return rv(a),new xe(s,null,new ft(a))}{if(!(s instanceof xe||s instanceof Xr))throw new rt($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ie.fromString(t,...i));return rv(a),new xe(s.firestore,s instanceof Xr?s.converter:null,new ft(a))}}const Kv="AsyncQueue";class Xv{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new UE(this,"async_queue_retry"),this._c=()=>{const a=Pd();a&&at(Kv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Pd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Pd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ls;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!uo(t))throw t;at(Kv,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,nr("INTERNAL UNHANDLED ERROR: ",$v(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Bm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&gt(47125,{Pc:$v(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function $v(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class no extends vh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new Xv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Xv(t),this._firestoreClient=void 0,await t}}}function T2(s,t){const i=typeof s=="object"?s:O0(),a=typeof s=="string"?s:Fc,l=vm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=PA("firestore");c&&E2(l,...c)}return l}function eT(s){if(s._terminated)throw new rt($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||b2(s),s._firestoreClient}function b2(s){const t=s._freezeSettings(),i=v2(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new d2(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Ln{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ln(Ke.fromBase64String(t))}catch(i){throw new rt($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Ln(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Hl(t,Ln._jsonSchema))return Ln.fromBase64String(t.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:Ne("string",Ln._jsonSchemaVersion),bytes:Ne("string")};class Qm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new rt($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Ys{constructor(t){this._methodName=t}}class Ci{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new rt($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new rt($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ci._jsonSchemaVersion}}static fromJSON(t){if(Hl(t,Ci._jsonSchema))return new Ci(t.latitude,t.longitude)}}Ci._jsonSchemaVersion="firestore/geoPoint/1.0",Ci._jsonSchema={type:Ne("string",Ci._jsonSchemaVersion),latitude:Ne("number"),longitude:Ne("number")};class ti{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ti._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Hl(t,ti._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ti(t.vectorValues);throw new rt($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ti._jsonSchemaVersion="firestore/vectorValue/1.0",ti._jsonSchema={type:Ne("string",ti._jsonSchemaVersion),vectorValues:Ne("object")};const A2=/^__.*__$/;class S2{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new is(t,this.data,this.fieldMask,i,this.fieldTransforms):new Gl(t,this.data,i,this.fieldTransforms)}}class nT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new is(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function iT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{dataSource:s})}}class Eh{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Eh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Zc(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(iT(this.dataSource)&&A2.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class w2{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||gh(t)}createContext(t,i,a,l=!1){return new Eh({dataSource:t,methodName:i,targetDoc:a,path:Ye.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ym(s){const t=s._freezeSettings(),i=gh(s._databaseId);return new w2(s._databaseId,!!t.ignoreUndefinedProperties,i)}function R2(s,t,i,a,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,t,i,l);Zm("Data must be an object, but it was:",d,a);const g=sT(a,d);let v,y;if(c.merge)v=new An(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const S of c.mergeFields){const O=io(t,S,i);if(!d.contains(O))throw new rt($.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);lT(T,O)||T.push(O)}v=new An(T),y=d.fieldTransforms.filter((S=>v.covers(S.field)))}else v=null,y=d.fieldTransforms;return new S2(new dn(g),v,y)}class Th extends Ys{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Th}}function rT(s,t,i){return new Eh({dataSource:3,targetDoc:t.settings.targetDoc,methodName:s._methodName,arrayElement:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Km extends Ys{_toFieldTransform(t){return new dh(t.path,new Pl)}isEqual(t){return t instanceof Km}}class Xm extends Ys{constructor(t,i){super(t),this.Ac=i}_toFieldTransform(t){const i=rT(this,t,!0),a=this.Ac.map((c=>Ks(c,i))),l=new Za(a);return new dh(t.path,l)}isEqual(t){return t instanceof Xm&&tr(this.Ac,t.Ac)}}class $m extends Ys{constructor(t,i){super(t),this.Ac=i}_toFieldTransform(t){const i=rT(this,t,!0),a=this.Ac.map((c=>Ks(c,i))),l=new Wa(a);return new dh(t.path,l)}isEqual(t){return t instanceof $m&&tr(this.Ac,t.Ac)}}class Jm extends Ys{constructor(t,i){super(t),this.Vc=i}_toFieldTransform(t){const i=new zl(t.serializer,mE(t.serializer,this.Vc));return new dh(t.path,i)}isEqual(t){return t instanceof Jm&&this.Vc===t.Vc}}function I2(s,t,i,a){const l=s.createContext(1,t,i);Zm("Data must be an object, but it was:",l,a);const c=[],d=dn.empty();ns(a,((v,y)=>{const T=oT(t,v,i);y=Pe(y);const S=l.childContextForFieldPath(T);if(y instanceof Th)c.push(T);else{const O=Ks(y,S);O!=null&&(c.push(T),d.set(T,O))}}));const g=new An(c);return new nT(d,g,l.fieldTransforms)}function C2(s,t,i,a,l,c){const d=s.createContext(1,t,i),g=[io(t,a,i)],v=[l];if(c.length%2!=0)throw new rt($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)g.push(io(t,c[O])),v.push(c[O+1]);const y=[],T=dn.empty();for(let O=g.length-1;O>=0;--O)if(!lT(y,g[O])){const Y=g[O];let Z=v[O];Z=Pe(Z);const it=d.childContextForFieldPath(Y);if(Z instanceof Th)y.push(Y);else{const nt=Ks(Z,it);nt!=null&&(y.push(Y),T.set(Y,nt))}}const S=new An(y);return new nT(T,S,d.fieldTransforms)}function N2(s,t,i,a=!1){return Ks(i,s.createContext(a?4:3,t))}function Ks(s,t){if(aT(s=Pe(s)))return Zm("Unsupported field value:",t,s),sT(s,t);if(s instanceof Ys)return(function(a,l){if(!iT(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const g of a){let v=Ks(g,l.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=Pe(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return mE(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ae.fromDate(a);return{timestampValue:Kc(l.serializer,c)}}if(a instanceof ae){const c=new ae(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Kc(l.serializer,c)}}if(a instanceof Ci)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Ln)return{bytesValue:SE(l.serializer,a._byteString)};if(a instanceof xe){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Om(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof ti)return(function(d,g){const v=d instanceof ti?d.toArray():d;return{mapValue:{fields:{[Z0]:{stringValue:W0},[Qc]:{arrayValue:{values:v.map((T=>{if(typeof T!="number")throw g.createError("VectorValues must only contain numeric values.");return Cm(g.serializer,T)}))}}}}}})(a,l);if(DE(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${ah(a)}`)})(s,t)}function sT(s,t){const i={};return Q0(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ns(s,((a,l)=>{const c=Ks(l,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function aT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ae||s instanceof Ci||s instanceof Ln||s instanceof xe||s instanceof Ys||s instanceof ti||DE(s))}function Zm(s,t,i){if(!aT(i)||!G0(i)){const a=ah(i);throw a==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+a)}}function io(s,t,i){if((t=Pe(t))instanceof Qm)return t._internalPath;if(typeof t=="string")return oT(s,t);throw Zc("Field path arguments must be of type string or ",s,!1,void 0,i)}const x2=new RegExp("[~\\*/\\[\\]]");function oT(s,t,i){if(t.search(x2)>=0)throw Zc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Qm(...t.split("."))._internalPath}catch{throw Zc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Zc(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${l}`),v+=")"),new rt($.INVALID_ARGUMENT,g+s+v)}function lT(s,t){return s.some((i=>i.isEqual(t)))}class D2{convertValue(t,i="none"){switch(Wr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Zr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return ns(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Qc].arrayValue?.values?.map((a=>ye(a.doubleValue)));return new ti(i)}convertGeoPoint(t){return new Ci(ye(t.latitude),ye(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=uh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ml(t));default:return null}}convertTimestamp(t){const i=Jr(t);return new ae(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ie.fromString(t);Ft(xE(a),9688,{name:t});const l=new kl(a.get(1),a.get(3)),c=new ft(a.popFirst(5));return l.isEqual(i)||nr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class uT extends D2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ln(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new xe(this.firestore,null,i)}}function Jv(){return new Km("serverTimestamp")}function O2(...s){return new Xm("arrayUnion",s)}function V2(...s){return new $m("arrayRemove",s)}function M2(s){return new Jm("increment",s)}const Zv="@firebase/firestore",Wv="4.10.0";function t0(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class cT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new xe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new k2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(io("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class k2 extends cT{data(){return super.data()}}function U2(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new rt($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wm{}class hT extends Wm{}function L2(s,t,...i){let a=[];t instanceof Wm&&a.push(t),a=a.concat(i),(function(c){const d=c.filter((v=>v instanceof ep)).length,g=c.filter((v=>v instanceof tp)).length;if(d>1||d>0&&g>0)throw new rt($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)s=l._apply(s);return s}class tp extends hT{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new tp(t,i,a)}_apply(t){const i=this._parse(t);return fT(t._query,i),new Qs(t.firestore,t.converter,em(t._query,i))}_parse(t){const i=Ym(t.firestore);return(function(c,d,g,v,y,T,S){let O;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new rt($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){n0(S,T);const Z=[];for(const it of S)Z.push(e0(v,c,it));O={arrayValue:{values:Z}}}else O=e0(v,c,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||n0(S,T),O=N2(g,d,S,T==="in"||T==="not-in");return Ce.create(y,T,O)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class ep extends Wm{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new ep(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:ni.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const g=c.getFlattenedFilters();for(const v of g)fT(d,v),d=em(d,v)})(t._query,i),new Qs(t.firestore,t.converter,em(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class np extends hT{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new np(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new rt($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new rt($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ll(c,d)})(t._query,this._field,this._direction);return new Qs(t.firestore,t.converter,ew(t._query,i))}}function P2(s,t="asc"){const i=t,a=io("orderBy",s);return np._create(a,i)}function e0(s,t,i){if(typeof(i=Pe(i))=="string"){if(i==="")throw new rt($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oE(t)&&i.indexOf("/")!==-1)throw new rt($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(ie.fromString(i));if(!ft.isDocumentKey(a))throw new rt($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return dv(s,new ft(a))}if(i instanceof xe)return dv(s,i._key);throw new rt($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ah(i)}.`)}function n0(s,t){if(!Array.isArray(s)||s.length===0)throw new rt($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function fT(s,t){const i=(function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new rt($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rt($.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}function z2(s,t,i){let a;return a=s?s.toFirestore(t):t,a}class wl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ps extends cT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Lc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(io("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Ps._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ps._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ps._jsonSchema={type:Ne("string",Ps._jsonSchemaVersion),bundleSource:Ne("string","DocumentSnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class Lc extends Ps{data(t={}){return super.data(t)}}class Ha{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new wl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Lc(this._firestore,this._userDataWriter,a.key,a,new wl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const v=new Lc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new wl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const v=new Lc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new wl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,T=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:j2(g.type),doc:v,oldIndex:y,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ha._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Tm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function j2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:s})}}Ha._jsonSchemaVersion="firestore/querySnapshot/1.0",Ha._jsonSchema={type:Ne("string",Ha._jsonSchemaVersion),bundleSource:Ne("string","QuerySnapshot"),bundleName:Ne("string"),bundle:Ne("string")};function B2(s,t,i,...a){s=Kr(s,xe);const l=Kr(s.firestore,no),c=Ym(l);let d;return d=typeof(t=Pe(t))=="string"||t instanceof Qm?C2(c,"updateDoc",s._key,t,i,a):I2(c,"updateDoc",s._key,t),ip(l,[d.toMutation(s._key,Wn.exists(!0))])}function q2(s){return ip(Kr(s.firestore,no),[new Nm(s._key,Wn.none())])}function i0(s,t){const i=Kr(s.firestore,no),a=fm(s),l=z2(s.converter,t),c=Ym(s.firestore);return ip(i,[R2(c,"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,Wn.exists(!1))]).then((()=>a))}function H2(s,...t){s=Pe(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||t0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(t0(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,g;if(s instanceof xe)d=Kr(s.firestore,no),g=Im(s._key.path),c={next:y=>{t[a]&&t[a](G2(d,s,y))},error:t[a+1],complete:t[a+2]};else{const y=Kr(s,Qs);d=Kr(y.firestore,no),g=y._query;const T=new uT(d);c={next:S=>{t[a]&&t[a](new Ha(d,T,y,S))},error:t[a+1],complete:t[a+2]},U2(s._query)}const v=eT(d);return g2(v,g,l,c)}function ip(s,t){const i=eT(s);return y2(i,t)}function G2(s,t,i){const a=i.docs.get(t._key),l=new uT(s);return new Ps(s,l,t._key,a,new wl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){p1(ao),Ya(new js("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new no(new _1(a.getProvider("auth-internal")),new T1(d,a.getProvider("app-check-internal")),P1(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Qr(Zv,Wv,t),Qr(Zv,Wv,"esm2020")})();function dT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const F2=dT,mT=new Bl("auth","Firebase",dT());const Wc=new ym("@firebase/auth");function Q2(s,...t){Wc.logLevel<=Mt.WARN&&Wc.warn(`Auth (${ao}): ${s}`,...t)}function Pc(s,...t){Wc.logLevel<=Mt.ERROR&&Wc.error(`Auth (${ao}): ${s}`,...t)}function Di(s,...t){throw sp(s,...t)}function ei(s,...t){return sp(s,...t)}function rp(s,t,i){const a={...F2(),[t]:i};return new Bl("auth","Firebase",a).create(t,{appName:s.name})}function zs(s){return rp(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Y2(s,t,i){const a=i;if(!(t instanceof a))throw a.name!==t.constructor.name&&Di(s,"argument-error"),rp(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function sp(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return mT.create(s,...t)}function _t(s,t,...i){if(!s)throw sp(t,...i)}function Zi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Pc(t),new Error(t)}function rr(s,t){s||Zi(t)}function dm(){return typeof self<"u"&&self.location?.href||""}function K2(){return r0()==="http:"||r0()==="https:"}function r0(){return typeof self<"u"&&self.location?.protocol||null}function X2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(K2()||QA()||"connection"in navigator)?navigator.onLine:!0}function $2(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Kl{constructor(t,i){this.shortDelay=t,this.longDelay=i,rr(i>t,"Short delay should be less than long delay!"),this.isMobile=HA()||YA()}get(){return X2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ap(s,t){rr(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class pT{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const J2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Z2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],W2=new Kl(3e4,6e4);function op(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function fo(s,t,i,a,l={}){return gT(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=ql({key:s.config.apiKey,...d}).slice(1),v=await s._getAdditionalHeaders();v["Content-Type"]="application/json",s.languageCode&&(v["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:v,...c};return FA()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&so(s.emulatorConfig.host)&&(y.credentials="include"),pT.fetch()(await yT(s,s.config.apiHost,i,g),y)})}async function gT(s,t,i){s._canInitEmulator=!1;const a={...J2,...t};try{const l=new eI(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Dc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[v,y]=g.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dc(s,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Dc(s,"email-already-in-use",d);if(v==="USER_DISABLED")throw Dc(s,"user-disabled",d);const T=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw rp(s,T,y);Di(s,T)}}catch(l){if(l instanceof sr)throw l;Di(s,"network-request-failed",{message:String(l)})}}async function tI(s,t,i,a,l={}){const c=await fo(s,t,i,a,l);return"mfaPendingCredential"in c&&Di(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function yT(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?ap(s.config,l):`${s.config.apiScheme}://${l}`;return Z2.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class eI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(ei(this.auth,"network-request-failed")),W2.get())})}}function Dc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=ei(s,t,a);return l.customData._tokenResponse=i,l}async function nI(s,t){return fo(s,"POST","/v1/accounts:delete",t)}async function th(s,t){return fo(s,"POST","/v1/accounts:lookup",t)}function Dl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function iI(s,t=!1){const i=Pe(s),a=await i.getIdToken(t),l=lp(a);_t(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Dl(Bd(l.auth_time)),issuedAtTime:Dl(Bd(l.iat)),expirationTime:Dl(Bd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Bd(s){return Number(s)*1e3}function lp(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return Pc("JWT malformed, contained fewer than 3 sections"),null;try{const l=A0(i);return l?JSON.parse(l):(Pc("Failed to decode base64 JWT payload"),null)}catch(l){return Pc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function s0(s){const t=lp(s);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function jl(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof sr&&rI(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function rI({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class sI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class mm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dl(this.lastLoginAt),this.creationTime=Dl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function eh(s){const t=s.auth,i=await s.getIdToken(),a=await jl(s,th(t,{idToken:i}));_t(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?_T(l.providerUserInfo):[],d=oI(s.providerData,c),g=s.isAnonymous,v=!(s.email&&l.passwordHash)&&!d?.length,y=g?v:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new mm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,T)}async function aI(s){const t=Pe(s);await eh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function oI(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function _T(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function lI(s,t){const i=await gT(s,{},async()=>{const a=ql({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await yT(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:g,body:a};return s.emulatorConfig&&so(s.emulatorConfig.host)&&(v.credentials="include"),pT.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function uI(s,t){return fo(s,"POST","/v2/accounts:revokeToken",op(s,t))}class Ga{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):s0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const i=s0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await lI(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ga;return a&&(_t(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(_t(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(_t(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ga,this.toJSON())}_performRefresh(){return Zi("not implemented")}}function zr(s,t){_t(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Zn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new sI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new mm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await jl(this,this.stsTokenManager.getToken(this.auth,t));return _t(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return iI(this,t)}reload(){return aI(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Zn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await eh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(zs(this.auth));const t=await this.getIdToken();return await jl(this,nI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:S,emailVerified:O,isAnonymous:Y,providerData:Z,stsTokenManager:it}=i;_t(S&&it,t,"internal-error");const nt=Ga.fromJSON(this.name,it);_t(typeof S=="string",t,"internal-error"),zr(a,t.name),zr(l,t.name),_t(typeof O=="boolean",t,"internal-error"),_t(typeof Y=="boolean",t,"internal-error"),zr(c,t.name),zr(d,t.name),zr(g,t.name),zr(v,t.name),zr(y,t.name),zr(T,t.name);const pt=new Zn({uid:S,auth:t,email:l,emailVerified:O,displayName:a,isAnonymous:Y,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:nt,createdAt:y,lastLoginAt:T});return Z&&Array.isArray(Z)&&(pt.providerData=Z.map(vt=>({...vt}))),v&&(pt._redirectEventId=v),pt}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ga;l.updateFromServerResponse(i);const c=new Zn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await eh(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];_t(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?_T(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new Ga;g.updateFromIdToken(a);const v=new Zn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new mm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(v,y),v}}const a0=new Map;function Wi(s){rr(s instanceof Function,"Expected a class definition");let t=a0.get(s);return t?(rr(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,a0.set(s,t),t)}class vT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}vT.type="NONE";const o0=vT;function zc(s,t,i){return`firebase:${s}:${t}:${i}`}class Fa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=zc(this.userKey,l.apiKey,c),this.fullPersistenceKey=zc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await th(this.auth,{idToken:t}).catch(()=>{});return i?Zn._fromGetAccountInfoResponse(this.auth,i,t):null}return Zn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Fa(Wi(o0),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Wi(o0);const d=zc(a,t.config.apiKey,t.name);let g=null;for(const y of i)try{const T=await y._get(d);if(T){let S;if(typeof T=="string"){const O=await th(t,{idToken:T}).catch(()=>{});if(!O)break;S=await Zn._fromGetAccountInfoResponse(t,O,T)}else S=Zn._fromJSON(t,T);y!==c&&(g=S),c=y;break}}catch{}const v=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new Fa(c,t,a):(c=v[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Fa(c,t,a))}}function l0(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(AT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ET(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(wT(t))return"Blackberry";if(RT(t))return"Webos";if(TT(t))return"Safari";if((t.includes("chrome/")||bT(t))&&!t.includes("edge/"))return"Chrome";if(ST(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function ET(s=We()){return/firefox\//i.test(s)}function TT(s=We()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function bT(s=We()){return/crios\//i.test(s)}function AT(s=We()){return/iemobile/i.test(s)}function ST(s=We()){return/android/i.test(s)}function wT(s=We()){return/blackberry/i.test(s)}function RT(s=We()){return/webos/i.test(s)}function up(s=We()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function cI(s=We()){return up(s)&&!!window.navigator?.standalone}function hI(){return KA()&&document.documentMode===10}function IT(s=We()){return up(s)||ST(s)||RT(s)||wT(s)||/windows phone/i.test(s)||AT(s)}function CT(s,t=[]){let i;switch(s){case"Browser":i=l0(We());break;case"Worker":i=`${l0(We())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${ao}/${a}`}class fI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const v=t(c);d(v)}catch(v){g(v)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function dI(s,t={}){return fo(s,"GET","/v2/passwordPolicy",op(s,t))}const mI=6;class pI{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??mI,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class gI{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new u0(this),this.idTokenSubscription=new u0(this),this.beforeStateQueue=new fI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Wi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Fa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await th(this,{idToken:t}),a=await Zn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Jn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await eh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=$2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Jn(this.app))return Promise.reject(zs(this));const i=t?Pe(t):null;return i&&_t(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(zs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Jn(this.app)?Promise.reject(zs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await dI(this),i=new pI(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Bl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await uI(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Wi(t)||this._popupRedirectResolver;_t(i,this,"argument-error"),this.redirectPersistenceManager=await Fa.create(this,[Wi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,l);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=CT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Q2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function bh(s){return Pe(s)}class u0{constructor(t){this.auth=t,this.observer=null,this.addObserver=nS(i=>this.observer=i)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let cp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yI(s){cp=s}function _I(s){return cp.loadJS(s)}function vI(){return cp.gapiScript}function EI(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function TI(s,t){const i=vm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(tr(c,t??{}))return l;Di(l,"already-initialized")}return i.initialize({options:t})}function bI(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Wi);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function AI(s,t,i){const a=bh(s);_t(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=NT(t),{host:d,port:g}=SI(t),v=g===null?"":`:${g}`,y={url:`${c}//${d}${v}/`},T=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){_t(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),_t(tr(y,a.config.emulator)&&tr(T,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=T,a.settings.appVerificationDisabledForTesting=!0,so(d)?(I0(`${c}//${d}${v}`),C0("Auth",!0)):wI()}function NT(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function SI(s){const t=NT(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:c0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:c0(d)}}}function c0(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function wI(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class xT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Zi("not implemented")}_getIdTokenResponse(t){return Zi("not implemented")}_linkToIdToken(t,i){return Zi("not implemented")}_getReauthenticationResolver(t){return Zi("not implemented")}}async function Qa(s,t){return tI(s,"POST","/v1/accounts:signInWithIdp",op(s,t))}const RI="http://localhost";class Hs extends xT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Hs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Di("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Hs(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Qa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Qa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Qa(t,i)}buildRequest(){const t={requestUri:RI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=ql(i)}return t}}class hp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Xl extends hp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class jr extends Xl{constructor(){super("facebook.com")}static credential(t){return Hs._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return jr.credentialFromTaggedObject(t)}static credentialFromError(t){return jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return jr.credential(t.oauthAccessToken)}catch{return null}}}jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";jr.PROVIDER_ID="facebook.com";class Ji extends Xl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Hs._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ji.credentialFromTaggedObject(t)}static credentialFromError(t){return Ji.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Ji.credential(i,a)}catch{return null}}}Ji.GOOGLE_SIGN_IN_METHOD="google.com";Ji.PROVIDER_ID="google.com";class Br extends Xl{constructor(){super("github.com")}static credential(t){return Hs._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Br.credentialFromTaggedObject(t)}static credentialFromError(t){return Br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Br.credential(t.oauthAccessToken)}catch{return null}}}Br.GITHUB_SIGN_IN_METHOD="github.com";Br.PROVIDER_ID="github.com";class qr extends Xl{constructor(){super("twitter.com")}static credential(t,i){return Hs._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return qr.credentialFromTaggedObject(t)}static credentialFromError(t){return qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return qr.credential(i,a)}catch{return null}}}qr.TWITTER_SIGN_IN_METHOD="twitter.com";qr.PROVIDER_ID="twitter.com";class ro{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Zn._fromIdTokenResponse(t,a,l),d=h0(a);return new ro({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=h0(a);return new ro({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function h0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class nh extends sr{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,nh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new nh(t,i,a,l)}}function DT(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?nh._fromErrorAndOperation(s,c,t,a):c})}async function II(s,t,i=!1){const a=await jl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return ro._forOperation(s,"link",a)}async function CI(s,t,i=!1){const{auth:a}=s;if(Jn(a.app))return Promise.reject(zs(a));const l="reauthenticate";try{const c=await jl(s,DT(a,l,t,s),i);_t(c.idToken,a,"internal-error");const d=lp(c.idToken);_t(d,a,"internal-error");const{sub:g}=d;return _t(s.uid===g,a,"user-mismatch"),ro._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Di(a,"user-mismatch"),c}}async function NI(s,t,i=!1){if(Jn(s.app))return Promise.reject(zs(s));const a="signIn",l=await DT(s,a,t),c=await ro._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}function xI(s,t,i,a){return Pe(s).onIdTokenChanged(t,i,a)}function DI(s,t,i){return Pe(s).beforeAuthStateChanged(t,i)}function OI(s,t,i,a){return Pe(s).onAuthStateChanged(t,i,a)}function VI(s){return Pe(s).signOut()}const ih="__sak";class OT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ih,"1"),this.storage.removeItem(ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const MI=1e3,kI=10;class VT extends OT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);hI()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,kI):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},MI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}VT.type="LOCAL";const UI=VT;class MT extends OT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}MT.type="SESSION";const kT=MT;function LI(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Ah{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new Ah(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async y=>y(i.origin,c)),v=await LI(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ah.receivers=[];function fp(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class PI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,v)=>{const y=fp("",20);l.port1.start();const T=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const O=S;if(O.data.eventId===y)switch(O.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(O.data.response);break;default:clearTimeout(T),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ni(){return window}function zI(s){Ni().location.href=s}function UT(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function jI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BI(){return navigator?.serviceWorker?.controller||null}function qI(){return UT()?self:null}const LT="firebaseLocalStorageDb",HI=1,rh="firebaseLocalStorage",PT="fbase_key";class $l{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Sh(s,t){return s.transaction([rh],t?"readwrite":"readonly").objectStore(rh)}function GI(){const s=indexedDB.deleteDatabase(LT);return new $l(s).toPromise()}function pm(){const s=indexedDB.open(LT,HI);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(rh,{keyPath:PT})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(rh)?t(a):(a.close(),await GI(),t(await pm()))})})}async function f0(s,t,i){const a=Sh(s,!0).put({[PT]:t,value:i});return new $l(a).toPromise()}async function FI(s,t){const i=Sh(s,!1).get(t),a=await new $l(i).toPromise();return a===void 0?null:a.value}function d0(s,t){const i=Sh(s,!0).delete(t);return new $l(i).toPromise()}const QI=800,YI=3;class zT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>YI)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return UT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ah._getInstance(qI()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await jI(),!this.activeServiceWorker)return;this.sender=new PI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||BI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await pm();return await f0(t,ih,"1"),await d0(t,ih),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>f0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>FI(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>d0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Sh(l,!1).getAll();return new $l(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zT.type="LOCAL";const KI=zT;new Kl(3e4,6e4);function jT(s,t){return t?Wi(t):(_t(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class dp extends xT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Qa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Qa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Qa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function XI(s){return NI(s.auth,new dp(s),s.bypassAuthState)}function $I(s){const{auth:t,user:i}=s;return _t(i,t,"internal-error"),CI(i,new dp(s),s.bypassAuthState)}async function JI(s){const{auth:t,user:i}=s;return _t(i,t,"internal-error"),II(i,new dp(s),s.bypassAuthState)}class BT{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(v))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return XI;case"linkViaPopup":case"linkViaRedirect":return JI;case"reauthViaPopup":case"reauthViaRedirect":return $I;default:Di(this.auth,"internal-error")}}resolve(t){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ZI=new Kl(2e3,1e4);async function WI(s,t,i){if(Jn(s.app))return Promise.reject(ei(s,"operation-not-supported-in-this-environment"));const a=bh(s);Y2(s,t,hp);const l=jT(a,i);return new Us(a,"signInViaPopup",t,l).executeNotNull()}class Us extends BT{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Us.currentPopupAction&&Us.currentPopupAction.cancel(),Us.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){rr(this.filter.length===1,"Popup operations only handle one event");const t=fp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Us.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,ZI.get())};t()}}Us.currentPopupAction=null;const tC="pendingRedirect",jc=new Map;class eC extends BT{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=jc.get(this.auth._key());if(!t){try{const a=await nC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}jc.set(this.auth._key(),t)}return this.bypassAuthState||jc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nC(s,t){const i=sC(t),a=rC(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function iC(s,t){jc.set(s._key(),t)}function rC(s){return Wi(s._redirectPersistence)}function sC(s){return zc(tC,s.config.apiKey,s.name)}async function aC(s,t,i=!1){if(Jn(s.app))return Promise.reject(zs(s));const a=bh(s),l=jT(a,t),d=await new eC(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const oC=600*1e3;class lC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!uC(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!qT(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(ei(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=oC&&this.cachedEventUids.clear(),this.cachedEventUids.has(m0(t))}saveEventToCache(t){this.cachedEventUids.add(m0(t)),this.lastProcessedEventTime=Date.now()}}function m0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function qT({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function uC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qT(s);default:return!1}}async function cC(s,t={}){return fo(s,"GET","/v1/projects",t)}const hC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fC=/^https?/;async function dC(s){if(s.config.emulator)return;const{authorizedDomains:t}=await cC(s);for(const i of t)try{if(mC(i))return}catch{}Di(s,"unauthorized-domain")}function mC(s){const t=dm(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!fC.test(i))return!1;if(hC.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const pC=new Kl(3e4,6e4);function p0(){const s=Ni().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function gC(s){return new Promise((t,i)=>{function a(){p0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{p0(),i(ei(s,"network-request-failed"))},timeout:pC.get()})}if(Ni().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ni().gapi?.load)a();else{const l=EI("iframefcb");return Ni()[l]=()=>{gapi.load?a():i(ei(s,"network-request-failed"))},_I(`${vI()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Bc=null,t})}let Bc=null;function yC(s){return Bc=Bc||gC(s),Bc}const _C=new Kl(5e3,15e3),vC="__/auth/iframe",EC="emulator/auth/iframe",TC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AC(s){const t=s.config;_t(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?ap(t,EC):`https://${s.config.authDomain}/${vC}`,a={apiKey:t.apiKey,appName:s.name,v:ao},l=bC.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${ql(a).slice(1)}`}async function SC(s){const t=await yC(s),i=Ni().gapi;return _t(i,s,"internal-error"),t.open({where:document.body,url:AC(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TC,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=ei(s,"network-request-failed"),g=Ni().setTimeout(()=>{c(d)},_C.get());function v(){Ni().clearTimeout(g),l(a)}a.ping(v).then(v,()=>{c(d)})}))}const wC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RC=500,IC=600,CC="_blank",NC="http://localhost";class g0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xC(s,t,i,a=RC,l=IC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const v={...wC,width:a.toString(),height:l.toString(),top:c,left:d},y=We().toLowerCase();i&&(g=bT(y)?CC:i),ET(y)&&(t=t||NC,v.scrollbars="yes");const T=Object.entries(v).reduce((O,[Y,Z])=>`${O}${Y}=${Z},`,"");if(cI(y)&&g!=="_self")return DC(t||"",g),new g0(null);const S=window.open(t||"",g,T);_t(S,s,"popup-blocked");try{S.focus()}catch{}return new g0(S)}function DC(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const OC="__/auth/handler",VC="emulator/auth/handler",MC=encodeURIComponent("fac");async function y0(s,t,i,a,l,c){_t(s.config.authDomain,s,"auth-domain-config-required"),_t(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:ao,eventId:l};if(t instanceof hp){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",eS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,S]of Object.entries({}))d[T]=S}if(t instanceof Xl){const T=t.getScopes().filter(S=>S!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const v=await s._getAppCheckToken(),y=v?`#${MC}=${encodeURIComponent(v)}`:"";return`${kC(s)}?${ql(g).slice(1)}${y}`}function kC({config:s}){return s.emulator?ap(s,VC):`https://${s.authDomain}/${OC}`}const qd="webStorageSupport";class UC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kT,this._completeRedirectFn=aC,this._overrideRedirectResult=iC}async _openPopup(t,i,a,l){rr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await y0(t,i,a,dm(),l);return xC(t,c,fp())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await y0(t,i,a,dm(),l);return zI(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(rr(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await SC(t),a=new lC(t);return i.register("authEvent",l=>(_t(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(qd,{type:qd},l=>{const c=l?.[0]?.[qd];c!==void 0&&i(!!c),Di(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=dC(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return IT()||TT()||up()}}const LC=UC;var _0="@firebase/auth",v0="1.12.0";class PC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function zC(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jC(s){Ya(new js("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;_t(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CT(s)},y=new gI(a,l,c,v);return bI(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Ya(new js("auth-internal",t=>{const i=bh(t.getProvider("auth").getImmediate());return(a=>new PC(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qr(_0,v0,zC(s)),Qr(_0,v0,"esm2020")}const BC=300,qC=R0("authIdTokenMaxAge")||BC;let E0=null;const HC=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>qC)return;const l=i?.token;E0!==l&&(E0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function GC(s=O0()){const t=vm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=TI(s,{popupRedirectResolver:LC,persistence:[KI,UI,kT]}),a=R0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=HC(c.toString());DI(i,d,()=>d(i.currentUser)),xI(i,g=>d(g))}}const l=S0("auth");return l&&AI(i,`http://${l}`),i}function FC(){return document.getElementsByTagName("head")?.[0]??document}yI({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=ei("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",FC().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jC("Browser");const QC={apiKey:"AIzaSyCQyGS486-RohBd3FHBQENIhH0PSkInwBs",authDomain:"expothearchive.firebaseapp.com",projectId:"expothearchive",storageBucket:"expothearchive.firebasestorage.app",messagingSenderId:"18895439101",appId:"1:18895439101:web:c17f8c3e565147f7396a94"},HT=D0(QC),Tl=T2(HT),Hd=GC(HT),YC=new Ji,KC=typeof __app_id<"u"?__app_id:"expothearchive-node-01";function XC(){const[s,t]=$t.useState([]),[i,a]=$t.useState([]),[l,c]=$t.useState(!0),[d,g]=$t.useState(null),[v,y]=$t.useState("grid"),[T,S]=$t.useState(null),[O,Y]=$t.useState(""),[Z,it]=$t.useState(new Date),[nt,pt]=$t.useState("all"),[vt,Et]=$t.useState(""),[Qt,oe]=$t.useState(!1),[lt,C]=$t.useState(!1),[A,I]=$t.useState(null),[V,x]=$t.useState(""),[k,w]=$t.useState(!1);$t.useRef(null),$t.useRef(null);const Jt=$t.useRef(null),[wt,H]=$t.useState({type:"blog",content:"",title:"",src:"",audioSrc:"",tags:"",isTitle:!1,date:new Date().toLocaleDateString("nl-NL")});$t.useEffect(()=>{const F=dt=>{dt.state&&dt.state.view?y(dt.state.view):y("grid")};return window.addEventListener("popstate",F),()=>window.removeEventListener("popstate",F)},[]);const W=F=>{y(F),w(!1),window.history.pushState({view:F},"",""),window.scrollTo(0,0)};$t.useEffect(()=>{const F=setInterval(()=>it(new Date),1e3);return()=>clearInterval(F)},[]),$t.useEffect(()=>{const F=OI(Hd,dt=>S(dt));return()=>F()},[]),$t.useEffect(()=>{const F=dt=>{Jt.current&&!Jt.current.contains(dt.target)&&w(!1)};return document.addEventListener("mousedown",F),()=>document.removeEventListener("mousedown",F)},[]);const ct=async()=>{try{await WI(Hd,YC)}catch(F){console.error(F)}},Lt=()=>{VI(Hd),W("grid")};$t.useEffect(()=>{const F=L2(jd(Tl,"posts"),P2("timestamp","desc")),dt=H2(F,ze=>{const Pn=ze.docs.map(tn=>({id:tn.id,...tn.data()}));t(Pn),c(!1)});return()=>dt()},[]);const qt=$t.useMemo(()=>s.filter(F=>{const dt=nt==="all"||F.type===nt,ze=F.content?.toLowerCase().includes(vt.toLowerCase())||F.title?.toLowerCase().includes(vt.toLowerCase())||F.tags?.toLowerCase().includes(vt.toLowerCase());return dt&&ze}),[s,nt,vt]),D=$t.useMemo(()=>T?s.filter(F=>F.likedBy?.includes(T.uid)):[],[s,T]),K=async F=>{if(F.preventDefault(),!!T)try{await i0(jd(Tl,"posts"),{...wt,timestamp:Jv(),authorEmail:T.email,likes:0,likedBy:[]}),H({type:"blog",content:"",title:"",src:"",audioSrc:"",tags:"",isTitle:!1,date:new Date().toLocaleDateString("nl-NL")}),W("grid")}catch(dt){console.error(dt)}},et=async(F,dt)=>{if(F&&F.stopPropagation(),!T){alert("Log in om te waarderen.");return}const ze=s.find(tn=>tn.id===dt);if(!ze)return;const Pn=ze.likedBy&&ze.likedBy.includes(T.uid);try{const tn=fm(Tl,"posts",dt);await B2(tn,{likes:M2(Pn?-1:1),likedBy:Pn?V2(T.uid):O2(T.uid)})}catch(tn){console.error(tn)}},st=async F=>{if(F.preventDefault(),!(!O.trim()||!T||!d))try{await i0(jd(Tl,"posts",d.id,"comments"),{text:O,userName:T.displayName,userPhoto:T.photoURL,timestamp:Jv(),likes:0,isAdmin:T.email.toLowerCase()==="gielmolder@gmail.com"}),Y("")}catch(dt){console.error(dt)}},yt=async(F,dt)=>{if(F.stopPropagation(),!!window.confirm("Permanent verwijderen?"))try{await q2(fm(Tl,"posts",dt))}catch(ze){console.error(ze)}};$t.useEffect(()=>{const F=document.createElement("style");F.innerHTML=`
      ::-webkit-scrollbar { display: none; }
      body { -ms-overflow-style: none; scrollbar-width: none; overflow-y: scroll; margin: 0; transition: background-color 0.5s ease; }
      .filters-container { max-height: 0; overflow: hidden; transition: max-height 0.5s ease, opacity 0.3s ease; opacity: 0; }
      .filters-active { max-height: 450px; opacity: 1; }
      audio::-webkit-media-controls-panel { background-color: #fff; border-radius: 0; }
    `,document.head.appendChild(F)},[]);const bt=T&&T.email&&T.email.toLowerCase()==="gielmolder@gmail.com",Dt=$t.useMemo(()=>v==="admin"?"TERMINAL_INPUT":v==="account"?"THE_IDENTITY":"THE ARCHIVE",[v]);return q.jsxs("div",{className:`min-h-screen font-mono selection:bg-pink-200 selection:text-black flex flex-col transition-colors duration-500 ${lt?"bg-black text-white":"bg-[#f0f0f0] text-[#1a1a1a]"}`,children:[q.jsxs("header",{className:`p-4 md:p-10 border-b-8 border-black sticky top-0 z-40 shadow-[0_4px_0_0_rgba(0,0,0,1)] transition-colors ${lt?"bg-[#111]":"bg-white"}`,children:[q.jsxs("div",{className:"flex flex-row justify-between items-center gap-2",children:[q.jsxs("div",{className:"group cursor-pointer select-none flex-grow",onClick:()=>v==="grid"?oe(!Qt):W("grid"),children:[q.jsx("h1",{className:"text-xl md:text-6xl font-black font-mono uppercase tracking-tighter italic leading-none transition-transform active:scale-95",children:Dt}),q.jsxs("p",{className:`text-[7px] md:text-xs font-bold font-mono px-2 py-0.5 mt-1 inline-block uppercase tracking-widest whitespace-nowrap ${lt?"bg-white text-black":"bg-black text-white"}`,children:["Exposure Therapy // ",v==="grid"?"Giel te Molder":v==="admin"?"SYSTEM_ADMIN":"USER_NODE"]})]}),q.jsxs("div",{className:"flex flex-row gap-2 md:gap-4 items-stretch flex-shrink-0",children:[v!=="grid"&&q.jsx("button",{onClick:()=>W("grid"),className:"bg-black text-white border-2 md:border-4 border-black px-2 md:px-6 py-1 md:py-3 text-[8px] md:text-xs font-black uppercase shadow-[2px_2px_0_0_rgba(0,0,0,1)] hover:bg-yellow-300 hover:text-black transition-all flex items-center justify-center",children:"Back_"}),q.jsx("button",{onClick:()=>C(!lt),className:`px-3 md:px-6 py-1 md:py-3 border-2 md:border-4 border-black shadow-[2px_2px_0_0_rgba(0,0,0,1)] transition-all flex items-center justify-center ${lt?"bg-white text-black":"bg-black text-white"}`,children:lt?"":""}),bt&&v==="grid"&&q.jsx("button",{onClick:()=>W("admin"),className:"border-2 md:border-4 border-black px-2 md:px-6 py-1 md:py-3 text-[8px] md:text-xs font-black uppercase shadow-[2px_2px_0_0_rgba(0,0,0,1)] transition-all bg-yellow-300 text-black flex items-center justify-center",children:"+ NEW"}),T?q.jsxs("div",{className:"relative",ref:Jt,children:[q.jsxs("button",{onClick:()=>w(!k),className:`flex items-center gap-2 md:gap-4 px-2 md:px-4 py-1 md:py-3 border-2 md:border-4 border-black shadow-[2px_2px_0_0_rgba(0,0,0,1)] transition-all h-full ${lt?"bg-white text-black":"bg-black text-white"}`,children:[q.jsx("span",{className:"text-[7px] md:text-[10px] font-black uppercase tracking-widest leading-none",children:T.displayName?.split(" ")[0]}),T.photoURL&&q.jsx("img",{src:T.photoURL,className:"w-5 h-5 md:w-8 md:h-8 grayscale border border-current",alt:"u"})]}),k&&q.jsxs("div",{className:`absolute right-0 mt-2 w-48 md:w-64 border-4 border-black p-4 md:p-6 z-50 shadow-[6px_6px_0_0_rgba(0,0,0,1)] flex flex-col gap-4 animate-in fade-in slide-in-from-top-2 duration-200 ${lt?"bg-[#111] text-white":"bg-white text-black"}`,children:[q.jsxs("div",{className:"flex flex-col border-b-2 border-black/10 pb-3",children:[q.jsx("span",{className:"text-[8px] font-black uppercase opacity-40 mb-1",children:"Identity_"}),q.jsx("span",{className:"text-[9px] md:text-[12px] font-bold truncate lowercase",children:T.email})]}),q.jsx("button",{onClick:()=>W("account"),className:"w-full bg-blue-500 text-white text-[10px] md:text-xs font-black uppercase py-2 md:py-3 border-2 border-black shadow-[3px_3px_0_0_rgba(0,0,0,1)] hover:shadow-none transition-all",children:"My_Profile_"}),q.jsx("button",{onClick:Lt,className:"w-full bg-red-500 text-white text-[10px] md:text-xs font-black uppercase py-2 md:py-3 border-2 border-black shadow-[3px_3px_0_0_rgba(0,0,0,1)] hover:shadow-none transition-all",children:"Sign_Out_"})]})]}):q.jsx("button",{onClick:ct,className:`border-2 md:border-4 border-black px-2 md:px-6 py-1 md:py-3 text-[8px] md:text-xs font-black uppercase shadow-[2px_2px_0_0_rgba(0,0,0,1)] flex items-center justify-center ${lt?"bg-white text-black":"bg-black text-white"}`,children:"LOGIN"})]})]}),v==="grid"&&q.jsx("div",{className:`filters-container ${Qt?"filters-active mt-8":""}`,children:q.jsxs("div",{className:"flex flex-col gap-6 p-1 border-t-4 border-black pt-6 animate-in fade-in duration-500",children:[q.jsx("div",{className:`flex border-4 border-black shadow-[6px_6px_0_0_rgba(0,0,0,1)] max-w-xl ${lt?"bg-black border-white":"bg-white"}`,children:q.jsx("input",{type:"text",placeholder:"SEARCH / #TAGS...",className:"bg-transparent p-3 text-sm font-bold outline-none flex-grow uppercase font-mono placeholder:opacity-30",value:vt,onChange:F=>Et(F.target.value)})}),q.jsx("div",{className:"flex flex-wrap gap-2 md:gap-4 text-[10px] md:text-[12px] font-black uppercase",children:["all","blog","art"].map(F=>q.jsx("button",{onClick:()=>pt(F),className:`border-2 md:border-4 border-black px-3 py-1 md:px-4 md:py-2 transition-all shadow-[2px_2px_0_0_rgba(0,0,0,1)] ${nt===F?lt?"bg-white text-black":"bg-black text-white":lt?"bg-[#222] text-white":"bg-white text-black"}`,children:F==="all"?"Everything":F==="blog"?"Text":"Visual"},F))})]})})]}),q.jsxs("div",{className:"flex-grow flex flex-col",children:[v==="admin"&&q.jsx("div",{className:`p-4 md:p-12 animate-in fade-in duration-500 ${lt?"bg-black text-white":"bg-[#f0f0f0] text-black"}`,children:q.jsx("div",{className:"max-w-[1400px] mx-auto w-full flex flex-col gap-12",children:q.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[q.jsx("div",{className:`border-4 md:border-8 border-black p-6 md:p-10 shadow-[15px_15px_0_0_rgba(0,0,0,1)] ${lt?"bg-[#111]":"bg-white"}`,children:q.jsxs("form",{onSubmit:K,className:"space-y-8 font-mono",children:[q.jsxs("div",{className:"flex border-4 border-black shadow-[6px_6px_0_0_rgba(0,0,0,1)]",children:[q.jsx("button",{type:"button",onClick:()=>H({...wt,type:"blog"}),className:`flex-1 py-4 font-black uppercase ${wt.type==="blog"?"bg-black text-white":"bg-white text-black"}`,children:"Text_Entry"}),q.jsx("button",{type:"button",onClick:()=>H({...wt,type:"art"}),className:`flex-1 py-4 font-black uppercase ${wt.type==="art"?"bg-black text-white":"bg-white text-black"}`,children:"Visual_Entry"})]}),q.jsxs("div",{className:"space-y-6",children:[q.jsx("input",{type:"text",placeholder:"ENTRY_TITLE_",className:`w-full bg-transparent border-b-4 border-black p-2 text-xl font-black outline-none ${lt?"text-white border-white":"text-black"}`,value:wt.title,onChange:F=>H({...wt,title:F.target.value}),required:!0}),wt.type==="art"&&q.jsx("input",{type:"text",placeholder:"IMAGE_URL_ (HTTPS://...)",className:`w-full bg-transparent border-b-4 border-black p-2 text-lg font-black outline-none ${lt?"text-white border-white":"text-black"}`,value:wt.src,onChange:F=>H({...wt,src:F.target.value}),required:!0}),q.jsx("input",{type:"text",placeholder:"AUDIO_URL_ (OPTIONAL)",className:`w-full bg-transparent border-b-4 border-black p-2 text-lg font-black outline-none ${lt?"text-white border-white":"text-black"}`,value:wt.audioSrc,onChange:F=>H({...wt,audioSrc:F.target.value})}),q.jsx("input",{type:"text",placeholder:"METADATA_TAGS_ (#RAW, #ANALOG...)",className:`w-full bg-transparent border-b-4 border-black p-2 text-lg font-black outline-none ${lt?"text-white border-white":"text-black"}`,value:wt.tags,onChange:F=>H({...wt,tags:F.target.value})}),q.jsx("textarea",{className:`w-full border-4 border-black p-4 h-64 text-xl font-bold outline-none focus:bg-yellow-50 focus:text-black resize-none ${lt?"bg-black text-white border-white":"bg-white text-black"}`,placeholder:"BEGIN TRANSMISSION...",value:wt.content,onChange:F=>H({...wt,content:F.target.value}),required:!0}),q.jsxs("div",{className:"flex items-center gap-4 py-4 border-t-2 border-black/10",children:[q.jsx("input",{type:"checkbox",id:"isTitle",className:"w-6 h-6 border-4 border-black accent-black",checked:wt.isTitle,onChange:F=>H({...wt,isTitle:F.target.checked})}),q.jsx("label",{htmlFor:"isTitle",className:"text-xs font-black uppercase text-black",children:"Display as Manifesto"})]})]}),q.jsx("button",{type:"submit",className:"w-full bg-black text-white py-6 font-black text-3xl uppercase italic tracking-tighter hover:bg-yellow-300 hover:text-black transition-all shadow-[10px_10px_0_0_rgba(0,0,0,1)]",children:"PUSH_TO_ARCHIVE_"})]})}),q.jsxs("div",{className:"hidden lg:block space-y-6",children:[q.jsx("span",{className:"text-xs font-black uppercase opacity-40 italic tracking-widest",children:"Live_Monitor_"}),q.jsxs("div",{className:`border-4 border-black shadow-[8px_8px_0_0_rgba(0,0,0,1)] p-8 ${wt.type==="blog"?"bg-yellow-300":"bg-black"} text-black`,children:[q.jsx("p",{className:"font-black uppercase tracking-tighter text-lg leading-tight",children:wt.title||"Entry_Preview"}),q.jsxs("p",{className:"text-[10px] mt-2 opacity-50",children:[wt.content.substring(0,100),"..."]}),wt.audioSrc&&q.jsx("div",{className:"mt-4 bg-white border border-black p-1 text-[8px] font-black uppercase italic",children:" AUDIO_ATTACHED"})]}),q.jsxs("div",{className:`p-4 border-2 border-black text-[10px] font-black uppercase opacity-50 ${lt?"border-white":"border-black"}`,children:[q.jsxs("p",{children:[">"," STATUS: SYSTEM_READY"]}),q.jsxs("p",{children:[">"," NODE: ",KC]}),q.jsxs("p",{children:[">"," CLOCK: ",Z.toLocaleTimeString()]})]})]})]})})}),v==="account"&&q.jsx("div",{className:`p-4 md:p-12 animate-in fade-in duration-500 ${lt?"bg-black text-white":"bg-[#f0f0f0] text-black"}`,children:q.jsx("div",{className:"max-w-[1200px] mx-auto w-full space-y-12",children:q.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[q.jsxs("div",{className:`p-8 border-4 border-black shadow-[8px_8px_0_0_rgba(0,0,0,1)] flex flex-col items-center text-center ${lt?"bg-[#111]":"bg-white"}`,children:[T?.photoURL&&q.jsx("img",{src:T.photoURL,className:"w-24 h-24 md:w-32 md:h-32 grayscale border-4 border-black mb-6 shadow-[4px_4px_0_0_rgba(0,0,0,0.1)]",alt:"User"}),q.jsx("span",{className:"text-[10px] font-black uppercase opacity-40 block mb-1 italic",children:"Node_Identity_"}),q.jsx("h3",{className:"text-xl font-black uppercase mb-4",children:T?.displayName}),q.jsxs("div",{className:"w-full space-y-2 border-t border-black/10 pt-4",children:[q.jsxs("div",{className:"flex justify-between text-[10px] font-bold uppercase",children:[q.jsx("span",{children:"Likes:"}),q.jsx("span",{className:"text-pink-500",children:D.length})]}),q.jsxs("div",{className:"flex justify-between text-[10px] font-bold uppercase",children:[q.jsx("span",{children:"Status:"}),q.jsx("span",{className:"text-green-500",children:"Connected"})]})]})]}),q.jsxs("div",{className:"md:col-span-2 space-y-6",children:[q.jsx("h3",{className:"text-2xl font-black uppercase italic underline decoration-yellow-300 decoration-8 underline-offset-4",children:"Signal_Collection_"}),q.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4",children:D.length===0?q.jsx("div",{className:"col-span-full p-10 border-4 border-dashed border-black/20 text-center uppercase font-black opacity-30 italic",children:"No signals collected yet..."}):D.map(F=>q.jsxs("div",{onClick:()=>g(F),className:"aspect-square border-2 border-black bg-white cursor-pointer group hover:shadow-[4px_4px_0_0_rgba(0,0,0,1)] transition-all overflow-hidden relative",children:[F.type==="art"?q.jsx("img",{src:F.src,className:"w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all",alt:"art"}):q.jsx("div",{className:"p-4 flex flex-col justify-center h-full bg-yellow-300",children:q.jsx("p",{className:"text-[8px] font-black line-clamp-3 uppercase text-black",children:F.content})}),q.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-all",children:q.jsx("span",{className:"text-white font-black text-[10px] uppercase tracking-widest",children:"Open_"})})]},F.id))})]})]})})}),v==="grid"&&q.jsx("main",{className:"p-4 md:p-12 mb-10 block flex-grow animate-in fade-in duration-700",children:q.jsx("div",{className:"columns-2 md:columns-3 lg:columns-4 xl:columns-5 gap-4 md:gap-8 max-w-[1700px] mx-auto space-y-4 md:space-y-8",children:qt.map(F=>q.jsxs("div",{onClick:()=>g(F),className:`break-inside-avoid border-2 md:border-4 border-black group cursor-pointer transition-all mb-4 md:mb-8 shadow-[4px_4px_0_0_rgba(0,0,0,1)] md:shadow-[8px_8px_0_0_rgba(0,0,0,1)] hover:shadow-none hover:translate-x-1 hover:translate-y-1 relative ${F.type==="art"?"bg-black p-0.5":"p-4 md:p-8"} ${F.isTitle?lt?"bg-[#222] text-white border-l-[8px]":"bg-white border-l-[15px]":F.type==="blog"?"bg-yellow-300 text-black":""}`,children:[bt&&q.jsxs("div",{className:"absolute -top-3 -right-3 flex gap-1 z-10",children:[q.jsx("button",{onClick:dt=>{dt.stopPropagation(),I(F.id),x(F.content)},className:"bg-blue-500 text-white w-7 h-7 border-2 border-black flex items-center justify-center hover:bg-black transition-colors shadow-[2px_2px_0_0_rgba(0,0,0,1)]",children:""}),q.jsx("button",{onClick:dt=>{dt.stopPropagation(),yt(dt,F.id)},className:"bg-red-500 text-white w-7 h-7 border-2 border-black flex items-center justify-center hover:bg-black transition-colors shadow-[2px_2px_0_0_rgba(0,0,0,1)]",children:""})]}),F.type==="blog"?q.jsxs("div",{className:"space-y-2 text-black",children:[q.jsx("p",{className:`font-black uppercase tracking-tighter leading-tight ${F.isTitle?"text-lg md:text-3xl italic":"text-[9px] md:text-[12px] line-clamp-[10]"}`,children:F.isTitle?`"${F.content}"`:F.content}),q.jsxs("div",{className:"flex justify-between items-end pt-2 text-black",children:[q.jsxs("div",{className:"flex gap-2 items-center",children:[q.jsxs("button",{onClick:dt=>et(dt,F.id),className:`flex items-center gap-1 text-[8px] md:text-[10px] font-black border border-black px-1 transition-all ${F.likedBy?.includes(T?.uid)?"bg-pink-300 shadow-none translate-x-0.5 translate-y-0.5":"bg-pink-200 hover:bg-pink-300 shadow-[2px_2px_0_0_rgba(0,0,0,1)]"}`,children:[q.jsx("svg",{className:`w-2 h-2 ${F.likedBy?.includes(T?.uid)?"text-red-600":"text-red-500"} fill-current`,viewBox:"0 0 20 20",children:q.jsx("path",{d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z"})}),F.likes||0]}),F.audioSrc&&q.jsx("span",{className:"text-[10px]",children:""})]}),q.jsx("span",{className:"text-[7px] md:text-[9px] font-black opacity-30 italic",children:F.date})]})]}):q.jsxs("div",{className:"relative overflow-hidden",children:[q.jsx("img",{src:F.src,alt:F.title,className:"w-full h-auto grayscale group-hover:grayscale-0 transition-all duration-700 block"}),q.jsx("div",{className:"absolute top-2 left-2 bg-white text-black border-2 border-black px-2 py-0.5 text-[7px] md:text-[9px] font-black uppercase italic shadow-[2px_2px_0_0_rgba(0,0,0,1)]",children:F.title}),q.jsxs("button",{onClick:dt=>et(dt,F.id),className:`absolute bottom-2 right-2 border-2 border-black px-1 flex items-center gap-1 text-[8px] font-black shadow-[2px_2px_0_0_rgba(0,0,0,1)] ${F.likedBy?.includes(T?.uid)?"bg-pink-300 text-black shadow-none":"bg-pink-200 text-black shadow-[2px_2px_0_0_rgba(0,0,0,1)]"}`,children:[q.jsx("svg",{className:`w-2 h-2 ${F.likedBy?.includes(T?.uid)?"text-red-600":"text-red-500"} fill-current`,viewBox:"0 0 20 20",children:q.jsx("path",{d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z"})}),F.likes||0]})]})]},F.id))})})]}),q.jsxs("footer",{className:"w-full px-6 py-8 border-t border-black/10 text-[9px] md:text-[10px] font-mono opacity-40 hover:opacity-100 transition-opacity flex flex-col md:flex-row justify-between items-center gap-4 text-black",children:[q.jsxs("div",{className:"flex gap-6 uppercase font-bold tracking-widest text-black",children:[q.jsx("a",{href:"https://instagram.com/gieltemolder",target:"_blank",className:"hover:underline text-black",children:"Instagram"}),q.jsx("a",{href:"mailto:gielmolder@gmail.com",className:"hover:underline text-black",children:"Contact"}),q.jsx("span",{className:"text-black",children:"Exposure Therapy Archive"})]}),q.jsxs("div",{className:"flex items-center gap-6 tabular-nums text-black",children:[q.jsx("div",{children:Z.toLocaleTimeString("nl-NL",{hour12:!1})}),q.jsxs("div",{className:"bg-black text-white px-2 py-1 border border-white/20 flex items-center gap-2",children:[q.jsx("span",{className:"animate-pulse w-1 h-1 bg-yellow-300 rounded-full"}),q.jsx("span",{className:"font-black uppercase text-white",children:"NODE_01"})]})]})]}),d&&q.jsx("div",{className:"fixed inset-0 bg-black/98 z-50 flex items-center justify-center p-2 md:p-12 backdrop-blur-2xl animate-in fade-in duration-300",onClick:()=>g(null),children:q.jsxs("div",{className:`w-full max-w-4xl max-h-[90vh] overflow-y-auto border-4 md:border-[10px] border-black p-6 md:p-12 relative shadow-[20px_20px_0_0_rgba(0,0,0,1)] ${lt?"bg-[#111] text-white shadow-white/5":"bg-white text-black"}`,onClick:F=>F.stopPropagation(),children:[q.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-4 mb-10 border-b-4 md:border-b-8 border-black pb-8 text-black",children:[q.jsxs("div",{className:"flex-grow",children:[q.jsx("h2",{className:`text-3xl md:text-6xl font-black uppercase italic tracking-tighter underline underline-offset-4 decoration-yellow-300 leading-none mb-4 ${lt?"text-white":"text-black"}`,children:d.title||"Entry"}),q.jsx("div",{className:"flex flex-wrap gap-2",children:d.tags?.split(",").map(F=>q.jsx("span",{className:"text-[10px] font-black uppercase bg-black text-white px-2 py-0.5",children:F.trim()},F))})]}),q.jsx("button",{onClick:()=>g(null),className:"bg-black text-white px-6 py-2 font-black border-2 border-black hover:bg-yellow-300 hover:text-black uppercase shadow-[3px_3px_0_0_rgba(0,0,0,1)] transition-all",children:"Close_"})]}),q.jsxs("div",{className:"space-y-12 text-black",children:[d.type==="art"&&q.jsx("img",{src:d.src,className:"w-full h-auto grayscale border-4 border-black",alt:"Art"}),d.audioSrc&&q.jsxs("div",{className:"p-4 border-4 border-black bg-white shadow-[8px_8px_0_0_rgba(0,0,0,1)] space-y-2",children:[q.jsx("p",{className:"text-[10px] font-black uppercase italic tracking-widest text-black",children:"// ATTACHED_AUDIO_STREAM_"}),q.jsx("audio",{controls:!0,className:"w-full",src:d.audioSrc})]}),q.jsx("div",{className:`text-xl md:text-3xl font-black whitespace-pre-wrap uppercase ${lt?"text-white":"text-black"}`,children:d.content}),q.jsxs("div",{className:"mt-20 border-t-8 border-black pt-12 text-black",children:[q.jsx("h3",{className:`text-2xl md:text-4xl font-black uppercase italic mb-10 underline decoration-pink-300 underline-offset-8 ${lt?"text-white":"text-black"}`,children:"Responses_"}),q.jsx("div",{className:"space-y-6 mb-12",children:i.length===0?q.jsx("p",{className:"text-xs font-bold opacity-30 italic text-black",children:"No signals yet..."}):i.map(F=>q.jsxs("div",{className:`p-4 border-4 border-black flex gap-4 ${F.isAdmin?"bg-yellow-300 text-black":lt?"bg-[#222]":"bg-white text-black"} shadow-[6px_6px_0_0_rgba(0,0,0,1)]`,children:[F.userPhoto&&q.jsx("img",{src:F.userPhoto,className:"w-10 h-10 border-2 border-black grayscale",alt:"av"}),q.jsxs("div",{className:"flex-grow text-black",children:[q.jsx("span",{className:"text-[10px] font-black uppercase opacity-50 block mb-1",children:F.userName}),q.jsx("p",{className:`text-sm md:text-xl font-bold uppercase ${lt?"text-white":"text-black"}`,children:F.text})]})]},F.id))}),T&&q.jsxs("form",{onSubmit:st,className:"flex flex-col gap-4",children:[q.jsx("textarea",{value:O,onChange:F=>Y(F.target.value),placeholder:"ENTER RESPONSE...",className:"w-full border-4 border-black p-4 text-lg md:text-2xl font-bold focus:bg-pink-50 outline-none shadow-[8px_8px_0_0_rgba(0,0,0,1)] text-black"}),q.jsx("button",{type:"submit",className:"bg-black text-white py-6 font-black uppercase text-xl md:text-3xl italic tracking-tighter hover:bg-pink-300 hover:text-black transition-all shadow-[10px_10px_0_0_rgba(0,0,0,1)]",children:"Push_Response_"})]})]})]})]})})]})}NA.createRoot(document.getElementById("root")).render(q.jsx($t.StrictMode,{children:q.jsx(XC,{})}));
