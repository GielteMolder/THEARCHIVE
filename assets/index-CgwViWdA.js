(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Rd={exports:{}},vl={};var k_;function wA(){if(k_)return vl;k_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return vl.Fragment=t,vl.jsx=i,vl.jsxs=i,vl}var L_;function RA(){return L_||(L_=1,Rd.exports=wA()),Rd.exports}var Y=RA(),Id={exports:{}},bt={};var U_;function IA(){if(U_)return bt;U_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),O=Symbol.iterator;function K(N){return N===null||typeof N!="object"?null:(N=O&&N[O]||N["@@iterator"],typeof N=="function"?N:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,et={};function pt(N,F,nt){this.props=N,this.context=F,this.refs=et,this.updater=nt||W}pt.prototype.isReactComponent={},pt.prototype.setState=function(N,F){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,F,"setState")},pt.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function vt(){}vt.prototype=pt.prototype;function Et(N,F,nt){this.props=N,this.context=F,this.refs=et,this.updater=nt||W}var Qt=Et.prototype=new vt;Qt.constructor=Et,it(Qt,pt.prototype),Qt.isPureReactComponent=!0;var le=Array.isArray;function dt(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(N,F,nt){var st=nt.ref;return{$$typeof:s,type:N,key:F,ref:st!==void 0?st:null,props:nt}}function V(N,F){return I(N.type,F,N.props)}function x(N){return typeof N=="object"&&N!==null&&N.$$typeof===s}function k(N){var F={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(nt){return F[nt]})}var w=/\/+/g;function Kt(N,F){return typeof N=="object"&&N!==null&&N.key!=null?k(""+N.key):F.toString(36)}function ue(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(dt,dt):(N.status="pending",N.then(function(F){N.status==="pending"&&(N.status="fulfilled",N.value=F)},function(F){N.status==="pending"&&(N.status="rejected",N.reason=F)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function q(N,F,nt,st,yt){var St=typeof N;(St==="undefined"||St==="boolean")&&(N=null);var Dt=!1;if(N===null)Dt=!0;else switch(St){case"bigint":case"string":case"number":Dt=!0;break;case"object":switch(N.$$typeof){case s:case t:Dt=!0;break;case T:return Dt=N._init,q(Dt(N._payload),F,nt,st,yt)}}if(Dt)return yt=yt(N),Dt=st===""?"."+Kt(N,0):st,le(yt)?(nt="",Dt!=null&&(nt=Dt.replace(w,"$&/")+"/"),q(yt,F,nt,"",function(Vi){return Vi})):yt!=null&&(x(yt)&&(yt=V(yt,nt+(yt.key==null||N&&N.key===yt.key?"":(""+yt.key).replace(w,"$&/")+"/")+Dt)),F.push(yt)),1;Dt=0;var pe=st===""?".":st+":";if(le(N))for(var Jt=0;Jt<N.length;Jt++)st=N[Jt],St=pe+Kt(st,Jt),Dt+=q(st,F,nt,St,yt);else if(Jt=K(N),typeof Jt=="function")for(N=Jt.call(N),Jt=0;!(st=N.next()).done;)st=st.value,St=pe+Kt(st,Jt++),Dt+=q(st,F,nt,St,yt);else if(St==="object"){if(typeof N.then=="function")return q(ue(N),F,nt,st,yt);throw F=String(N),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return Dt}function Z(N,F,nt){if(N==null)return N;var st=[],yt=0;return q(N,st,"","",function(St){return F.call(nt,St,yt++)}),st}function lt(N){if(N._status===-1){var F=N._result;F=F(),F.then(function(nt){(N._status===0||N._status===-1)&&(N._status=1,N._result=nt)},function(nt){(N._status===0||N._status===-1)&&(N._status=2,N._result=nt)}),N._status===-1&&(N._status=0,N._result=F)}if(N._status===1)return N._result.default;throw N._result}var xt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},qt={map:Z,forEach:function(N,F,nt){Z(N,function(){F.apply(this,arguments)},nt)},count:function(N){var F=0;return Z(N,function(){F++}),F},toArray:function(N){return Z(N,function(F){return F})||[]},only:function(N){if(!x(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return bt.Activity=S,bt.Children=qt,bt.Component=pt,bt.Fragment=i,bt.Profiler=l,bt.PureComponent=Et,bt.StrictMode=a,bt.Suspense=v,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,bt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return C.H.useMemoCache(N)}},bt.cache=function(N){return function(){return N.apply(null,arguments)}},bt.cacheSignal=function(){return null},bt.cloneElement=function(N,F,nt){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var st=it({},N.props),yt=N.key;if(F!=null)for(St in F.key!==void 0&&(yt=""+F.key),F)!A.call(F,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&F.ref===void 0||(st[St]=F[St]);var St=arguments.length-2;if(St===1)st.children=nt;else if(1<St){for(var Dt=Array(St),pe=0;pe<St;pe++)Dt[pe]=arguments[pe+2];st.children=Dt}return I(N.type,yt,st)},bt.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},bt.createElement=function(N,F,nt){var st,yt={},St=null;if(F!=null)for(st in F.key!==void 0&&(St=""+F.key),F)A.call(F,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(yt[st]=F[st]);var Dt=arguments.length-2;if(Dt===1)yt.children=nt;else if(1<Dt){for(var pe=Array(Dt),Jt=0;Jt<Dt;Jt++)pe[Jt]=arguments[Jt+2];yt.children=pe}if(N&&N.defaultProps)for(st in Dt=N.defaultProps,Dt)yt[st]===void 0&&(yt[st]=Dt[st]);return I(N,St,yt)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(N){return{$$typeof:g,render:N}},bt.isValidElement=x,bt.lazy=function(N){return{$$typeof:T,_payload:{_status:-1,_result:N},_init:lt}},bt.memo=function(N,F){return{$$typeof:y,type:N,compare:F===void 0?null:F}},bt.startTransition=function(N){var F=C.T,nt={};C.T=nt;try{var st=N(),yt=C.S;yt!==null&&yt(nt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(dt,xt)}catch(St){xt(St)}finally{F!==null&&nt.types!==null&&(F.types=nt.types),C.T=F}},bt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},bt.use=function(N){return C.H.use(N)},bt.useActionState=function(N,F,nt){return C.H.useActionState(N,F,nt)},bt.useCallback=function(N,F){return C.H.useCallback(N,F)},bt.useContext=function(N){return C.H.useContext(N)},bt.useDebugValue=function(){},bt.useDeferredValue=function(N,F){return C.H.useDeferredValue(N,F)},bt.useEffect=function(N,F){return C.H.useEffect(N,F)},bt.useEffectEvent=function(N){return C.H.useEffectEvent(N)},bt.useId=function(){return C.H.useId()},bt.useImperativeHandle=function(N,F,nt){return C.H.useImperativeHandle(N,F,nt)},bt.useInsertionEffect=function(N,F){return C.H.useInsertionEffect(N,F)},bt.useLayoutEffect=function(N,F){return C.H.useLayoutEffect(N,F)},bt.useMemo=function(N,F){return C.H.useMemo(N,F)},bt.useOptimistic=function(N,F){return C.H.useOptimistic(N,F)},bt.useReducer=function(N,F,nt){return C.H.useReducer(N,F,nt)},bt.useRef=function(N){return C.H.useRef(N)},bt.useState=function(N){return C.H.useState(N)},bt.useSyncExternalStore=function(N,F,nt){return C.H.useSyncExternalStore(N,F,nt)},bt.useTransition=function(){return C.H.useTransition()},bt.version="19.2.3",bt}var P_;function ym(){return P_||(P_=1,Id.exports=IA()),Id.exports}var ne=ym(),Cd={exports:{}},El={},Nd={exports:{}},xd={};var z_;function CA(){return z_||(z_=1,(function(s){function t(q,Z){var lt=q.length;q.push(Z);t:for(;0<lt;){var xt=lt-1>>>1,qt=q[xt];if(0<l(qt,Z))q[xt]=Z,q[lt]=qt,lt=xt;else break t}}function i(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var Z=q[0],lt=q.pop();if(lt!==Z){q[0]=lt;t:for(var xt=0,qt=q.length,N=qt>>>1;xt<N;){var F=2*(xt+1)-1,nt=q[F],st=F+1,yt=q[st];if(0>l(nt,lt))st<qt&&0>l(yt,nt)?(q[xt]=yt,q[st]=lt,xt=st):(q[xt]=nt,q[F]=lt,xt=F);else if(st<qt&&0>l(yt,lt))q[xt]=yt,q[st]=lt,xt=st;else break t}}return Z}function l(q,Z){var lt=q.sortIndex-Z.sortIndex;return lt!==0?lt:q.id-Z.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var v=[],y=[],T=1,S=null,O=3,K=!1,W=!1,it=!1,et=!1,pt=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,Et=typeof setImmediate<"u"?setImmediate:null;function Qt(q){for(var Z=i(y);Z!==null;){if(Z.callback===null)a(y);else if(Z.startTime<=q)a(y),Z.sortIndex=Z.expirationTime,t(v,Z);else break;Z=i(y)}}function le(q){if(it=!1,Qt(q),!W)if(i(v)!==null)W=!0,dt||(dt=!0,k());else{var Z=i(y);Z!==null&&ue(le,Z.startTime-q)}}var dt=!1,C=-1,A=5,I=-1;function V(){return et?!0:!(s.unstable_now()-I<A)}function x(){if(et=!1,dt){var q=s.unstable_now();I=q;var Z=!0;try{t:{W=!1,it&&(it=!1,vt(C),C=-1),K=!0;var lt=O;try{e:{for(Qt(q),S=i(v);S!==null&&!(S.expirationTime>q&&V());){var xt=S.callback;if(typeof xt=="function"){S.callback=null,O=S.priorityLevel;var qt=xt(S.expirationTime<=q);if(q=s.unstable_now(),typeof qt=="function"){S.callback=qt,Qt(q),Z=!0;break e}S===i(v)&&a(v),Qt(q)}else a(v);S=i(v)}if(S!==null)Z=!0;else{var N=i(y);N!==null&&ue(le,N.startTime-q),Z=!1}}break t}finally{S=null,O=lt,K=!1}Z=void 0}}finally{Z?k():dt=!1}}}var k;if(typeof Et=="function")k=function(){Et(x)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Kt=w.port2;w.port1.onmessage=x,k=function(){Kt.postMessage(null)}}else k=function(){pt(x,0)};function ue(q,Z){C=pt(function(){q(s.unstable_now())},Z)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(q){q.callback=null},s.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<q?Math.floor(1e3/q):5},s.unstable_getCurrentPriorityLevel=function(){return O},s.unstable_next=function(q){switch(O){case 1:case 2:case 3:var Z=3;break;default:Z=O}var lt=O;O=Z;try{return q()}finally{O=lt}},s.unstable_requestPaint=function(){et=!0},s.unstable_runWithPriority=function(q,Z){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var lt=O;O=q;try{return Z()}finally{O=lt}},s.unstable_scheduleCallback=function(q,Z,lt){var xt=s.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?xt+lt:xt):lt=xt,q){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=lt+qt,q={id:T++,callback:Z,priorityLevel:q,startTime:lt,expirationTime:qt,sortIndex:-1},lt>xt?(q.sortIndex=lt,t(y,q),i(v)===null&&q===i(y)&&(it?(vt(C),C=-1):it=!0,ue(le,lt-xt))):(q.sortIndex=qt,t(v,q),W||K||(W=!0,dt||(dt=!0,k()))),q},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(q){var Z=O;return function(){var lt=O;O=Z;try{return q.apply(this,arguments)}finally{O=lt}}}})(xd)),xd}var j_;function NA(){return j_||(j_=1,Nd.exports=CA()),Nd.exports}var Dd={exports:{}},We={};var B_;function xA(){if(B_)return We;B_=1;var s=ym();function t(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(v,y,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:v,containerInfo:y,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return We.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,We.createPortal=function(v,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(v,y,null,T)},We.flushSync=function(v){var y=d.T,T=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=y,a.p=T,a.d.f()}},We.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(v,y))},We.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},We.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var T=y.as,S=g(T,y.crossOrigin),O=typeof y.integrity=="string"?y.integrity:void 0,K=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?a.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:O,fetchPriority:K}):T==="script"&&a.d.X(v,{crossOrigin:S,integrity:O,fetchPriority:K,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},We.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=g(y.as,y.crossOrigin);a.d.M(v,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(v)},We.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,S=g(T,y.crossOrigin);a.d.L(v,T,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},We.preloadModule=function(v,y){if(typeof v=="string")if(y){var T=g(y.as,y.crossOrigin);a.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(v)},We.requestFormReset=function(v){a.d.r(v)},We.unstable_batchedUpdates=function(v,y){return v(y)},We.useFormState=function(v,y,T){return d.H.useFormState(v,y,T)},We.useFormStatus=function(){return d.H.useHostTransitionStatus()},We.version="19.2.3",We}var q_;function DA(){if(q_)return Dd.exports;q_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Dd.exports=xA(),Dd.exports}var H_;function OA(){if(H_)return El;H_=1;var s=NA(),t=ym(),i=DA();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return v(h),e;if(f===o)return v(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===r){p=!0,r=h,o=f;break}if(E===o){p=!0,o=h,r=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===r){p=!0,r=f,o=h;break}if(E===o){p=!0,o=f,r=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function T(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=T(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,O=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),et=Symbol.for("react.strict_mode"),pt=Symbol.for("react.profiler"),vt=Symbol.for("react.consumer"),Et=Symbol.for("react.context"),Qt=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),dt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=x&&e[x]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function Kt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case it:return"Fragment";case pt:return"Profiler";case et:return"StrictMode";case le:return"Suspense";case dt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case Et:return e.displayName||"Context";case vt:return(e._context.displayName||"Context")+".Consumer";case Qt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:Kt(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return Kt(e(n))}catch{}}return null}var ue=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},xt=[],qt=-1;function N(e){return{current:e}}function F(e){0>qt||(e.current=xt[qt],xt[qt]=null,qt--)}function nt(e,n){qt++,xt[qt]=e.current,e.current=n}var st=N(null),yt=N(null),St=N(null),Dt=N(null);function pe(e,n){switch(nt(St,n),nt(yt,e),nt(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?r_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=r_(n),e=s_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(st),nt(st,e)}function Jt(){F(st),F(yt),F(St)}function Vi(e){e.memoizedState!==null&&nt(Dt,e);var n=st.current,r=s_(n,e.type);n!==r&&(nt(yt,e),nt(st,r))}function ur(e){yt.current===e&&(F(st),F(yt)),Dt.current===e&&(F(Dt),pl._currentValue=lt)}var cr,Mi;function G(e){if(cr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);cr=n&&n[1]||"",Mi=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+cr+e+Mi}var ct=!1;function zt(e,n){if(!e||ct)return"";ct=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(B){var z=B}Reflect.construct(e,[],X)}else{try{X.call()}catch(B){z=B}e.call(X.prototype)}}else{try{throw Error()}catch(B){z=B}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var R=p.split(`
`),P=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===P.length)for(o=R.length-1,h=P.length-1;1<=o&&0<=h&&R[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==P[h]){var H=`
`+R[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=h);break}}}finally{ct=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?G(r):""}function Ze(e,n){switch(e.tag){case 26:case 27:case 5:return G(e.type);case 16:return G("Lazy");case 13:return e.child!==n&&n!==null?G("Suspense Fallback"):G("Suspense");case 19:return G("SuspenseList");case 0:case 15:return zt(e.type,!1);case 11:return zt(e.type.render,!1);case 1:return zt(e.type,!0);case 31:return G("Activity");default:return""}}function qe(e){try{var n="",r=null;do n+=Ze(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Te=Object.prototype.hasOwnProperty,Me=s.unstable_scheduleCallback,hr=s.unstable_cancelCallback,Ih=s.unstable_shouldYield,Zl=s.unstable_requestPaint,sn=s.unstable_now,cs=s.unstable_getCurrentPriorityLevel,_o=s.unstable_ImmediatePriority,vo=s.unstable_UserBlockingPriority,fr=s.unstable_NormalPriority,Ch=s.unstable_LowPriority,Wl=s.unstable_IdlePriority,tu=s.log,eu=s.unstable_setDisableYieldValue,Bn=null,He=null;function In(e){if(typeof tu=="function"&&eu(e),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(Bn,e)}catch{}}var ge=Math.clz32?Math.clz32:iu,nu=Math.log,ta=Math.LN2;function iu(e){return e>>>=0,e===0?32:31-(nu(e)/ta|0)|0}var si=256,hs=262144,be=4194304;function ai(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function oi(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ai(o):(p&=E,p!==0?h=ai(p):r||(r=E&~e,r!==0&&(h=ai(r))))):(E=o&~f,E!==0?h=ai(E):p!==0?h=ai(p):r||(r=o&~e,r!==0&&(h=ai(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function qn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Nh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ru(){var e=be;return be<<=1,(be&62914560)===0&&(be=4194304),e}function li(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function fs(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function xh(e,n,r,o,h,f){var p=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,P=e.hiddenUpdates;for(r=p&~r;0<r;){var H=31-ge(r),X=1<<H;E[H]=0,R[H]=-1;var z=P[H];if(z!==null)for(P[H]=null,H=0;H<z.length;H++){var B=z[H];B!==null&&(B.lane&=-536870913)}r&=~X}o!==0&&ds(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function ds(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ge(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function Eo(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-ge(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function To(e,n){var r=n&-n;return r=(r&42)!==0?1:ms(r),(r&(e.suspendedLanes|n))!==0?0:r}function ms(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ki(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function su(){var e=Z.p;return e!==0?e:(e=window.event,e===void 0?32:C_(e.type))}function Hn(e,n){var r=Z.p;try{return Z.p=e,n()}finally{Z.p=r}}var Gn=Math.random().toString(36).slice(2),Ae="__reactFiber$"+Gn,Ue="__reactProps$"+Gn,ui="__reactContainer$"+Gn,ea="__reactEvents$"+Gn,Dh="__reactListeners$"+Gn,au="__reactHandles$"+Gn,ou="__reactResources$"+Gn,ci="__reactMarker$"+Gn;function na(e){delete e[Ae],delete e[Ue],delete e[ea],delete e[Dh],delete e[au]}function hi(e){var n=e[Ae];if(n)return n;for(var r=e.parentNode;r;){if(n=r[ui]||r[Ae]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=f_(e);e!==null;){if(r=e[Ae])return r;e=f_(e)}return n}e=r,r=e.parentNode}return null}function Cn(e){if(e=e[Ae]||e[ui]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function yn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function fi(e){var n=e[ou];return n||(n=e[ou]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Se(e){e[ci]=!0}var bo=new Set,Ao={};function di(e,n){mi(e,n),mi(e+"Capture",n)}function mi(e,n){for(Ao[e]=n,e=0;e<n.length;e++)bo.add(n[e])}var So=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wo={},Ro={};function lu(e){return Te.call(Ro,e)?!0:Te.call(wo,e)?!1:So.test(e)?Ro[e]=!0:(wo[e]=!0,!1)}function ia(e,n,r){if(lu(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function _n(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function we(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function Pe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Io(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Yt(e){if(!e._valueTracker){var n=dr(e)?"checked":"value";e._valueTracker=Io(e,n,""+e[n])}}function ps(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=dr(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function pi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var gs=/[\n"\\]/g;function ln(e){return e.replace(gs,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ra(e,n,r,o,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Pe(n)):e.value!==""+Pe(n)&&(e.value=""+Pe(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Co(e,p,Pe(n)):r!=null?Co(e,p,Pe(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Pe(E):e.removeAttribute("name")}function uu(e,n,r,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Yt(e);return}r=r!=null?""+Pe(r):"",n=n!=null?""+Pe(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Yt(e)}function Co(e,n,r){n==="number"&&pi(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function mr(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Pe(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function cu(e,n,r){if(n!=null&&(n=""+Pe(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Pe(r):""}function pr(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(ue(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Pe(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Yt(e)}function un(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function No(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||hu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function xo(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&No(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&No(e,f,n[f])}function sa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function aa(e){return gr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Fn(){}var Do=null;function Nn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yr=null,gi=null;function ys(e){var n=Cn(e);if(n&&(e=n.stateNode)){var r=e[Ue]||null;t:switch(e=n.stateNode,n.type){case"input":if(ra(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ln(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[Ue]||null;if(!h)throw Error(a(90));ra(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&ps(o)}break t;case"textarea":cu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&mr(e,!!r.multiple,n,!1)}}}var oa=!1;function _r(e,n,r){if(oa)return e(n,r);oa=!0;try{var o=e(n);return o}finally{if(oa=!1,(yr!==null||gi!==null)&&(sc(),yr&&(n=yr,e=gi,gi=yr=null,ys(n),e)))for(n=0;n<e.length;n++)ys(e[n])}}function Qn(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Ue]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_s=!1;if(xn)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){_s=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{_s=!1}var yi=null,Oo=null,vs=null;function Vo(){if(vs)return vs;var e,n=Oo,r=n.length,o,h="value"in yi?yi.value:yi.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var p=r-e;for(o=1;o<=p&&n[r-o]===h[f-o];o++);return vs=h.slice(e,1<o?1-o:void 0)}function Es(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Li(){return!0}function Kn(){return!1}function Ge(e){function n(r,o,h,f,p){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Li:Kn,this.isPropagationStopped=Kn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),n}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_i=Ge(Ui),vr=S({},Ui,{view:0,detail:0}),Mo=Ge(vr),Er,la,vi,ua=S({},vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vi&&(vi&&e.type==="mousemove"?(Er=e.screenX-vi.screenX,la=e.screenY-vi.screenY):la=Er=0,vi=e),Er)},movementY:function(e){return"movementY"in e?e.movementY:la}}),ko=Ge(ua),Ts=S({},ua,{dataTransfer:0}),du=Ge(Ts),mu=S({},vr,{relatedTarget:0}),bs=Ge(mu),Lo=S({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),pu=Ge(Lo),ca=S({},Ui,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gu=Ge(ca),yu=S({},Ui,{data:0}),Ei=Ge(yu),_u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Eu[e])?!!n[e]:!1}function Tr(){return Tu}var an=S({},vr,{key:function(e){if(e.key){var n=_u[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Es(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tr,charCode:function(e){return e.type==="keypress"?Es(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Es(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bu=Ge(an),Au=S({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pi=Ge(Au),u=S({},vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tr}),m=Ge(u),_=S({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Ge(_),L=S({},ua,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j=Ge(L),tt=S({},Ui,{newState:0,oldState:0}),wt=Ge(tt),ye=[9,13,27,32],Ht=xn&&"CompositionEvent"in window,ce=null;xn&&"documentMode"in document&&(ce=document.documentMode);var Dn=xn&&"TextEvent"in window&&!ce,Ti=xn&&(!Ht||ce&&8<ce&&11>=ce),Yn=" ",Xn=!1;function As(e,n){switch(e){case"keyup":return ye.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ha(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fa=!1;function XT(e,n){switch(e){case"compositionend":return ha(n);case"keypress":return n.which!==32?null:(Xn=!0,Yn);case"textInput":return e=n.data,e===Yn&&Xn?null:e;default:return null}}function $T(e,n){if(fa)return e==="compositionend"||!Ht&&As(e,n)?(e=Vo(),vs=Oo=yi=null,fa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ti&&n.locale!=="ko"?null:n.data;default:return null}}var JT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!JT[e.type]:n==="textarea"}function gp(e,n,r,o){yr?gi?gi.push(o):gi=[o]:yr=o,n=fc(n,"onChange"),0<n.length&&(r=new _i("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Uo=null,Po=null;function ZT(e){Zy(e,0)}function Su(e){var n=yn(e);if(ps(n))return e}function yp(e,n){if(e==="change")return n}var _p=!1;if(xn){var Oh;if(xn){var Vh="oninput"in document;if(!Vh){var vp=document.createElement("div");vp.setAttribute("oninput","return;"),Vh=typeof vp.oninput=="function"}Oh=Vh}else Oh=!1;_p=Oh&&(!document.documentMode||9<document.documentMode)}function Ep(){Uo&&(Uo.detachEvent("onpropertychange",Tp),Po=Uo=null)}function Tp(e){if(e.propertyName==="value"&&Su(Po)){var n=[];gp(n,Po,e,Nn(e)),_r(ZT,n)}}function WT(e,n,r){e==="focusin"?(Ep(),Uo=n,Po=r,Uo.attachEvent("onpropertychange",Tp)):e==="focusout"&&Ep()}function tb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Su(Po)}function eb(e,n){if(e==="click")return Su(n)}function nb(e,n){if(e==="input"||e==="change")return Su(n)}function ib(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var vn=typeof Object.is=="function"?Object.is:ib;function zo(e,n){if(vn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!Te.call(n,h)||!vn(e[h],n[h]))return!1}return!0}function bp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ap(e,n){var r=bp(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=bp(r)}}function Sp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Sp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function wp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=pi(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=pi(e.document)}return n}function Mh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var rb=xn&&"documentMode"in document&&11>=document.documentMode,da=null,kh=null,jo=null,Lh=!1;function Rp(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Lh||da==null||da!==pi(o)||(o=da,"selectionStart"in o&&Mh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),jo&&zo(jo,o)||(jo=o,o=fc(kh,"onSelect"),0<o.length&&(n=new _i("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=da)))}function Ss(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ma={animationend:Ss("Animation","AnimationEnd"),animationiteration:Ss("Animation","AnimationIteration"),animationstart:Ss("Animation","AnimationStart"),transitionrun:Ss("Transition","TransitionRun"),transitionstart:Ss("Transition","TransitionStart"),transitioncancel:Ss("Transition","TransitionCancel"),transitionend:Ss("Transition","TransitionEnd")},Uh={},Ip={};xn&&(Ip=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function ws(e){if(Uh[e])return Uh[e];if(!ma[e])return e;var n=ma[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Ip)return Uh[e]=n[r];return e}var Cp=ws("animationend"),Np=ws("animationiteration"),xp=ws("animationstart"),sb=ws("transitionrun"),ab=ws("transitionstart"),ob=ws("transitioncancel"),Dp=ws("transitionend"),Op=new Map,Ph="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ph.push("scrollEnd");function $n(e,n){Op.set(e,n),di(n,[e])}var wu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},On=[],pa=0,zh=0;function Ru(){for(var e=pa,n=zh=pa=0;n<e;){var r=On[n];On[n++]=null;var o=On[n];On[n++]=null;var h=On[n];On[n++]=null;var f=On[n];if(On[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Vp(r,h,f)}}function Iu(e,n,r,o){On[pa++]=e,On[pa++]=n,On[pa++]=r,On[pa++]=o,zh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function jh(e,n,r,o){return Iu(e,n,r,o),Cu(e)}function Rs(e,n){return Iu(e,null,null,n),Cu(e)}function Vp(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ge(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Cu(e){if(50<ll)throw ll=0,$f=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ga={};function lb(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(e,n,r,o){return new lb(e,n,r,o)}function Bh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zi(e,n){var r=e.alternate;return r===null?(r=En(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Mp(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Nu(e,n,r,o,h,f){var p=0;if(o=e,typeof e=="function")Bh(e)&&(p=1);else if(typeof e=="string")p=dA(e,r,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=En(31,r,n,h),e.elementType=I,e.lanes=f,e;case it:return Is(r.children,h,f,n);case et:p=8,h|=24;break;case pt:return e=En(12,r,n,h|2),e.elementType=pt,e.lanes=f,e;case le:return e=En(13,r,n,h),e.elementType=le,e.lanes=f,e;case dt:return e=En(19,r,n,h),e.elementType=dt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Et:p=10;break t;case vt:p=9;break t;case Qt:p=11;break t;case C:p=14;break t;case A:p=16,o=null;break t}p=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=En(p,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Is(e,n,r,o){return e=En(7,e,o,n),e.lanes=r,e}function qh(e,n,r){return e=En(6,e,null,n),e.lanes=r,e}function kp(e){var n=En(18,null,null,0);return n.stateNode=e,n}function Hh(e,n,r){return n=En(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Lp=new WeakMap;function Vn(e,n){if(typeof e=="object"&&e!==null){var r=Lp.get(e);return r!==void 0?r:(n={value:e,source:n,stack:qe(n)},Lp.set(e,n),n)}return{value:e,source:n,stack:qe(n)}}var ya=[],_a=0,xu=null,Bo=0,Mn=[],kn=0,br=null,bi=1,Ai="";function ji(e,n){ya[_a++]=Bo,ya[_a++]=xu,xu=e,Bo=n}function Up(e,n,r){Mn[kn++]=bi,Mn[kn++]=Ai,Mn[kn++]=br,br=e;var o=bi;e=Ai;var h=32-ge(o)-1;o&=~(1<<h),r+=1;var f=32-ge(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,bi=1<<32-ge(n)+h|r<<h|o,Ai=f+e}else bi=1<<f|r<<h|o,Ai=e}function Gh(e){e.return!==null&&(ji(e,1),Up(e,1,0))}function Fh(e){for(;e===xu;)xu=ya[--_a],ya[_a]=null,Bo=ya[--_a],ya[_a]=null;for(;e===br;)br=Mn[--kn],Mn[kn]=null,Ai=Mn[--kn],Mn[kn]=null,bi=Mn[--kn],Mn[kn]=null}function Pp(e,n){Mn[kn++]=bi,Mn[kn++]=Ai,Mn[kn++]=br,bi=n.id,Ai=n.overflow,br=e}var Fe=null,se=null,Ut=!1,Ar=null,Ln=!1,Qh=Error(a(519));function Sr(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qo(Vn(n,e)),Qh}function zp(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[Ae]=e,n[Ue]=o,r){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(r=0;r<cl.length;r++)Nt(cl[r],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),uu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),pr(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||n_(n.textContent,r)?(o.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),o.onScroll!=null&&Nt("scroll",n),o.onScrollEnd!=null&&Nt("scrollend",n),o.onClick!=null&&(n.onclick=Fn),n=!0):n=!1,n||Sr(e,!0)}function jp(e){for(Fe=e.return;Fe;)switch(Fe.tag){case 5:case 31:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:Fe=Fe.return}}function va(e){if(e!==Fe)return!1;if(!Ut)return jp(e),Ut=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||hd(e.type,e.memoizedProps)),r=!r),r&&se&&Sr(e),jp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));se=h_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));se=h_(e)}else n===27?(n=se,Pr(e.type)?(e=gd,gd=null,se=e):se=n):se=Fe?Pn(e.stateNode.nextSibling):null;return!0}function Cs(){se=Fe=null,Ut=!1}function Kh(){var e=Ar;return e!==null&&(dn===null?dn=e:dn.push.apply(dn,e),Ar=null),e}function qo(e){Ar===null?Ar=[e]:Ar.push(e)}var Yh=N(null),Ns=null,Bi=null;function wr(e,n,r){nt(Yh,n._currentValue),n._currentValue=r}function qi(e){e._currentValue=Yh.current,F(Yh)}function Xh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function $h(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Xh(f.return,r,e),o||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),Xh(p,r,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Ea(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;vn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===Dt.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(pl):e=[pl])}h=h.return}e!==null&&$h(n,e,r,o),n.flags|=262144}function Du(e){for(e=e.firstContext;e!==null;){if(!vn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function xs(e){Ns=e,Bi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qe(e){return Bp(Ns,e)}function Ou(e,n){return Ns===null&&xs(e),Bp(e,n)}function Bp(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Bi===null){if(e===null)throw Error(a(308));Bi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Bi=Bi.next=n;return r}var ub=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},cb=s.unstable_scheduleCallback,hb=s.unstable_NormalPriority,Re={$$typeof:Et,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jh(){return{controller:new ub,data:new Map,refCount:0}}function Ho(e){e.refCount--,e.refCount===0&&cb(hb,function(){e.controller.abort()})}var Go=null,Zh=0,Ta=0,ba=null;function fb(e,n){if(Go===null){var r=Go=[];Zh=0,Ta=nd(),ba={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Zh++,n.then(qp,qp),n}function qp(){if(--Zh===0&&Go!==null){ba!==null&&(ba.status="fulfilled");var e=Go;Go=null,Ta=0,ba=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function db(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Hp=q.S;q.S=function(e,n){Ry=sn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&fb(e,n),Hp!==null&&Hp(e,n)};var Ds=N(null);function Wh(){var e=Ds.current;return e!==null?e:ie.pooledCache}function Vu(e,n){n===null?nt(Ds,Ds.current):nt(Ds,n.pool)}function Gp(){var e=Wh();return e===null?null:{parent:Re._currentValue,pool:e}}var Aa=Error(a(460)),tf=Error(a(474)),Mu=Error(a(542)),ku={then:function(){}};function Fp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Qp(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Fn,Fn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Yp(e),e;default:if(typeof n.status=="string")n.then(Fn,Fn);else{if(e=ie,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Yp(e),e}throw Vs=n,Aa}}function Os(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Vs=r,Aa):r}}var Vs=null;function Kp(){if(Vs===null)throw Error(a(459));var e=Vs;return Vs=null,e}function Yp(e){if(e===Aa||e===Mu)throw Error(a(483))}var Sa=null,Fo=0;function Lu(e){var n=Fo;return Fo+=1,Sa===null&&(Sa=[]),Qp(Sa,e,n)}function Qo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Uu(e,n){throw n.$$typeof===O?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Xp(e){function n(M,D){if(e){var U=M.deletions;U===null?(M.deletions=[D],M.flags|=16):U.push(D)}}function r(M,D){if(!e)return null;for(;D!==null;)n(M,D),D=D.sibling;return null}function o(M){for(var D=new Map;M!==null;)M.key!==null?D.set(M.key,M):D.set(M.index,M),M=M.sibling;return D}function h(M,D){return M=zi(M,D),M.index=0,M.sibling=null,M}function f(M,D,U){return M.index=U,e?(U=M.alternate,U!==null?(U=U.index,U<D?(M.flags|=67108866,D):U):(M.flags|=67108866,D)):(M.flags|=1048576,D)}function p(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function E(M,D,U,Q){return D===null||D.tag!==6?(D=qh(U,M.mode,Q),D.return=M,D):(D=h(D,U),D.return=M,D)}function R(M,D,U,Q){var ht=U.type;return ht===it?H(M,D,U.props.children,Q,U.key):D!==null&&(D.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===A&&Os(ht)===D.type)?(D=h(D,U.props),Qo(D,U),D.return=M,D):(D=Nu(U.type,U.key,U.props,null,M.mode,Q),Qo(D,U),D.return=M,D)}function P(M,D,U,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==U.containerInfo||D.stateNode.implementation!==U.implementation?(D=Hh(U,M.mode,Q),D.return=M,D):(D=h(D,U.children||[]),D.return=M,D)}function H(M,D,U,Q,ht){return D===null||D.tag!==7?(D=Is(U,M.mode,Q,ht),D.return=M,D):(D=h(D,U),D.return=M,D)}function X(M,D,U){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=qh(""+D,M.mode,U),D.return=M,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case K:return U=Nu(D.type,D.key,D.props,null,M.mode,U),Qo(U,D),U.return=M,U;case W:return D=Hh(D,M.mode,U),D.return=M,D;case A:return D=Os(D),X(M,D,U)}if(ue(D)||k(D))return D=Is(D,M.mode,U,null),D.return=M,D;if(typeof D.then=="function")return X(M,Lu(D),U);if(D.$$typeof===Et)return X(M,Ou(M,D),U);Uu(M,D)}return null}function z(M,D,U,Q){var ht=D!==null?D.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ht!==null?null:E(M,D,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case K:return U.key===ht?R(M,D,U,Q):null;case W:return U.key===ht?P(M,D,U,Q):null;case A:return U=Os(U),z(M,D,U,Q)}if(ue(U)||k(U))return ht!==null?null:H(M,D,U,Q,null);if(typeof U.then=="function")return z(M,D,Lu(U),Q);if(U.$$typeof===Et)return z(M,D,Ou(M,U),Q);Uu(M,U)}return null}function B(M,D,U,Q,ht){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return M=M.get(U)||null,E(D,M,""+Q,ht);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case K:return M=M.get(Q.key===null?U:Q.key)||null,R(D,M,Q,ht);case W:return M=M.get(Q.key===null?U:Q.key)||null,P(D,M,Q,ht);case A:return Q=Os(Q),B(M,D,U,Q,ht)}if(ue(Q)||k(Q))return M=M.get(U)||null,H(D,M,Q,ht,null);if(typeof Q.then=="function")return B(M,D,U,Lu(Q),ht);if(Q.$$typeof===Et)return B(M,D,U,Ou(D,Q),ht);Uu(D,Q)}return null}function ot(M,D,U,Q){for(var ht=null,jt=null,ut=D,It=D=0,Vt=null;ut!==null&&It<U.length;It++){ut.index>It?(Vt=ut,ut=null):Vt=ut.sibling;var Bt=z(M,ut,U[It],Q);if(Bt===null){ut===null&&(ut=Vt);break}e&&ut&&Bt.alternate===null&&n(M,ut),D=f(Bt,D,It),jt===null?ht=Bt:jt.sibling=Bt,jt=Bt,ut=Vt}if(It===U.length)return r(M,ut),Ut&&ji(M,It),ht;if(ut===null){for(;It<U.length;It++)ut=X(M,U[It],Q),ut!==null&&(D=f(ut,D,It),jt===null?ht=ut:jt.sibling=ut,jt=ut);return Ut&&ji(M,It),ht}for(ut=o(ut);It<U.length;It++)Vt=B(ut,M,It,U[It],Q),Vt!==null&&(e&&Vt.alternate!==null&&ut.delete(Vt.key===null?It:Vt.key),D=f(Vt,D,It),jt===null?ht=Vt:jt.sibling=Vt,jt=Vt);return e&&ut.forEach(function(Hr){return n(M,Hr)}),Ut&&ji(M,It),ht}function mt(M,D,U,Q){if(U==null)throw Error(a(151));for(var ht=null,jt=null,ut=D,It=D=0,Vt=null,Bt=U.next();ut!==null&&!Bt.done;It++,Bt=U.next()){ut.index>It?(Vt=ut,ut=null):Vt=ut.sibling;var Hr=z(M,ut,Bt.value,Q);if(Hr===null){ut===null&&(ut=Vt);break}e&&ut&&Hr.alternate===null&&n(M,ut),D=f(Hr,D,It),jt===null?ht=Hr:jt.sibling=Hr,jt=Hr,ut=Vt}if(Bt.done)return r(M,ut),Ut&&ji(M,It),ht;if(ut===null){for(;!Bt.done;It++,Bt=U.next())Bt=X(M,Bt.value,Q),Bt!==null&&(D=f(Bt,D,It),jt===null?ht=Bt:jt.sibling=Bt,jt=Bt);return Ut&&ji(M,It),ht}for(ut=o(ut);!Bt.done;It++,Bt=U.next())Bt=B(ut,M,It,Bt.value,Q),Bt!==null&&(e&&Bt.alternate!==null&&ut.delete(Bt.key===null?It:Bt.key),D=f(Bt,D,It),jt===null?ht=Bt:jt.sibling=Bt,jt=Bt);return e&&ut.forEach(function(SA){return n(M,SA)}),Ut&&ji(M,It),ht}function ee(M,D,U,Q){if(typeof U=="object"&&U!==null&&U.type===it&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case K:t:{for(var ht=U.key;D!==null;){if(D.key===ht){if(ht=U.type,ht===it){if(D.tag===7){r(M,D.sibling),Q=h(D,U.props.children),Q.return=M,M=Q;break t}}else if(D.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===A&&Os(ht)===D.type){r(M,D.sibling),Q=h(D,U.props),Qo(Q,U),Q.return=M,M=Q;break t}r(M,D);break}else n(M,D);D=D.sibling}U.type===it?(Q=Is(U.props.children,M.mode,Q,U.key),Q.return=M,M=Q):(Q=Nu(U.type,U.key,U.props,null,M.mode,Q),Qo(Q,U),Q.return=M,M=Q)}return p(M);case W:t:{for(ht=U.key;D!==null;){if(D.key===ht)if(D.tag===4&&D.stateNode.containerInfo===U.containerInfo&&D.stateNode.implementation===U.implementation){r(M,D.sibling),Q=h(D,U.children||[]),Q.return=M,M=Q;break t}else{r(M,D);break}else n(M,D);D=D.sibling}Q=Hh(U,M.mode,Q),Q.return=M,M=Q}return p(M);case A:return U=Os(U),ee(M,D,U,Q)}if(ue(U))return ot(M,D,U,Q);if(k(U)){if(ht=k(U),typeof ht!="function")throw Error(a(150));return U=ht.call(U),mt(M,D,U,Q)}if(typeof U.then=="function")return ee(M,D,Lu(U),Q);if(U.$$typeof===Et)return ee(M,D,Ou(M,U),Q);Uu(M,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,D!==null&&D.tag===6?(r(M,D.sibling),Q=h(D,U),Q.return=M,M=Q):(r(M,D),Q=qh(U,M.mode,Q),Q.return=M,M=Q),p(M)):r(M,D)}return function(M,D,U,Q){try{Fo=0;var ht=ee(M,D,U,Q);return Sa=null,ht}catch(ut){if(ut===Aa||ut===Mu)throw ut;var jt=En(29,ut,null,M.mode);return jt.lanes=Q,jt.return=M,jt}}}var Ms=Xp(!0),$p=Xp(!1),Rr=!1;function ef(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ir(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Cr(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Gt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Cu(e),Vp(e,null,r),n}return Iu(e,o,n,r),Cu(e)}function Ko(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Eo(e,r)}}function rf(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var sf=!1;function Yo(){if(sf){var e=ba;if(e!==null)throw e}}function Xo(e,n,r,o){sf=!1;var h=e.updateQueue;Rr=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,P=R.next;R.next=null,p===null?f=P:p.next=P,p=R;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==p&&(E===null?H.firstBaseUpdate=P:E.next=P,H.lastBaseUpdate=R))}if(f!==null){var X=h.baseState;p=0,H=P=R=null,E=f;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(Ot&z)===z:(o&z)===z){z!==0&&z===Ta&&(sf=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,mt=E;z=n;var ee=r;switch(mt.tag){case 1:if(ot=mt.payload,typeof ot=="function"){X=ot.call(ee,X,z);break t}X=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=mt.payload,z=typeof ot=="function"?ot.call(ee,X,z):ot,z==null)break t;X=S({},X,z);break t;case 2:Rr=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(P=H=B,R=X):H=H.next=B,p|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);H===null&&(R=X),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=H,f===null&&(h.shared.lanes=0),Vr|=p,e.lanes=p,e.memoizedState=X}}function Jp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Zp(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Jp(r[e],n)}var wa=N(null),Pu=N(0);function Wp(e,n){e=Ji,nt(Pu,e),nt(wa,n),Ji=e|n.baseLanes}function af(){nt(Pu,Ji),nt(wa,wa.current)}function of(){Ji=Pu.current,F(wa),F(Pu)}var Tn=N(null),Un=null;function Nr(e){var n=e.alternate;nt(_e,_e.current&1),nt(Tn,e),Un===null&&(n===null||wa.current!==null||n.memoizedState!==null)&&(Un=e)}function lf(e){nt(_e,_e.current),nt(Tn,e),Un===null&&(Un=e)}function tg(e){e.tag===22?(nt(_e,_e.current),nt(Tn,e),Un===null&&(Un=e)):xr()}function xr(){nt(_e,_e.current),nt(Tn,Tn.current)}function bn(e){F(Tn),Un===e&&(Un=null),F(_e)}var _e=N(0);function zu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||md(r)||pd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Hi=0,Rt=null,Wt=null,Ie=null,ju=!1,Ra=!1,ks=!1,Bu=0,$o=0,Ia=null,mb=0;function de(){throw Error(a(321))}function uf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!vn(e[r],n[r]))return!1;return!0}function cf(e,n,r,o,h,f){return Hi=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=e===null||e.memoizedState===null?Ug:wf,ks=!1,f=r(o,h),ks=!1,Ra&&(f=ng(n,r,o,h)),eg(e),f}function eg(e){q.H=Wo;var n=Wt!==null&&Wt.next!==null;if(Hi=0,Ie=Wt=Rt=null,ju=!1,$o=0,Ia=null,n)throw Error(a(300));e===null||Ce||(e=e.dependencies,e!==null&&Du(e)&&(Ce=!0))}function ng(e,n,r,o){Rt=e;var h=0;do{if(Ra&&(Ia=null),$o=0,Ra=!1,25<=h)throw Error(a(301));if(h+=1,Ie=Wt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=Pg,f=n(r,o)}while(Ra);return f}function pb(){var e=q.H,n=e.useState()[0];return n=typeof n.then=="function"?Jo(n):n,e=e.useState()[0],(Wt!==null?Wt.memoizedState:null)!==e&&(Rt.flags|=1024),n}function hf(){var e=Bu!==0;return Bu=0,e}function ff(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function df(e){if(ju){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ju=!1}Hi=0,Ie=Wt=Rt=null,Ra=!1,$o=Bu=0,Ia=null}function on(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?Rt.memoizedState=Ie=e:Ie=Ie.next=e,Ie}function ve(){if(Wt===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=Wt.next;var n=Ie===null?Rt.memoizedState:Ie.next;if(n!==null)Ie=n,Wt=e;else{if(e===null)throw Rt.alternate===null?Error(a(467)):Error(a(310));Wt=e,e={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Ie===null?Rt.memoizedState=Ie=e:Ie=Ie.next=e}return Ie}function qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jo(e){var n=$o;return $o+=1,Ia===null&&(Ia=[]),e=Qp(Ia,e,n),n=Rt,(Ie===null?n.memoizedState:Ie.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?Ug:wf),e}function Hu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Jo(e);if(e.$$typeof===Et)return Qe(e)}throw Error(a(438,String(e)))}function mf(e){var n=null,r=Rt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=qu(),Rt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=V;return n.index++,r}function Gi(e,n){return typeof n=="function"?n(e):n}function Gu(e){var n=ve();return pf(n,Wt,e)}function pf(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,R=null,P=n,H=!1;do{var X=P.lane&-536870913;if(X!==P.lane?(Ot&X)===X:(Hi&X)===X){var z=P.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),X===Ta&&(H=!0);else if((Hi&z)===z){P=P.next,z===Ta&&(H=!0);continue}else X={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=X,p=f):R=R.next=X,Rt.lanes|=z,Vr|=z;X=P.action,ks&&r(f,X),f=P.hasEagerState?P.eagerState:r(f,X)}else z={lane:X,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=z,p=f):R=R.next=z,Rt.lanes|=X,Vr|=X;P=P.next}while(P!==null&&P!==n);if(R===null?p=f:R.next=E,!vn(f,e.memoizedState)&&(Ce=!0,H&&(r=ba,r!==null)))throw r;e.memoizedState=f,e.baseState=p,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function gf(e){var n=ve(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);vn(f,n.memoizedState)||(Ce=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function ig(e,n,r){var o=Rt,h=ve(),f=Ut;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!vn((Wt||h).memoizedState,r);if(p&&(h.memoizedState=r,Ce=!0),h=h.queue,vf(ag.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||Ie!==null&&Ie.memoizedState.tag&1){if(o.flags|=2048,Ca(9,{destroy:void 0},sg.bind(null,o,h,r,n),null),ie===null)throw Error(a(349));f||(Hi&127)!==0||rg(o,n,r)}return r}function rg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Rt.updateQueue,n===null?(n=qu(),Rt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function sg(e,n,r,o){n.value=r,n.getSnapshot=o,og(n)&&lg(e)}function ag(e,n,r){return r(function(){og(n)&&lg(e)})}function og(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!vn(e,r)}catch{return!0}}function lg(e){var n=Rs(e,2);n!==null&&mn(n,e,2)}function yf(e){var n=on();if(typeof e=="function"){var r=e;if(e=r(),ks){In(!0);try{r()}finally{In(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:e},n}function ug(e,n,r,o){return e.baseState=r,pf(e,Wt,typeof o=="function"?o:Gi)}function gb(e,n,r,o,h){if(Ku(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};q.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,cg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function cg(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=q.T,p={};q.T=p;try{var E=r(h,o),R=q.S;R!==null&&R(p,E),hg(e,n,E)}catch(P){_f(e,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),q.T=f}}else try{f=r(h,o),hg(e,n,f)}catch(P){_f(e,n,P)}}function hg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){fg(e,n,o)},function(o){return _f(e,n,o)}):fg(e,n,r)}function fg(e,n,r){n.status="fulfilled",n.value=r,dg(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,cg(e,r)))}function _f(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,dg(n),n=n.next;while(n!==o)}e.action=null}function dg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function mg(e,n){return n}function pg(e,n){if(Ut){var r=ie.formState;if(r!==null){t:{var o=Rt;if(Ut){if(se){e:{for(var h=se,f=Ln;h.nodeType!==8;){if(!f){h=null;break e}if(h=Pn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){se=Pn(h.nextSibling),o=h.data==="F!";break t}}Sr(o)}o=!1}o&&(n=r[0])}}return r=on(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mg,lastRenderedState:n},r.queue=o,r=Mg.bind(null,Rt,o),o.dispatch=r,o=yf(!1),f=Sf.bind(null,Rt,!1,o.queue),o=on(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=gb.bind(null,Rt,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function gg(e){var n=ve();return yg(n,Wt,e)}function yg(e,n,r){if(n=pf(e,n,mg)[0],e=Gu(Gi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Jo(n)}catch(p){throw p===Aa?Mu:p}else o=n;n=ve();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Rt.flags|=2048,Ca(9,{destroy:void 0},yb.bind(null,h,r),null)),[o,f,e]}function yb(e,n){e.action=n}function _g(e){var n=ve(),r=Wt;if(r!==null)return yg(n,r,e);ve(),n=n.memoizedState,r=ve();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Ca(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=qu(),Rt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function vg(){return ve().memoizedState}function Fu(e,n,r,o){var h=on();Rt.flags|=e,h.memoizedState=Ca(1|n,{destroy:void 0},r,o===void 0?null:o)}function Qu(e,n,r,o){var h=ve();o=o===void 0?null:o;var f=h.memoizedState.inst;Wt!==null&&o!==null&&uf(o,Wt.memoizedState.deps)?h.memoizedState=Ca(n,f,r,o):(Rt.flags|=e,h.memoizedState=Ca(1|n,f,r,o))}function Eg(e,n){Fu(8390656,8,e,n)}function vf(e,n){Qu(2048,8,e,n)}function _b(e){Rt.flags|=4;var n=Rt.updateQueue;if(n===null)n=qu(),Rt.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function Tg(e){var n=ve().memoizedState;return _b({ref:n,nextImpl:e}),function(){if((Gt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function bg(e,n){return Qu(4,2,e,n)}function Ag(e,n){return Qu(4,4,e,n)}function Sg(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function wg(e,n,r){r=r!=null?r.concat([e]):null,Qu(4,4,Sg.bind(null,n,e),r)}function Ef(){}function Rg(e,n){var r=ve();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&uf(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function Ig(e,n){var r=ve();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&uf(n,o[1]))return o[0];if(o=e(),ks){In(!0);try{e()}finally{In(!1)}}return r.memoizedState=[o,n],o}function Tf(e,n,r){return r===void 0||(Hi&1073741824)!==0&&(Ot&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=Cy(),Rt.lanes|=e,Vr|=e,r)}function Cg(e,n,r,o){return vn(r,n)?r:wa.current!==null?(e=Tf(e,r,o),vn(e,n)||(Ce=!0),e):(Hi&42)===0||(Hi&1073741824)!==0&&(Ot&261930)===0?(Ce=!0,e.memoizedState=r):(e=Cy(),Rt.lanes|=e,Vr|=e,n)}function Ng(e,n,r,o,h){var f=Z.p;Z.p=f!==0&&8>f?f:8;var p=q.T,E={};q.T=E,Sf(e,!1,n,r);try{var R=h(),P=q.S;if(P!==null&&P(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var H=db(R,o);Zo(e,n,H,wn(e))}else Zo(e,n,o,wn(e))}catch(X){Zo(e,n,{then:function(){},status:"rejected",reason:X},wn())}finally{Z.p=f,p!==null&&E.types!==null&&(p.types=E.types),q.T=p}}function vb(){}function bf(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=xg(e).queue;Ng(e,h,n,lt,r===null?vb:function(){return Dg(e),r(o)})}function xg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:lt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Dg(e){var n=xg(e);n.next===null&&(n=e.alternate.memoizedState),Zo(e,n.next.queue,{},wn())}function Af(){return Qe(pl)}function Og(){return ve().memoizedState}function Vg(){return ve().memoizedState}function Eb(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=wn();e=Ir(r);var o=Cr(n,e,r);o!==null&&(mn(o,n,r),Ko(o,n,r)),n={cache:Jh()},e.payload=n;return}n=n.return}}function Tb(e,n,r){var o=wn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ku(e)?kg(n,r):(r=jh(e,n,r,o),r!==null&&(mn(r,e,o),Lg(r,n,o)))}function Mg(e,n,r){var o=wn();Zo(e,n,r,o)}function Zo(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ku(e))kg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,r);if(h.hasEagerState=!0,h.eagerState=E,vn(E,p))return Iu(e,n,h,0),ie===null&&Ru(),!1}catch{}if(r=jh(e,n,h,o),r!==null)return mn(r,e,o),Lg(r,n,o),!0}return!1}function Sf(e,n,r,o){if(o={lane:2,revertLane:nd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ku(e)){if(n)throw Error(a(479))}else n=jh(e,r,o,2),n!==null&&mn(n,e,2)}function Ku(e){var n=e.alternate;return e===Rt||n!==null&&n===Rt}function kg(e,n){Ra=ju=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Lg(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Eo(e,r)}}var Wo={readContext:Qe,use:Hu,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de};Wo.useEffectEvent=de;var Ug={readContext:Qe,use:Hu,useCallback:function(e,n){return on().memoizedState=[e,n===void 0?null:n],e},useContext:Qe,useEffect:Eg,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Fu(4194308,4,Sg.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Fu(4194308,4,e,n)},useInsertionEffect:function(e,n){Fu(4,2,e,n)},useMemo:function(e,n){var r=on();n=n===void 0?null:n;var o=e();if(ks){In(!0);try{e()}finally{In(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=on();if(r!==void 0){var h=r(n);if(ks){In(!0);try{r(n)}finally{In(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=Tb.bind(null,Rt,e),[o.memoizedState,e]},useRef:function(e){var n=on();return e={current:e},n.memoizedState=e},useState:function(e){e=yf(e);var n=e.queue,r=Mg.bind(null,Rt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Ef,useDeferredValue:function(e,n){var r=on();return Tf(r,e,n)},useTransition:function(){var e=yf(!1);return e=Ng.bind(null,Rt,e.queue,!0,!1),on().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=Rt,h=on();if(Ut){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),ie===null)throw Error(a(349));(Ot&127)!==0||rg(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Eg(ag.bind(null,o,f,e),[e]),o.flags|=2048,Ca(9,{destroy:void 0},sg.bind(null,o,f,r,n),null),r},useId:function(){var e=on(),n=ie.identifierPrefix;if(Ut){var r=Ai,o=bi;r=(o&~(1<<32-ge(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Bu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=mb++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Af,useFormState:pg,useActionState:pg,useOptimistic:function(e){var n=on();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Sf.bind(null,Rt,!0,r),r.dispatch=n,[e,n]},useMemoCache:mf,useCacheRefresh:function(){return on().memoizedState=Eb.bind(null,Rt)},useEffectEvent:function(e){var n=on(),r={impl:e};return n.memoizedState=r,function(){if((Gt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},wf={readContext:Qe,use:Hu,useCallback:Rg,useContext:Qe,useEffect:vf,useImperativeHandle:wg,useInsertionEffect:bg,useLayoutEffect:Ag,useMemo:Ig,useReducer:Gu,useRef:vg,useState:function(){return Gu(Gi)},useDebugValue:Ef,useDeferredValue:function(e,n){var r=ve();return Cg(r,Wt.memoizedState,e,n)},useTransition:function(){var e=Gu(Gi)[0],n=ve().memoizedState;return[typeof e=="boolean"?e:Jo(e),n]},useSyncExternalStore:ig,useId:Og,useHostTransitionStatus:Af,useFormState:gg,useActionState:gg,useOptimistic:function(e,n){var r=ve();return ug(r,Wt,e,n)},useMemoCache:mf,useCacheRefresh:Vg};wf.useEffectEvent=Tg;var Pg={readContext:Qe,use:Hu,useCallback:Rg,useContext:Qe,useEffect:vf,useImperativeHandle:wg,useInsertionEffect:bg,useLayoutEffect:Ag,useMemo:Ig,useReducer:gf,useRef:vg,useState:function(){return gf(Gi)},useDebugValue:Ef,useDeferredValue:function(e,n){var r=ve();return Wt===null?Tf(r,e,n):Cg(r,Wt.memoizedState,e,n)},useTransition:function(){var e=gf(Gi)[0],n=ve().memoizedState;return[typeof e=="boolean"?e:Jo(e),n]},useSyncExternalStore:ig,useId:Og,useHostTransitionStatus:Af,useFormState:_g,useActionState:_g,useOptimistic:function(e,n){var r=ve();return Wt!==null?ug(r,Wt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:mf,useCacheRefresh:Vg};Pg.useEffectEvent=Tg;function Rf(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:S({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var If={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=wn(),h=Ir(o);h.payload=n,r!=null&&(h.callback=r),n=Cr(e,h,o),n!==null&&(mn(n,e,o),Ko(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=wn(),h=Ir(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Cr(e,h,o),n!==null&&(mn(n,e,o),Ko(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=wn(),o=Ir(r);o.tag=2,n!=null&&(o.callback=n),n=Cr(e,o,r),n!==null&&(mn(n,e,r),Ko(n,e,r))}};function zg(e,n,r,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!zo(r,o)||!zo(h,f):!0}function jg(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&If.enqueueReplaceState(n,n.state,null)}function Ls(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=S({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function Bg(e){wu(e)}function qg(e){console.error(e)}function Hg(e){wu(e)}function Yu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Gg(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Cf(e,n,r){return r=Ir(r),r.tag=3,r.payload={element:null},r.callback=function(){Yu(e,n)},r}function Fg(e){return e=Ir(e),e.tag=3,e}function Qg(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Gg(n,r,o)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Gg(n,r,o),typeof h!="function"&&(Mr===null?Mr=new Set([this]):Mr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function bb(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Ea(n,r,h,!0),r=Tn.current,r!==null){switch(r.tag){case 31:case 13:return Un===null?ac():r.alternate===null&&me===0&&(me=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===ku?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Wf(e,o,h)),!1;case 22:return r.flags|=65536,o===ku?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Wf(e,o,h)),!1}throw Error(a(435,r.tag))}return Wf(e,o,h),ac(),!1}if(Ut)return n=Tn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Qh&&(e=Error(a(422),{cause:o}),qo(Vn(e,r)))):(o!==Qh&&(n=Error(a(423),{cause:o}),qo(Vn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Vn(o,r),h=Cf(e.stateNode,o,h),rf(e,h),me!==4&&(me=2)),!1;var f=Error(a(520),{cause:o});if(f=Vn(f,r),ol===null?ol=[f]:ol.push(f),me!==4&&(me=2),n===null)return!0;o=Vn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Cf(r.stateNode,o,e),rf(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Mr===null||!Mr.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Fg(h),Qg(h,e,r,o),rf(r,h),!1}r=r.return}while(r!==null);return!1}var Nf=Error(a(461)),Ce=!1;function Ke(e,n,r,o){n.child=e===null?$p(n,null,r,o):Ms(n,e.child,r,o)}function Kg(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return xs(n),o=cf(e,n,r,p,f,h),E=hf(),e!==null&&!Ce?(ff(e,n,h),Fi(e,n,h)):(Ut&&E&&Gh(n),n.flags|=1,Ke(e,n,o,h),n.child)}function Yg(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Bh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Xg(e,n,f,o,h)):(e=Nu(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Uf(e,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:zo,r(p,o)&&e.ref===n.ref)return Fi(e,n,h)}return n.flags|=1,e=zi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Xg(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(zo(f,o)&&e.ref===n.ref)if(Ce=!1,n.pendingProps=o=f,Uf(e,h))(e.flags&131072)!==0&&(Ce=!0);else return n.lanes=e.lanes,Fi(e,n,h)}return xf(e,n,r,o,h)}function $g(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Jg(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vu(n,f!==null?f.cachePool:null),f!==null?Wp(n,f):af(),tg(n);else return o=n.lanes=536870912,Jg(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Vu(n,f.cachePool),Wp(n,f),xr(),n.memoizedState=null):(e!==null&&Vu(n,null),af(),xr());return Ke(e,n,h,r),n.child}function tl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Jg(e,n,r,o,h){var f=Wh();return f=f===null?null:{parent:Re._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Vu(n,null),af(),tg(n),e!==null&&Ea(e,n,o,!0),n.childLanes=h,null}function Xu(e,n){return n=Ju({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Zg(e,n,r){return Ms(n,e.child,null,r),e=Xu(n,n.pendingProps),e.flags|=2,bn(n),n.memoizedState=null,e}function Ab(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ut){if(o.mode==="hidden")return e=Xu(n,o),n.lanes=536870912,tl(null,e);if(lf(n),(e=se)?(e=c_(e,Ln),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:br!==null?{id:bi,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},r=kp(e),r.return=n,n.child=r,Fe=n,se=null)):e=null,e===null)throw Sr(n);return n.lanes=536870912,null}return Xu(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(lf(n),h)if(n.flags&256)n.flags&=-257,n=Zg(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ce||Ea(e,n,r,!1),h=(r&e.childLanes)!==0,Ce||h){if(o=ie,o!==null&&(p=To(o,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,Rs(e,p),mn(o,e,p),Nf;ac(),n=Zg(e,n,r)}else e=f.treeContext,se=Pn(p.nextSibling),Fe=n,Ut=!0,Ar=null,Ln=!1,e!==null&&Pp(n,e),n=Xu(n,o),n.flags|=4096;return n}return e=zi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function $u(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function xf(e,n,r,o,h){return xs(n),r=cf(e,n,r,o,void 0,h),o=hf(),e!==null&&!Ce?(ff(e,n,h),Fi(e,n,h)):(Ut&&o&&Gh(n),n.flags|=1,Ke(e,n,r,h),n.child)}function Wg(e,n,r,o,h,f){return xs(n),n.updateQueue=null,r=ng(n,o,r,h),eg(e),o=hf(),e!==null&&!Ce?(ff(e,n,f),Fi(e,n,f)):(Ut&&o&&Gh(n),n.flags|=1,Ke(e,n,r,f),n.child)}function ty(e,n,r,o,h){if(xs(n),n.stateNode===null){var f=ga,p=r.contextType;typeof p=="object"&&p!==null&&(f=Qe(p)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=If,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},ef(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?Qe(p):ga,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Rf(n,r,p,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&If.enqueueReplaceState(f,f.state,null),Xo(n,o,f,h),Yo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Ls(r,E);f.props=R;var P=f.context,H=r.contextType;p=ga,typeof H=="object"&&H!==null&&(p=Qe(H));var X=r.getDerivedStateFromProps;H=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==p)&&jg(n,f,o,p),Rr=!1;var z=n.memoizedState;f.state=z,Xo(n,o,f,h),Yo(),P=n.memoizedState,E||z!==P||Rr?(typeof X=="function"&&(Rf(n,r,X,o),P=n.memoizedState),(R=Rr||zg(n,r,R,o,z,P,p))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=p,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,nf(e,n),p=n.memoizedProps,H=Ls(r,p),f.props=H,X=n.pendingProps,z=f.context,P=r.contextType,R=ga,typeof P=="object"&&P!==null&&(R=Qe(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==X||z!==R)&&jg(n,f,o,R),Rr=!1,z=n.memoizedState,f.state=z,Xo(n,o,f,h),Yo();var B=n.memoizedState;p!==X||z!==B||Rr||e!==null&&e.dependencies!==null&&Du(e.dependencies)?(typeof E=="function"&&(Rf(n,r,E,o),B=n.memoizedState),(H=Rr||zg(n,r,H,o,z,B,R)||e!==null&&e.dependencies!==null&&Du(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=R,o=H):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,$u(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Ms(n,e.child,null,h),n.child=Ms(n,null,r,h)):Ke(e,n,r,h),n.memoizedState=f.state,e=n.child):e=Fi(e,n,h),e}function ey(e,n,r,o){return Cs(),n.flags|=256,Ke(e,n,r,o),n.child}var Df={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Of(e){return{baseLanes:e,cachePool:Gp()}}function Vf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Sn),e}function ny(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(_e.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ut){if(h?Nr(n):xr(),(e=se)?(e=c_(e,Ln),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:br!==null?{id:bi,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},r=kp(e),r.return=n,n.child=r,Fe=n,se=null)):e=null,e===null)throw Sr(n);return pd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(xr(),h=n.mode,E=Ju({mode:"hidden",children:E},h),o=Is(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Of(r),o.childLanes=Vf(e,p,r),n.memoizedState=Df,tl(null,o)):(Nr(n),Mf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Nr(n),n.flags&=-257,n=kf(e,n,r)):n.memoizedState!==null?(xr(),n.child=e.child,n.flags|=128,n=null):(xr(),E=o.fallback,h=n.mode,o=Ju({mode:"visible",children:o.children},h),E=Is(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Ms(n,e.child,null,r),o=n.child,o.memoizedState=Of(r),o.childLanes=Vf(e,p,r),n.memoizedState=Df,n=tl(null,o));else if(Nr(n),pd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var P=p.dgst;p=P,o=Error(a(419)),o.stack="",o.digest=p,qo({value:o,source:null,stack:null}),n=kf(e,n,r)}else if(Ce||Ea(e,n,r,!1),p=(r&e.childLanes)!==0,Ce||p){if(p=ie,p!==null&&(o=To(p,r),o!==0&&o!==R.retryLane))throw R.retryLane=o,Rs(e,o),mn(p,e,o),Nf;md(E)||ac(),n=kf(e,n,r)}else md(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,se=Pn(E.nextSibling),Fe=n,Ut=!0,Ar=null,Ln=!1,e!==null&&Pp(n,e),n=Mf(n,o.children),n.flags|=4096);return n}return h?(xr(),E=o.fallback,h=n.mode,R=e.child,P=R.sibling,o=zi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,P!==null?E=zi(P,E):(E=Is(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,tl(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Of(r):(h=E.cachePool,h!==null?(R=Re._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Gp(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=Vf(e,p,r),n.memoizedState=Df,tl(e.child,o)):(Nr(n),r=e.child,e=r.sibling,r=zi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=r,n.memoizedState=null,r)}function Mf(e,n){return n=Ju({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ju(e,n){return e=En(22,e,null,n),e.lanes=0,e}function kf(e,n,r){return Ms(n,e.child,null,r),e=Mf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function iy(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Xh(e.return,n,r)}function Lf(e,n,r,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function ry(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=_e.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,nt(_e,p),Ke(e,n,o,r),o=Ut?Bo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&iy(e,r,n);else if(e.tag===19)iy(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&zu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Lf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&zu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Lf(n,!0,r,null,f,o);break;case"together":Lf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Fi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Vr|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Ea(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=zi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=zi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Uf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Du(e)))}function Sb(e,n,r){switch(n.tag){case 3:pe(n,n.stateNode.containerInfo),wr(n,Re,e.memoizedState.cache),Cs();break;case 27:case 5:Vi(n);break;case 4:pe(n,n.stateNode.containerInfo);break;case 10:wr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,lf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Nr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?ny(e,n,r):(Nr(n),e=Fi(e,n,r),e!==null?e.sibling:null);Nr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Ea(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return ry(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(_e,_e.current),o)break;return null;case 22:return n.lanes=0,$g(e,n,r,n.pendingProps);case 24:wr(n,Re,e.memoizedState.cache)}return Fi(e,n,r)}function sy(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ce=!0;else{if(!Uf(e,r)&&(n.flags&128)===0)return Ce=!1,Sb(e,n,r);Ce=(e.flags&131072)!==0}else Ce=!1,Ut&&(n.flags&1048576)!==0&&Up(n,Bo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Os(n.elementType),n.type=e,typeof e=="function")Bh(e)?(o=Ls(e,o),n.tag=1,n=ty(null,n,e,o,r)):(n.tag=0,n=xf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===Qt){n.tag=11,n=Kg(null,n,e,o,r);break t}else if(h===C){n.tag=14,n=Yg(null,n,e,o,r);break t}}throw n=Kt(e)||e,Error(a(306,n,""))}}return n;case 0:return xf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Ls(o,n.pendingProps),ty(e,n,o,h,r);case 3:t:{if(pe(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,nf(e,n),Xo(n,o,null,r);var p=n.memoizedState;if(o=p.cache,wr(n,Re,o),o!==f.cache&&$h(n,[Re],r,!0),Yo(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ey(e,n,o,r);break t}else if(o!==h){h=Vn(Error(a(424)),n),qo(h),n=ey(e,n,o,r);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,se=Pn(e.firstChild),Fe=n,Ut=!0,Ar=null,Ln=!0,r=$p(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Cs(),o===h){n=Fi(e,n,r);break t}Ke(e,n,o,r)}n=n.child}return n;case 26:return $u(e,n),e===null?(r=g_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ut||(r=n.type,e=n.pendingProps,o=dc(St.current).createElement(r),o[Ae]=n,o[Ue]=e,Ye(o,r,e),Se(o),n.stateNode=o):n.memoizedState=g_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Vi(n),e===null&&Ut&&(o=n.stateNode=d_(n.type,n.pendingProps,St.current),Fe=n,Ln=!0,h=se,Pr(n.type)?(gd=h,se=Pn(o.firstChild)):se=h),Ke(e,n,n.pendingProps.children,r),$u(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ut&&((h=o=se)&&(o=tA(o,n.type,n.pendingProps,Ln),o!==null?(n.stateNode=o,Fe=n,se=Pn(o.firstChild),Ln=!1,h=!0):h=!1),h||Sr(n)),Vi(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,hd(h,f)?o=null:p!==null&&hd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=cf(e,n,pb,null,null,r),pl._currentValue=h),$u(e,n),Ke(e,n,o,r),n.child;case 6:return e===null&&Ut&&((e=r=se)&&(r=eA(r,n.pendingProps,Ln),r!==null?(n.stateNode=r,Fe=n,se=null,e=!0):e=!1),e||Sr(n)),null;case 13:return ny(e,n,r);case 4:return pe(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Ms(n,null,o,r):Ke(e,n,o,r),n.child;case 11:return Kg(e,n,n.type,n.pendingProps,r);case 7:return Ke(e,n,n.pendingProps,r),n.child;case 8:return Ke(e,n,n.pendingProps.children,r),n.child;case 12:return Ke(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,wr(n,n.type,o.value),Ke(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,xs(n),h=Qe(h),o=o(h),n.flags|=1,Ke(e,n,o,r),n.child;case 14:return Yg(e,n,n.type,n.pendingProps,r);case 15:return Xg(e,n,n.type,n.pendingProps,r);case 19:return ry(e,n,r);case 31:return Ab(e,n,r);case 22:return $g(e,n,r,n.pendingProps);case 24:return xs(n),o=Qe(Re),e===null?(h=Wh(),h===null&&(h=ie,f=Jh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},ef(n),wr(n,Re,h)):((e.lanes&r)!==0&&(nf(e,n),Xo(n,null,null,r),Yo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),wr(n,Re,o)):(o=f.cache,wr(n,Re,o),o!==h.cache&&$h(n,[Re],r,!0))),Ke(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Qi(e){e.flags|=4}function Pf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Oy())e.flags|=8192;else throw Vs=ku,tf}else e.flags&=-16777217}function ay(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!T_(n))if(Oy())e.flags|=8192;else throw Vs=ku,tf}function Zu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ru():536870912,e.lanes|=n,Oa|=n)}function el(e,n){if(!Ut)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ae(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function wb(e,n,r){var o=n.pendingProps;switch(Fh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(n),null;case 1:return ae(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),qi(Re),Jt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(va(n)?Qi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Kh())),ae(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Qi(n),f!==null?(ae(n),ay(n,f)):(ae(n),Pf(n,h,null,o,r))):f?f!==e.memoizedState?(Qi(n),ae(n),ay(n,f)):(ae(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Qi(n),ae(n),Pf(n,h,e,o,r)),null;case 27:if(ur(n),r=St.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Qi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ae(n),null}e=st.current,va(n)?zp(n):(e=d_(h,o,r),n.stateNode=e,Qi(n))}return ae(n),null;case 5:if(ur(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Qi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ae(n),null}if(f=st.current,va(n))zp(n);else{var p=dc(St.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[Ae]=n,f[Ue]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Ye(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Qi(n)}}return ae(n),Pf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Qi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=St.current,va(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=Fe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ae]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||n_(e.nodeValue,r)),e||Sr(n,!0)}else e=dc(e).createTextNode(o),e[Ae]=n,n.stateNode=e}return ae(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=va(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ae]=n}else Cs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ae(n),e=!1}else r=Kh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(bn(n),n):(bn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ae(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=va(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ae]=n}else Cs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ae(n),h=!1}else h=Kh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(bn(n),n):(bn(n),null)}return bn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Zu(n,n.updateQueue),ae(n),null);case 4:return Jt(),e===null&&ad(n.stateNode.containerInfo),ae(n),null;case 10:return qi(n.type),ae(n),null;case 19:if(F(_e),o=n.memoizedState,o===null)return ae(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)el(o,!1);else{if(me!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=zu(e),f!==null){for(n.flags|=128,el(o,!1),e=f.updateQueue,n.updateQueue=e,Zu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Mp(r,e),r=r.sibling;return nt(_e,_e.current&1|2),Ut&&ji(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&sn()>ic&&(n.flags|=128,h=!0,el(o,!1),n.lanes=4194304)}else{if(!h)if(e=zu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Zu(n,e),el(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ut)return ae(n),null}else 2*sn()-o.renderingStartTime>ic&&r!==536870912&&(n.flags|=128,h=!0,el(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=sn(),e.sibling=null,r=_e.current,nt(_e,h?r&1|2:r&1),Ut&&ji(n,o.treeForkCount),e):(ae(n),null);case 22:case 23:return bn(n),of(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ae(n),n.subtreeFlags&6&&(n.flags|=8192)):ae(n),r=n.updateQueue,r!==null&&Zu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&F(Ds),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),qi(Re),ae(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function Rb(e,n){switch(Fh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return qi(Re),Jt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ur(n),null;case 31:if(n.memoizedState!==null){if(bn(n),n.alternate===null)throw Error(a(340));Cs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(bn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Cs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return F(_e),null;case 4:return Jt(),null;case 10:return qi(n.type),null;case 22:case 23:return bn(n),of(),e!==null&&F(Ds),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return qi(Re),null;case 25:return null;default:return null}}function oy(e,n){switch(Fh(n),n.tag){case 3:qi(Re),Jt();break;case 26:case 27:case 5:ur(n);break;case 4:Jt();break;case 31:n.memoizedState!==null&&bn(n);break;case 13:bn(n);break;case 19:F(_e);break;case 10:qi(n.type);break;case 22:case 23:bn(n),of(),e!==null&&F(Ds);break;case 24:qi(Re)}}function nl(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,p=r.inst;o=f(),p.destroy=o}r=r.next}while(r!==h)}}catch(E){$t(n,n.return,E)}}function Dr(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var R=r,P=E;try{P()}catch(H){$t(h,R,H)}}}o=o.next}while(o!==f)}}catch(H){$t(n,n.return,H)}}function ly(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Zp(n,r)}catch(o){$t(e,e.return,o)}}}function uy(e,n,r){r.props=Ls(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){$t(e,n,o)}}function il(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){$t(e,n,h)}}function Si(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){$t(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){$t(e,n,h)}else r.current=null}function cy(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){$t(e,e.return,h)}}function zf(e,n,r){try{var o=e.stateNode;Yb(o,e.type,r,n),o[Ue]=n}catch(h){$t(e,e.return,h)}}function hy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Pr(e.type)||e.tag===4}function jf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||hy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Pr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Fn));else if(o!==4&&(o===27&&Pr(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Bf(e,n,r),e=e.sibling;e!==null;)Bf(e,n,r),e=e.sibling}function Wu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Pr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Wu(e,n,r),e=e.sibling;e!==null;)Wu(e,n,r),e=e.sibling}function fy(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ye(n,o,r),n[Ae]=e,n[Ue]=r}catch(f){$t(e,e.return,f)}}var Ki=!1,Ne=!1,qf=!1,dy=typeof WeakSet=="function"?WeakSet:Set,ze=null;function Ib(e,n){if(e=e.containerInfo,ud=Ec,e=wp(e),Mh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var p=0,E=-1,R=-1,P=0,H=0,X=e,z=null;e:for(;;){for(var B;X!==r||h!==0&&X.nodeType!==3||(E=p+h),X!==f||o!==0&&X.nodeType!==3||(R=p+o),X.nodeType===3&&(p+=X.nodeValue.length),(B=X.firstChild)!==null;)z=X,X=B;for(;;){if(X===e)break e;if(z===r&&++P===h&&(E=p),z===f&&++H===o&&(R=p),(B=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=B}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(cd={focusedElem:e,selectionRange:r},Ec=!1,ze=n;ze!==null;)if(n=ze,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ze=e;else for(;ze!==null;){switch(n=ze,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var ot=Ls(r.type,h);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(mt){$t(r,r.return,mt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)dd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":dd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,ze=e;break}ze=n.return}}function my(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Xi(e,r),o&4&&nl(5,r);break;case 1:if(Xi(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(p){$t(r,r.return,p)}else{var h=Ls(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){$t(r,r.return,p)}}o&64&&ly(r),o&512&&il(r,r.return);break;case 3:if(Xi(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Zp(e,n)}catch(p){$t(r,r.return,p)}}break;case 27:n===null&&o&4&&fy(r);case 26:case 5:Xi(e,r),n===null&&o&4&&cy(r),o&512&&il(r,r.return);break;case 12:Xi(e,r);break;case 31:Xi(e,r),o&4&&yy(e,r);break;case 13:Xi(e,r),o&4&&_y(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=Lb.bind(null,r),nA(e,r))));break;case 22:if(o=r.memoizedState!==null||Ki,!o){n=n!==null&&n.memoizedState!==null||Ne,h=Ki;var f=Ne;Ki=o,(Ne=n)&&!f?$i(e,r,(r.subtreeFlags&8772)!==0):Xi(e,r),Ki=h,Ne=f}break;case 30:break;default:Xi(e,r)}}function py(e){var n=e.alternate;n!==null&&(e.alternate=null,py(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&na(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var he=null,cn=!1;function Yi(e,n,r){for(r=r.child;r!==null;)gy(e,n,r),r=r.sibling}function gy(e,n,r){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(Bn,r)}catch{}switch(r.tag){case 26:Ne||Si(r,n),Yi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ne||Si(r,n);var o=he,h=cn;Pr(r.type)&&(he=r.stateNode,cn=!1),Yi(e,n,r),fl(r.stateNode),he=o,cn=h;break;case 5:Ne||Si(r,n);case 6:if(o=he,h=cn,he=null,Yi(e,n,r),he=o,cn=h,he!==null)if(cn)try{(he.nodeType===9?he.body:he.nodeName==="HTML"?he.ownerDocument.body:he).removeChild(r.stateNode)}catch(f){$t(r,n,f)}else try{he.removeChild(r.stateNode)}catch(f){$t(r,n,f)}break;case 18:he!==null&&(cn?(e=he,l_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),ja(e)):l_(he,r.stateNode));break;case 4:o=he,h=cn,he=r.stateNode.containerInfo,cn=!0,Yi(e,n,r),he=o,cn=h;break;case 0:case 11:case 14:case 15:Dr(2,r,n),Ne||Dr(4,r,n),Yi(e,n,r);break;case 1:Ne||(Si(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&uy(r,n,o)),Yi(e,n,r);break;case 21:Yi(e,n,r);break;case 22:Ne=(o=Ne)||r.memoizedState!==null,Yi(e,n,r),Ne=o;break;default:Yi(e,n,r)}}function yy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ja(e)}catch(r){$t(n,n.return,r)}}}function _y(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ja(e)}catch(r){$t(n,n.return,r)}}function Cb(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new dy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new dy),n;default:throw Error(a(435,e.tag))}}function tc(e,n){var r=Cb(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=Ub.bind(null,e,o);o.then(h,h)}})}function hn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Pr(E.type)){he=E.stateNode,cn=!1;break t}break;case 5:he=E.stateNode,cn=!1;break t;case 3:case 4:he=E.stateNode.containerInfo,cn=!0;break t}E=E.return}if(he===null)throw Error(a(160));gy(f,p,h),he=null,cn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)vy(n,e),n=n.sibling}var Jn=null;function vy(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hn(n,e),fn(e),o&4&&(Dr(3,e,e.return),nl(3,e),Dr(5,e,e.return));break;case 1:hn(n,e),fn(e),o&512&&(Ne||r===null||Si(r,r.return)),o&64&&Ki&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=Jn;if(hn(n,e),fn(e),o&512&&(Ne||r===null||Si(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ci]||f[Ae]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ye(f,o,r),f[Ae]=e,Se(f),o=f;break t;case"link":var p=v_("link","href",h).get(o+(r.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(o),Ye(f,o,r),h.head.appendChild(f);break;case"meta":if(p=v_("meta","content",h).get(o+(r.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(E,1);break e}}f=h.createElement(o),Ye(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ae]=e,Se(f),o=f}e.stateNode=o}else E_(h,e.type,e.stateNode);else e.stateNode=__(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?E_(h,e.type,e.stateNode):__(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&zf(e,e.memoizedProps,r.memoizedProps)}break;case 27:hn(n,e),fn(e),o&512&&(Ne||r===null||Si(r,r.return)),r!==null&&o&4&&zf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(hn(n,e),fn(e),o&512&&(Ne||r===null||Si(r,r.return)),e.flags&32){h=e.stateNode;try{un(h,"")}catch(ot){$t(e,e.return,ot)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,zf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(qf=!0);break;case 6:if(hn(n,e),fn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(ot){$t(e,e.return,ot)}}break;case 3:if(gc=null,h=Jn,Jn=mc(n.containerInfo),hn(n,e),Jn=h,fn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{ja(n.containerInfo)}catch(ot){$t(e,e.return,ot)}qf&&(qf=!1,Ey(e));break;case 4:o=Jn,Jn=mc(e.stateNode.containerInfo),hn(n,e),fn(e),Jn=o;break;case 12:hn(n,e),fn(e);break;case 31:hn(n,e),fn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 13:hn(n,e),fn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(nc=sn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 22:h=e.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,P=Ki,H=Ne;if(Ki=P||h,Ne=H||R,hn(n,e),Ne=H,Ki=P,fn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||R||Ki||Ne||Us(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=R.stateNode;var X=R.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ot){$t(R,R.return,ot)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(ot){$t(R,R.return,ot)}}}else if(n.tag===18){if(r===null){R=n;try{var B=R.stateNode;h?u_(B,!0):u_(R.stateNode,!1)}catch(ot){$t(R,R.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,tc(e,r))));break;case 19:hn(n,e),fn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 30:break;case 21:break;default:hn(n,e),fn(e)}}function fn(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(hy(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=jf(e);Wu(e,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(un(p,""),r.flags&=-33);var E=jf(e);Wu(e,E,p);break;case 3:case 4:var R=r.stateNode.containerInfo,P=jf(e);Bf(e,P,R);break;default:throw Error(a(161))}}catch(H){$t(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ey(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ey(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Xi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)my(e,n.alternate,n),n=n.sibling}function Us(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Dr(4,n,n.return),Us(n);break;case 1:Si(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&uy(n,n.return,r),Us(n);break;case 27:fl(n.stateNode);case 26:case 5:Si(n,n.return),Us(n);break;case 22:n.memoizedState===null&&Us(n);break;case 30:Us(n);break;default:Us(n)}e=e.sibling}}function $i(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:$i(h,f,r),nl(4,f);break;case 1:if($i(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){$t(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Jp(R[h],E)}catch(P){$t(o,o.return,P)}}r&&p&64&&ly(f),il(f,f.return);break;case 27:fy(f);case 26:case 5:$i(h,f,r),r&&o===null&&p&4&&cy(f),il(f,f.return);break;case 12:$i(h,f,r);break;case 31:$i(h,f,r),r&&p&4&&yy(h,f);break;case 13:$i(h,f,r),r&&p&4&&_y(h,f);break;case 22:f.memoizedState===null&&$i(h,f,r),il(f,f.return);break;case 30:break;default:$i(h,f,r)}n=n.sibling}}function Hf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Ho(r))}function Gf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ho(e))}function Zn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ty(e,n,r,o),n=n.sibling}function Ty(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Zn(e,n,r,o),h&2048&&nl(9,n);break;case 1:Zn(e,n,r,o);break;case 3:Zn(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ho(e)));break;case 12:if(h&2048){Zn(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){$t(n,n.return,R)}}else Zn(e,n,r,o);break;case 31:Zn(e,n,r,o);break;case 13:Zn(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Zn(e,n,r,o):rl(e,n):f._visibility&2?Zn(e,n,r,o):(f._visibility|=2,Na(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Hf(p,n);break;case 24:Zn(e,n,r,o),h&2048&&Gf(n.alternate,n);break;default:Zn(e,n,r,o)}}function Na(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=r,R=o,P=p.flags;switch(p.tag){case 0:case 11:case 15:Na(f,p,E,R,h),nl(8,p);break;case 23:break;case 22:var H=p.stateNode;p.memoizedState!==null?H._visibility&2?Na(f,p,E,R,h):rl(f,p):(H._visibility|=2,Na(f,p,E,R,h)),h&&P&2048&&Hf(p.alternate,p);break;case 24:Na(f,p,E,R,h),h&&P&2048&&Gf(p.alternate,p);break;default:Na(f,p,E,R,h)}n=n.sibling}}function rl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:rl(r,o),h&2048&&Hf(o.alternate,o);break;case 24:rl(r,o),h&2048&&Gf(o.alternate,o);break;default:rl(r,o)}n=n.sibling}}var sl=8192;function xa(e,n,r){if(e.subtreeFlags&sl)for(e=e.child;e!==null;)by(e,n,r),e=e.sibling}function by(e,n,r){switch(e.tag){case 26:xa(e,n,r),e.flags&sl&&e.memoizedState!==null&&mA(r,Jn,e.memoizedState,e.memoizedProps);break;case 5:xa(e,n,r);break;case 3:case 4:var o=Jn;Jn=mc(e.stateNode.containerInfo),xa(e,n,r),Jn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=sl,sl=16777216,xa(e,n,r),sl=o):xa(e,n,r));break;default:xa(e,n,r)}}function Ay(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function al(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];ze=o,wy(o,e)}Ay(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Sy(e),e=e.sibling}function Sy(e){switch(e.tag){case 0:case 11:case 15:al(e),e.flags&2048&&Dr(9,e,e.return);break;case 3:al(e);break;case 12:al(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ec(e)):al(e);break;default:al(e)}}function ec(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];ze=o,wy(o,e)}Ay(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Dr(8,n,n.return),ec(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,ec(n));break;default:ec(n)}e=e.sibling}}function wy(e,n){for(;ze!==null;){var r=ze;switch(r.tag){case 0:case 11:case 15:Dr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ho(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,ze=o;else t:for(r=e;ze!==null;){o=ze;var h=o.sibling,f=o.return;if(py(o),o===r){ze=null;break t}if(h!==null){h.return=f,ze=h;break t}ze=f}}}var Nb={getCacheForType:function(e){var n=Qe(Re),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Qe(Re).controller.signal}},xb=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ie=null,Ct=null,Ot=0,Xt=0,An=null,Or=!1,Da=!1,Ff=!1,Ji=0,me=0,Vr=0,Ps=0,Qf=0,Sn=0,Oa=0,ol=null,dn=null,Kf=!1,nc=0,Ry=0,ic=1/0,rc=null,Mr=null,ke=0,kr=null,Va=null,Zi=0,Yf=0,Xf=null,Iy=null,ll=0,$f=null;function wn(){return(Gt&2)!==0&&Ot!==0?Ot&-Ot:q.T!==null?nd():su()}function Cy(){if(Sn===0)if((Ot&536870912)===0||Ut){var e=hs;hs<<=1,(hs&3932160)===0&&(hs=262144),Sn=e}else Sn=536870912;return e=Tn.current,e!==null&&(e.flags|=32),Sn}function mn(e,n,r){(e===ie&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(Ma(e,0),Lr(e,Ot,Sn,!1)),fs(e,r),((Gt&2)===0||e!==ie)&&(e===ie&&((Gt&2)===0&&(Ps|=r),me===4&&Lr(e,Ot,Sn,!1)),wi(e))}function Ny(e,n,r){if((Gt&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||qn(e,n),h=o?Vb(e,n):Zf(e,n,!0),f=o;do{if(h===0){Da&&!o&&Lr(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!Db(r)){h=Zf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=ol;var R=E.current.memoizedState.isDehydrated;if(R&&(Ma(E,p).flags|=256),p=Zf(E,p,!1),p!==2){if(Ff&&!R){E.errorRecoveryDisabledLanes|=f,Ps|=f,h=4;break t}f=dn,dn=h,f!==null&&(dn===null?dn=f:dn.push.apply(dn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Ma(e,0),Lr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Lr(o,n,Sn,!Or);break t;case 2:dn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=nc+300-sn(),10<h)){if(Lr(o,n,Sn,!Or),oi(o,0,!0)!==0)break t;Zi=n,o.timeoutHandle=a_(xy.bind(null,o,r,dn,rc,Kf,n,Sn,Ps,Oa,Or,f,"Throttled",-0,0),h);break t}xy(o,r,dn,rc,Kf,n,Sn,Ps,Oa,Or,f,null,-0,0)}}break}while(!0);wi(e)}function xy(e,n,r,o,h,f,p,E,R,P,H,X,z,B){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},by(n,f,X);var ot=(f&62914560)===f?nc-sn():(f&4194048)===f?Ry-sn():0;if(ot=pA(X,ot),ot!==null){Zi=f,e.cancelPendingCommit=ot(Py.bind(null,e,n,f,r,o,h,p,E,R,H,X,null,z,B)),Lr(e,f,p,!P);return}}Py(e,n,f,r,o,h,p,E,R)}function Db(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!vn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Lr(e,n,r,o){n&=~Qf,n&=~Ps,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ge(h),p=1<<f;o[f]=-1,h&=~p}r!==0&&ds(e,r,n)}function sc(){return(Gt&6)===0?(ul(0),!1):!0}function Jf(){if(Ct!==null){if(Xt===0)var e=Ct.return;else e=Ct,Bi=Ns=null,df(e),Sa=null,Fo=0,e=Ct;for(;e!==null;)oy(e.alternate,e),e=e.return;Ct=null}}function Ma(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,Jb(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Zi=0,Jf(),ie=e,Ct=r=zi(e.current,null),Ot=n,Xt=0,An=null,Or=!1,Da=qn(e,n),Ff=!1,Oa=Sn=Qf=Ps=Vr=me=0,dn=ol=null,Kf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ge(o),f=1<<h;n|=e[h],o&=~f}return Ji=n,Ru(),r}function Dy(e,n){Rt=null,q.H=Wo,n===Aa||n===Mu?(n=Kp(),Xt=3):n===tf?(n=Kp(),Xt=4):Xt=n===Nf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,An=n,Ct===null&&(me=1,Yu(e,Vn(n,e.current)))}function Oy(){var e=Tn.current;return e===null?!0:(Ot&4194048)===Ot?Un===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?e===Un:!1}function Vy(){var e=q.H;return q.H=Wo,e===null?Wo:e}function My(){var e=q.A;return q.A=Nb,e}function ac(){me=4,Or||(Ot&4194048)!==Ot&&Tn.current!==null||(Da=!0),(Vr&134217727)===0&&(Ps&134217727)===0||ie===null||Lr(ie,Ot,Sn,!1)}function Zf(e,n,r){var o=Gt;Gt|=2;var h=Vy(),f=My();(ie!==e||Ot!==n)&&(rc=null,Ma(e,n)),n=!1;var p=me;t:do try{if(Xt!==0&&Ct!==null){var E=Ct,R=An;switch(Xt){case 8:Jf(),p=6;break t;case 3:case 2:case 9:case 6:Tn.current===null&&(n=!0);var P=Xt;if(Xt=0,An=null,ka(e,E,R,P),r&&Da){p=0;break t}break;default:P=Xt,Xt=0,An=null,ka(e,E,R,P)}}Ob(),p=me;break}catch(H){Dy(e,H)}while(!0);return n&&e.shellSuspendCounter++,Bi=Ns=null,Gt=o,q.H=h,q.A=f,Ct===null&&(ie=null,Ot=0,Ru()),p}function Ob(){for(;Ct!==null;)ky(Ct)}function Vb(e,n){var r=Gt;Gt|=2;var o=Vy(),h=My();ie!==e||Ot!==n?(rc=null,ic=sn()+500,Ma(e,n)):Da=qn(e,n);t:do try{if(Xt!==0&&Ct!==null){n=Ct;var f=An;e:switch(Xt){case 1:Xt=0,An=null,ka(e,n,f,1);break;case 2:case 9:if(Fp(f)){Xt=0,An=null,Ly(n);break}n=function(){Xt!==2&&Xt!==9||ie!==e||(Xt=7),wi(e)},f.then(n,n);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Fp(f)?(Xt=0,An=null,Ly(n)):(Xt=0,An=null,ka(e,n,f,7));break;case 5:var p=null;switch(Ct.tag){case 26:p=Ct.memoizedState;case 5:case 27:var E=Ct;if(p?T_(p):E.stateNode.complete){Xt=0,An=null;var R=E.sibling;if(R!==null)Ct=R;else{var P=E.return;P!==null?(Ct=P,oc(P)):Ct=null}break e}}Xt=0,An=null,ka(e,n,f,5);break;case 6:Xt=0,An=null,ka(e,n,f,6);break;case 8:Jf(),me=6;break t;default:throw Error(a(462))}}Mb();break}catch(H){Dy(e,H)}while(!0);return Bi=Ns=null,q.H=o,q.A=h,Gt=r,Ct!==null?0:(ie=null,Ot=0,Ru(),me)}function Mb(){for(;Ct!==null&&!Ih();)ky(Ct)}function ky(e){var n=sy(e.alternate,e,Ji);e.memoizedProps=e.pendingProps,n===null?oc(e):Ct=n}function Ly(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Wg(r,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=Wg(r,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:df(n);default:oy(r,n),n=Ct=Mp(n,Ji),n=sy(r,n,Ji)}e.memoizedProps=e.pendingProps,n===null?oc(e):Ct=n}function ka(e,n,r,o){Bi=Ns=null,df(n),Sa=null,Fo=0;var h=n.return;try{if(bb(e,h,n,r,Ot)){me=1,Yu(e,Vn(r,e.current)),Ct=null;return}}catch(f){if(h!==null)throw Ct=h,f;me=1,Yu(e,Vn(r,e.current)),Ct=null;return}n.flags&32768?(Ut||o===1?e=!0:Da||(Ot&536870912)!==0?e=!1:(Or=e=!0,(o===2||o===9||o===3||o===6)&&(o=Tn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Uy(n,e)):oc(n)}function oc(e){var n=e;do{if((n.flags&32768)!==0){Uy(n,Or);return}e=n.return;var r=wb(n.alternate,n,Ji);if(r!==null){Ct=r;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=e}while(n!==null);me===0&&(me=5)}function Uy(e,n){do{var r=Rb(e.alternate,e);if(r!==null){r.flags&=32767,Ct=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=r}while(e!==null);me=6,Ct=null}function Py(e,n,r,o,h,f,p,E,R){e.cancelPendingCommit=null;do lc();while(ke!==0);if((Gt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=zh,xh(e,r,f,p,E,R),e===ie&&(Ct=ie=null,Ot=0),Va=n,kr=e,Zi=r,Yf=f,Xf=h,Iy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Pb(fr,function(){return Hy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,h=Z.p,Z.p=2,p=Gt,Gt|=4;try{Ib(e,n,r)}finally{Gt=p,Z.p=h,q.T=o}}ke=1,zy(),jy(),By()}}function zy(){if(ke===1){ke=0;var e=kr,n=Va,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=q.T,q.T=null;var o=Z.p;Z.p=2;var h=Gt;Gt|=4;try{vy(n,e);var f=cd,p=wp(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Sp(E.ownerDocument.documentElement,E)){if(R!==null&&Mh(E)){var P=R.start,H=R.end;if(H===void 0&&(H=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(H,E.value.length);else{var X=E.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var B=z.getSelection(),ot=E.textContent.length,mt=Math.min(R.start,ot),ee=R.end===void 0?mt:Math.min(R.end,ot);!B.extend&&mt>ee&&(p=ee,ee=mt,mt=p);var M=Ap(E,mt),D=Ap(E,ee);if(M&&D&&(B.rangeCount!==1||B.anchorNode!==M.node||B.anchorOffset!==M.offset||B.focusNode!==D.node||B.focusOffset!==D.offset)){var U=X.createRange();U.setStart(M.node,M.offset),B.removeAllRanges(),mt>ee?(B.addRange(U),B.extend(D.node,D.offset)):(U.setEnd(D.node,D.offset),B.addRange(U))}}}}for(X=[],B=E;B=B.parentNode;)B.nodeType===1&&X.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Q=X[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Ec=!!ud,cd=ud=null}finally{Gt=h,Z.p=o,q.T=r}}e.current=n,ke=2}}function jy(){if(ke===2){ke=0;var e=kr,n=Va,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=q.T,q.T=null;var o=Z.p;Z.p=2;var h=Gt;Gt|=4;try{my(e,n.alternate,n)}finally{Gt=h,Z.p=o,q.T=r}}ke=3}}function By(){if(ke===4||ke===3){ke=0,Zl();var e=kr,n=Va,r=Zi,o=Iy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ke=5:(ke=0,Va=kr=null,qy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Mr=null),ki(r),n=n.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(Bn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=q.T,h=Z.p,Z.p=2,q.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{q.T=n,Z.p=h}}(Zi&3)!==0&&lc(),wi(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===$f?ll++:(ll=0,$f=e):ll=0,ul(0)}}function qy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ho(n)))}function lc(){return zy(),jy(),By(),Hy()}function Hy(){if(ke!==5)return!1;var e=kr,n=Yf;Yf=0;var r=ki(Zi),o=q.T,h=Z.p;try{Z.p=32>r?32:r,q.T=null,r=Xf,Xf=null;var f=kr,p=Zi;if(ke=0,Va=kr=null,Zi=0,(Gt&6)!==0)throw Error(a(331));var E=Gt;if(Gt|=4,Sy(f.current),Ty(f,f.current,p,r),Gt=E,ul(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(Bn,f)}catch{}return!0}finally{Z.p=h,q.T=o,qy(e,n)}}function Gy(e,n,r){n=Vn(r,n),n=Cf(e.stateNode,n,2),e=Cr(e,n,2),e!==null&&(fs(e,2),wi(e))}function $t(e,n,r){if(e.tag===3)Gy(e,e,r);else for(;n!==null;){if(n.tag===3){Gy(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Mr===null||!Mr.has(o))){e=Vn(r,e),r=Fg(2),o=Cr(n,r,2),o!==null&&(Qg(r,o,n,e),fs(o,2),wi(o));break}}n=n.return}}function Wf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new xb;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Ff=!0,h.add(r),e=kb.bind(null,e,n,r),n.then(e,e))}function kb(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,ie===e&&(Ot&r)===r&&(me===4||me===3&&(Ot&62914560)===Ot&&300>sn()-nc?(Gt&2)===0&&Ma(e,0):Qf|=r,Oa===Ot&&(Oa=0)),wi(e)}function Fy(e,n){n===0&&(n=ru()),e=Rs(e,n),e!==null&&(fs(e,n),wi(e))}function Lb(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Fy(e,r)}function Ub(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Fy(e,r)}function Pb(e,n){return Me(e,n)}var uc=null,La=null,td=!1,cc=!1,ed=!1,Ur=0;function wi(e){e!==La&&e.next===null&&(La===null?uc=La=e:La=La.next=e),cc=!0,td||(td=!0,jb())}function ul(e,n){if(!ed&&cc){ed=!0;do for(var r=!1,o=uc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ge(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Xy(o,f))}else f=Ot,f=oi(o,o===ie?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||qn(o,f)||(r=!0,Xy(o,f));o=o.next}while(r);ed=!1}}function zb(){Qy()}function Qy(){cc=td=!1;var e=0;Ur!==0&&$b()&&(e=Ur);for(var n=sn(),r=null,o=uc;o!==null;){var h=o.next,f=Ky(o,n);f===0?(o.next=null,r===null?uc=h:r.next=h,h===null&&(La=r)):(r=o,(e!==0||(f&3)!==0)&&(cc=!0)),o=h}ke!==0&&ke!==5||ul(e),Ur!==0&&(Ur=0)}function Ky(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-ge(f),E=1<<p,R=h[p];R===-1?((E&r)===0||(E&o)!==0)&&(h[p]=Nh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=ie,r=Ot,r=oi(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&hr(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||qn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&hr(o),ki(r)){case 2:case 8:r=vo;break;case 32:r=fr;break;case 268435456:r=Wl;break;default:r=fr}return o=Yy.bind(null,e),r=Me(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&hr(o),e.callbackPriority=2,e.callbackNode=null,2}function Yy(e,n){if(ke!==0&&ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(lc()&&e.callbackNode!==r)return null;var o=Ot;return o=oi(e,e===ie?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Ny(e,o,n),Ky(e,sn()),e.callbackNode!=null&&e.callbackNode===r?Yy.bind(null,e):null)}function Xy(e,n){if(lc())return null;Ny(e,n,!0)}function jb(){Zb(function(){(Gt&6)!==0?Me(_o,zb):Qy()})}function nd(){if(Ur===0){var e=Ta;e===0&&(e=si,si<<=1,(si&261888)===0&&(si=256)),Ur=e}return Ur}function $y(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:aa(""+e)}function Jy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function Bb(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=$y((h[Ue]||null).action),p=o.submitter;p&&(n=(n=p[Ue]||null)?$y(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new _i("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ur!==0){var R=p?Jy(h,p):new FormData(h);bf(r,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=p?Jy(h,p):new FormData(h),bf(r,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var id=0;id<Ph.length;id++){var rd=Ph[id],qb=rd.toLowerCase(),Hb=rd[0].toUpperCase()+rd.slice(1);$n(qb,"on"+Hb)}$n(Cp,"onAnimationEnd"),$n(Np,"onAnimationIteration"),$n(xp,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(sb,"onTransitionRun"),$n(ab,"onTransitionStart"),$n(ob,"onTransitionCancel"),$n(Dp,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),di("onBeforeInput",["compositionend","keypress","textInput","paste"]),di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cl));function Zy(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],R=E.instance,P=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(H){wu(H)}h.currentTarget=null,f=R}else for(p=0;p<o.length;p++){if(E=o[p],R=E.instance,P=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(H){wu(H)}h.currentTarget=null,f=R}}}}function Nt(e,n){var r=n[ea];r===void 0&&(r=n[ea]=new Set);var o=e+"__bubble";r.has(o)||(Wy(n,e,2,!1),r.add(o))}function sd(e,n,r){var o=0;n&&(o|=4),Wy(r,e,o,n)}var hc="_reactListening"+Math.random().toString(36).slice(2);function ad(e){if(!e[hc]){e[hc]=!0,bo.forEach(function(r){r!=="selectionchange"&&(Gb.has(r)||sd(r,!1,e),sd(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[hc]||(n[hc]=!0,sd("selectionchange",!1,n))}}function Wy(e,n,r,o){switch(C_(n)){case 2:var h=_A;break;case 8:h=vA;break;default:h=Td}r=h.bind(null,n,r,e),h=void 0,!_s||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function od(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=hi(E),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){o=f=p;continue t}E=E.parentNode}}o=o.return}_r(function(){var P=f,H=Nn(r),X=[];t:{var z=Op.get(e);if(z!==void 0){var B=_i,ot=e;switch(e){case"keypress":if(Es(r)===0)break t;case"keydown":case"keyup":B=bu;break;case"focusin":ot="focus",B=bs;break;case"focusout":ot="blur",B=bs;break;case"beforeblur":case"afterblur":B=bs;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=m;break;case Cp:case Np:case xp:B=pu;break;case Dp:B=b;break;case"scroll":case"scrollend":B=Mo;break;case"wheel":B=j;break;case"copy":case"cut":case"paste":B=gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Pi;break;case"toggle":case"beforetoggle":B=wt}var mt=(n&4)!==0,ee=!mt&&(e==="scroll"||e==="scrollend"),M=mt?z!==null?z+"Capture":null:z;mt=[];for(var D=P,U;D!==null;){var Q=D;if(U=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||U===null||M===null||(Q=Qn(D,M),Q!=null&&mt.push(hl(D,Q,U))),ee)break;D=D.return}0<mt.length&&(z=new B(z,ot,null,r,H),X.push({event:z,listeners:mt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&r!==Do&&(ot=r.relatedTarget||r.fromElement)&&(hi(ot)||ot[ui]))break t;if((B||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,B?(ot=r.relatedTarget||r.toElement,B=P,ot=ot?hi(ot):null,ot!==null&&(ee=c(ot),mt=ot.tag,ot!==ee||mt!==5&&mt!==27&&mt!==6)&&(ot=null)):(B=null,ot=P),B!==ot)){if(mt=ko,Q="onMouseLeave",M="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(mt=Pi,Q="onPointerLeave",M="onPointerEnter",D="pointer"),ee=B==null?z:yn(B),U=ot==null?z:yn(ot),z=new mt(Q,D+"leave",B,r,H),z.target=ee,z.relatedTarget=U,Q=null,hi(H)===P&&(mt=new mt(M,D+"enter",ot,r,H),mt.target=U,mt.relatedTarget=ee,Q=mt),ee=Q,B&&ot)e:{for(mt=Fb,M=B,D=ot,U=0,Q=M;Q;Q=mt(Q))U++;Q=0;for(var ht=D;ht;ht=mt(ht))Q++;for(;0<U-Q;)M=mt(M),U--;for(;0<Q-U;)D=mt(D),Q--;for(;U--;){if(M===D||D!==null&&M===D.alternate){mt=M;break e}M=mt(M),D=mt(D)}mt=null}else mt=null;B!==null&&t_(X,z,B,mt,!1),ot!==null&&ee!==null&&t_(X,ee,ot,mt,!0)}}t:{if(z=P?yn(P):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var jt=yp;else if(pp(z))if(_p)jt=nb;else{jt=tb;var ut=WT}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&sa(P.elementType)&&(jt=yp):jt=eb;if(jt&&(jt=jt(e,P))){gp(X,jt,r,H);break t}ut&&ut(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&Co(z,"number",z.value)}switch(ut=P?yn(P):window,e){case"focusin":(pp(ut)||ut.contentEditable==="true")&&(da=ut,kh=P,jo=null);break;case"focusout":jo=kh=da=null;break;case"mousedown":Lh=!0;break;case"contextmenu":case"mouseup":case"dragend":Lh=!1,Rp(X,r,H);break;case"selectionchange":if(rb)break;case"keydown":case"keyup":Rp(X,r,H)}var It;if(Ht)t:{switch(e){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else fa?As(e,r)&&(Vt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Vt="onCompositionStart");Vt&&(Ti&&r.locale!=="ko"&&(fa||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&fa&&(It=Vo()):(yi=H,Oo="value"in yi?yi.value:yi.textContent,fa=!0)),ut=fc(P,Vt),0<ut.length&&(Vt=new Ei(Vt,e,null,r,H),X.push({event:Vt,listeners:ut}),It?Vt.data=It:(It=ha(r),It!==null&&(Vt.data=It)))),(It=Dn?XT(e,r):$T(e,r))&&(Vt=fc(P,"onBeforeInput"),0<Vt.length&&(ut=new Ei("onBeforeInput","beforeinput",null,r,H),X.push({event:ut,listeners:Vt}),ut.data=It)),Bb(X,e,P,r,H)}Zy(X,n)})}function hl(e,n,r){return{instance:e,listener:n,currentTarget:r}}function fc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Qn(e,r),h!=null&&o.unshift(hl(e,h,f)),h=Qn(e,n),h!=null&&o.push(hl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function Fb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function t_(e,n,r,o,h){for(var f=n._reactName,p=[];r!==null&&r!==o;){var E=r,R=E.alternate,P=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||P===null||(R=P,h?(P=Qn(r,f),P!=null&&p.unshift(hl(r,P,R))):h||(P=Qn(r,f),P!=null&&p.push(hl(r,P,R)))),r=r.return}p.length!==0&&e.push({event:n,listeners:p})}var Qb=/\r\n?/g,Kb=/\u0000|\uFFFD/g;function e_(e){return(typeof e=="string"?e:""+e).replace(Qb,`
`).replace(Kb,"")}function n_(e,n){return n=e_(n),e_(e)===n}function te(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||un(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&un(e,""+o);break;case"className":_n(e,"class",o);break;case"tabIndex":_n(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":_n(e,r,o);break;case"style":xo(e,o,f);break;case"data":if(n!=="object"){_n(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=aa(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&te(e,n,"name",h.name,h,null),te(e,n,"formEncType",h.formEncType,h,null),te(e,n,"formMethod",h.formMethod,h,null),te(e,n,"formTarget",h.formTarget,h,null)):(te(e,n,"encType",h.encType,h,null),te(e,n,"method",h.method,h,null),te(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=aa(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Fn);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=aa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),ia(e,"popover",o);break;case"xlinkActuate":we(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":we(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":we(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":we(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":we(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":we(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":we(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":we(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":we(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ia(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=fu.get(r)||r,ia(e,r,o))}}function ld(e,n,r,o,h,f){switch(r){case"style":xo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?un(e,o):(typeof o=="number"||typeof o=="bigint")&&un(e,""+o);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ao.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Ue]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):ia(e,r,o)}}}function Ye(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:te(e,n,f,p,r,null)}}h&&te(e,n,"srcSet",r.srcSet,r,null),o&&te(e,n,"src",r.src,r,null);return;case"input":Nt("invalid",e);var E=f=p=h=null,R=null,P=null;for(o in r)if(r.hasOwnProperty(o)){var H=r[o];if(H!=null)switch(o){case"name":h=H;break;case"type":p=H;break;case"checked":R=H;break;case"defaultChecked":P=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:te(e,n,o,H,r,null)}}uu(e,f,E,R,P,p,h,!1);return;case"select":Nt("invalid",e),o=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:te(e,n,h,E,r,null)}n=f,r=p,e.multiple=!!o,n!=null?mr(e,!!o,n,!1):r!=null&&mr(e,!!o,r,!0);return;case"textarea":Nt("invalid",e),f=h=o=null;for(p in r)if(r.hasOwnProperty(p)&&(E=r[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:te(e,n,p,E,r,null)}pr(e,o,h,f);return;case"option":for(R in r)r.hasOwnProperty(R)&&(o=r[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":te(e,n,R,o,r,null));return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(o=0;o<cl.length;o++)Nt(cl[o],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(o=r[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:te(e,n,P,o,r,null)}return;default:if(sa(n)){for(H in r)r.hasOwnProperty(H)&&(o=r[H],o!==void 0&&ld(e,n,H,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&te(e,n,E,o,r,null))}function Yb(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,R=null,P=null,H=null;for(B in r){var X=r[B];if(r.hasOwnProperty(B)&&X!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":R=X;default:o.hasOwnProperty(B)||te(e,n,B,null,o,X)}}for(var z in o){var B=o[z];if(X=r[z],o.hasOwnProperty(z)&&(B!=null||X!=null))switch(z){case"type":f=B;break;case"name":h=B;break;case"checked":P=B;break;case"defaultChecked":H=B;break;case"value":p=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:B!==X&&te(e,n,z,B,o,X)}}ra(e,p,E,R,P,H,f,h);return;case"select":B=p=E=z=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":B=R;default:o.hasOwnProperty(f)||te(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=r[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==R&&te(e,n,h,f,o,R)}n=E,r=p,o=B,z!=null?mr(e,!!r,z,!1):!!o!=!!r&&(n!=null?mr(e,!!r,n,!0):mr(e,!!r,r?[]:"",!1));return;case"textarea":B=z=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:te(e,n,E,null,o,h)}for(p in o)if(h=o[p],f=r[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&te(e,n,p,h,o,f)}cu(e,z,B);return;case"option":for(var ot in r)z=r[ot],r.hasOwnProperty(ot)&&z!=null&&!o.hasOwnProperty(ot)&&(ot==="selected"?e.selected=!1:te(e,n,ot,null,o,z));for(R in o)z=o[R],B=r[R],o.hasOwnProperty(R)&&z!==B&&(z!=null||B!=null)&&(R==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":te(e,n,R,z,o,B));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in r)z=r[mt],r.hasOwnProperty(mt)&&z!=null&&!o.hasOwnProperty(mt)&&te(e,n,mt,null,o,z);for(P in o)if(z=o[P],B=r[P],o.hasOwnProperty(P)&&z!==B&&(z!=null||B!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:te(e,n,P,z,o,B)}return;default:if(sa(n)){for(var ee in r)z=r[ee],r.hasOwnProperty(ee)&&z!==void 0&&!o.hasOwnProperty(ee)&&ld(e,n,ee,void 0,o,z);for(H in o)z=o[H],B=r[H],!o.hasOwnProperty(H)||z===B||z===void 0&&B===void 0||ld(e,n,H,z,o,B);return}}for(var M in r)z=r[M],r.hasOwnProperty(M)&&z!=null&&!o.hasOwnProperty(M)&&te(e,n,M,null,o,z);for(X in o)z=o[X],B=r[X],!o.hasOwnProperty(X)||z===B||z==null&&B==null||te(e,n,X,z,o,B)}function i_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Xb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&i_(p)){for(p=0,E=h.responseEnd,o+=1;o<r.length;o++){var R=r[o],P=R.startTime;if(P>E)break;var H=R.transferSize,X=R.initiatorType;H&&i_(X)&&(R=R.responseEnd,p+=H*(R<E?1:(E-P)/(R-P)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ud=null,cd=null;function dc(e){return e.nodeType===9?e:e.ownerDocument}function r_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function s_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function hd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var fd=null;function $b(){var e=window.event;return e&&e.type==="popstate"?e===fd?!1:(fd=e,!0):(fd=null,!1)}var a_=typeof setTimeout=="function"?setTimeout:void 0,Jb=typeof clearTimeout=="function"?clearTimeout:void 0,o_=typeof Promise=="function"?Promise:void 0,Zb=typeof queueMicrotask=="function"?queueMicrotask:typeof o_<"u"?function(e){return o_.resolve(null).then(e).catch(Wb)}:a_;function Wb(e){setTimeout(function(){throw e})}function Pr(e){return e==="head"}function l_(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),ja(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")fl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,fl(r);for(var f=r.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[ci]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&fl(e.ownerDocument.body);r=h}while(r);ja(n)}function u_(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function dd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":dd(r),na(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function tA(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ci])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Pn(e.nextSibling),e===null)break}return null}function eA(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Pn(e.nextSibling),e===null))return null;return e}function c_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Pn(e.nextSibling),e===null))return null;return e}function md(e){return e.data==="$?"||e.data==="$~"}function pd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function nA(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Pn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var gd=null;function h_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Pn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function f_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function d_(e,n,r){switch(n=dc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function fl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);na(e)}var zn=new Map,m_=new Set;function mc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Wi=Z.d;Z.d={f:iA,r:rA,D:sA,C:aA,L:oA,m:lA,X:cA,S:uA,M:hA};function iA(){var e=Wi.f(),n=sc();return e||n}function rA(e){var n=Cn(e);n!==null&&n.tag===5&&n.type==="form"?Dg(n):Wi.r(e)}var Ua=typeof document>"u"?null:document;function p_(e,n,r){var o=Ua;if(o&&typeof n=="string"&&n){var h=ln(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),m_.has(h)||(m_.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ye(n,"link",e),Se(n),o.head.appendChild(n)))}}function sA(e){Wi.D(e),p_("dns-prefetch",e,null)}function aA(e,n){Wi.C(e,n),p_("preconnect",e,n)}function oA(e,n,r){Wi.L(e,n,r);var o=Ua;if(o&&e&&n){var h='link[rel="preload"][as="'+ln(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+ln(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+ln(r.imageSizes)+'"]')):h+='[href="'+ln(e)+'"]';var f=h;switch(n){case"style":f=Pa(e);break;case"script":f=za(e)}zn.has(f)||(e=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),zn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(dl(f))||n==="script"&&o.querySelector(ml(f))||(n=o.createElement("link"),Ye(n,"link",e),Se(n),o.head.appendChild(n)))}}function lA(e,n){Wi.m(e,n);var r=Ua;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+ln(o)+'"][href="'+ln(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=za(e)}if(!zn.has(f)&&(e=S({rel:"modulepreload",href:e},n),zn.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ml(f)))return}o=r.createElement("link"),Ye(o,"link",e),Se(o),r.head.appendChild(o)}}}function uA(e,n,r){Wi.S(e,n,r);var o=Ua;if(o&&e){var h=fi(o).hoistableStyles,f=Pa(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(dl(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},r),(r=zn.get(f))&&yd(e,r);var R=p=o.createElement("link");Se(R),Ye(R,"link",e),R._p=new Promise(function(P,H){R.onload=P,R.onerror=H}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,pc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function cA(e,n){Wi.X(e,n);var r=Ua;if(r&&e){var o=fi(r).hoistableScripts,h=za(e),f=o.get(h);f||(f=r.querySelector(ml(h)),f||(e=S({src:e,async:!0},n),(n=zn.get(h))&&_d(e,n),f=r.createElement("script"),Se(f),Ye(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function hA(e,n){Wi.M(e,n);var r=Ua;if(r&&e){var o=fi(r).hoistableScripts,h=za(e),f=o.get(h);f||(f=r.querySelector(ml(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=zn.get(h))&&_d(e,n),f=r.createElement("script"),Se(f),Ye(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function g_(e,n,r,o){var h=(h=St.current)?mc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Pa(r.href),r=fi(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Pa(r.href);var f=fi(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(dl(e)))&&!f._p&&(p.instance=f,p.state.loading=5),zn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},zn.set(e,r),f||fA(h,e,r,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=za(r),r=fi(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Pa(e){return'href="'+ln(e)+'"'}function dl(e){return'link[rel="stylesheet"]['+e+"]"}function y_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function fA(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ye(n,"link",r),Se(n),e.head.appendChild(n))}function za(e){return'[src="'+ln(e)+'"]'}function ml(e){return"script[async]"+e}function __(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+ln(r.href)+'"]');if(o)return n.instance=o,Se(o),o;var h=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Se(o),Ye(o,"style",h),pc(o,r.precedence,e),n.instance=o;case"stylesheet":h=Pa(r.href);var f=e.querySelector(dl(h));if(f)return n.state.loading|=4,n.instance=f,Se(f),f;o=y_(r),(h=zn.get(h))&&yd(o,h),f=(e.ownerDocument||e).createElement("link"),Se(f);var p=f;return p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),Ye(f,"link",o),n.state.loading|=4,pc(f,r.precedence,e),n.instance=f;case"script":return f=za(r.src),(h=e.querySelector(ml(f)))?(n.instance=h,Se(h),h):(o=r,(h=zn.get(f))&&(o=S({},r),_d(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Se(h),Ye(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,pc(o,r.precedence,e));return n.instance}function pc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function yd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function _d(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var gc=null;function v_(e,n,r){if(gc===null){var o=new Map,h=gc=new Map;h.set(r,o)}else h=gc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[ci]||f[Ae]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function E_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function dA(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function T_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function mA(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Pa(o.href),f=n.querySelector(dl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=yc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,Se(f);return}f=n.ownerDocument||n,o=y_(o),(h=zn.get(h))&&yd(o,h),f=f.createElement("link"),Se(f);var p=f;p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),Ye(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=yc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var vd=0;function pA(e,n){return e.stylesheets&&e.count===0&&vc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&vd===0&&(vd=62500*Xb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>vd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function yc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _c=null;function vc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_c=new Map,n.forEach(gA,e),_c=null,yc.call(e))}function gA(e,n){if(!(n.state.loading&4)){var r=_c.get(e);if(r)var o=r.get(null);else{r=new Map,_c.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),o=p)}o&&r.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||o,f===o&&r.set(null,h),r.set(p,h),this.count++,o=yc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var pl={$$typeof:Et,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function yA(e,n,r,o,h,f,p,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function b_(e,n,r,o,h,f,p,E,R,P,H,X){return e=new yA(e,n,r,p,R,P,H,X,E),n=1,f===!0&&(n|=24),f=En(3,null,null,n),e.current=f,f.stateNode=e,n=Jh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},ef(f),e}function A_(e){return e?(e=ga,e):ga}function S_(e,n,r,o,h,f){h=A_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ir(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Cr(e,o,n),r!==null&&(mn(r,e,n),Ko(r,e,n))}function w_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Ed(e,n){w_(e,n),(e=e.alternate)&&w_(e,n)}function R_(e){if(e.tag===13||e.tag===31){var n=Rs(e,67108864);n!==null&&mn(n,e,67108864),Ed(e,67108864)}}function I_(e){if(e.tag===13||e.tag===31){var n=wn();n=ms(n);var r=Rs(e,n);r!==null&&mn(r,e,n),Ed(e,n)}}var Ec=!0;function _A(e,n,r,o){var h=q.T;q.T=null;var f=Z.p;try{Z.p=2,Td(e,n,r,o)}finally{Z.p=f,q.T=h}}function vA(e,n,r,o){var h=q.T;q.T=null;var f=Z.p;try{Z.p=8,Td(e,n,r,o)}finally{Z.p=f,q.T=h}}function Td(e,n,r,o){if(Ec){var h=bd(o);if(h===null)od(e,n,o,Tc,r),N_(e,o);else if(TA(h,e,n,r,o))o.stopPropagation();else if(N_(e,o),n&4&&-1<EA.indexOf(e)){for(;h!==null;){var f=Cn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=ai(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var R=1<<31-ge(p);E.entanglements[1]|=R,p&=~R}wi(f),(Gt&6)===0&&(ic=sn()+500,ul(0))}}break;case 31:case 13:E=Rs(f,2),E!==null&&mn(E,f,2),sc(),Ed(f,2)}if(f=bd(o),f===null&&od(e,n,o,Tc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else od(e,n,o,null,r)}}function bd(e){return e=Nn(e),Ad(e)}var Tc=null;function Ad(e){if(Tc=null,e=hi(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=g(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Tc=e,null}function C_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cs()){case _o:return 2;case vo:return 8;case fr:case Ch:return 32;case Wl:return 268435456;default:return 32}default:return 32}}var Sd=!1,zr=null,jr=null,Br=null,gl=new Map,yl=new Map,qr=[],EA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function N_(e,n){switch(e){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Br=null;break;case"pointerover":case"pointerout":gl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":yl.delete(n.pointerId)}}function _l(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Cn(n),n!==null&&R_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function TA(e,n,r,o,h){switch(n){case"focusin":return zr=_l(zr,e,n,r,o,h),!0;case"dragenter":return jr=_l(jr,e,n,r,o,h),!0;case"mouseover":return Br=_l(Br,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return gl.set(f,_l(gl.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,yl.set(f,_l(yl.get(f)||null,e,n,r,o,h)),!0}return!1}function x_(e){var n=hi(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Hn(e.priority,function(){I_(r)});return}}else if(n===31){if(n=g(r),n!==null){e.blockedOn=n,Hn(e.priority,function(){I_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=bd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Do=o,r.target.dispatchEvent(o),Do=null}else return n=Cn(r),n!==null&&R_(n),e.blockedOn=r,!1;n.shift()}return!0}function D_(e,n,r){bc(e)&&r.delete(n)}function bA(){Sd=!1,zr!==null&&bc(zr)&&(zr=null),jr!==null&&bc(jr)&&(jr=null),Br!==null&&bc(Br)&&(Br=null),gl.forEach(D_),yl.forEach(D_)}function Ac(e,n){e.blockedOn===n&&(e.blockedOn=null,Sd||(Sd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,bA)))}var Sc=null;function O_(e){Sc!==e&&(Sc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Sc===e&&(Sc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Ad(o||r)===null)continue;break}var f=Cn(r);f!==null&&(e.splice(n,3),n-=3,bf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function ja(e){function n(R){return Ac(R,e)}zr!==null&&Ac(zr,e),jr!==null&&Ac(jr,e),Br!==null&&Ac(Br,e),gl.forEach(n),yl.forEach(n);for(var r=0;r<qr.length;r++){var o=qr[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<qr.length&&(r=qr[0],r.blockedOn===null);)x_(r),r.blockedOn===null&&qr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],p=h[Ue]||null;if(typeof f=="function")p||O_(r);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Ue]||null)E=p.formAction;else if(Ad(h)!==null)continue}else E=p.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),O_(r)}}}function V_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function wd(e){this._internalRoot=e}wc.prototype.render=wd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=wn();S_(r,o,e,n,null,null)},wc.prototype.unmount=wd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;S_(e.current,2,null,e,null,null),sc(),n[ui]=null}};function wc(e){this._internalRoot=e}wc.prototype.unstable_scheduleHydration=function(e){if(e){var n=su();e={blockedOn:null,target:e,priority:n};for(var r=0;r<qr.length&&n!==0&&n<qr[r].priority;r++);qr.splice(r,0,e),r===0&&x_(e)}};var M_=t.version;if(M_!=="19.2.3")throw Error(a(527,M_,"19.2.3"));Z.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var AA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{Bn=Rc.inject(AA),He=Rc}catch{}}return El.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=Bg,f=qg,p=Hg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=b_(e,1,!1,null,null,r,o,null,h,f,p,V_),e[ui]=n.current,ad(e),new wd(n)},El.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=Bg,p=qg,E=Hg,R=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=b_(e,1,!0,n,r??null,o,h,R,f,p,E,V_),n.context=A_(null),r=n.current,o=wn(),o=ms(o),h=Ir(o),h.callback=null,Cr(r,h,o),r=o,n.current.lanes=r,fs(n,r),wi(n),e[ui]=n.current,ad(e),new wc(n)},El.version="19.2.3",El}var G_;function VA(){if(G_)return Cd.exports;G_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Cd.exports=OA(),Cd.exports}var MA=VA();const kA=()=>{};var F_={};const R0=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},LA=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],g=s[i++],v=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},I0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,v=l+2<s.length,y=v?s[l+2]:0,T=c>>2,S=(c&3)<<4|g>>4;let O=(g&15)<<2|y>>6,K=y&63;v||(K=64,d||(O=64)),a.push(i[T],i[S],i[O],i[K])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(R0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):LA(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const S=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||g==null||y==null||S==null)throw new UA;const O=c<<2|g>>4;if(a.push(O),y!==64){const K=g<<4&240|y>>2;if(a.push(K),S!==64){const W=y<<6&192|S;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class UA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PA=function(s){const t=R0(s);return I0.encodeByteArray(t,!0)},Gc=function(s){return PA(s).replace(/\./g,"")},C0=function(s){try{return I0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function zA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const jA=()=>zA().__FIREBASE_DEFAULTS__,BA=()=>{if(typeof process>"u"||typeof F_>"u")return;const s=F_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},qA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&C0(s[1]);return t&&JSON.parse(t)},oh=()=>{try{return kA()||jA()||BA()||qA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},N0=s=>oh()?.emulatorHosts?.[s],HA=s=>{const t=N0(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},x0=()=>oh()?.config,D0=s=>oh()?.[`_${s}`];class GA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function uo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function O0(s){return(await fetch(s,{credentials:"include"})).ok}function FA(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Gc(JSON.stringify(i)),Gc(JSON.stringify(d)),""].join(".")}const Il={};function QA(){const s={prod:[],emulator:[]};for(const t of Object.keys(Il))Il[t]?s.emulator.push(t):s.prod.push(t);return s}function KA(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let Q_=!1;function V0(s,t){if(typeof window>"u"||typeof document>"u"||!uo(window.location.host)||Il[s]===t||Il[s]||Q_)return;Il[s]=t;function i(O){return`__firebase__banner__${O}`}const a="__firebase__banner",c=QA().prod.length>0;function d(){const O=document.getElementById(a);O&&O.remove()}function g(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function v(O,K){O.setAttribute("width","24"),O.setAttribute("id",K),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function y(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{Q_=!0,d()},O}function T(O,K){O.setAttribute("id",K),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function S(){const O=KA(a),K=i("text"),W=document.getElementById(K)||document.createElement("span"),it=i("learnmore"),et=document.getElementById(it)||document.createElement("a"),pt=i("preprendIcon"),vt=document.getElementById(pt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const Et=O.element;g(Et),T(et,it);const Qt=y();v(vt,pt),Et.append(vt,W,et,Qt),document.body.appendChild(Et)}c?(W.innerText="Preview backend disconnected.",vt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(vt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function XA(){const s=oh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $A(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function ZA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WA(){const s=rn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function t1(){return!XA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function e1(){try{return typeof indexedDB=="object"}catch{return!1}}function n1(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const i1="FirebaseError";class lr extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=i1,Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ql.prototype.create)}}class ql{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?r1(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new lr(l,g,a)}}function r1(s,t){return s.replace(s1,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const s1=/\{\$([^}]+)}/g;function a1(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function ir(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(K_(c)&&K_(d)){if(!ir(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function K_(s){return s!==null&&typeof s=="object"}function Hl(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function o1(s,t){const i=new l1(s,t);return i.subscribe.bind(i)}class l1{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");u1(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Od),l.error===void 0&&(l.error=Od),l.complete===void 0&&(l.complete=Od);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function u1(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Od(){}function Be(s){return s&&s._delegate?s._delegate:s}class Fs{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const zs="[DEFAULT]";class c1{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new GA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(f1(t))try{this.getOrInitializeService({instanceIdentifier:zs})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=zs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=zs){return this.instances.has(t)}getOptions(t=zs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:h1(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=zs){return this.component?this.component.multipleInstances?t:zs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function h1(s){return s===zs?void 0:s}function f1(s){return s.instantiationMode==="EAGER"}class d1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new c1(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Mt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Mt||(Mt={}));const m1={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},p1=Mt.INFO,g1={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},y1=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=g1[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class _m{constructor(t){this.name=t,this._logLevel=p1,this._logHandler=y1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?m1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const _1=(s,t)=>t.some(i=>s instanceof i);let Y_,X_;function v1(){return Y_||(Y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function E1(){return X_||(X_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const M0=new WeakMap,Qd=new WeakMap,k0=new WeakMap,Vd=new WeakMap,vm=new WeakMap;function T1(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i($r(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&M0.set(i,s)}).catch(()=>{}),vm.set(t,s),t}function b1(s){if(Qd.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Qd.set(s,t)}let Kd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Qd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||k0.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return $r(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function A1(s){Kd=s(Kd)}function S1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Md(this),t,...i);return k0.set(a,t.sort?t.sort():[t]),$r(a)}:E1().includes(s)?function(...t){return s.apply(Md(this),t),$r(M0.get(this))}:function(...t){return $r(s.apply(Md(this),t))}}function w1(s){return typeof s=="function"?S1(s):(s instanceof IDBTransaction&&b1(s),_1(s,v1())?new Proxy(s,Kd):s)}function $r(s){if(s instanceof IDBRequest)return T1(s);if(Vd.has(s))return Vd.get(s);const t=w1(s);return t!==s&&(Vd.set(s,t),vm.set(t,s)),t}const Md=s=>vm.get(s);function R1(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),g=$r(d);return a&&d.addEventListener("upgradeneeded",v=>{a($r(d.result),v.oldVersion,v.newVersion,$r(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{c&&v.addEventListener("close",()=>c()),l&&v.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const I1=["get","getKey","getAll","getAllKeys","count"],C1=["put","add","delete","clear"],kd=new Map;function $_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(kd.get(t))return kd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=C1.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||I1.includes(i)))return;const c=async function(d,...g){const v=this.transaction(d,l?"readwrite":"readonly");let y=v.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),l&&v.done]))[0]};return kd.set(t,c),c}A1(s=>({...s,get:(t,i,a)=>$_(t,i)||s.get(t,i,a),has:(t,i)=>!!$_(t,i)||s.has(t,i)}));class N1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(x1(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function x1(s){return s.getComponent()?.type==="VERSION"}const Yd="@firebase/app",J_="0.14.7";const rr=new _m("@firebase/app"),D1="@firebase/app-compat",O1="@firebase/analytics-compat",V1="@firebase/analytics",M1="@firebase/app-check-compat",k1="@firebase/app-check",L1="@firebase/auth",U1="@firebase/auth-compat",P1="@firebase/database",z1="@firebase/data-connect",j1="@firebase/database-compat",B1="@firebase/functions",q1="@firebase/functions-compat",H1="@firebase/installations",G1="@firebase/installations-compat",F1="@firebase/messaging",Q1="@firebase/messaging-compat",K1="@firebase/performance",Y1="@firebase/performance-compat",X1="@firebase/remote-config",$1="@firebase/remote-config-compat",J1="@firebase/storage",Z1="@firebase/storage-compat",W1="@firebase/firestore",tS="@firebase/ai",eS="@firebase/firestore-compat",nS="firebase",iS="12.8.0";const Xd="[DEFAULT]",rS={[Yd]:"fire-core",[D1]:"fire-core-compat",[V1]:"fire-analytics",[O1]:"fire-analytics-compat",[k1]:"fire-app-check",[M1]:"fire-app-check-compat",[L1]:"fire-auth",[U1]:"fire-auth-compat",[P1]:"fire-rtdb",[z1]:"fire-data-connect",[j1]:"fire-rtdb-compat",[B1]:"fire-fn",[q1]:"fire-fn-compat",[H1]:"fire-iid",[G1]:"fire-iid-compat",[F1]:"fire-fcm",[Q1]:"fire-fcm-compat",[K1]:"fire-perf",[Y1]:"fire-perf-compat",[X1]:"fire-rc",[$1]:"fire-rc-compat",[J1]:"fire-gcs",[Z1]:"fire-gcs-compat",[W1]:"fire-fst",[eS]:"fire-fst-compat",[tS]:"fire-vertex","fire-js":"fire-js",[nS]:"fire-js-all"};const Fc=new Map,sS=new Map,$d=new Map;function Z_(s,t){try{s.container.addComponent(t)}catch(i){rr.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Ja(s){const t=s.name;if($d.has(t))return rr.debug(`There were multiple attempts to register component ${t}.`),!1;$d.set(t,s);for(const i of Fc.values())Z_(i,s);for(const i of sS.values())Z_(i,s);return!0}function Em(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Wn(s){return s==null?!1:s.settings!==void 0}const aS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jr=new ql("app","Firebase",aS);class oS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}}const co=iS;function L0(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:Xd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Jr.create("bad-app-name",{appName:String(l)});if(i||(i=x0()),!i)throw Jr.create("no-options");const c=Fc.get(l);if(c){if(ir(i,c.options)&&ir(a,c.config))return c;throw Jr.create("duplicate-app",{appName:l})}const d=new d1(l);for(const v of $d.values())d.addComponent(v);const g=new oS(i,a,d);return Fc.set(l,g),g}function U0(s=Xd){const t=Fc.get(s);if(!t&&s===Xd&&x0())return L0();if(!t)throw Jr.create("no-app",{appName:s});return t}function Zr(s,t,i){let a=rS[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),rr.warn(d.join(" "));return}Ja(new Fs(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const lS="firebase-heartbeat-database",uS=1,Vl="firebase-heartbeat-store";let Ld=null;function P0(){return Ld||(Ld=R1(lS,uS,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Vl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Jr.create("idb-open",{originalErrorMessage:s.message})})),Ld}async function cS(s){try{const i=(await P0()).transaction(Vl),a=await i.objectStore(Vl).get(z0(s));return await i.done,a}catch(t){if(t instanceof lr)rr.warn(t.message);else{const i=Jr.create("idb-get",{originalErrorMessage:t?.message});rr.warn(i.message)}}}async function W_(s,t){try{const a=(await P0()).transaction(Vl,"readwrite");await a.objectStore(Vl).put(t,z0(s)),await a.done}catch(i){if(i instanceof lr)rr.warn(i.message);else{const a=Jr.create("idb-set",{originalErrorMessage:i?.message});rr.warn(a.message)}}}function z0(s){return`${s.name}!${s.options.appId}`}const hS=1024,fS=30;class dS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new pS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=tv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>fS){const l=gS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){rr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=tv(),{heartbeatsToSend:i,unsentEntries:a}=mS(this._heartbeatsCache.heartbeats),l=Gc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return rr.warn(t),""}}}function tv(){return new Date().toISOString().substring(0,10)}function mS(s,t=hS){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),ev(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),ev(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class pS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return e1()?n1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await cS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return W_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return W_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function ev(s){return Gc(JSON.stringify({version:2,heartbeats:s})).length}function gS(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function yS(s){Ja(new Fs("platform-logger",t=>new N1(t),"PRIVATE")),Ja(new Fs("heartbeat",t=>new dS(t),"PRIVATE")),Zr(Yd,J_,s),Zr(Yd,J_,"esm2020"),Zr("fire-js","")}yS("");var _S="firebase",vS="12.8.0";Zr(_S,vS,"app");var nv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Wr,j0;(function(){var s;function t(C,A){function I(){}I.prototype=A.prototype,C.F=A.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(V,x,k){for(var w=Array(arguments.length-2),Kt=2;Kt<arguments.length;Kt++)w[Kt-2]=arguments[Kt];return A.prototype[x].apply(V,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,A,I){I||(I=0);const V=Array(16);if(typeof A=="string")for(var x=0;x<16;++x)V[x]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(x=0;x<16;++x)V[x]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=C.g[0],I=C.g[1],x=C.g[2];let k=C.g[3],w;w=A+(k^I&(x^k))+V[0]+3614090360&4294967295,A=I+(w<<7&4294967295|w>>>25),w=k+(x^A&(I^x))+V[1]+3905402710&4294967295,k=A+(w<<12&4294967295|w>>>20),w=x+(I^k&(A^I))+V[2]+606105819&4294967295,x=k+(w<<17&4294967295|w>>>15),w=I+(A^x&(k^A))+V[3]+3250441966&4294967295,I=x+(w<<22&4294967295|w>>>10),w=A+(k^I&(x^k))+V[4]+4118548399&4294967295,A=I+(w<<7&4294967295|w>>>25),w=k+(x^A&(I^x))+V[5]+1200080426&4294967295,k=A+(w<<12&4294967295|w>>>20),w=x+(I^k&(A^I))+V[6]+2821735955&4294967295,x=k+(w<<17&4294967295|w>>>15),w=I+(A^x&(k^A))+V[7]+4249261313&4294967295,I=x+(w<<22&4294967295|w>>>10),w=A+(k^I&(x^k))+V[8]+1770035416&4294967295,A=I+(w<<7&4294967295|w>>>25),w=k+(x^A&(I^x))+V[9]+2336552879&4294967295,k=A+(w<<12&4294967295|w>>>20),w=x+(I^k&(A^I))+V[10]+4294925233&4294967295,x=k+(w<<17&4294967295|w>>>15),w=I+(A^x&(k^A))+V[11]+2304563134&4294967295,I=x+(w<<22&4294967295|w>>>10),w=A+(k^I&(x^k))+V[12]+1804603682&4294967295,A=I+(w<<7&4294967295|w>>>25),w=k+(x^A&(I^x))+V[13]+4254626195&4294967295,k=A+(w<<12&4294967295|w>>>20),w=x+(I^k&(A^I))+V[14]+2792965006&4294967295,x=k+(w<<17&4294967295|w>>>15),w=I+(A^x&(k^A))+V[15]+1236535329&4294967295,I=x+(w<<22&4294967295|w>>>10),w=A+(x^k&(I^x))+V[1]+4129170786&4294967295,A=I+(w<<5&4294967295|w>>>27),w=k+(I^x&(A^I))+V[6]+3225465664&4294967295,k=A+(w<<9&4294967295|w>>>23),w=x+(A^I&(k^A))+V[11]+643717713&4294967295,x=k+(w<<14&4294967295|w>>>18),w=I+(k^A&(x^k))+V[0]+3921069994&4294967295,I=x+(w<<20&4294967295|w>>>12),w=A+(x^k&(I^x))+V[5]+3593408605&4294967295,A=I+(w<<5&4294967295|w>>>27),w=k+(I^x&(A^I))+V[10]+38016083&4294967295,k=A+(w<<9&4294967295|w>>>23),w=x+(A^I&(k^A))+V[15]+3634488961&4294967295,x=k+(w<<14&4294967295|w>>>18),w=I+(k^A&(x^k))+V[4]+3889429448&4294967295,I=x+(w<<20&4294967295|w>>>12),w=A+(x^k&(I^x))+V[9]+568446438&4294967295,A=I+(w<<5&4294967295|w>>>27),w=k+(I^x&(A^I))+V[14]+3275163606&4294967295,k=A+(w<<9&4294967295|w>>>23),w=x+(A^I&(k^A))+V[3]+4107603335&4294967295,x=k+(w<<14&4294967295|w>>>18),w=I+(k^A&(x^k))+V[8]+1163531501&4294967295,I=x+(w<<20&4294967295|w>>>12),w=A+(x^k&(I^x))+V[13]+2850285829&4294967295,A=I+(w<<5&4294967295|w>>>27),w=k+(I^x&(A^I))+V[2]+4243563512&4294967295,k=A+(w<<9&4294967295|w>>>23),w=x+(A^I&(k^A))+V[7]+1735328473&4294967295,x=k+(w<<14&4294967295|w>>>18),w=I+(k^A&(x^k))+V[12]+2368359562&4294967295,I=x+(w<<20&4294967295|w>>>12),w=A+(I^x^k)+V[5]+4294588738&4294967295,A=I+(w<<4&4294967295|w>>>28),w=k+(A^I^x)+V[8]+2272392833&4294967295,k=A+(w<<11&4294967295|w>>>21),w=x+(k^A^I)+V[11]+1839030562&4294967295,x=k+(w<<16&4294967295|w>>>16),w=I+(x^k^A)+V[14]+4259657740&4294967295,I=x+(w<<23&4294967295|w>>>9),w=A+(I^x^k)+V[1]+2763975236&4294967295,A=I+(w<<4&4294967295|w>>>28),w=k+(A^I^x)+V[4]+1272893353&4294967295,k=A+(w<<11&4294967295|w>>>21),w=x+(k^A^I)+V[7]+4139469664&4294967295,x=k+(w<<16&4294967295|w>>>16),w=I+(x^k^A)+V[10]+3200236656&4294967295,I=x+(w<<23&4294967295|w>>>9),w=A+(I^x^k)+V[13]+681279174&4294967295,A=I+(w<<4&4294967295|w>>>28),w=k+(A^I^x)+V[0]+3936430074&4294967295,k=A+(w<<11&4294967295|w>>>21),w=x+(k^A^I)+V[3]+3572445317&4294967295,x=k+(w<<16&4294967295|w>>>16),w=I+(x^k^A)+V[6]+76029189&4294967295,I=x+(w<<23&4294967295|w>>>9),w=A+(I^x^k)+V[9]+3654602809&4294967295,A=I+(w<<4&4294967295|w>>>28),w=k+(A^I^x)+V[12]+3873151461&4294967295,k=A+(w<<11&4294967295|w>>>21),w=x+(k^A^I)+V[15]+530742520&4294967295,x=k+(w<<16&4294967295|w>>>16),w=I+(x^k^A)+V[2]+3299628645&4294967295,I=x+(w<<23&4294967295|w>>>9),w=A+(x^(I|~k))+V[0]+4096336452&4294967295,A=I+(w<<6&4294967295|w>>>26),w=k+(I^(A|~x))+V[7]+1126891415&4294967295,k=A+(w<<10&4294967295|w>>>22),w=x+(A^(k|~I))+V[14]+2878612391&4294967295,x=k+(w<<15&4294967295|w>>>17),w=I+(k^(x|~A))+V[5]+4237533241&4294967295,I=x+(w<<21&4294967295|w>>>11),w=A+(x^(I|~k))+V[12]+1700485571&4294967295,A=I+(w<<6&4294967295|w>>>26),w=k+(I^(A|~x))+V[3]+2399980690&4294967295,k=A+(w<<10&4294967295|w>>>22),w=x+(A^(k|~I))+V[10]+4293915773&4294967295,x=k+(w<<15&4294967295|w>>>17),w=I+(k^(x|~A))+V[1]+2240044497&4294967295,I=x+(w<<21&4294967295|w>>>11),w=A+(x^(I|~k))+V[8]+1873313359&4294967295,A=I+(w<<6&4294967295|w>>>26),w=k+(I^(A|~x))+V[15]+4264355552&4294967295,k=A+(w<<10&4294967295|w>>>22),w=x+(A^(k|~I))+V[6]+2734768916&4294967295,x=k+(w<<15&4294967295|w>>>17),w=I+(k^(x|~A))+V[13]+1309151649&4294967295,I=x+(w<<21&4294967295|w>>>11),w=A+(x^(I|~k))+V[4]+4149444226&4294967295,A=I+(w<<6&4294967295|w>>>26),w=k+(I^(A|~x))+V[11]+3174756917&4294967295,k=A+(w<<10&4294967295|w>>>22),w=x+(A^(k|~I))+V[2]+718787259&4294967295,x=k+(w<<15&4294967295|w>>>17),w=I+(k^(x|~A))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(x+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+x&4294967295,C.g[3]=C.g[3]+k&4294967295}a.prototype.v=function(C,A){A===void 0&&(A=C.length);const I=A-this.blockSize,V=this.C;let x=this.h,k=0;for(;k<A;){if(x==0)for(;k<=I;)l(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<A;)if(V[x++]=C.charCodeAt(k++),x==this.blockSize){l(this,V),x=0;break}}else for(;k<A;)if(V[x++]=C[k++],x==this.blockSize){l(this,V),x=0;break}}this.h=x,this.o+=A},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)C[A++]=this.g[I]>>>V&255;return C};function c(C,A){var I=g;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=A(C)}function d(C,A){this.h=A;const I=[];let V=!0;for(let x=C.length-1;x>=0;x--){const k=C[x]|0;V&&k==A||(I[x]=k,V=!1)}this.g=I}var g={};function v(C){return-128<=C&&C<128?c(C,function(A){return new d([A|0],A<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return et(y(-C));const A=[];let I=1;for(let V=0;C>=I;V++)A[V]=C/I|0,I*=4294967296;return new d(A,0)}function T(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return et(T(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(A,8));let V=S;for(let k=0;k<C.length;k+=8){var x=Math.min(8,C.length-k);const w=parseInt(C.substring(k,k+x),A);x<8?(x=y(Math.pow(A,x)),V=V.j(x).add(y(w))):(V=V.j(I),V=V.add(y(w)))}return V}var S=v(0),O=v(1),K=v(16777216);s=d.prototype,s.m=function(){if(it(this))return-et(this).m();let C=0,A=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);C+=(V>=0?V:4294967296+V)*A,A*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(W(this))return"0";if(it(this))return"-"+et(this).toString(C);const A=y(Math.pow(C,6));var I=this;let V="";for(;;){const x=Qt(I,A).g;I=pt(I,x.j(A));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=x,W(I))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function W(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function it(C){return C.h==-1}s.l=function(C){return C=pt(this,C),it(C)?-1:W(C)?0:1};function et(C){const A=C.g.length,I=[];for(let V=0;V<A;V++)I[V]=~C.g[V];return new d(I,~C.h).add(O)}s.abs=function(){return it(this)?et(this):this},s.add=function(C){const A=Math.max(this.g.length,C.g.length),I=[];let V=0;for(let x=0;x<=A;x++){let k=V+(this.i(x)&65535)+(C.i(x)&65535),w=(k>>>16)+(this.i(x)>>>16)+(C.i(x)>>>16);V=w>>>16,k&=65535,w&=65535,I[x]=w<<16|k}return new d(I,I[I.length-1]&-2147483648?-1:0)};function pt(C,A){return C.add(et(A))}s.j=function(C){if(W(this)||W(C))return S;if(it(this))return it(C)?et(this).j(et(C)):et(et(this).j(C));if(it(C))return et(this.j(et(C)));if(this.l(K)<0&&C.l(K)<0)return y(this.m()*C.m());const A=this.g.length+C.g.length,I=[];for(var V=0;V<2*A;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let x=0;x<C.g.length;x++){const k=this.i(V)>>>16,w=this.i(V)&65535,Kt=C.i(x)>>>16,ue=C.i(x)&65535;I[2*V+2*x]+=w*ue,vt(I,2*V+2*x),I[2*V+2*x+1]+=k*ue,vt(I,2*V+2*x+1),I[2*V+2*x+1]+=w*Kt,vt(I,2*V+2*x+1),I[2*V+2*x+2]+=k*Kt,vt(I,2*V+2*x+2)}for(C=0;C<A;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=A;C<2*A;C++)I[C]=0;return new d(I,0)};function vt(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function Et(C,A){this.g=C,this.h=A}function Qt(C,A){if(W(A))throw Error("division by zero");if(W(C))return new Et(S,S);if(it(C))return A=Qt(et(C),A),new Et(et(A.g),et(A.h));if(it(A))return A=Qt(C,et(A)),new Et(et(A.g),A.h);if(C.g.length>30){if(it(C)||it(A))throw Error("slowDivide_ only works with positive integers.");for(var I=O,V=A;V.l(C)<=0;)I=le(I),V=le(V);var x=dt(I,1),k=dt(V,1);for(V=dt(V,2),I=dt(I,2);!W(V);){var w=k.add(V);w.l(C)<=0&&(x=x.add(I),k=w),V=dt(V,1),I=dt(I,1)}return A=pt(C,x.j(A)),new Et(x,A)}for(x=S;C.l(A)>=0;){for(I=Math.max(1,Math.floor(C.m()/A.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=y(I),w=k.j(A);it(w)||w.l(C)>0;)I-=V,k=y(I),w=k.j(A);W(k)&&(k=O),x=x.add(k),C=pt(C,w)}return new Et(x,C)}s.B=function(C){return Qt(this,C).h},s.and=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)&C.i(V);return new d(I,this.h&C.h)},s.or=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)|C.i(V);return new d(I,this.h|C.h)},s.xor=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)^C.i(V);return new d(I,this.h^C.h)};function le(C){const A=C.g.length+1,I=[];for(let V=0;V<A;V++)I[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(I,C.h)}function dt(C,A){const I=A>>5;A%=32;const V=C.g.length-I,x=[];for(let k=0;k<V;k++)x[k]=A>0?C.i(k+I)>>>A|C.i(k+I+1)<<32-A:C.i(k+I);return new d(x,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,j0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,Wr=d}).apply(typeof nv<"u"?nv:typeof self<"u"?self:typeof window<"u"?window:{});var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var B0,bl,q0,Mc,Jd,H0,G0,F0;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ic=="object"&&Ic];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var _=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var L=u[b];if(!(L in _))break t;_=_[L]}u=u[u.length-1],b=_[u],m=m(b),m!=b&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var _=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&_.push([b,m[b]]);return _}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function T(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function S(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(b,L,j){for(var tt=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)tt[wt-2]=arguments[wt];return m.prototype[L].apply(b,tt)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function K(u){const m=u.length;if(m>0){const _=Array(m);for(let b=0;b<m;b++)_[b]=u[b];return _}return[]}function W(u,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var _=typeof L;if(_=_!="object"?_:L?Array.isArray(L)?"array":_:"null",_=="array"||_=="object"&&typeof L.length=="number"){_=u.length||0;const j=L.length||0;u.length=_+j;for(let tt=0;tt<j;tt++)u[_+tt]=L[tt]}else u.push(L)}}class it{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function et(u){d.setTimeout(()=>{throw u},0)}function pt(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class vt{constructor(){this.h=this.g=null}add(m,_){const b=Et.get();b.set(m,_),this.h?this.h.next=b:this.g=b,this.h=b}}var Et=new it(()=>new Qt,u=>u.reset());class Qt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let le,dt=!1,C=new vt,A=()=>{const u=Promise.resolve(void 0);le=()=>{u.then(I)}};function I(){for(var u;u=pt();){try{u.h.call(u.g)}catch(_){et(_)}var m=Et;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}dt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function Kt(u,m){x.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(Kt,x),Kt.prototype.init=function(u,m){const _=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Kt.Z.h.call(this)},Kt.prototype.h=function(){Kt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ue="closure_listenable_"+(Math.random()*1e6|0),q=0;function Z(u,m,_,b,L){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!b,this.ha=L,this.key=++q,this.da=this.fa=!1}function lt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function xt(u,m,_){for(const b in u)m.call(_,u[b],b,u)}function qt(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function N(u){const m={};for(const _ in u)m[_]=u[_];return m}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let _,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(_ in b)u[_]=b[_];for(let j=0;j<F.length;j++)_=F[j],Object.prototype.hasOwnProperty.call(b,_)&&(u[_]=b[_])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,_,b,L){const j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);const tt=St(u,m,b,L);return tt>-1?(m=u[tt],_||(m.fa=!1)):(m=new Z(m,this.src,j,!!b,L),m.fa=_,u.push(m)),m};function yt(u,m){const _=m.type;if(_ in u.g){var b=u.g[_],L=Array.prototype.indexOf.call(b,m,void 0),j;(j=L>=0)&&Array.prototype.splice.call(b,L,1),j&&(lt(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function St(u,m,_,b){for(let L=0;L<u.length;++L){const j=u[L];if(!j.da&&j.listener==m&&j.capture==!!_&&j.ha==b)return L}return-1}var Dt="closure_lm_"+(Math.random()*1e6|0),pe={};function Jt(u,m,_,b,L){if(Array.isArray(m)){for(let j=0;j<m.length;j++)Jt(u,m[j],_,b,L);return null}return _=qe(_),u&&u[ue]?u.J(m,_,g(b)?!!b.capture:!1,L):Vi(u,m,_,!1,b,L)}function Vi(u,m,_,b,L,j){if(!m)throw Error("Invalid event type");const tt=g(L)?!!L.capture:!!L;let wt=zt(u);if(wt||(u[Dt]=wt=new st(u)),_=wt.add(m,_,b,tt,j),_.proxy)return _;if(b=ur(),_.proxy=b,b.src=u,b.listener=_,u.addEventListener)k||(L=tt),L===void 0&&(L=!1),u.addEventListener(m.toString(),b,L);else if(u.attachEvent)u.attachEvent(G(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ur(){function u(_){return m.call(u.src,u.listener,_)}const m=ct;return u}function cr(u,m,_,b,L){if(Array.isArray(m))for(var j=0;j<m.length;j++)cr(u,m[j],_,b,L);else b=g(b)?!!b.capture:!!b,_=qe(_),u&&u[ue]?(u=u.i,j=String(m).toString(),j in u.g&&(m=u.g[j],_=St(m,_,b,L),_>-1&&(lt(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[j],u.h--)))):u&&(u=zt(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,_,b,L)),(_=u>-1?m[u]:null)&&Mi(_))}function Mi(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ue])yt(m.i,u);else{var _=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(_,b,u.capture):m.detachEvent?m.detachEvent(G(_),b):m.addListener&&m.removeListener&&m.removeListener(b),(_=zt(m))?(yt(_,u),_.h==0&&(_.src=null,m[Dt]=null)):lt(u)}}}function G(u){return u in pe?pe[u]:pe[u]="on"+u}function ct(u,m){if(u.da)u=!0;else{m=new Kt(m,this);const _=u.listener,b=u.ha||u.src;u.fa&&Mi(u),u=_.call(b,m)}return u}function zt(u){return u=u[Dt],u instanceof st?u:null}var Ze="__closure_events_fn_"+(Math.random()*1e9>>>0);function qe(u){return typeof u=="function"?u:(u[Ze]||(u[Ze]=function(m){return u.handleEvent(m)}),u[Ze])}function Te(){V.call(this),this.i=new st(this),this.M=this,this.G=null}S(Te,V),Te.prototype[ue]=!0,Te.prototype.removeEventListener=function(u,m,_,b){cr(this,u,m,_,b)};function Me(u,m){var _,b=u.G;if(b)for(_=[];b;b=b.G)_.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new x(m,u);else if(m instanceof x)m.target=m.target||u;else{var L=m;m=new x(b,u),nt(m,L)}L=!0;let j,tt;if(_)for(tt=_.length-1;tt>=0;tt--)j=m.g=_[tt],L=hr(j,b,!0,m)&&L;if(j=m.g=u,L=hr(j,b,!0,m)&&L,L=hr(j,b,!1,m)&&L,_)for(tt=0;tt<_.length;tt++)j=m.g=_[tt],L=hr(j,b,!1,m)&&L}Te.prototype.N=function(){if(Te.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let b=0;b<_.length;b++)lt(_[b]);delete u.g[m],u.h--}}this.G=null},Te.prototype.J=function(u,m,_,b){return this.i.add(String(u),m,!1,_,b)},Te.prototype.K=function(u,m,_,b){return this.i.add(String(u),m,!0,_,b)};function hr(u,m,_,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let j=0;j<m.length;++j){const tt=m[j];if(tt&&!tt.da&&tt.capture==_){const wt=tt.listener,ye=tt.ha||tt.src;tt.fa&&yt(u.i,tt),L=wt.call(ye,b)!==!1&&L}}return L&&!b.defaultPrevented}function Ih(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Zl(u){u.g=Ih(()=>{u.g=null,u.i&&(u.i=!1,Zl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class sn extends V{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Zl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cs(u){V.call(this),this.h=u,this.g={}}S(cs,V);var _o=[];function vo(u){xt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Mi(m)},u),u.g={}}cs.prototype.N=function(){cs.Z.N.call(this),vo(this)},cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fr=d.JSON.stringify,Ch=d.JSON.parse,Wl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function tu(){}function eu(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function He(){x.call(this,"d")}S(He,x);function In(){x.call(this,"c")}S(In,x);var ge={},nu=null;function ta(){return nu=nu||new Te}ge.Ia="serverreachability";function iu(u){x.call(this,ge.Ia,u)}S(iu,x);function si(u){const m=ta();Me(m,new iu(m))}ge.STAT_EVENT="statevent";function hs(u,m){x.call(this,ge.STAT_EVENT,u),this.stat=m}S(hs,x);function be(u){const m=ta();Me(m,new hs(m,u))}ge.Ja="timingevent";function ai(u,m){x.call(this,ge.Ja,u),this.size=m}S(ai,x);function oi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function qn(){this.g=!0}qn.prototype.ua=function(){this.g=!1};function Nh(u,m,_,b,L,j){u.info(function(){if(u.g)if(j){var tt="",wt=j.split("&");for(let Ht=0;Ht<wt.length;Ht++){var ye=wt[Ht].split("=");if(ye.length>1){const ce=ye[0];ye=ye[1];const Dn=ce.split("_");tt=Dn.length>=2&&Dn[1]=="type"?tt+(ce+"="+ye+"&"):tt+(ce+"=redacted&")}}}else tt=null;else tt=j;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+_+`
`+tt})}function ru(u,m,_,b,L,j,tt){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+_+`
`+j+" "+tt})}function li(u,m,_,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+xh(u,_)+(b?" "+b:"")})}function fs(u,m){u.info(function(){return"TIMEOUT: "+m})}qn.prototype.info=function(){};function xh(u,m){if(!u.g)return m;if(!m)return null;try{const j=JSON.parse(m);if(j){for(u=0;u<j.length;u++)if(Array.isArray(j[u])){var _=j[u];if(!(_.length<2)){var b=_[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let tt=1;tt<b.length;tt++)b[tt]=""}}}}return fr(j)}catch{return m}}var ds={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Eo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},To;function ms(){}S(ms,tu),ms.prototype.g=function(){return new XMLHttpRequest},To=new ms;function ki(u){return encodeURIComponent(String(u))}function su(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function Hn(u,m,_,b){this.j=u,this.i=m,this.l=_,this.S=b||1,this.V=new cs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var Ae={},Ue={};function ui(u,m,_){u.M=1,u.A=ps(we(m)),u.u=_,u.R=!0,ea(u,null)}function ea(u,m){u.F=Date.now(),ci(u),u.B=we(u.A);var _=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),sa(_.i,"t",b),u.C=0,_=u.j.L,u.h=new Gn,u.g=Eu(u.j,_?m:null,!u.u),u.P>0&&(u.O=new sn(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,b=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(_o[0]=L.toString()),L=_o);for(let j=0;j<L.length;j++){const tt=Jt(_,L[j],b||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?N(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),si(),Nh(u.i,u.v,u.B,u.l,u.S,u.u)}Hn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Kn(u)==3?m.j():this.Y(u)},Hn.prototype.Y=function(u){try{if(u==this.g)t:{const wt=Kn(this.g),ye=this.g.ya(),Ht=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||Ge(this.g)))){this.K||wt!=4||ye==7||(ye==8||Ht<=0?si(3):si(2)),hi(this);var m=this.g.ca();this.X=m;var _=Dh(this);if(this.o=m==200,ru(this.i,this.v,this.B,this.l,this.S,wt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(b)){var j=b;break e}}j=null}if(u=j)li(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fi(this,u);else{this.o=!1,this.m=3,be(12),yn(this),Cn(this);break t}}if(this.R){u=!0;let ce;for(;!this.K&&this.C<_.length;)if(ce=ou(this,_),ce==Ue){wt==4&&(this.m=4,be(14),u=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(ce==Ae){this.m=4,be(15),li(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else li(this.i,this.l,ce,null),fi(this,ce);if(au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||_.length!=0||this.h.h||(this.m=1,be(16),u=!1),this.o=this.o&&u,!u)li(this.i,this.l,_,"[Invalid Chunked Response]"),yn(this),Cn(this);else if(_.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Lo(tt),tt.P=!0,be(11))}}else li(this.i,this.l,_,null),fi(this,_);wt==4&&yn(this),this.o&&!this.K&&(wt==4?gu(this.j,this):(this.o=!1,ci(this)))}else Ui(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),yn(this),Cn(this)}}}catch{}};function Dh(u){if(!au(u))return u.g.la();const m=Ge(u.g);if(m==="")return"";let _="";const b=m.length,L=Kn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return yn(u),Cn(u),"";u.h.i=new d.TextDecoder}for(let j=0;j<b;j++)u.h.h=!0,_+=u.h.i.decode(m[j],{stream:!(L&&j==b-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function au(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ou(u,m){var _=u.C,b=m.indexOf(`
`,_);return b==-1?Ue:(_=Number(m.substring(_,b)),isNaN(_)?Ae:(b+=1,b+_>m.length?Ue:(m=m.slice(b,b+_),u.C=b+_,m)))}Hn.prototype.cancel=function(){this.K=!0,yn(this)};function ci(u){u.T=Date.now()+u.H,na(u,u.H)}function na(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=oi(y(u.aa,u),m)}function hi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Hn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(fs(this.i,this.B),this.M!=2&&(si(),be(17)),yn(this),this.m=2,Cn(this)):na(this,this.T-u)};function Cn(u){u.j.I==0||u.K||gu(u.j,u)}function yn(u){hi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,vo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function fi(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||mi(_.h,u))){if(!u.L&&mi(_.h,u)&&_.I==3){try{var b=_.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)ca(_),Er(_);else break t;bs(_),be(18)}}else _.xa=L[1],0<_.xa-_.K&&L[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=oi(y(_.Va,_),6e3));di(_.h)<=1&&_.ta&&(_.ta=void 0)}else Ei(_,11)}else if((u.L||_.g==u)&&ca(_),!w(m))for(L=_.Ba.g.parse(m),m=0;m<L.length;m++){let Ht=L[m];const ce=Ht[0];if(!(ce<=_.K))if(_.K=ce,Ht=Ht[1],_.I==2)if(Ht[0]=="c"){_.M=Ht[1],_.ba=Ht[2];const Dn=Ht[3];Dn!=null&&(_.ka=Dn,_.j.info("VER="+_.ka));const Ti=Ht[4];Ti!=null&&(_.za=Ti,_.j.info("SVER="+_.za));const Yn=Ht[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(b=1.5*Yn,_.O=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Xn=u.g;if(Xn){const As=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(As){var j=b.h;j.g||As.indexOf("spdy")==-1&&As.indexOf("quic")==-1&&As.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(So(j,j.h),j.h=null))}if(b.G){const ha=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;ha&&(b.wa=ha,Yt(b.J,b.G,ha))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),b=_;var tt=u;if(b.na=vu(b,b.L?b.ba:null,b.W),tt.L){wo(b.h,tt);var wt=tt,ye=b.O;ye&&(wt.H=ye),wt.D&&(hi(wt),ci(wt)),b.g=tt}else mu(b);_.i.length>0&&vi(_)}else Ht[0]!="stop"&&Ht[0]!="close"||Ei(_,7);else _.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?Ei(_,7):Mo(_):Ht[0]!="noop"&&_.l&&_.l.qa(Ht),_.A=0)}}si(4)}catch{}}var Se=class{constructor(u,m){this.g=u,this.map=m}};function bo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ao(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function di(u){return u.h?1:u.g?u.g.size:0}function mi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function So(u,m){u.g?u.g.add(m):u.h=m}function wo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}bo.prototype.cancel=function(){if(this.i=Ro(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ro(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return K(u.i)}var lu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ia(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const b=u[_].indexOf("=");let L,j=null;b>=0?(L=u[_].substring(0,b),j=u[_].substring(b+1)):L=u[_],m(L,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function _n(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof _n?(this.l=u.l,Pe(this,u.j),this.o=u.o,this.g=u.g,dr(this,u.u),this.h=u.h,Io(this,fu(u.i)),this.m=u.m):u&&(m=String(u).match(lu))?(this.l=!1,Pe(this,m[1]||"",!0),this.o=pi(m[2]||""),this.g=pi(m[3]||"",!0),dr(this,m[4]),this.h=pi(m[5]||"",!0),Io(this,m[6]||"",!0),this.m=pi(m[7]||"")):(this.l=!1,this.i=new pr(null,this.l))}_n.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(gs(m,ra,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(gs(m,ra,!0),"@"),u.push(ki(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(gs(_,_.charAt(0)=="/"?Co:uu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",gs(_,cu)),u.join("")},_n.prototype.resolve=function(u){const m=we(this);let _=!!u.j;_?Pe(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var b=u.h;if(_)dr(m,u.u);else if(_=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const j=[];for(let tt=0;tt<L.length;){const wt=L[tt++];wt=="."?b&&tt==L.length&&j.push(""):wt==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),b&&tt==L.length&&j.push("")):(j.push(wt),b=!0)}b=j.join("/")}else b=L}return _?m.h=b:_=u.i.toString()!=="",_?Io(m,fu(u.i)):_=!!u.m,_&&(m.m=u.m),m};function we(u){return new _n(u)}function Pe(u,m,_){u.j=_?pi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function dr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Io(u,m,_){m instanceof pr?(u.i=m,aa(u.i,u.l)):(_||(m=gs(m,mr)),u.i=new pr(m,u.l))}function Yt(u,m,_){u.i.set(m,_)}function ps(u){return Yt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function pi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function gs(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,ln),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ln(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ra=/[#\/\?@]/g,uu=/[#\?:]/g,Co=/[#\?]/g,mr=/[#\?@]/g,cu=/#/g;function pr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function un(u){u.g||(u.g=new Map,u.h=0,u.i&&ia(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}s=pr.prototype,s.add=function(u,m){un(this),this.i=null,u=gr(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function hu(u,m){un(u),m=gr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function No(u,m){return un(u),m=gr(u,m),u.g.has(m)}s.forEach=function(u,m){un(this),this.g.forEach(function(_,b){_.forEach(function(L){u.call(m,L,b,this)},this)},this)};function xo(u,m){un(u);let _=[];if(typeof m=="string")No(u,m)&&(_=_.concat(u.g.get(gr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}s.set=function(u,m){return un(this),this.i=null,u=gr(this,u),No(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=xo(this,u),u.length>0?String(u[0]):m):m};function sa(u,m,_){hu(u,m),_.length>0&&(u.i=null,u.g.set(gr(u,m),K(_)),u.h+=_.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var _=m[b];const L=ki(_);_=xo(this,_);for(let j=0;j<_.length;j++){let tt=L;_[j]!==""&&(tt+="="+ki(_[j])),u.push(tt)}}return this.i=u.join("&")};function fu(u){const m=new pr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function gr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function aa(u,m){m&&!u.j&&(un(u),u.i=null,u.g.forEach(function(_,b){const L=b.toLowerCase();b!=L&&(hu(this,b),sa(this,L,_))},u)),u.j=m}function Fn(u,m){const _=new qn;if(d.Image){const b=new Image;b.onload=T(Nn,_,"TestLoadImage: loaded",!0,m,b),b.onerror=T(Nn,_,"TestLoadImage: error",!1,m,b),b.onabort=T(Nn,_,"TestLoadImage: abort",!1,m,b),b.ontimeout=T(Nn,_,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Do(u,m){const _=new qn,b=new AbortController,L=setTimeout(()=>{b.abort(),Nn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(j=>{clearTimeout(L),j.ok?Nn(_,"TestPingServer: ok",!0,m):Nn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Nn(_,"TestPingServer: error",!1,m)})}function Nn(u,m,_,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(_)}catch{}}function yr(){this.g=new Wl}function gi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(gi,tu),gi.prototype.g=function(){return new ys(this.i,this.h)};function ys(u,m){Te.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(ys,Te),s=ys.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Qn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_r(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;oa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function oa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?_r(this):Qn(this),this.readyState==3&&oa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,_r(this))},s.Na=function(u){this.g&&(this.response=u,_r(this))},s.ga=function(){this.g&&_r(this)};function _r(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Qn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ys.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function xn(u){let m="";return xt(u,function(_,b){m+=b,m+=":",m+=_,m+=`\r
`}),m}function _s(u,m,_){t:{for(b in _){var b=!1;break t}b=!0}b||(_=xn(_),typeof u=="string"?_!=null&&ki(_):Yt(u,m,_))}function Zt(u){Te.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Zt,Te);var yi=/^https?$/i,Oo=["POST","PUT"];s=Zt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():To.g(),this.g.onreadystatechange=O(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){vs(this,j);return}if(u=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)_.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const j of b.keys())_.set(j,b.get(j));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(j=>j.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Oo,m,void 0)>=0)||b||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,tt]of _)this.g.setRequestHeader(j,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(j){vs(this,j)}};function vs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Vo(u),Li(u)}function Vo(u){u.A||(u.A=!0,Me(u,"complete"),Me(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Me(this,"complete"),Me(this,"abort"),Li(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),Zt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Es(this):this.Xa())},s.Xa=function(){Es(this)};function Es(u){if(u.h&&typeof c<"u"){if(u.v&&Kn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Me(u,"readystatechange"),Kn(u)==4){u.h=!1;try{const j=u.ca();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var b;if(b=j===0){let tt=String(u.D).match(lu)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),b=!yi.test(tt?tt.toLowerCase():"")}_=b}if(_)Me(u,"complete"),Me(u,"success");else{u.o=6;try{var L=Kn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Vo(u)}}finally{Li(u)}}}}function Li(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||Me(u,"ready");try{_.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Kn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ch(m)}};function Ge(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ui(u){const m={};u=(u.g&&Kn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(w(u[b]))continue;var _=su(u[b]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const j=m[L]||[];m[L]=j,j.push(_)}qt(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _i(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function vr(u){this.za=0,this.i=[],this.j=new qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_i("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_i("baseRetryDelayMs",5e3,u),this.Za=_i("retryDelaySeedMs",1e4,u),this.Ta=_i("forwardChannelMaxRetries",2,u),this.va=_i("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new bo(u&&u.concurrentRequestLimit),this.Ba=new yr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=vr.prototype,s.ka=8,s.I=1,s.connect=function(u,m,_,b){be(0),this.W=u,this.H=m||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.J=vu(this,null,this.W),vi(this)};function Mo(u){if(la(u),u.I==3){var m=u.V++,_=we(u.J);if(Yt(_,"SID",u.M),Yt(_,"RID",m),Yt(_,"TYPE","terminate"),Ts(u,_),m=new Hn(u,u.j,m),m.M=2,m.A=ps(we(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=Eu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ci(m)}_u(u)}function Er(u){u.g&&(Lo(u),u.g.cancel(),u.g=null)}function la(u){Er(u),u.v&&(d.clearTimeout(u.v),u.v=null),ca(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function vi(u){if(!Ao(u.h)&&!u.m){u.m=!0;var m=u.Ea;le||A(),dt||(le(),dt=!0),C.add(m,u),u.D=0}}function ua(u,m){return di(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=oi(y(u.Ea,u,m),yu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Hn(this,this.j,u);let j=this.o;if(this.U&&(j?(j=N(j),nt(j,this.U)):j=this.U),this.u!==null||this.R||(L.J=j,j=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=du(this,L,m),_=we(this.J),Yt(_,"RID",u),Yt(_,"CVER",22),this.G&&Yt(_,"X-HTTP-Session-Id",this.G),Ts(this,_),j&&(this.R?m="headers="+ki(xn(j))+"&"+m:this.u&&_s(_,this.u,j)),So(this.h,L),this.Ra&&Yt(_,"TYPE","init"),this.S?(Yt(_,"$req",m),Yt(_,"SID","null"),L.U=!0,ui(L,_,null)):ui(L,_,m),this.I=2}}else this.I==3&&(u?ko(this,u):this.i.length==0||Ao(this.h)||ko(this))};function ko(u,m){var _;m?_=m.l:_=u.V++;const b=we(u.J);Yt(b,"SID",u.M),Yt(b,"RID",_),Yt(b,"AID",u.K),Ts(u,b),u.u&&u.o&&_s(b,u.u,u.o),_=new Hn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=du(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),So(u.h,_),ui(_,b,m)}function Ts(u,m){u.H&&xt(u.H,function(_,b){Yt(m,b,_)}),u.l&&xt({},function(_,b){Yt(m,b,_)})}function du(u,m,_){_=Math.min(u.i.length,_);const b=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let wt=-1;for(;;){const ye=["count="+_];wt==-1?_>0?(wt=L[0].g,ye.push("ofs="+wt)):wt=0:ye.push("ofs="+wt);let Ht=!0;for(let ce=0;ce<_;ce++){var j=L[ce].g;const Dn=L[ce].map;if(j-=wt,j<0)wt=Math.max(0,L[ce].g-100),Ht=!1;else try{j="req"+j+"_"||"";try{var tt=Dn instanceof Map?Dn:Object.entries(Dn);for(const[Ti,Yn]of tt){let Xn=Yn;g(Yn)&&(Xn=fr(Yn)),ye.push(j+Ti+"="+encodeURIComponent(Xn))}}catch(Ti){throw ye.push(j+"type="+encodeURIComponent("_badmap")),Ti}}catch{b&&b(Dn)}}if(Ht){tt=ye.join("&");break t}}tt=void 0}return u=u.i.splice(0,_),m.G=u,tt}function mu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;le||A(),dt||(le(),dt=!0),C.add(m,u),u.A=0}}function bs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=oi(y(u.Da,u),yu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=oi(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),Er(this),pu(this))};function Lo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function pu(u){u.g=new Hn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=we(u.na);Yt(m,"RID","rpc"),Yt(m,"SID",u.M),Yt(m,"AID",u.K),Yt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Yt(m,"TO",u.ia),Yt(m,"TYPE","xmlhttp"),Ts(u,m),u.u&&u.o&&_s(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=ps(we(m)),_.u=null,_.R=!0,ea(_,u)}s.Va=function(){this.C!=null&&(this.C=null,Er(this),bs(this),be(19))};function ca(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function gu(u,m){var _=null;if(u.g==m){ca(u),Lo(u),u.g=null;var b=2}else if(mi(u.h,m))_=m.G,wo(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;b=ta(),Me(b,new ai(b,_)),vi(u)}else mu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&ua(u,m)||b==2&&bs(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),L){case 1:Ei(u,5);break;case 4:Ei(u,10);break;case 3:Ei(u,6);break;default:Ei(u,2)}}}function yu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function Ei(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),b=u.Ua;const L=!b;b=new _n(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Pe(b,"https"),ps(b),L?Fn(b.toString(),_):Do(b.toString(),_)}else be(2);u.I=0,u.l&&u.l.pa(m),_u(u),la(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))};function _u(u){if(u.I=0,u.ja=[],u.l){const m=Ro(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.oa()}}function vu(u,m,_){var b=_ instanceof _n?we(_):new _n(_);if(b.g!="")m&&(b.g=m+"."+b.g),dr(b,b.u);else{var L=d.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const j=new _n(null);b&&Pe(j,b),m&&(j.g=m),L&&dr(j,L),_&&(j.h=_),b=j}return _=u.G,m=u.wa,_&&m&&Yt(b,_,m),Yt(b,"VER",u.ka),Ts(u,b),b}function Eu(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Zt(new gi({ab:_})):new Zt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}s=Tu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Tr(){}Tr.prototype.g=function(u,m){return new an(u,m)};function an(u,m){Te.call(this),this.g=new vr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Pi(this)}S(an,Te),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Mo(this.g)},an.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=fr(u),u=_);m.i.push(new Se(m.Ya++,u)),m.I==3&&vi(m)},an.prototype.N=function(){this.g.l=null,delete this.j,Mo(this.g),delete this.g,an.Z.N.call(this)};function bu(u){He.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(bu,He);function Au(){In.call(this),this.status=1}S(Au,In);function Pi(u){this.g=u}S(Pi,Tu),Pi.prototype.ra=function(){Me(this.g,"a")},Pi.prototype.qa=function(u){Me(this.g,new bu(u))},Pi.prototype.pa=function(u){Me(this.g,new Au)},Pi.prototype.oa=function(){Me(this.g,"b")},Tr.prototype.createWebChannel=Tr.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,F0=function(){return new Tr},G0=function(){return ta()},H0=ge,Jd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ds.NO_ERROR=0,ds.TIMEOUT=8,ds.HTTP_ERROR=6,Mc=ds,Eo.COMPLETE="complete",q0=Eo,eu.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",Te.prototype.listen=Te.prototype.J,bl=eu,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,B0=Zt}).apply(typeof Ic<"u"?Ic:typeof self<"u"?self:typeof window<"u"?window:{});class en{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");let ho="12.8.0";function ES(s){ho=s}const Qs=new _m("@firebase/firestore");function Ba(){return Qs.logLevel}function at(s,...t){if(Qs.logLevel<=Mt.DEBUG){const i=t.map(Tm);Qs.debug(`Firestore (${ho}): ${s}`,...i)}}function sr(s,...t){if(Qs.logLevel<=Mt.ERROR){const i=t.map(Tm);Qs.error(`Firestore (${ho}): ${s}`,...i)}}function Za(s,...t){if(Qs.logLevel<=Mt.WARN){const i=t.map(Tm);Qs.warn(`Firestore (${ho}): ${s}`,...i)}}function Tm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function gt(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,Q0(s,a,i)}function Q0(s,t,i){let a=`FIRESTORE (${ho}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw sr(a),new Error(a)}function Ft(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||Q0(t,l,a)}function At(s,t){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends lr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class qs{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class K0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class TS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(en.UNAUTHENTICATED)))}shutdown(){}}class bS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class AS{constructor(t){this.t=t,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ft(this.o===void 0,42304);let a=this.i;const l=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new qs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new qs,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=c;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},g=v=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new qs)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ft(typeof a.accessToken=="string",31837,{l:a}),new K0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new en(t)}}class SS{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=en.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class wS{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new SS(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class iv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RS{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ft(this.o===void 0,3512);const a=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new iv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new iv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function IS(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class bm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=IS(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function kt(s,t){return s<t?-1:s>t?1:0}function Zd(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=t.charAt(a);if(l!==c)return Ud(l)===Ud(c)?kt(l,c):Ud(l)?1:-1}return kt(s.length,t.length)}const CS=55296,NS=57343;function Ud(s){const t=s.charCodeAt(0);return t>=CS&&t<=NS}function Wa(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const rv="__name__";class Ri{constructor(t,i,a){i===void 0?i=0:i>t.length&&gt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&gt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ri.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ri?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ri.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return kt(t.length,i.length)}static compareSegments(t,i){const a=Ri.isNumericId(t),l=Ri.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ri.extractNumericId(t).compare(Ri.extractNumericId(i)):Zd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Wr.fromString(t.substring(4,t.length-2))}}class re extends Ri{construct(t,i,a){return new re(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new rt($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new re(i)}static emptyPath(){return new re([])}}const xS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $e extends Ri{construct(t,i,a){return new $e(t,i,a)}static isValidIdentifier(t){return xS.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$e.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rv}static keyField(){return new $e([rv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new rt($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new rt($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new rt($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new rt($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $e(i)}static emptyPath(){return new $e([])}}class ft{constructor(t){this.path=t}static fromPath(t){return new ft(re.fromString(t))}static fromName(t){return new ft(re.fromString(t).popFirst(5))}static empty(){return new ft(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return re.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new re(t.slice()))}}function Y0(s,t,i){if(!i)throw new rt($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function DS(s,t,i,a){if(t===!0&&a===!0)throw new rt($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function sv(s){if(!ft.isDocumentKey(s))throw new rt($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function av(s){if(ft.isDocumentKey(s))throw new rt($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function X0(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function lh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":gt(12329,{type:typeof s})}function ts(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new rt($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=lh(s);throw new rt($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Oe(s,t){const i={typeString:s};return t&&(i.value=t),i}function Gl(s,t){if(!X0(s))throw new rt($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new rt($.INVALID_ARGUMENT,i);return!0}const ov=-62135596800,lv=1e6;class oe{static now(){return oe.fromMillis(Date.now())}static fromDate(t){return oe.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*lv);return new oe(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new rt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<ov)throw new rt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/lv}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:oe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Gl(t,oe._jsonSchema))return new oe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-ov;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}oe._jsonSchemaVersion="firestore/timestamp/1.0",oe._jsonSchema={type:Oe("string",oe._jsonSchemaVersion),seconds:Oe("number"),nanoseconds:Oe("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new oe(0,0))}static max(){return new Tt(new oe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ml=-1;function OS(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=Tt.fromTimestamp(a===1e9?new oe(i+1,0):new oe(i,a));return new ns(l,ft.empty(),t)}function VS(s){return new ns(s.readTime,s.key,Ml)}class ns{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new ns(Tt.min(),ft.empty(),Ml)}static max(){return new ns(Tt.max(),ft.empty(),Ml)}}function MS(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=ft.comparator(s.documentKey,t.documentKey),i!==0?i:kt(s.largestBatchId,t.largestBatchId))}const kS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function fo(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==kS)throw s;at("LocalStore","Unexpectedly lost primary lease")}class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new J(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):J.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):J.reject(i)}static resolve(t){return new J(((i,a)=>{i(t)}))}static reject(t){return new J(((i,a)=>{a(t)}))}static waitFor(t){return new J(((i,a)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(v=>a(v)))})),d=!0,c===l&&i()}))}static or(t){let i=J.resolve(!1);for(const a of t)i=i.next((l=>l?J.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new J(((a,l)=>{const c=t.length,d=new Array(c);let g=0;for(let v=0;v<c;v++){const y=v;i(t[y]).next((T=>{d[y]=T,++g,g===c&&a(d)}),(T=>l(T)))}}))}static doWhile(t,i){return new J(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function US(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function mo(s){return s.name==="IndexedDbTransactionError"}class uh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}uh.ce=-1;const Am=-1;function ch(s){return s==null}function Qc(s){return s===0&&1/s==-1/0}function PS(s){return typeof s=="number"&&Number.isInteger(s)&&!Qc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const $0="";function zS(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=uv(t)),t=jS(s.get(i),t);return uv(t)}function jS(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case $0:i+="";break;default:i+=c}}return i}function uv(s){return s+$0+""}function cv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function ls(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function J0(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class fe{constructor(t,i){this.comparator=t,this.root=i||Xe.EMPTY}insert(t,i){return new fe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Xe.BLACK,null,null))}remove(t){return new fe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Cc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Cc(this.root,t,this.comparator,!0)}}class Cc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Xe{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Xe.RED,this.left=l??Xe.EMPTY,this.right=c??Xe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Xe(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Xe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Xe.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}Xe.EMPTY=null,Xe.RED=!0,Xe.BLACK=!1;Xe.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Xe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Le{constructor(t){this.comparator=t,this.data=new fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new hv(this.data.getIterator())}getIteratorFrom(t){return new hv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Le)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Le(this.comparator);return i.data=t,i}}class hv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Rn{constructor(t){this.fields=t,t.sort($e.comparator)}static empty(){return new Rn([])}unionWith(t){let i=new Le($e.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Rn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Wa(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class Z0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Je{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Z0("Invalid base64 string: "+c):c}})(t);return new Je(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Je(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Je.EMPTY_BYTE_STRING=new Je("");const BS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function is(s){if(Ft(!!s,39018),typeof s=="string"){let t=0;const i=BS.exec(s);if(Ft(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ee(s.seconds),nanos:Ee(s.nanos)}}function Ee(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function rs(s){return typeof s=="string"?Je.fromBase64String(s):Je.fromUint8Array(s)}const W0="server_timestamp",tE="__type__",eE="__previous_value__",nE="__local_write_time__";function Sm(s){return(s?.mapValue?.fields||{})[tE]?.stringValue===W0}function hh(s){const t=s.mapValue.fields[eE];return Sm(t)?hh(t):t}function kl(s){const t=is(s.mapValue.fields[nE].timestampValue);return new oe(t.seconds,t.nanos)}class qS{constructor(t,i,a,l,c,d,g,v,y,T,S){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=T,this.apiKey=S}}const Kc="(default)";class Ll{constructor(t,i){this.projectId=t,this.database=i||Kc}static empty(){return new Ll("","")}get isDefaultDatabase(){return this.database===Kc}isEqual(t){return t instanceof Ll&&t.projectId===this.projectId&&t.database===this.database}}function HS(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new rt($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ll(s.options.projectId,t)}const iE="__type__",GS="__max__",Nc={mapValue:{}},rE="__vector__",Yc="value";function ss(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Sm(s)?4:QS(s)?9007199254740991:FS(s)?10:11:gt(28295,{value:s})}function Di(s,t){if(s===t)return!0;const i=ss(s);if(i!==ss(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return kl(s).isEqual(kl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=is(l.timestampValue),g=is(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return rs(l.bytesValue).isEqual(rs(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return Ee(l.geoPointValue.latitude)===Ee(c.geoPointValue.latitude)&&Ee(l.geoPointValue.longitude)===Ee(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ee(l.integerValue)===Ee(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ee(l.doubleValue),g=Ee(c.doubleValue);return d===g?Qc(d)===Qc(g):isNaN(d)&&isNaN(g)}return!1})(s,t);case 9:return Wa(s.arrayValue.values||[],t.arrayValue.values||[],Di);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(cv(d)!==cv(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!Di(d[v],g[v])))return!1;return!0})(s,t);default:return gt(52216,{left:s})}}function Ul(s,t){return(s.values||[]).find((i=>Di(i,t)))!==void 0}function to(s,t){if(s===t)return 0;const i=ss(s),a=ss(t);if(i!==a)return kt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return kt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=Ee(c.integerValue||c.doubleValue),v=Ee(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(s,t);case 3:return fv(s.timestampValue,t.timestampValue);case 4:return fv(kl(s),kl(t));case 5:return Zd(s.stringValue,t.stringValue);case 6:return(function(c,d){const g=rs(c),v=rs(d);return g.compareTo(v)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),v=d.split("/");for(let y=0;y<g.length&&y<v.length;y++){const T=kt(g[y],v[y]);if(T!==0)return T}return kt(g.length,v.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=kt(Ee(c.latitude),Ee(d.latitude));return g!==0?g:kt(Ee(c.longitude),Ee(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return dv(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},v=d.fields||{},y=g[Yc]?.arrayValue,T=v[Yc]?.arrayValue,S=kt(y?.values?.length||0,T?.values?.length||0);return S!==0?S:dv(y,T)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Nc.mapValue&&d===Nc.mapValue)return 0;if(c===Nc.mapValue)return 1;if(d===Nc.mapValue)return-1;const g=c.fields||{},v=Object.keys(g),y=d.fields||{},T=Object.keys(y);v.sort(),T.sort();for(let S=0;S<v.length&&S<T.length;++S){const O=Zd(v[S],T[S]);if(O!==0)return O;const K=to(g[v[S]],y[T[S]]);if(K!==0)return K}return kt(v.length,T.length)})(s.mapValue,t.mapValue);default:throw gt(23264,{he:i})}}function fv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return kt(s,t);const i=is(s),a=is(t),l=kt(i.seconds,a.seconds);return l!==0?l:kt(i.nanos,a.nanos)}function dv(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=to(i[l],a[l]);if(c)return c}return kt(i.length,a.length)}function eo(s){return Wd(s)}function Wd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=is(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return rs(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ft.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=Wd(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${Wd(i.fields[d])}`;return l+"}"})(s.mapValue):gt(61005,{value:s})}function kc(s){switch(ss(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=hh(s);return t?16+kc(t):16;case 5:return 2*s.stringValue.length;case 6:return rs(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+kc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return ls(a.fields,((c,d)=>{l+=c.length+kc(d)})),l})(s.mapValue);default:throw gt(13486,{value:s})}}function mv(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function tm(s){return!!s&&"integerValue"in s}function wm(s){return!!s&&"arrayValue"in s}function pv(s){return!!s&&"nullValue"in s}function gv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Lc(s){return!!s&&"mapValue"in s}function FS(s){return(s?.mapValue?.fields||{})[iE]?.stringValue===rE}function Cl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return ls(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Cl(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Cl(s.arrayValue.values[i]);return t}return{...s}}function QS(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===GS}class gn{constructor(t){this.value=t}static empty(){return new gn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Lc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Cl(i)}setAll(t){let i=$e.emptyPath(),a={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=Cl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Lc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Di(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Lc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){ls(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new gn(Cl(this.value))}}function sE(s){const t=[];return ls(s.fields,((i,a)=>{const l=new $e([i]);if(Lc(a)){const c=sE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Rn(t)}class nn{constructor(t,i,a,l,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new nn(t,0,Tt.min(),Tt.min(),Tt.min(),gn.empty(),0)}static newFoundDocument(t,i,a,l){return new nn(t,1,i,Tt.min(),a,l,0)}static newNoDocument(t,i){return new nn(t,2,i,Tt.min(),Tt.min(),gn.empty(),0)}static newUnknownDocument(t,i){return new nn(t,3,i,Tt.min(),Tt.min(),gn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof nn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xc{constructor(t,i){this.position=t,this.inclusive=i}}function yv(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=ft.comparator(ft.fromName(d.referenceValue),i.key):a=to(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function _v(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Di(s.position[i],t.position[i]))return!1;return!0}class Pl{constructor(t,i="asc"){this.field=t,this.dir=i}}function KS(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class aE{}class De extends aE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new XS(t,i,a):i==="array-contains"?new ZS(t,a):i==="in"?new WS(t,a):i==="not-in"?new tw(t,a):i==="array-contains-any"?new ew(t,a):new De(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new $S(t,a):new JS(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(to(i,this.value)):i!==null&&ss(this.value)===ss(i)&&this.matchesComparison(to(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends aE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ri(t,i)}matches(t){return oE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function oE(s){return s.op==="and"}function lE(s){return YS(s)&&oE(s)}function YS(s){for(const t of s.filters)if(t instanceof ri)return!1;return!0}function em(s){if(s instanceof De)return s.field.canonicalString()+s.op.toString()+eo(s.value);if(lE(s))return s.filters.map((t=>em(t))).join(",");{const t=s.filters.map((i=>em(i))).join(",");return`${s.op}(${t})`}}function uE(s,t){return s instanceof De?(function(a,l){return l instanceof De&&a.op===l.op&&a.field.isEqual(l.field)&&Di(a.value,l.value)})(s,t):s instanceof ri?(function(a,l){return l instanceof ri&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,g)=>c&&uE(d,l.filters[g])),!0):!1})(s,t):void gt(19439)}function cE(s){return s instanceof De?(function(i){return`${i.field.canonicalString()} ${i.op} ${eo(i.value)}`})(s):s instanceof ri?(function(i){return i.op.toString()+" {"+i.getFilters().map(cE).join(" ,")+"}"})(s):"Filter"}class XS extends De{constructor(t,i,a){super(t,i,a),this.key=ft.fromName(a.referenceValue)}matches(t){const i=ft.comparator(t.key,this.key);return this.matchesComparison(i)}}class $S extends De{constructor(t,i){super(t,"in",i),this.keys=hE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class JS extends De{constructor(t,i){super(t,"not-in",i),this.keys=hE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function hE(s,t){return(t.arrayValue?.values||[]).map((i=>ft.fromName(i.referenceValue)))}class ZS extends De{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return wm(i)&&Ul(i.arrayValue,this.value)}}class WS extends De{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ul(this.value.arrayValue,i)}}class tw extends De{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ul(this.value.arrayValue,i)}}class ew extends De{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!wm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ul(this.value.arrayValue,a)))}}class nw{constructor(t,i=null,a=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function vv(s,t=null,i=[],a=[],l=null,c=null,d=null){return new nw(s,t,i,a,l,c,d)}function Rm(s){const t=At(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>em(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),ch(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>eo(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>eo(a))).join(",")),t.Te=i}return t.Te}function Im(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!KS(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!uE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!_v(s.startAt,t.startAt)&&_v(s.endAt,t.endAt)}function nm(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class po{constructor(t,i=null,a=[],l=[],c=null,d="F",g=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function iw(s,t,i,a,l,c,d,g){return new po(s,t,i,a,l,c,d,g)}function Cm(s){return new po(s)}function Ev(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function rw(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function fE(s){return s.collectionGroup!==null}function Nl(s){const t=At(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Le($e.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Pl(c,a))})),i.has($e.keyField().canonicalString())||t.Ie.push(new Pl($e.keyField(),a))}return t.Ie}function Ii(s){const t=At(s);return t.Ee||(t.Ee=sw(t,Nl(s))),t.Ee}function sw(s,t){if(s.limitType==="F")return vv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Pl(l.field,c)}));const i=s.endAt?new Xc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Xc(s.startAt.position,s.startAt.inclusive):null;return vv(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function im(s,t){const i=s.filters.concat([t]);return new po(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function aw(s,t){const i=s.explicitOrderBy.concat([t]);return new po(s.path,s.collectionGroup,i,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function rm(s,t,i){return new po(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function fh(s,t){return Im(Ii(s),Ii(t))&&s.limitType===t.limitType}function dE(s){return`${Rm(Ii(s))}|lt:${s.limitType}`}function qa(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>cE(l))).join(", ")}]`),ch(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>eo(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>eo(l))).join(",")),`Target(${a})`})(Ii(s))}; limitType=${s.limitType})`}function dh(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ft.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of Nl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,g,v){const y=yv(d,g,v);return d.inclusive?y<=0:y<0})(a.startAt,Nl(a),l)||a.endAt&&!(function(d,g,v){const y=yv(d,g,v);return d.inclusive?y>=0:y>0})(a.endAt,Nl(a),l))})(s,t)}function ow(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function mE(s){return(t,i)=>{let a=!1;for(const l of Nl(s)){const c=lw(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function lw(s,t,i){const a=s.field.isKeyField()?ft.comparator(t.key,i.key):(function(c,d,g){const v=d.data.field(c),y=g.data.field(c);return v!==null&&y!==null?to(v,y):gt(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return gt(19790,{direction:s.dir})}}class Xs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){ls(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return J0(this.inner)}size(){return this.innerSize}}const uw=new fe(ft.comparator);function ar(){return uw}const pE=new fe(ft.comparator);function Al(...s){let t=pE;for(const i of s)t=t.insert(i.key,i);return t}function gE(s){let t=pE;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function js(){return xl()}function yE(){return xl()}function xl(){return new Xs((s=>s.toString()),((s,t)=>s.isEqual(t)))}const cw=new fe(ft.comparator),hw=new Le(ft.comparator);function Lt(...s){let t=hw;for(const i of s)t=t.add(i);return t}const fw=new Le(kt);function dw(){return fw}function Nm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qc(t)?"-0":t}}function _E(s){return{integerValue:""+s}}function vE(s,t){return PS(t)?_E(t):Nm(s,t)}class mh{constructor(){this._=void 0}}function mw(s,t,i){return s instanceof zl?(function(l,c){const d={fields:{[tE]:{stringValue:W0},[nE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Sm(c)&&(c=hh(c)),c&&(d.fields[eE]=c),{mapValue:d}})(i,t):s instanceof no?TE(s,t):s instanceof io?bE(s,t):(function(l,c){const d=EE(l,c),g=Tv(d)+Tv(l.Ae);return tm(d)&&tm(l.Ae)?_E(g):Nm(l.serializer,g)})(s,t)}function pw(s,t,i){return s instanceof no?TE(s,t):s instanceof io?bE(s,t):i}function EE(s,t){return s instanceof jl?(function(a){return tm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class zl extends mh{}class no extends mh{constructor(t){super(),this.elements=t}}function TE(s,t){const i=AE(t);for(const a of s.elements)i.some((l=>Di(l,a)))||i.push(a);return{arrayValue:{values:i}}}class io extends mh{constructor(t){super(),this.elements=t}}function bE(s,t){let i=AE(t);for(const a of s.elements)i=i.filter((l=>!Di(l,a)));return{arrayValue:{values:i}}}class jl extends mh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Tv(s){return Ee(s.integerValue||s.doubleValue)}function AE(s){return wm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class ph{constructor(t,i){this.field=t,this.transform=i}}function gw(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof no&&l instanceof no||a instanceof io&&l instanceof io?Wa(a.elements,l.elements,Di):a instanceof jl&&l instanceof jl?Di(a.Ae,l.Ae):a instanceof zl&&l instanceof zl})(s.transform,t.transform)}class yw{constructor(t,i){this.version=t,this.transformResults=i}}class ei{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ei}static exists(t){return new ei(void 0,t)}static updateTime(t){return new ei(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Uc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class gh{}function SE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new xm(s.key,ei.none()):new Fl(s.key,s.data,ei.none());{const i=s.data,a=gn.empty();let l=new Le($e.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new us(s.key,a,new Rn(l.toArray()),ei.none())}}function _w(s,t,i){s instanceof Fl?(function(l,c,d){const g=l.value.clone(),v=Av(l.fieldTransforms,c,d.transformResults);g.setAll(v),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,i):s instanceof us?(function(l,c,d){if(!Uc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Av(l.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(wE(l)),v.setAll(g),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Dl(s,t,i,a){return s instanceof Fl?(function(c,d,g,v){if(!Uc(c.precondition,d))return g;const y=c.value.clone(),T=Sv(c.fieldTransforms,v,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,i,a):s instanceof us?(function(c,d,g,v){if(!Uc(c.precondition,d))return g;const y=Sv(c.fieldTransforms,v,d),T=d.data;return T.setAll(wE(c)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,t,i,a):(function(c,d,g){return Uc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,t,i)}function vw(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=EE(a.transform,l||null);c!=null&&(i===null&&(i=gn.empty()),i.set(a.field,c))}return i||null}function bv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Wa(a,l,((c,d)=>gw(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Fl extends gh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class us extends gh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function wE(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function Av(s,t,i){const a=new Map;Ft(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,g=t.data.field(c.field);a.set(c.field,pw(d,g,i[l]))}return a}function Sv(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,mw(c,d,t))}return a}class xm extends gh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ew extends gh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Tw{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&_w(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Dl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Dl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=yE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const v=SE(d,g);v!==null&&a.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(Tt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Lt())}isEqual(t){return this.batchId===t.batchId&&Wa(this.mutations,t.mutations,((i,a)=>bv(i,a)))&&Wa(this.baseMutations,t.baseMutations,((i,a)=>bv(i,a)))}}class Dm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Ft(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return cw})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Dm(t,i,a,l)}}class bw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Aw{constructor(t,i){this.count=t,this.unchangedNames=i}}var xe,Pt;function Sw(s){switch(s){case $.OK:return gt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return gt(15467,{code:s})}}function RE(s){if(s===void 0)return sr("GRPC error has no .code"),$.UNKNOWN;switch(s){case xe.OK:return $.OK;case xe.CANCELLED:return $.CANCELLED;case xe.UNKNOWN:return $.UNKNOWN;case xe.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case xe.INTERNAL:return $.INTERNAL;case xe.UNAVAILABLE:return $.UNAVAILABLE;case xe.UNAUTHENTICATED:return $.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case xe.NOT_FOUND:return $.NOT_FOUND;case xe.ALREADY_EXISTS:return $.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return $.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case xe.ABORTED:return $.ABORTED;case xe.OUT_OF_RANGE:return $.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return $.UNIMPLEMENTED;case xe.DATA_LOSS:return $.DATA_LOSS;default:return gt(39323,{code:s})}}(Pt=xe||(xe={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function ww(){return new TextEncoder}const Rw=new Wr([4294967295,4294967295],0);function wv(s){const t=ww().encode(s),i=new j0;return i.update(t),new Uint8Array(i.digest())}function Rv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Wr([i,a],0),new Wr([l,c],0)]}class Om{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Sl(`Invalid padding: ${i}`);if(a<0)throw new Sl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Sl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Sl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Wr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Wr.fromNumber(a)));return l.compare(Rw)===1&&(l=new Wr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=wv(t),[a,l]=Rv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Om(c,l,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=wv(t),[a,l]=Rv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class yh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Ql.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new yh(Tt.min(),l,new fe(kt),ar(),Lt())}}class Ql{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Ql(a,i,Lt(),Lt(),Lt())}}class Pc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=l}}class IE{constructor(t,i){this.targetId=t,this.Ce=i}}class CE{constructor(t,i,a=Je.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Iv{constructor(){this.ve=0,this.Fe=Cv(),this.Me=Je.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),i=Lt(),a=Lt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:gt(38017,{changeType:c})}})),new Ql(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=Cv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Iw{constructor(t){this.Ge=t,this.ze=new Map,this.je=ar(),this.He=xc(),this.Je=xc(),this.Ze=new fe(kt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(nm(c))if(a===0){const d=new ft(c.path);this.et(i,d,nn.newNoDocument(d,Tt.min()))}else Ft(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),v=g?this.ct(g,t,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=rs(a).toUint8Array()}catch(v){if(v instanceof Z0)return Za("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new Om(d,l,c)}catch(v){return Za(v instanceof Sl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&nm(g.target)){const v=new ft(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,nn.newNoDocument(v,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Lt();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new yh(t,i,this.Ze,this.je,a);return this.je=ar(),this.He=xc(),this.Je=xc(),this.Ze=new fe(kt),l}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new Iv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Le(kt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Le(kt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Iv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function xc(){return new fe(ft.comparator)}function Cv(){return new fe(ft.comparator)}const Cw={asc:"ASCENDING",desc:"DESCENDING"},Nw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xw={and:"AND",or:"OR"};class Dw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function sm(s,t){return s.useProto3Json||ch(t)?t:{value:t}}function $c(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function NE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function Ow(s,t){return $c(s,t.toTimestamp())}function Ci(s){return Ft(!!s,49232),Tt.fromTimestamp((function(i){const a=is(i);return new oe(a.seconds,a.nanos)})(s))}function Vm(s,t){return am(s,t).canonicalString()}function am(s,t){const i=(function(l){return new re(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function xE(s){const t=re.fromString(s);return Ft(kE(t),10190,{key:t.toString()}),t}function om(s,t){return Vm(s.databaseId,t.path)}function Pd(s,t){const i=xE(t);if(i.get(1)!==s.databaseId.projectId)throw new rt($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new rt($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ft(OE(i))}function DE(s,t){return Vm(s.databaseId,t)}function Vw(s){const t=xE(s);return t.length===4?re.emptyPath():OE(t)}function lm(s){return new re(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function OE(s){return Ft(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Nv(s,t,i){return{name:om(s,t),fields:i.value.mapValue.fields}}function Mw(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:gt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,T){return y.useProto3Json?(Ft(T===void 0||typeof T=="string",58123),Je.fromBase64String(T||"")):(Ft(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Je.fromUint8Array(T||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const T=y.code===void 0?$.UNKNOWN:RE(y.code);return new rt(T,y.message||"")})(d);i=new CE(a,l,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Pd(s,a.document.name),c=Ci(a.document.updateTime),d=a.document.createTime?Ci(a.document.createTime):Tt.min(),g=new gn({mapValue:{fields:a.document.fields}}),v=nn.newFoundDocument(l,c,d,g),y=a.targetIds||[],T=a.removedTargetIds||[];i=new Pc(y,T,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Pd(s,a.document),c=a.readTime?Ci(a.readTime):Tt.min(),d=nn.newNoDocument(l,c),g=a.removedTargetIds||[];i=new Pc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Pd(s,a.document),c=a.removedTargetIds||[];i=new Pc([],c,l,null)}else{if(!("filter"in t))return gt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new Aw(l,c),g=a.targetId;i=new IE(g,d)}}return i}function kw(s,t){let i;if(t instanceof Fl)i={update:Nv(s,t.key,t.value)};else if(t instanceof xm)i={delete:om(s,t.key)};else if(t instanceof us)i={update:Nv(s,t.key,t.data),updateMask:Gw(t.fieldMask)};else{if(!(t instanceof Ew))return gt(16599,{dt:t.type});i={verify:om(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof zl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof no)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof io)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof jl)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw gt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Ow(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:gt(27497)})(s,t.precondition)),i}function Lw(s,t){return s&&s.length>0?(Ft(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Ci(l.updateTime):Ci(c);return d.isEqual(Tt.min())&&(d=Ci(c)),new yw(d,l.transformResults||[])})(i,t)))):[]}function Uw(s,t){return{documents:[DE(s,t.path)]}}function Pw(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=DE(s,l);const c=(function(y){if(y.length!==0)return ME(ri.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((T=>(function(O){return{field:Ha(O.field),direction:Bw(O.dir)}})(T)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=sm(s,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function zw(s){let t=Vw(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Ft(a===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let c=[];i.where&&(c=(function(S){const O=VE(S);return O instanceof ri&&lE(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((O=>(function(W){return new Pl(Ga(W.field),(function(et){switch(et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(O)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let O;return O=typeof S=="object"?S.value:S,ch(O)?null:O})(i.limit));let v=null;i.startAt&&(v=(function(S){const O=!!S.before,K=S.values||[];return new Xc(K,O)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const O=!S.before,K=S.values||[];return new Xc(K,O)})(i.endAt)),iw(t,l,d,c,g,"F",v,y)}function jw(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function VE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ga(i.unaryFilter.field);return De.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ga(i.unaryFilter.field);return De.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ga(i.unaryFilter.field);return De.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ga(i.unaryFilter.field);return De.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return De.create(Ga(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return ri.create(i.compositeFilter.filters.map((a=>VE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(s):gt(30097,{filter:s})}function Bw(s){return Cw[s]}function qw(s){return Nw[s]}function Hw(s){return xw[s]}function Ha(s){return{fieldPath:s.canonicalString()}}function Ga(s){return $e.fromServerFormat(s.fieldPath)}function ME(s){return s instanceof De?(function(i){if(i.op==="=="){if(gv(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NAN"}};if(pv(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(gv(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NOT_NAN"}};if(pv(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(i.field),op:qw(i.op),value:i.value}}})(s):s instanceof ri?(function(i){const a=i.getFilters().map((l=>ME(l)));return a.length===1?a[0]:{compositeFilter:{op:Hw(i.op),filters:a}}})(s):gt(54877,{filter:s})}function Gw(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function kE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function LE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class Xr{constructor(t,i,a,l,c=Tt.min(),d=Tt.min(),g=Je.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(t){return new Xr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Fw{constructor(t){this.yt=t}}function Qw(s){const t=zw({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?rm(t,t.limit,"L"):t}class Kw{constructor(){this.Sn=new Yw}addToCollectionParentIndex(t,i){return this.Sn.add(i),J.resolve()}getCollectionParents(t,i){return J.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return J.resolve()}deleteFieldIndex(t,i){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,i){return J.resolve()}getDocumentsMatchingTarget(t,i){return J.resolve(null)}getIndexType(t,i){return J.resolve(0)}getFieldIndexes(t,i){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,i){return J.resolve(ns.min())}getMinOffsetFromCollectionGroup(t,i){return J.resolve(ns.min())}updateCollectionGroup(t,i,a){return J.resolve()}updateIndexEntries(t,i){return J.resolve()}}class Yw{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Le(re.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Le(re.comparator)).toArray()}}const xv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UE=41943040;class pn{static withCacheSize(t){return new pn(t,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(UE,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);class ro{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new ro(0)}static ar(){return new ro(-1)}}const Dv="LruGarbageCollector",Xw=1048576;function Ov([s,t],[i,a]){const l=kt(s,i);return l===0?kt(t,a):l}class $w{constructor(t){this.Pr=t,this.buffer=new Le(Ov),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Ov(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Jw{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){at(Dv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){mo(i)?at(Dv,"Ignoring IndexedDB error during garbage collection: ",i):await fo(i)}await this.Ar(3e5)}))}}class Zw{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return J.resolve(uh.ce);const a=new $w(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(xv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,l,c,d,g,v,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(a=S,g=Date.now(),this.removeTargets(t,a,i)))).next((S=>(c=S,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(y=Date.now(),Ba()<=Mt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(v-g)+`ms
	Removed ${S} documents in `+(y-v)+`ms
Total Duration: ${y-T}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function Ww(s,t){return new Zw(s,t)}class tR{constructor(){this.changes=new Xs((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,nn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?J.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class eR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class nR{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Dl(a.mutation,l,Rn.empty(),oe.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Lt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Lt()){const l=js();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=Al();return c.forEach(((g,v)=>{d=d.insert(g,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=js();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Lt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,l){let c=ar();const d=xl(),g=(function(){return xl()})();return i.forEach(((v,y)=>{const T=a.get(y.key);l.has(y.key)&&(T===void 0||T.mutation instanceof us)?c=c.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),Dl(T.mutation,y,T.mutation.getFieldMask(),oe.now())):d.set(y.key,Rn.empty())})),this.recalculateAndSaveOverlays(t,c).next((v=>(v.forEach(((y,T)=>d.set(y,T))),i.forEach(((y,T)=>g.set(y,new eR(T,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=xl();let l=new fe(((d,g)=>d-g)),c=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let T=a.get(v)||Rn.empty();T=g.applyToLocalView(y,T),a.set(v,T);const S=(l.get(g.batchId)||Lt()).add(v);l=l.insert(g.batchId,S)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),y=v.key,T=v.value,S=yE();T.forEach((O=>{if(!c.has(O)){const K=SE(i.get(O),a.get(O));K!==null&&S.set(O,K),c=c.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,S))}return J.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return rw(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):fE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):J.resolve(js());let g=Ml,v=c;return d.next((y=>J.forEach(y,((T,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(T)?J.resolve():this.remoteDocumentCache.getEntry(t,T).next((O=>{v=v.insert(T,O)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,v,y,Lt()))).next((T=>({batchId:g,changes:gE(T)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ft(i)).next((a=>{let l=Al();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=Al();return this.indexManager.getCollectionParents(t,c).next((g=>J.forEach(g,(v=>{const y=(function(S,O){return new po(O,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((T=>{T.forEach(((S,O)=>{d=d.insert(S,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((v,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,nn.newInvalidDocument(T)))}));let g=Al();return d.forEach(((v,y)=>{const T=c.get(v);T!==void 0&&Dl(T.mutation,y,Rn.empty(),oe.now()),dh(i,y)&&(g=g.insert(v,y))})),g}))}}class iR{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return J.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ci(l.createTime)}})(i)),J.resolve()}getNamedQuery(t,i){return J.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:Qw(l.bundledQuery),readTime:Ci(l.readTime)}})(i)),J.resolve()}}class rR{constructor(){this.overlays=new fe(ft.comparator),this.Lr=new Map}getOverlay(t,i){return J.resolve(this.overlays.get(i))}getOverlays(t,i){const a=js();return J.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.bt(t,i,c)})),J.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),J.resolve()}getOverlaysForCollection(t,i,a){const l=js(),c=i.length+1,d=new ft(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>a&&l.set(v.getKey(),v)}return J.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new fe(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let T=c.get(y.largestBatchId);T===null&&(T=js(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const g=js(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,T)=>g.set(y,T))),!(g.size()>=l)););return J.resolve(g)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new bw(i,a));let c=this.Lr.get(i);c===void 0&&(c=Lt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class sR{constructor(){this.sessionToken=Je.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,J.resolve()}}class Mm{constructor(){this.kr=new Le(je.Kr),this.qr=new Le(je.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new je(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new je(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new ft(new re([])),a=new je(i,t),l=new je(i,t+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new ft(new re([])),a=new je(i,t),l=new je(i,t+1);let c=Lt();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new je(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class je{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return ft.comparator(t.key,i.key)||kt(t.Hr,i.Hr)}static Ur(t,i){return kt(t.Hr,i.Hr)||ft.comparator(t.key,i.key)}}class aR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Le(je.Kr)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Tw(c,i,a,l);this.mutationQueue.push(d);for(const g of l)this.Jr=this.Jr.add(new je(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return J.resolve(d)}lookupMutationBatch(t,i){return J.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Am:this.Yn-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new je(i,0),l=new je(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const g=this.Zr(d.Hr);c.push(g)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Le(kt);return i.forEach((l=>{const c=new je(l,0),d=new je(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{a=a.add(g.Hr)}))})),J.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;ft.isDocumentKey(c)||(c=c.child(""));const d=new je(new ft(c),0);let g=new Le(kt);return this.Jr.forEachWhile((v=>{const y=v.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(g=g.add(v.Hr)),!0)}),d),J.resolve(this.Yr(g))}Yr(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ft(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return J.forEach(i.mutations,(l=>{const c=new je(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new je(i,0),l=this.Jr.firstAfterOrEqual(a);return J.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class oR{constructor(t){this.ti=t,this.docs=(function(){return new fe(ft.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return J.resolve(a?a.document.mutableCopy():nn.newInvalidDocument(i))}getEntries(t,i){let a=ar();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():nn.newInvalidDocument(l))})),J.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=ar();const d=i.path,g=new ft(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:y,value:{document:T}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||MS(VS(T),a)<=0||(l.has(T.key)||dh(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(t,i,a,l){gt(9500)}ni(t,i){return J.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new lR(this)}getSize(t){return J.resolve(this.size)}}class lR extends tR{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),J.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class uR{constructor(t){this.persistence=t,this.ri=new Xs((i=>Rm(i)),Im),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.ii=0,this.si=new Mm,this.targetCount=0,this.oi=ro._r()}forEachTarget(t,i){return this.ri.forEach(((a,l)=>i(l))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),J.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new ro(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,J.resolve()}updateTargetData(t,i){return this.lr(i),J.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),J.waitFor(c).next((()=>l))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return J.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),J.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),J.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return J.resolve(a)}containsKey(t,i){return J.resolve(this.si.containsKey(i))}}class PE{constructor(t,i){this._i={},this.overlays={},this.ai=new uh(0),this.ui=!1,this.ui=!0,this.ci=new sR,this.referenceDelegate=t(this),this.li=new uR(this),this.indexManager=new Kw,this.remoteDocumentCache=(function(l){return new oR(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new Fw(i),this.Pi=new iR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new rR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new aR(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){at("MemoryPersistence","Starting transaction:",t);const l=new cR(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return J.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class cR extends LS{constructor(t){super(),this.currentSequenceNumber=t}}class km{constructor(t){this.persistence=t,this.Ri=new Mm,this.Ai=null}static Vi(t){return new km(t)}get di(){if(this.Ai)return this.Ai;throw gt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),J.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),J.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),J.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,(a=>{const l=ft.fromPath(a);return this.mi(t,l).next((c=>{c||i.removeEntry(l,Tt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class Jc{constructor(t,i){this.persistence=t,this.fi=new Xs((a=>zS(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=Ww(this,i)}static Vi(t,i){return new Jc(t,i)}Ti(){}Ii(t){return J.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return J.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((c=>c?J.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((g=>{g||(a++,c.removeEntry(d,Tt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),J.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),J.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),J.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=kc(t.data.value)),i}wr(t,i,a){return J.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return J.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Lm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=l}static Es(t,i){let a=Lt(),l=Lt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Lm(t,i.fromCache,a,l)}}class hR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class fR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return t1()?8:US(rn())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new hR;return this.ys(t,i,d).next((g=>{if(c.result=g,this.As)return this.ws(t,i,d,g.size)}))})).next((()=>c.result))}ws(t,i,a,l){return a.documentReadCount<this.Vs?(Ba()<=Mt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",qa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(Ba()<=Mt.DEBUG&&at("QueryEngine","Query:",qa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(Ba()<=Mt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",qa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ii(i))):J.resolve())}gs(t,i){if(Ev(i))return J.resolve(null);let a=Ii(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=rm(i,null,"F"),a=Ii(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Lt(...c);return this.fs.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((v=>{const y=this.bs(i,g);return this.Ss(i,y,d,v.readTime)?this.gs(t,rm(i,null,"F")):this.Ds(t,y,i,v)}))))})))))}ps(t,i,a,l){return Ev(i)||l.isEqual(Tt.min())?J.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?J.resolve(null):(Ba()<=Mt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),qa(i)),this.Ds(t,d,i,OS(l,Ml)).next((g=>g)))}))}bs(t,i){let a=new Le(mE(t));return i.forEach(((l,c)=>{dh(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,a){return Ba()<=Mt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",qa(i)),this.fs.getDocumentsMatchingQuery(t,i,ns.min(),a)}Ds(t,i,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Um="LocalStore",dR=3e8;class mR{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new fe(kt),this.Fs=new Xs((c=>Rm(c)),Im),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new nR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function pR(s,t,i,a){return new mR(s,t,i,a)}async function zE(s,t){const i=At(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let v=Lt();for(const y of l){d.push(y.batchId);for(const T of y.mutations)v=v.add(T.key)}for(const y of c){g.push(y.batchId);for(const T of y.mutations)v=v.add(T.key)}return i.localDocuments.getDocuments(a,v).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function gR(s,t){const i=At(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,v,y,T){const S=y.batch,O=S.keys();let K=J.resolve();return O.forEach((W=>{K=K.next((()=>T.getEntry(v,W))).next((it=>{const et=y.docVersions.get(W);Ft(et!==null,48541),it.version.compareTo(et)<0&&(S.applyToRemoteDocument(it,y),it.isValidDocument()&&(it.setReadTime(y.commitVersion),T.addEntry(it)))}))})),K.next((()=>g.mutationQueue.removeMutationBatch(v,S)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let v=Lt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(v=v.add(g.batch.mutations[y].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function jE(s){const t=At(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function yR(s,t){const i=At(s),a=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const g=[];t.targetChanges.forEach(((T,S)=>{const O=l.get(S);if(!O)return;g.push(i.li.removeMatchingKeys(c,T.removedDocuments,S).next((()=>i.li.addMatchingKeys(c,T.addedDocuments,S))));let K=O.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?K=K.withResumeToken(Je.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):T.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(T.resumeToken,a)),l=l.insert(S,K),(function(it,et,pt){return it.resumeToken.approximateByteSize()===0||et.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=dR?!0:pt.addedDocuments.size+pt.modifiedDocuments.size+pt.removedDocuments.size>0})(O,K,T)&&g.push(i.li.updateTargetData(c,K))}));let v=ar(),y=Lt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),g.push(_R(c,d,t.documentUpdates).next((T=>{v=T.Bs,y=T.Ls}))),!a.isEqual(Tt.min())){const T=i.li.getLastRemoteSnapshotVersion(c).next((S=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(T)}return J.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,y))).next((()=>v))})).then((c=>(i.vs=l,c)))}function _R(s,t,i){let a=Lt(),l=Lt();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=ar();return i.forEach(((g,v)=>{const y=c.get(g);v.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),v.isNoDocument()&&v.version.isEqual(Tt.min())?(t.removeEntry(g,v.readTime),d=d.insert(g,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(v),d=d.insert(g,v)):at(Um,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",v.version)})),{Bs:d,Ls:l}}))}function vR(s,t){const i=At(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Am),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function ER(s,t){const i=At(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,t).next((c=>c?(l=c,J.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new Xr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function um(s,t,i){const a=At(s),l=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!mo(d))throw d;at(Um,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function Vv(s,t,i){const a=At(s);let l=Tt.min(),c=Lt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,T){const S=At(v),O=S.Fs.get(T);return O!==void 0?J.resolve(S.vs.get(O)):S.li.getTargetData(y,T)})(a,d,Ii(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,g.targetId).next((v=>{c=v}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:Tt.min(),i?c:Lt()))).next((g=>(TR(a,ow(t),g),{documents:g,ks:c})))))}function TR(s,t,i){let a=s.Ms.get(t)||Tt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(t,a)}class Mv{constructor(){this.activeTargetIds=dw()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class bR{constructor(){this.vo=new Mv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Mv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class AR{Mo(t){}shutdown(){}}const kv="ConnectivityMonitor";class Lv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){at(kv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){at(kv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Dc=null;function cm(){return Dc===null?Dc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dc++,"0x"+Dc.toString(16)}const zd="RestConnection",SR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class wR{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===Kc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,c){const d=cm(),g=this.Qo(t,i.toUriEncodedString());at(zd,`Sending RPC '${t}' ${d}:`,g,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,l,c);const{host:y}=new URL(g),T=uo(y);return this.zo(t,g,v,a,T).then((S=>(at(zd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw Za(zd,`RPC '${t}' ${d} failed with error: `,S,"url: ",g,"request:",a),S}))}jo(t,i,a,l,c,d){return this.Wo(t,i,a,l,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ho})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const a=SR[t];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class RR{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const tn="WebChannelConnection",Tl=(s,t,i)=>{s.listen(t,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Fa extends wR{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Fa.c_){const t=G0();Tl(t,H0.STAT_EVENT,(i=>{i.stat===Jd.PROXY?at(tn,"STAT_EVENT: detected buffering proxy"):i.stat===Jd.NOPROXY&&at(tn,"STAT_EVENT: detected no buffering proxy")})),Fa.c_=!0}}zo(t,i,a,l,c){const d=cm();return new Promise(((g,v)=>{const y=new B0;y.setWithCredentials(!0),y.listenOnce(q0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Mc.NO_ERROR:const S=y.getResponseJson();at(tn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),g(S);break;case Mc.TIMEOUT:at(tn,`RPC '${t}' ${d} timed out`),v(new rt($.DEADLINE_EXCEEDED,"Request time out"));break;case Mc.HTTP_ERROR:const O=y.getStatus();if(at(tn,`RPC '${t}' ${d} failed with status:`,O,"response text:",y.getResponseText()),O>0){let K=y.getResponseJson();Array.isArray(K)&&(K=K[0]);const W=K?.error;if(W&&W.status&&W.message){const it=(function(pt){const vt=pt.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(vt)>=0?vt:$.UNKNOWN})(W.status);v(new rt(it,W.message))}else v(new rt($.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new rt($.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{at(tn,`RPC '${t}' ${d} completed.`)}}));const T=JSON.stringify(l);at(tn,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",T,a,15)}))}T_(t,i,a){const l=cm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,a),g.encodeInitMessageHeaders=!0;const y=c.join("");at(tn,`Creating RPC '${t}' stream ${l}: ${y}`,g);const T=d.createWebChannel(y,g);this.I_(T);let S=!1,O=!1;const K=new RR({Ho:W=>{O?at(tn,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(S||(at(tn,`Opening RPC '${t}' stream ${l} transport.`),T.open(),S=!0),at(tn,`RPC '${t}' stream ${l} sending:`,W),T.send(W))},Jo:()=>T.close()});return Tl(T,bl.EventType.OPEN,(()=>{O||(at(tn,`RPC '${t}' stream ${l} transport opened.`),K.i_())})),Tl(T,bl.EventType.CLOSE,(()=>{O||(O=!0,at(tn,`RPC '${t}' stream ${l} transport closed`),K.o_(),this.E_(T))})),Tl(T,bl.EventType.ERROR,(W=>{O||(O=!0,Za(tn,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),K.o_(new rt($.UNAVAILABLE,"The operation could not be completed")))})),Tl(T,bl.EventType.MESSAGE,(W=>{if(!O){const it=W.data[0];Ft(!!it,16349);const et=it,pt=et?.error||et[0]?.error;if(pt){at(tn,`RPC '${t}' stream ${l} received error:`,pt);const vt=pt.status;let Et=(function(dt){const C=xe[dt];if(C!==void 0)return RE(C)})(vt),Qt=pt.message;Et===void 0&&(Et=$.INTERNAL,Qt="Unknown error status: "+vt+" with message "+pt.message),O=!0,K.o_(new rt(Et,Qt)),T.close()}else at(tn,`RPC '${t}' stream ${l} received:`,it),K.__(it)}})),Fa.u_(),setTimeout((()=>{K.s_()}),0),K}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return F0()}}function IR(s){return new Fa(s)}function jd(){return typeof document<"u"?document:null}function _h(s){return new Dw(s,!0)}Fa.c_=!1;class BE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&at("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Uv="PersistentStream";class qE{constructor(t,i,a,l,c,d,g,v){this.Ci=t,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new BE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(sr(i.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new rt($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(Uv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(at(Uv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class CR extends qE{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Mw(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Tt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?Ci(d.readTime):Tt.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=lm(this.serializer),i.addTarget=(function(c,d){let g;const v=d.target;if(g=nm(v)?{documents:Uw(c,v)}:{query:Pw(c,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=NE(c,d.resumeToken);const y=sm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(Tt.min())>0){g.readTime=$c(c,d.snapshotVersion.toTimestamp());const y=sm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const a=jw(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=lm(this.serializer),i.removeTarget=t,this.K_(i)}}class NR extends qE{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Lw(t.writeResults,t.commitTime),a=Ci(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=lm(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>kw(this.serializer,a)))};this.K_(i)}}class xR{}class DR extends xR{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new rt($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,am(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new rt($.UNKNOWN,c.toString())}))}jo(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(t,am(i,a),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function OR(s,t,i,a){return new DR(s,t,i,a)}class VR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(sr(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ks="RemoteStore";class MR{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{$s(this)&&(at(Ks,"Restarting streams for network reachability change."),await(async function(v){const y=At(v);y.Ea.add(4),await Kl(y),y.Va.set("Unknown"),y.Ea.delete(4),await vh(y)})(this))}))})),this.Va=new VR(a,l)}}async function vh(s){if($s(s))for(const t of s.Ra)await t(!0)}async function Kl(s){for(const t of s.Ra)await t(!1)}function HE(s,t){const i=At(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Bm(i)?jm(i):go(i).O_()&&zm(i,t))}function Pm(s,t){const i=At(s),a=go(i);i.Ia.delete(t),a.O_()&&GE(i,t),i.Ia.size===0&&(a.O_()?a.L_():$s(i)&&i.Va.set("Unknown"))}function zm(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}go(s).Z_(t)}function GE(s,t){s.da.$e(t),go(s).X_(t)}function jm(s){s.da=new Iw({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),go(s).start(),s.Va.ua()}function Bm(s){return $s(s)&&!go(s).x_()&&s.Ia.size>0}function $s(s){return At(s).Ea.size===0}function FE(s){s.da=void 0}async function kR(s){s.Va.set("Online")}async function LR(s){s.Ia.forEach(((t,i)=>{zm(s,t)}))}async function UR(s,t){FE(s),Bm(s)?(s.Va.ha(t),jm(s)):s.Va.set("Unknown")}async function PR(s,t,i){if(s.Va.set("Online"),t instanceof CE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.da.removeTarget(g))})(s,t)}catch(a){at(Ks,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Zc(s,a)}else if(t instanceof Pc?s.da.Xe(t):t instanceof IE?s.da.st(t):s.da.tt(t),!i.isEqual(Tt.min()))try{const a=await jE(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const T=c.Ia.get(y);T&&c.Ia.set(y,T.withResumeToken(v.resumeToken,d))}})),g.targetMismatches.forEach(((v,y)=>{const T=c.Ia.get(v);if(!T)return;c.Ia.set(v,T.withResumeToken(Je.EMPTY_BYTE_STRING,T.snapshotVersion)),GE(c,v);const S=new Xr(T.target,v,y,T.sequenceNumber);zm(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){at(Ks,"Failed to raise snapshot:",a),await Zc(s,a)}}async function Zc(s,t,i){if(!mo(t))throw t;s.Ea.add(1),await Kl(s),s.Va.set("Offline"),i||(i=()=>jE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{at(Ks,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await vh(s)}))}function QE(s,t){return t().catch((i=>Zc(s,i,t)))}async function Eh(s){const t=At(s),i=as(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Am;for(;zR(t);)try{const l=await vR(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,jR(t,l)}catch(l){await Zc(t,l)}KE(t)&&YE(t)}function zR(s){return $s(s)&&s.Ta.length<10}function jR(s,t){s.Ta.push(t);const i=as(s);i.O_()&&i.Y_&&i.ea(t.mutations)}function KE(s){return $s(s)&&!as(s).x_()&&s.Ta.length>0}function YE(s){as(s).start()}async function BR(s){as(s).ra()}async function qR(s){const t=as(s);for(const i of s.Ta)t.ea(i.mutations)}async function HR(s,t,i){const a=s.Ta.shift(),l=Dm.from(a,t,i);await QE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Eh(s)}async function GR(s,t){t&&as(s).Y_&&await(async function(a,l){if((function(d){return Sw(d)&&d!==$.ABORTED})(l.code)){const c=a.Ta.shift();as(a).B_(),await QE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Eh(a)}})(s,t),KE(s)&&YE(s)}async function Pv(s,t){const i=At(s);i.asyncQueue.verifyOperationInProgress(),at(Ks,"RemoteStore received new credentials");const a=$s(i);i.Ea.add(3),await Kl(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await vh(i)}async function FR(s,t){const i=At(s);t?(i.Ea.delete(2),await vh(i)):t||(i.Ea.add(2),await Kl(i),i.Va.set("Unknown"))}function go(s){return s.ma||(s.ma=(function(i,a,l){const c=At(i);return c.sa(),new CR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:kR.bind(null,s),Yo:LR.bind(null,s),t_:UR.bind(null,s),J_:PR.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),Bm(s)?jm(s):s.Va.set("Unknown")):(await s.ma.stop(),FE(s))}))),s.ma}function as(s){return s.fa||(s.fa=(function(i,a,l){const c=At(i);return c.sa(),new NR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:BR.bind(null,s),t_:GR.bind(null,s),ta:qR.bind(null,s),na:HR.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await Eh(s)):(await s.fa.stop(),s.Ta.length>0&&(at(Ks,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class qm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,g=new qm(t,i,d,l,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hm(s,t){if(sr("AsyncQueue",`${t}: ${s}`),mo(s))return new rt($.UNAVAILABLE,`${t}: ${s}`);throw s}class Qa{static emptySet(t){return new Qa(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ft.comparator(i.key,a.key):(i,a)=>ft.comparator(i.key,a.key),this.keyedMap=Al(),this.sortedSet=new fe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Qa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Qa;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class zv{constructor(){this.ga=new fe(ft.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):gt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class so{constructor(t,i,a,l,c,d,g,v,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new so(t,i,Qa.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&fh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class QR{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class KR{constructor(){this.queries=jv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=At(i),c=l.queries;l.queries=jv(),c.forEach(((d,g)=>{for(const v of g.ba)v.onError(a)}))})(this,new rt($.ABORTED,"Firestore shutting down"))}}function jv(){return new Xs((s=>dE(s)),fh)}async function YR(s,t){const i=At(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(a=2):(c=new QR,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=Hm(d,`Initialization of query '${qa(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Gm(i)}async function XR(s,t){const i=At(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function $R(s,t){const i=At(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.ba)g.Fa(l)&&(a=!0);d.wa=l}}a&&Gm(i)}function JR(s,t,i){const a=At(s),l=a.queries.get(t);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(t)}function Gm(s){s.Ca.forEach((t=>{t.next()}))}var hm,Bv;(Bv=hm||(hm={})).Ma="default",Bv.Cache="cache";class ZR{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new so(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=so.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==hm.Cache}}class XE{constructor(t){this.key=t}}class $E{constructor(t){this.key=t}}class WR{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Lt(),this.mutatedKeys=Lt(),this.eu=mE(t),this.tu=new Qa(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new zv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((T,S)=>{const O=l.get(T),K=dh(this.query,S)?S:null,W=!!O&&this.mutatedKeys.has(O.key),it=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let et=!1;O&&K?O.data.isEqual(K.data)?W!==it&&(a.track({type:3,doc:K}),et=!0):this.su(O,K)||(a.track({type:2,doc:K}),et=!0,(v&&this.eu(K,v)>0||y&&this.eu(K,y)<0)&&(g=!0)):!O&&K?(a.track({type:0,doc:K}),et=!0):O&&!K&&(a.track({type:1,doc:O}),et=!0,(v||y)&&(g=!0)),et&&(K?(d=d.add(K),c=it?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),a.track({type:1,doc:T})}return{tu:d,iu:a,Ss:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((T,S)=>(function(K,W){const it=et=>{switch(et){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Vt:et})}};return it(K)-it(W)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(a),l=l??!1;const g=i&&!l?this._u():[],v=this.Ya.size===0&&this.current&&!l?1:0,y=v!==this.Xa;return this.Xa=v,d.length!==0||y?{snapshot:new so(this.query,t.tu,c,d,t.mutatedKeys,v===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new zv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Lt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new $E(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new XE(a))})),i}cu(t){this.Za=t.ks,this.Ya=Lt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return so.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Fm="SyncEngine";class t2{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class e2{constructor(t){this.key=t,this.hu=!1}}class n2{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Xs((g=>dE(g)),fh),this.Iu=new Map,this.Eu=new Set,this.Ru=new fe(ft.comparator),this.Au=new Map,this.Vu=new Mm,this.du={},this.mu=new Map,this.fu=ro.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function i2(s,t,i=!0){const a=nT(s);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await JE(a,t,i,!0),l}async function r2(s,t){const i=nT(s);await JE(i,t,!0,!1)}async function JE(s,t,i,a){const l=await ER(s.localStore,Ii(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await s2(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&HE(s.remoteStore,l),g}async function s2(s,t,i,a,l){s.pu=(S,O,K)=>(async function(it,et,pt,vt){let Et=et.view.ru(pt);Et.Ss&&(Et=await Vv(it.localStore,et.query,!1).then((({documents:C})=>et.view.ru(C,Et))));const Qt=vt&&vt.targetChanges.get(et.targetId),le=vt&&vt.targetMismatches.get(et.targetId)!=null,dt=et.view.applyChanges(Et,it.isPrimaryClient,Qt,le);return Hv(it,et.targetId,dt.au),dt.snapshot})(s,S,O,K);const c=await Vv(s.localStore,t,!0),d=new WR(t,c.ks),g=d.ru(c.documents),v=Ql.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),y=d.applyChanges(g,s.isPrimaryClient,v);Hv(s,i,y.au);const T=new t2(t,i,d);return s.Tu.set(t,T),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),y.snapshot}async function a2(s,t,i){const a=At(s),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!fh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await um(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Pm(a.remoteStore,l.targetId),fm(a,l.targetId)})).catch(fo)):(fm(a,l.targetId),await um(a.localStore,l.targetId,!0))}async function o2(s,t){const i=At(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Pm(i.remoteStore,a.targetId))}async function l2(s,t,i){const a=p2(s);try{const l=await(function(d,g){const v=At(d),y=oe.now(),T=g.reduce(((K,W)=>K.add(W.key)),Lt());let S,O;return v.persistence.runTransaction("Locally write mutations","readwrite",(K=>{let W=ar(),it=Lt();return v.xs.getEntries(K,T).next((et=>{W=et,W.forEach(((pt,vt)=>{vt.isValidDocument()||(it=it.add(pt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(K,W))).next((et=>{S=et;const pt=[];for(const vt of g){const Et=vw(vt,S.get(vt.key).overlayedDocument);Et!=null&&pt.push(new us(vt.key,Et,sE(Et.value.mapValue),ei.exists(!0)))}return v.mutationQueue.addMutationBatch(K,y,pt,g)})).next((et=>{O=et;const pt=et.applyToLocalDocumentSet(S,it);return v.documentOverlayCache.saveOverlays(K,et.batchId,pt)}))})).then((()=>({batchId:O.batchId,changes:gE(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,v){let y=d.du[d.currentUser.toKey()];y||(y=new fe(kt)),y=y.insert(g,v),d.du[d.currentUser.toKey()]=y})(a,l.batchId,i),await Yl(a,l.changes),await Eh(a.remoteStore)}catch(l){const c=Hm(l,"Failed to persist write");i.reject(c)}}async function ZE(s,t){const i=At(s);try{const a=await yR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ft(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ft(d.hu,14607):l.removedDocuments.size>0&&(Ft(d.hu,42227),d.hu=!1))})),await Yl(i,a,t)}catch(a){await fo(a)}}function qv(s,t,i){const a=At(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const v=At(d);v.onlineState=g;let y=!1;v.queries.forEach(((T,S)=>{for(const O of S.ba)O.va(g)&&(y=!0)})),y&&Gm(v)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function u2(s,t,i){const a=At(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new fe(ft.comparator);d=d.insert(c,nn.newNoDocument(c,Tt.min()));const g=Lt().add(c),v=new yh(Tt.min(),new Map,new fe(kt),d,g);await ZE(a,v),a.Ru=a.Ru.remove(c),a.Au.delete(t),Qm(a)}else await um(a.localStore,t,!1).then((()=>fm(a,t,i))).catch(fo)}async function c2(s,t){const i=At(s),a=t.batch.batchId;try{const l=await gR(i.localStore,t);tT(i,a,null),WE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Yl(i,l)}catch(l){await fo(l)}}async function h2(s,t,i){const a=At(s);try{const l=await(function(d,g){const v=At(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return v.mutationQueue.lookupMutationBatch(y,g).next((S=>(Ft(S!==null,37113),T=S.keys(),v.mutationQueue.removeMutationBatch(y,S)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,T,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>v.localDocuments.getDocuments(y,T)))}))})(a.localStore,t);tT(a,t,i),WE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Yl(a,l)}catch(l){await fo(l)}}function WE(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function tT(s,t,i){const a=At(s);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function fm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((a=>{s.Vu.containsKey(a)||eT(s,a)}))}function eT(s,t){s.Eu.delete(t.path.canonicalString());const i=s.Ru.get(t);i!==null&&(Pm(s.remoteStore,i),s.Ru=s.Ru.remove(t),s.Au.delete(i),Qm(s))}function Hv(s,t,i){for(const a of i)a instanceof XE?(s.Vu.addReference(a.key,t),f2(s,a)):a instanceof $E?(at(Fm,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,t),s.Vu.containsKey(a.key)||eT(s,a.key)):gt(19791,{wu:a})}function f2(s,t){const i=t.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(at(Fm,"New document in limbo: "+i),s.Eu.add(a),Qm(s))}function Qm(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new ft(re.fromString(t)),a=s.fu.next();s.Au.set(a,new e2(i)),s.Ru=s.Ru.insert(i,a),HE(s.remoteStore,new Xr(Ii(Cm(i.path)),a,"TargetPurposeLimboResolution",uh.ce))}}async function Yl(s,t,i){const a=At(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,v)=>{d.push(a.pu(v,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const T=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,T?"current":"not-current")}if(y){l.push(y);const T=Lm.Es(v.targetId,y);c.push(T)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(v,y){const T=At(v);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>J.forEach(y,(O=>J.forEach(O.Ts,(K=>T.persistence.referenceDelegate.addReference(S,O.targetId,K))).next((()=>J.forEach(O.Is,(K=>T.persistence.referenceDelegate.removeReference(S,O.targetId,K)))))))))}catch(S){if(!mo(S))throw S;at(Um,"Failed to update sequence numbers: "+S)}for(const S of y){const O=S.targetId;if(!S.fromCache){const K=T.vs.get(O),W=K.snapshotVersion,it=K.withLastLimboFreeSnapshotVersion(W);T.vs=T.vs.insert(O,it)}}})(a.localStore,c))}async function d2(s,t){const i=At(s);if(!i.currentUser.isEqual(t)){at(Fm,"User change. New user:",t.toKey());const a=await zE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((v=>{v.reject(new rt($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Yl(i,a.Ns)}}function m2(s,t){const i=At(s),a=i.Au.get(t);if(a&&a.hu)return Lt().add(a.key);{let l=Lt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function nT(s){const t=At(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=ZE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=m2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=u2.bind(null,t),t.Pu.J_=$R.bind(null,t.eventManager),t.Pu.yu=JR.bind(null,t.eventManager),t}function p2(s){const t=At(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=c2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=h2.bind(null,t),t}class Wc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=_h(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return pR(this.persistence,new fR,t.initialUser,this.serializer)}Cu(t){return new PE(km.Vi,this.serializer)}Du(t){return new bR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wc.provider={build:()=>new Wc};class g2 extends Wc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ft(this.persistence.referenceDelegate instanceof Jc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Jw(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new PE((a=>Jc.Vi(a,i)),this.serializer)}}class dm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>qv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=d2.bind(null,this.syncEngine),await FR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new KR})()}createDatastore(t){const i=_h(t.databaseInfo.databaseId),a=IR(t.databaseInfo);return OR(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,g){return new MR(a,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>qv(this.syncEngine,i,0)),(function(){return Lv.v()?new Lv:new AR})())}createSyncEngine(t,i){return(function(l,c,d,g,v,y,T){const S=new n2(l,c,d,g,v,y);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=At(i);at(Ks,"RemoteStore shutting down."),a.Ea.add(5),await Kl(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}dm.provider={build:()=>new dm};class y2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):sr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const os="FirestoreClient";class _2{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=en.UNAUTHENTICATED,this.clientId=bm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{at(os,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(at(os,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Hm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Bd(s,t){s.asyncQueue.verifyOperationInProgress(),at(os,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await zE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function Gv(s,t){s.asyncQueue.verifyOperationInProgress();const i=await v2(s);at(os,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>Pv(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>Pv(t.remoteStore,l))),s._onlineComponents=t}async function v2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){at(os,"Using user provided OfflineComponentProvider");try{await Bd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Za("Error using user provided cache. Falling back to memory cache: "+i),await Bd(s,new Wc)}}else at(os,"Using default OfflineComponentProvider"),await Bd(s,new g2(void 0));return s._offlineComponents}async function iT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(at(os,"Using user provided OnlineComponentProvider"),await Gv(s,s._uninitializedComponentsProvider._online)):(at(os,"Using default OnlineComponentProvider"),await Gv(s,new dm))),s._onlineComponents}function E2(s){return iT(s).then((t=>t.syncEngine))}async function Fv(s){const t=await iT(s),i=t.eventManager;return i.onListen=i2.bind(null,t.syncEngine),i.onUnlisten=a2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=r2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=o2.bind(null,t.syncEngine),i}function T2(s,t,i,a){const l=new y2(a),c=new ZR(t,l,i);return s.asyncQueue.enqueueAndForget((async()=>YR(await Fv(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>XR(await Fv(s),c)))}}function b2(s,t){const i=new qs;return s.asyncQueue.enqueueAndForget((async()=>l2(await E2(s),t,i))),i.promise}function rT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const A2="ComponentProvider",Qv=new Map;function S2(s,t,i,a,l){return new qS(s,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,rT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const sT="firestore.googleapis.com",Kv=!0;class Yv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new rt($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sT,this.ssl=Kv}else this.host=t.host,this.ssl=t.ssl??Kv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=UE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Xw)throw new rt($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}DS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new rt($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new rt($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new rt($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Th{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new rt($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new TS;switch(a.type){case"firstParty":return new wS(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new rt($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Qv.get(i);a&&(at(A2,"Removing Datastore"),Qv.delete(i),a.terminate())})(this),Promise.resolve()}}function w2(s,t,i,a={}){s=ts(s,Th);const l=uo(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${i}`;l&&(O0(`https://${g}`),V0("Firestore",!0)),c.host!==sT&&c.host!==g&&Za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:g,ssl:l,emulatorOptions:a};if(!ir(v,d)&&(s._setSettings(v),a.mockUserToken)){let y,T;if(typeof a.mockUserToken=="string")y=a.mockUserToken,T=en.MOCK_USER;else{y=FA(a.mockUserToken,s._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new rt($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new en(S)}s._authCredentials=new bS(new K0(y,T))}}class Js{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Js(this.firestore,t,this._query)}}class Ve{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new es(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ve(this.firestore,t,this._key)}toJSON(){return{type:Ve._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Gl(i,Ve._jsonSchema))return new Ve(t,a||null,new ft(re.fromString(i.referencePath)))}}Ve._jsonSchemaVersion="firestore/documentReference/1.0",Ve._jsonSchema={type:Oe("string",Ve._jsonSchemaVersion),referencePath:Oe("string")};class es extends Js{constructor(t,i,a){super(t,i,Cm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ve(this.firestore,null,new ft(t))}withConverter(t){return new es(this.firestore,t,this._path)}}function Oc(s,t,...i){if(s=Be(s),Y0("collection","path",t),s instanceof Th){const a=re.fromString(t,...i);return av(a),new es(s,null,a)}{if(!(s instanceof Ve||s instanceof es))throw new rt($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(re.fromString(t,...i));return av(a),new es(s.firestore,null,a)}}function wl(s,t,...i){if(s=Be(s),arguments.length===1&&(t=bm.newId()),Y0("doc","path",t),s instanceof Th){const a=re.fromString(t,...i);return sv(a),new Ve(s,null,new ft(a))}{if(!(s instanceof Ve||s instanceof es))throw new rt($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(re.fromString(t,...i));return sv(a),new Ve(s.firestore,s instanceof es?s.converter:null,new ft(a))}}const Xv="AsyncQueue";class $v{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new BE(this,"async_queue_retry"),this._c=()=>{const a=jd();a&&at(Xv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=jd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=jd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new qs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!mo(t))throw t;at(Xv,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,sr("INTERNAL UNHANDLED ERROR: ",Jv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=qm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&gt(47125,{Pc:Jv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Jv(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class ao extends Th{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new $v,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new $v(t),this._firestoreClient=void 0,await t}}}function R2(s,t){const i=typeof s=="object"?s:U0(),a=typeof s=="string"?s:Kc,l=Em(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=HA("firestore");c&&w2(l,...c)}return l}function aT(s){if(s._terminated)throw new rt($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||I2(s),s._firestoreClient}function I2(s){const t=s._freezeSettings(),i=S2(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new _2(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class jn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new jn(Je.fromBase64String(t))}catch(i){throw new rt($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new jn(Je.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Gl(t,jn._jsonSchema))return jn.fromBase64String(t.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:Oe("string",jn._jsonSchemaVersion),bytes:Oe("string")};class Km{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new rt($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $e(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Zs{constructor(t){this._methodName=t}}class Ni{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new rt($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new rt($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ni._jsonSchemaVersion}}static fromJSON(t){if(Gl(t,Ni._jsonSchema))return new Ni(t.latitude,t.longitude)}}Ni._jsonSchemaVersion="firestore/geoPoint/1.0",Ni._jsonSchema={type:Oe("string",Ni._jsonSchemaVersion),latitude:Oe("number"),longitude:Oe("number")};class ni{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Gl(t,ni._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ni(t.vectorValues);throw new rt($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ni._jsonSchemaVersion="firestore/vectorValue/1.0",ni._jsonSchema={type:Oe("string",ni._jsonSchemaVersion),vectorValues:Oe("object")};const C2=/^__.*__$/;class N2{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new us(t,this.data,this.fieldMask,i,this.fieldTransforms):new Fl(t,this.data,i,this.fieldTransforms)}}class oT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new us(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function lT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{dataSource:s})}}class bh{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new bh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return th(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(lT(this.dataSource)&&C2.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class x2{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||_h(t)}createContext(t,i,a,l=!1){return new bh({dataSource:t,methodName:i,targetDoc:a,path:$e.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ym(s){const t=s._freezeSettings(),i=_h(s._databaseId);return new x2(s._databaseId,!!t.ignoreUndefinedProperties,i)}function D2(s,t,i,a,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,t,i,l);Wm("Data must be an object, but it was:",d,a);const g=cT(a,d);let v,y;if(c.merge)v=new Rn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const S of c.mergeFields){const O=oo(t,S,i);if(!d.contains(O))throw new rt($.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);dT(T,O)||T.push(O)}v=new Rn(T),y=d.fieldTransforms.filter((S=>v.covers(S.field)))}else v=null,y=d.fieldTransforms;return new N2(new gn(g),v,y)}class Ah extends Zs{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ah}}function uT(s,t,i){return new bh({dataSource:3,targetDoc:t.settings.targetDoc,methodName:s._methodName,arrayElement:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Xm extends Zs{_toFieldTransform(t){return new ph(t.path,new zl)}isEqual(t){return t instanceof Xm}}class $m extends Zs{constructor(t,i){super(t),this.Ac=i}_toFieldTransform(t){const i=uT(this,t,!0),a=this.Ac.map((c=>Ws(c,i))),l=new no(a);return new ph(t.path,l)}isEqual(t){return t instanceof $m&&ir(this.Ac,t.Ac)}}class Jm extends Zs{constructor(t,i){super(t),this.Ac=i}_toFieldTransform(t){const i=uT(this,t,!0),a=this.Ac.map((c=>Ws(c,i))),l=new io(a);return new ph(t.path,l)}isEqual(t){return t instanceof Jm&&ir(this.Ac,t.Ac)}}class Zm extends Zs{constructor(t,i){super(t),this.Vc=i}_toFieldTransform(t){const i=new jl(t.serializer,vE(t.serializer,this.Vc));return new ph(t.path,i)}isEqual(t){return t instanceof Zm&&this.Vc===t.Vc}}function O2(s,t,i,a){const l=s.createContext(1,t,i);Wm("Data must be an object, but it was:",l,a);const c=[],d=gn.empty();ls(a,((v,y)=>{const T=fT(t,v,i);y=Be(y);const S=l.childContextForFieldPath(T);if(y instanceof Ah)c.push(T);else{const O=Ws(y,S);O!=null&&(c.push(T),d.set(T,O))}}));const g=new Rn(c);return new oT(d,g,l.fieldTransforms)}function V2(s,t,i,a,l,c){const d=s.createContext(1,t,i),g=[oo(t,a,i)],v=[l];if(c.length%2!=0)throw new rt($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)g.push(oo(t,c[O])),v.push(c[O+1]);const y=[],T=gn.empty();for(let O=g.length-1;O>=0;--O)if(!dT(y,g[O])){const K=g[O];let W=v[O];W=Be(W);const it=d.childContextForFieldPath(K);if(W instanceof Ah)y.push(K);else{const et=Ws(W,it);et!=null&&(y.push(K),T.set(K,et))}}const S=new Rn(y);return new oT(T,S,d.fieldTransforms)}function M2(s,t,i,a=!1){return Ws(i,s.createContext(a?4:3,t))}function Ws(s,t){if(hT(s=Be(s)))return Wm("Unsupported field value:",t,s),cT(s,t);if(s instanceof Zs)return(function(a,l){if(!lT(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const g of a){let v=Ws(g,l.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=Be(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return vE(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=oe.fromDate(a);return{timestampValue:$c(l.serializer,c)}}if(a instanceof oe){const c=new oe(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:$c(l.serializer,c)}}if(a instanceof Ni)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof jn)return{bytesValue:NE(l.serializer,a._byteString)};if(a instanceof Ve){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Vm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof ni)return(function(d,g){const v=d instanceof ni?d.toArray():d;return{mapValue:{fields:{[iE]:{stringValue:rE},[Yc]:{arrayValue:{values:v.map((T=>{if(typeof T!="number")throw g.createError("VectorValues must only contain numeric values.");return Nm(g.serializer,T)}))}}}}}})(a,l);if(LE(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${lh(a)}`)})(s,t)}function cT(s,t){const i={};return J0(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ls(s,((a,l)=>{const c=Ws(l,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function hT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof oe||s instanceof Ni||s instanceof jn||s instanceof Ve||s instanceof Zs||s instanceof ni||LE(s))}function Wm(s,t,i){if(!hT(i)||!X0(i)){const a=lh(i);throw a==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+a)}}function oo(s,t,i){if((t=Be(t))instanceof Km)return t._internalPath;if(typeof t=="string")return fT(s,t);throw th("Field path arguments must be of type string or ",s,!1,void 0,i)}const k2=new RegExp("[~\\*/\\[\\]]");function fT(s,t,i){if(t.search(k2)>=0)throw th(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Km(...t.split("."))._internalPath}catch{throw th(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function th(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${l}`),v+=")"),new rt($.INVALID_ARGUMENT,g+s+v)}function dT(s,t){return s.some((i=>i.isEqual(t)))}class L2{convertValue(t,i="none"){switch(ss(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(rs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return ls(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Yc].arrayValue?.values?.map((a=>Ee(a.doubleValue)));return new ni(i)}convertGeoPoint(t){return new Ni(Ee(t.latitude),Ee(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=hh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(kl(t));default:return null}}convertTimestamp(t){const i=is(t);return new oe(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=re.fromString(t);Ft(kE(a),9688,{name:t});const l=new Ll(a.get(1),a.get(3)),c=new ft(a.popFirst(5));return l.isEqual(i)||sr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class mT extends L2{constructor(t){super(),this.firestore=t}convertBytes(t){return new jn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ve(this.firestore,null,i)}}function Zv(){return new Xm("serverTimestamp")}function U2(...s){return new $m("arrayUnion",s)}function P2(...s){return new Jm("arrayRemove",s)}function Wv(s){return new Zm("increment",s)}const t0="@firebase/firestore",e0="4.10.0";function n0(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class pT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ve(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new z2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(oo("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class z2 extends pT{data(){return super.data()}}function j2(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new rt($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tp{}class gT extends tp{}function i0(s,t,...i){let a=[];t instanceof tp&&a.push(t),a=a.concat(i),(function(c){const d=c.filter((v=>v instanceof np)).length,g=c.filter((v=>v instanceof ep)).length;if(d>1||d>0&&g>0)throw new rt($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)s=l._apply(s);return s}class ep extends gT{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new ep(t,i,a)}_apply(t){const i=this._parse(t);return yT(t._query,i),new Js(t.firestore,t.converter,im(t._query,i))}_parse(t){const i=Ym(t.firestore);return(function(c,d,g,v,y,T,S){let O;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new rt($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){a0(S,T);const W=[];for(const it of S)W.push(s0(v,c,it));O={arrayValue:{values:W}}}else O=s0(v,c,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||a0(S,T),O=M2(g,d,S,T==="in"||T==="not-in");return De.create(y,T,O)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class np extends tp{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new np(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:ri.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const g=c.getFlattenedFilters();for(const v of g)yT(d,v),d=im(d,v)})(t._query,i),new Js(t.firestore,t.converter,im(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ip extends gT{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new ip(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new rt($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new rt($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Pl(c,d)})(t._query,this._field,this._direction);return new Js(t.firestore,t.converter,aw(t._query,i))}}function r0(s,t="asc"){const i=t,a=oo("orderBy",s);return ip._create(a,i)}function s0(s,t,i){if(typeof(i=Be(i))=="string"){if(i==="")throw new rt($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fE(t)&&i.indexOf("/")!==-1)throw new rt($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(re.fromString(i));if(!ft.isDocumentKey(a))throw new rt($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return mv(s,new ft(a))}if(i instanceof Ve)return mv(s,i._key);throw new rt($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lh(i)}.`)}function a0(s,t){if(!Array.isArray(s)||s.length===0)throw new rt($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function yT(s,t){const i=(function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new rt($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rt($.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}function B2(s,t,i){let a;return a=s?s.toFirestore(t):t,a}class Rl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Hs extends pT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(oo("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Hs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Hs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hs._jsonSchema={type:Oe("string",Hs._jsonSchemaVersion),bundleSource:Oe("string","DocumentSnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class zc extends Hs{data(t={}){return super.data(t)}}class Ka{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Rl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new zc(this._firestore,this._userDataWriter,a.key,a,new Rl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const v=new zc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Rl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const v=new zc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Rl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,T=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:q2(g.type),doc:v,oldIndex:y,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ka._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=bm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function q2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:s})}}Ka._jsonSchemaVersion="firestore/querySnapshot/1.0",Ka._jsonSchema={type:Oe("string",Ka._jsonSchemaVersion),bundleSource:Oe("string","QuerySnapshot"),bundleName:Oe("string"),bundle:Oe("string")};function qd(s,t,i,...a){s=ts(s,Ve);const l=ts(s.firestore,ao),c=Ym(l);let d;return d=typeof(t=Be(t))=="string"||t instanceof Km?V2(c,"updateDoc",s._key,t,i,a):O2(c,"updateDoc",s._key,t),rp(l,[d.toMutation(s._key,ei.exists(!0))])}function H2(s){return rp(ts(s.firestore,ao),[new xm(s._key,ei.none())])}function o0(s,t){const i=ts(s.firestore,ao),a=wl(s),l=B2(s.converter,t),c=Ym(s.firestore);return rp(i,[D2(c,"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,ei.exists(!1))]).then((()=>a))}function l0(s,...t){s=Be(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||n0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(n0(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,g;if(s instanceof Ve)d=ts(s.firestore,ao),g=Cm(s._key.path),c={next:y=>{t[a]&&t[a](G2(d,s,y))},error:t[a+1],complete:t[a+2]};else{const y=ts(s,Js);d=ts(y.firestore,ao),g=y._query;const T=new mT(d);c={next:S=>{t[a]&&t[a](new Ka(d,T,y,S))},error:t[a+1],complete:t[a+2]},j2(s._query)}const v=aT(d);return T2(v,g,l,c)}function rp(s,t){const i=aT(s);return b2(i,t)}function G2(s,t,i){const a=i.docs.get(t._key),l=new mT(s);return new Hs(s,l,t._key,a,new Rl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){ES(co),Ja(new Fs("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new ao(new AS(a.getProvider("auth-internal")),new RS(d,a.getProvider("app-check-internal")),HS(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Zr(t0,e0,t),Zr(t0,e0,"esm2020")})();function _T(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const F2=_T,vT=new ql("auth","Firebase",_T());const eh=new _m("@firebase/auth");function Q2(s,...t){eh.logLevel<=Mt.WARN&&eh.warn(`Auth (${co}): ${s}`,...t)}function jc(s,...t){eh.logLevel<=Mt.ERROR&&eh.error(`Auth (${co}): ${s}`,...t)}function Oi(s,...t){throw ap(s,...t)}function ii(s,...t){return ap(s,...t)}function sp(s,t,i){const a={...F2(),[t]:i};return new ql("auth","Firebase",a).create(t,{appName:s.name})}function Gs(s){return sp(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function K2(s,t,i){const a=i;if(!(t instanceof a))throw a.name!==t.constructor.name&&Oi(s,"argument-error"),sp(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ap(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return vT.create(s,...t)}function _t(s,t,...i){if(!s)throw ap(t,...i)}function er(s){const t="INTERNAL ASSERTION FAILED: "+s;throw jc(t),new Error(t)}function or(s,t){s||er(t)}function mm(){return typeof self<"u"&&self.location?.href||""}function Y2(){return u0()==="http:"||u0()==="https:"}function u0(){return typeof self<"u"&&self.location?.protocol||null}function X2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Y2()||JA()||"connection"in navigator)?navigator.onLine:!0}function $2(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Xl{constructor(t,i){this.shortDelay=t,this.longDelay=i,or(i>t,"Short delay should be less than long delay!"),this.isMobile=YA()||ZA()}get(){return X2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function op(s,t){or(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class ET{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const J2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Z2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],W2=new Xl(3e4,6e4);function lp(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function yo(s,t,i,a,l={}){return TT(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=Hl({key:s.config.apiKey,...d}).slice(1),v=await s._getAdditionalHeaders();v["Content-Type"]="application/json",s.languageCode&&(v["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:v,...c};return $A()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&uo(s.emulatorConfig.host)&&(y.credentials="include"),ET.fetch()(await bT(s,s.config.apiHost,i,g),y)})}async function TT(s,t,i){s._canInitEmulator=!1;const a={...J2,...t};try{const l=new eI(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Vc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[v,y]=g.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vc(s,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Vc(s,"email-already-in-use",d);if(v==="USER_DISABLED")throw Vc(s,"user-disabled",d);const T=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw sp(s,T,y);Oi(s,T)}}catch(l){if(l instanceof lr)throw l;Oi(s,"network-request-failed",{message:String(l)})}}async function tI(s,t,i,a,l={}){const c=await yo(s,t,i,a,l);return"mfaPendingCredential"in c&&Oi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function bT(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?op(s.config,l):`${s.config.apiScheme}://${l}`;return Z2.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class eI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(ii(this.auth,"network-request-failed")),W2.get())})}}function Vc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=ii(s,t,a);return l.customData._tokenResponse=i,l}async function nI(s,t){return yo(s,"POST","/v1/accounts:delete",t)}async function nh(s,t){return yo(s,"POST","/v1/accounts:lookup",t)}function Ol(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function iI(s,t=!1){const i=Be(s),a=await i.getIdToken(t),l=up(a);_t(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Ol(Hd(l.auth_time)),issuedAtTime:Ol(Hd(l.iat)),expirationTime:Ol(Hd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Hd(s){return Number(s)*1e3}function up(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return jc("JWT malformed, contained fewer than 3 sections"),null;try{const l=C0(i);return l?JSON.parse(l):(jc("Failed to decode base64 JWT payload"),null)}catch(l){return jc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function c0(s){const t=up(s);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Bl(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof lr&&rI(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function rI({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class sI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class pm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ol(this.lastLoginAt),this.creationTime=Ol(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ih(s){const t=s.auth,i=await s.getIdToken(),a=await Bl(s,nh(t,{idToken:i}));_t(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?AT(l.providerUserInfo):[],d=oI(s.providerData,c),g=s.isAnonymous,v=!(s.email&&l.passwordHash)&&!d?.length,y=g?v:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new pm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,T)}async function aI(s){const t=Be(s);await ih(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function oI(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function AT(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function lI(s,t){const i=await TT(s,{},async()=>{const a=Hl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await bT(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:g,body:a};return s.emulatorConfig&&uo(s.emulatorConfig.host)&&(v.credentials="include"),ET.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function uI(s,t){return yo(s,"POST","/v2/accounts:revokeToken",lp(s,t))}class Ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):c0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const i=c0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await lI(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ya;return a&&(_t(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(_t(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(_t(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ya,this.toJSON())}_performRefresh(){return er("not implemented")}}function Gr(s,t){_t(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class ti{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new sI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new pm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Bl(this,this.stsTokenManager.getToken(this.auth,t));return _t(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return iI(this,t)}reload(){return aI(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ti({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await ih(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject(Gs(this.auth));const t=await this.getIdToken();return await Bl(this,nI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:S,emailVerified:O,isAnonymous:K,providerData:W,stsTokenManager:it}=i;_t(S&&it,t,"internal-error");const et=Ya.fromJSON(this.name,it);_t(typeof S=="string",t,"internal-error"),Gr(a,t.name),Gr(l,t.name),_t(typeof O=="boolean",t,"internal-error"),_t(typeof K=="boolean",t,"internal-error"),Gr(c,t.name),Gr(d,t.name),Gr(g,t.name),Gr(v,t.name),Gr(y,t.name),Gr(T,t.name);const pt=new ti({uid:S,auth:t,email:l,emailVerified:O,displayName:a,isAnonymous:K,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:et,createdAt:y,lastLoginAt:T});return W&&Array.isArray(W)&&(pt.providerData=W.map(vt=>({...vt}))),v&&(pt._redirectEventId=v),pt}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ya;l.updateFromServerResponse(i);const c=new ti({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await ih(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];_t(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?AT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new Ya;g.updateFromIdToken(a);const v=new ti({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new pm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(v,y),v}}const h0=new Map;function nr(s){or(s instanceof Function,"Expected a class definition");let t=h0.get(s);return t?(or(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,h0.set(s,t),t)}class ST{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}ST.type="NONE";const f0=ST;function Bc(s,t,i){return`firebase:${s}:${t}:${i}`}class Xa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Bc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Bc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await nh(this.auth,{idToken:t}).catch(()=>{});return i?ti._fromGetAccountInfoResponse(this.auth,i,t):null}return ti._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Xa(nr(f0),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||nr(f0);const d=Bc(a,t.config.apiKey,t.name);let g=null;for(const y of i)try{const T=await y._get(d);if(T){let S;if(typeof T=="string"){const O=await nh(t,{idToken:T}).catch(()=>{});if(!O)break;S=await ti._fromGetAccountInfoResponse(t,O,T)}else S=ti._fromJSON(t,T);y!==c&&(g=S),c=y;break}}catch{}const v=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new Xa(c,t,a):(c=v[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Xa(c,t,a))}}function d0(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(CT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(wT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(xT(t))return"Blackberry";if(DT(t))return"Webos";if(RT(t))return"Safari";if((t.includes("chrome/")||IT(t))&&!t.includes("edge/"))return"Chrome";if(NT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function wT(s=rn()){return/firefox\//i.test(s)}function RT(s=rn()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function IT(s=rn()){return/crios\//i.test(s)}function CT(s=rn()){return/iemobile/i.test(s)}function NT(s=rn()){return/android/i.test(s)}function xT(s=rn()){return/blackberry/i.test(s)}function DT(s=rn()){return/webos/i.test(s)}function cp(s=rn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function cI(s=rn()){return cp(s)&&!!window.navigator?.standalone}function hI(){return WA()&&document.documentMode===10}function OT(s=rn()){return cp(s)||NT(s)||DT(s)||xT(s)||/windows phone/i.test(s)||CT(s)}function VT(s,t=[]){let i;switch(s){case"Browser":i=d0(rn());break;case"Worker":i=`${d0(rn())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${co}/${a}`}class fI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const v=t(c);d(v)}catch(v){g(v)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function dI(s,t={}){return yo(s,"GET","/v2/passwordPolicy",lp(s,t))}const mI=6;class pI{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??mI,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class gI{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new m0(this),this.idTokenSubscription=new m0(this),this.beforeStateQueue=new fI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=nr(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Xa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await nh(this,{idToken:t}),a=await ti._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Wn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await ih(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=$2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Wn(this.app))return Promise.reject(Gs(this));const i=t?Be(t):null;return i&&_t(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject(Gs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Wn(this.app)?Promise.reject(Gs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(nr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await dI(this),i=new pI(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ql("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await uI(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&nr(t)||this._popupRedirectResolver;_t(i,this,"argument-error"),this.redirectPersistenceManager=await Xa.create(this,[nr(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,l);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=VT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Q2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Sh(s){return Be(s)}class m0{constructor(t){this.auth=t,this.observer=null,this.addObserver=o1(i=>this.observer=i)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let hp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yI(s){hp=s}function _I(s){return hp.loadJS(s)}function vI(){return hp.gapiScript}function EI(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function TI(s,t){const i=Em(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(ir(c,t??{}))return l;Oi(l,"already-initialized")}return i.initialize({options:t})}function bI(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(nr);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function AI(s,t,i){const a=Sh(s);_t(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=MT(t),{host:d,port:g}=SI(t),v=g===null?"":`:${g}`,y={url:`${c}//${d}${v}/`},T=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){_t(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),_t(ir(y,a.config.emulator)&&ir(T,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=T,a.settings.appVerificationDisabledForTesting=!0,uo(d)?(O0(`${c}//${d}${v}`),V0("Auth",!0)):wI()}function MT(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function SI(s){const t=MT(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:p0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:p0(d)}}}function p0(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function wI(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class kT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return er("not implemented")}_getIdTokenResponse(t){return er("not implemented")}_linkToIdToken(t,i){return er("not implemented")}_getReauthenticationResolver(t){return er("not implemented")}}async function $a(s,t){return tI(s,"POST","/v1/accounts:signInWithIdp",lp(s,t))}const RI="http://localhost";class Ys extends kT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Ys(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Oi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Ys(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return $a(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,$a(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,$a(t,i)}buildRequest(){const t={requestUri:RI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Hl(i)}return t}}class fp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class $l extends fp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Qr extends $l{constructor(){super("facebook.com")}static credential(t){return Ys._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Qr.credentialFromTaggedObject(t)}static credentialFromError(t){return Qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Qr.credential(t.oauthAccessToken)}catch{return null}}}Qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qr.PROVIDER_ID="facebook.com";class tr extends $l{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Ys._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return tr.credentialFromTaggedObject(t)}static credentialFromError(t){return tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return tr.credential(i,a)}catch{return null}}}tr.GOOGLE_SIGN_IN_METHOD="google.com";tr.PROVIDER_ID="google.com";class Kr extends $l{constructor(){super("github.com")}static credential(t){return Ys._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Kr.credentialFromTaggedObject(t)}static credentialFromError(t){return Kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Kr.credential(t.oauthAccessToken)}catch{return null}}}Kr.GITHUB_SIGN_IN_METHOD="github.com";Kr.PROVIDER_ID="github.com";class Yr extends $l{constructor(){super("twitter.com")}static credential(t,i){return Ys._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Yr.credentialFromTaggedObject(t)}static credentialFromError(t){return Yr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Yr.credential(i,a)}catch{return null}}}Yr.TWITTER_SIGN_IN_METHOD="twitter.com";Yr.PROVIDER_ID="twitter.com";class lo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await ti._fromIdTokenResponse(t,a,l),d=g0(a);return new lo({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=g0(a);return new lo({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function g0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class rh extends lr{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,rh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new rh(t,i,a,l)}}function LT(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?rh._fromErrorAndOperation(s,c,t,a):c})}async function II(s,t,i=!1){const a=await Bl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return lo._forOperation(s,"link",a)}async function CI(s,t,i=!1){const{auth:a}=s;if(Wn(a.app))return Promise.reject(Gs(a));const l="reauthenticate";try{const c=await Bl(s,LT(a,l,t,s),i);_t(c.idToken,a,"internal-error");const d=up(c.idToken);_t(d,a,"internal-error");const{sub:g}=d;return _t(s.uid===g,a,"user-mismatch"),lo._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Oi(a,"user-mismatch"),c}}async function NI(s,t,i=!1){if(Wn(s.app))return Promise.reject(Gs(s));const a="signIn",l=await LT(s,a,t),c=await lo._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}function xI(s,t,i,a){return Be(s).onIdTokenChanged(t,i,a)}function DI(s,t,i){return Be(s).beforeAuthStateChanged(t,i)}function OI(s,t,i,a){return Be(s).onAuthStateChanged(t,i,a)}function VI(s){return Be(s).signOut()}const sh="__sak";class UT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(sh,"1"),this.storage.removeItem(sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const MI=1e3,kI=10;class PT extends UT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=OT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);hI()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,kI):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},MI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}PT.type="LOCAL";const LI=PT;class zT extends UT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}zT.type="SESSION";const jT=zT;function UI(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class wh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new wh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async y=>y(i.origin,c)),v=await UI(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wh.receivers=[];function dp(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class PI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,v)=>{const y=dp("",20);l.port1.start();const T=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const O=S;if(O.data.eventId===y)switch(O.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(O.data.response);break;default:clearTimeout(T),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function xi(){return window}function zI(s){xi().location.href=s}function BT(){return typeof xi().WorkerGlobalScope<"u"&&typeof xi().importScripts=="function"}async function jI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BI(){return navigator?.serviceWorker?.controller||null}function qI(){return BT()?self:null}const qT="firebaseLocalStorageDb",HI=1,ah="firebaseLocalStorage",HT="fbase_key";class Jl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Rh(s,t){return s.transaction([ah],t?"readwrite":"readonly").objectStore(ah)}function GI(){const s=indexedDB.deleteDatabase(qT);return new Jl(s).toPromise()}function gm(){const s=indexedDB.open(qT,HI);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(ah,{keyPath:HT})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(ah)?t(a):(a.close(),await GI(),t(await gm()))})})}async function y0(s,t,i){const a=Rh(s,!0).put({[HT]:t,value:i});return new Jl(a).toPromise()}async function FI(s,t){const i=Rh(s,!1).get(t),a=await new Jl(i).toPromise();return a===void 0?null:a.value}function _0(s,t){const i=Rh(s,!0).delete(t);return new Jl(i).toPromise()}const QI=800,KI=3;class GT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>KI)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wh._getInstance(qI()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await jI(),!this.activeServiceWorker)return;this.sender=new PI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||BI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await gm();return await y0(t,sh,"1"),await _0(t,sh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>y0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>FI(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>_0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Rh(l,!1).getAll();return new Jl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GT.type="LOCAL";const YI=GT;new Xl(3e4,6e4);function FT(s,t){return t?nr(t):(_t(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class mp extends kT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return $a(t,this._buildIdpRequest())}_linkToIdToken(t,i){return $a(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return $a(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function XI(s){return NI(s.auth,new mp(s),s.bypassAuthState)}function $I(s){const{auth:t,user:i}=s;return _t(i,t,"internal-error"),CI(i,new mp(s),s.bypassAuthState)}async function JI(s){const{auth:t,user:i}=s;return _t(i,t,"internal-error"),II(i,new mp(s),s.bypassAuthState)}class QT{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(v))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return XI;case"linkViaPopup":case"linkViaRedirect":return JI;case"reauthViaPopup":case"reauthViaRedirect":return $I;default:Oi(this.auth,"internal-error")}}resolve(t){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ZI=new Xl(2e3,1e4);async function WI(s,t,i){if(Wn(s.app))return Promise.reject(ii(s,"operation-not-supported-in-this-environment"));const a=Sh(s);K2(s,t,fp);const l=FT(a,i);return new Bs(a,"signInViaPopup",t,l).executeNotNull()}class Bs extends QT{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Bs.currentPopupAction&&Bs.currentPopupAction.cancel(),Bs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){or(this.filter.length===1,"Popup operations only handle one event");const t=dp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bs.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,ZI.get())};t()}}Bs.currentPopupAction=null;const tC="pendingRedirect",qc=new Map;class eC extends QT{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=qc.get(this.auth._key());if(!t){try{const a=await nC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}qc.set(this.auth._key(),t)}return this.bypassAuthState||qc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nC(s,t){const i=sC(t),a=rC(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function iC(s,t){qc.set(s._key(),t)}function rC(s){return nr(s._redirectPersistence)}function sC(s){return Bc(tC,s.config.apiKey,s.name)}async function aC(s,t,i=!1){if(Wn(s.app))return Promise.reject(Gs(s));const a=Sh(s),l=FT(a,t),d=await new eC(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const oC=600*1e3;class lC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!uC(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!KT(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(ii(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=oC&&this.cachedEventUids.clear(),this.cachedEventUids.has(v0(t))}saveEventToCache(t){this.cachedEventUids.add(v0(t)),this.lastProcessedEventTime=Date.now()}}function v0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function KT({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function uC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KT(s);default:return!1}}async function cC(s,t={}){return yo(s,"GET","/v1/projects",t)}const hC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fC=/^https?/;async function dC(s){if(s.config.emulator)return;const{authorizedDomains:t}=await cC(s);for(const i of t)try{if(mC(i))return}catch{}Oi(s,"unauthorized-domain")}function mC(s){const t=mm(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!fC.test(i))return!1;if(hC.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const pC=new Xl(3e4,6e4);function E0(){const s=xi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function gC(s){return new Promise((t,i)=>{function a(){E0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{E0(),i(ii(s,"network-request-failed"))},timeout:pC.get()})}if(xi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(xi().gapi?.load)a();else{const l=EI("iframefcb");return xi()[l]=()=>{gapi.load?a():i(ii(s,"network-request-failed"))},_I(`${vI()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Hc=null,t})}let Hc=null;function yC(s){return Hc=Hc||gC(s),Hc}const _C=new Xl(5e3,15e3),vC="__/auth/iframe",EC="emulator/auth/iframe",TC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AC(s){const t=s.config;_t(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?op(t,EC):`https://${s.config.authDomain}/${vC}`,a={apiKey:t.apiKey,appName:s.name,v:co},l=bC.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Hl(a).slice(1)}`}async function SC(s){const t=await yC(s),i=xi().gapi;return _t(i,s,"internal-error"),t.open({where:document.body,url:AC(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TC,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=ii(s,"network-request-failed"),g=xi().setTimeout(()=>{c(d)},_C.get());function v(){xi().clearTimeout(g),l(a)}a.ping(v).then(v,()=>{c(d)})}))}const wC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RC=500,IC=600,CC="_blank",NC="http://localhost";class T0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xC(s,t,i,a=RC,l=IC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const v={...wC,width:a.toString(),height:l.toString(),top:c,left:d},y=rn().toLowerCase();i&&(g=IT(y)?CC:i),wT(y)&&(t=t||NC,v.scrollbars="yes");const T=Object.entries(v).reduce((O,[K,W])=>`${O}${K}=${W},`,"");if(cI(y)&&g!=="_self")return DC(t||"",g),new T0(null);const S=window.open(t||"",g,T);_t(S,s,"popup-blocked");try{S.focus()}catch{}return new T0(S)}function DC(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const OC="__/auth/handler",VC="emulator/auth/handler",MC=encodeURIComponent("fac");async function b0(s,t,i,a,l,c){_t(s.config.authDomain,s,"auth-domain-config-required"),_t(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:co,eventId:l};if(t instanceof fp){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",a1(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,S]of Object.entries({}))d[T]=S}if(t instanceof $l){const T=t.getScopes().filter(S=>S!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const v=await s._getAppCheckToken(),y=v?`#${MC}=${encodeURIComponent(v)}`:"";return`${kC(s)}?${Hl(g).slice(1)}${y}`}function kC({config:s}){return s.emulator?op(s,VC):`https://${s.authDomain}/${OC}`}const Gd="webStorageSupport";class LC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jT,this._completeRedirectFn=aC,this._overrideRedirectResult=iC}async _openPopup(t,i,a,l){or(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await b0(t,i,a,mm(),l);return xC(t,c,dp())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await b0(t,i,a,mm(),l);return zI(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(or(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await SC(t),a=new lC(t);return i.register("authEvent",l=>(_t(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Gd,{type:Gd},l=>{const c=l?.[0]?.[Gd];c!==void 0&&i(!!c),Oi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=dC(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return OT()||RT()||cp()}}const UC=LC;var A0="@firebase/auth",S0="1.12.0";class PC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function zC(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jC(s){Ja(new Fs("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;_t(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VT(s)},y=new gI(a,l,c,v);return bI(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Ja(new Fs("auth-internal",t=>{const i=Sh(t.getProvider("auth").getImmediate());return(a=>new PC(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zr(A0,S0,zC(s)),Zr(A0,S0,"esm2020")}const BC=300,qC=D0("authIdTokenMaxAge")||BC;let w0=null;const HC=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>qC)return;const l=i?.token;w0!==l&&(w0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function GC(s=U0()){const t=Em(s,"auth");if(t.isInitialized())return t.getImmediate();const i=TI(s,{popupRedirectResolver:UC,persistence:[YI,LI,jT]}),a=D0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=HC(c.toString());DI(i,d,()=>d(i.currentUser)),xI(i,g=>d(g))}}const l=N0("auth");return l&&AI(i,`http://${l}`),i}function FC(){return document.getElementsByTagName("head")?.[0]??document}yI({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=ii("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",FC().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jC("Browser");const QC={apiKey:"AIzaSyCQyGS486-RohBd3FHBQENIhH0PSkInwBs",authDomain:"expothearchive.firebaseapp.com",projectId:"expothearchive",storageBucket:"expothearchive.firebasestorage.app",messagingSenderId:"18895439101",appId:"1:18895439101:web:c17f8c3e565147f7396a94"},YT=L0(QC),Fr=R2(YT),Fd=GC(YT),KC=new tr;function YC(){const[s,t]=ne.useState([]),[i,a]=ne.useState([]),[l,c]=ne.useState(!0),[d,g]=ne.useState(null),[v,y]=ne.useState("grid"),[T,S]=ne.useState(null),[O,K]=ne.useState(""),[W,it]=ne.useState(new Date),[et,pt]=ne.useState("all"),[vt,Et]=ne.useState(""),[Qt,le]=ne.useState(!1),[dt,C]=ne.useState(!1),[A,I]=ne.useState(null),[V,x]=ne.useState(""),[k,w]=ne.useState(!1),Kt=ne.useRef(null),ue=ne.useRef(null),q=ne.useRef(null),[Z,lt]=ne.useState({type:"blog",content:"",title:"",src:"",audioSrc:"",tags:"",isTitle:!1,date:new Date().toLocaleDateString("nl-NL")});ne.useEffect(()=>{const G=setInterval(()=>it(new Date),1e3);return()=>clearInterval(G)},[]),ne.useEffect(()=>{const G=OI(Fd,ct=>S(ct));return()=>G()},[]),ne.useEffect(()=>{const G=ct=>{q.current&&!q.current.contains(ct.target)&&w(!1)};return document.addEventListener("mousedown",G),()=>document.removeEventListener("mousedown",G)},[]);const xt=async()=>{try{await WI(Fd,KC)}catch(G){console.error(G)}},qt=()=>{VI(Fd),y("grid"),w(!1)};ne.useEffect(()=>{const G=i0(Oc(Fr,"posts"),r0("timestamp","desc")),ct=l0(G,zt=>{const Ze=zt.docs.map(qe=>({id:qe.id,...qe.data()}));t(Ze),c(!1)});return()=>ct()},[]);const N=ne.useMemo(()=>s.filter(G=>{const ct=et==="all"||G.type===et,zt=G.content?.toLowerCase().includes(vt.toLowerCase())||G.title?.toLowerCase().includes(vt.toLowerCase())||G.tags?.toLowerCase().includes(vt.toLowerCase());return ct&&zt}),[s,et,vt]),F=G=>{if(!d)return;const ct=N.findIndex(Ze=>Ze.id===d.id);if(ct===-1)return;let zt=ct+G;zt<0&&(zt=N.length-1),zt>=N.length&&(zt=0),g(N[zt])};ne.useEffect(()=>{const G=ct=>{d&&(ct.key==="ArrowRight"&&F(1),ct.key==="ArrowLeft"&&F(-1),ct.key==="Escape"&&g(null))};return window.addEventListener("keydown",G),()=>window.removeEventListener("keydown",G)},[d,N]);const nt=G=>{Kt.current=G.targetTouches[0].clientX},st=G=>{ue.current=G.targetTouches[0].clientX},yt=()=>{if(!Kt.current||!ue.current)return;const G=Kt.current-ue.current,ct=G>50,zt=G<-50;ct&&F(1),zt&&F(-1),Kt.current=null,ue.current=null};ne.useEffect(()=>{if(!d)return;const G=i0(Oc(Fr,"posts",d.id,"comments"),r0("timestamp","asc")),ct=l0(G,zt=>{const Ze=zt.docs.map(qe=>({id:qe.id,...qe.data()}));a(Ze)});return()=>ct()},[d]);const St=async G=>{if(G.preventDefault(),!!T)try{await o0(Oc(Fr,"posts"),{...Z,timestamp:Zv(),authorEmail:T.email,likes:0,likedBy:[]}),lt({type:"blog",content:"",title:"",src:"",audioSrc:"",tags:"",isTitle:!1,date:new Date().toLocaleDateString("nl-NL")}),y("grid")}catch(ct){console.error(ct)}},Dt=async(G,ct,zt)=>{G.stopPropagation();try{await qd(wl(Fr,"posts",ct),{content:zt}),I(null)}catch(Ze){console.error(Ze)}},pe=async(G,ct)=>{if(G.stopPropagation(),!!window.confirm("Permanent verwijderen uit het archief?"))try{await H2(wl(Fr,"posts",ct))}catch(zt){console.error(zt)}},Jt=async(G,ct)=>{if(G&&G.stopPropagation(),!T){alert("Log in om te waarderen.");return}const zt=s.find(qe=>qe.id===ct);if(!zt)return;const Ze=zt.likedBy&&zt.likedBy.includes(T.uid);try{const qe=wl(Fr,"posts",ct);await qd(qe,{likes:Wv(Ze?-1:1),likedBy:Ze?P2(T.uid):U2(T.uid)})}catch(qe){console.error(qe)}},Vi=async G=>{if(!(!T||!d))try{const ct=wl(Fr,"posts",d.id,"comments",G);await qd(ct,{likes:Wv(1)})}catch(ct){console.error(ct)}},ur=async G=>{try{if(G.type==="blog")await navigator.clipboard.writeText(G.content),alert("Tekst gekopieerd!");else try{const zt=await(await fetch(G.src)).blob();await navigator.clipboard.write([new ClipboardItem({[zt.type]:zt})]),alert("Beeld gekopieerd!")}catch{await navigator.clipboard.writeText(G.src),alert("Link gekopieerd!")}}catch(ct){console.error(ct)}},cr=async G=>{if(G.preventDefault(),!(!O.trim()||!T||!d))try{await o0(Oc(Fr,"posts",d.id,"comments"),{text:O,userName:T.displayName,userPhoto:T.photoURL,timestamp:Zv(),likes:0,isAdmin:T.email.toLowerCase()==="gielmolder@gmail.com"}),K("")}catch(ct){console.error(ct)}};ne.useEffect(()=>{const G=document.createElement("style");G.innerHTML=`
      ::-webkit-scrollbar { display: none; }
      body { -ms-overflow-style: none; scrollbar-width: none; overflow-y: scroll; margin: 0; transition: background-color 0.5s ease; }
      .fade-in-entry { animation: fadeIn 0.8s ease-out forwards; opacity: 0; }
      @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
      .filters-container { max-height: 0; overflow: hidden; transition: max-height 0.5s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.3s ease; opacity: 0; }
      .filters-active { max-height: 450px; opacity: 1; }
    `,document.head.appendChild(G)},[]);const Mi=T&&T.email&&T.email.toLowerCase()==="gielmolder@gmail.com";return Y.jsxs("div",{className:`min-h-screen font-mono selection:bg-pink-200 selection:text-black flex flex-col transition-colors duration-500 ${dt?"bg-black text-white":"bg-[#f0f0f0] text-[#1a1a1a]"}`,children:[v==="grid"&&Y.jsxs("header",{className:`p-4 md:p-10 border-b-8 border-black sticky top-0 z-40 shadow-[0_4px_0_0_rgba(0,0,0,1)] transition-colors ${dt?"bg-[#111]":"bg-white"}`,children:[Y.jsxs("div",{className:"flex flex-row justify-between items-center gap-2",children:[Y.jsxs("div",{className:"group cursor-pointer select-none flex-grow",onClick:()=>le(!Qt),children:[Y.jsx("h1",{className:"text-xl md:text-6xl font-bold font-mono uppercase tracking-tighter italic leading-none transition-transform active:scale-95",children:"The Archive"}),Y.jsx("p",{className:`text-[7px] md:text-xs font-bold font-mono px-2 py-0.5 mt-1 inline-block uppercase tracking-widest whitespace-nowrap ${dt?"bg-white text-black":"bg-black text-white"}`,children:"Exposure Therapy // Giel te Molder"})]}),Y.jsxs("div",{className:"flex flex-row gap-2 md:gap-4 items-stretch flex-shrink-0",children:[Y.jsx("button",{onClick:()=>C(!dt),className:`px-3 md:px-6 py-1 md:py-3 border-2 md:border-4 border-black shadow-[2px_2px_0_0_rgba(0,0,0,1)] transition-all flex items-center justify-center ${dt?"bg-white text-black":"bg-black text-white"}`,children:dt?"":""}),Mi&&Y.jsx("button",{onClick:()=>y("admin"),className:"bg-yellow-300 border-2 md:border-4 border-black px-2 md:px-6 py-1 md:py-3 text-[8px] md:text-xs font-black uppercase shadow-[2px_2px_0_0_rgba(0,0,0,1)] text-black transition-all hover:shadow-none flex items-center justify-center",children:"+ NEW"}),T?Y.jsxs("div",{className:"relative",ref:q,children:[Y.jsxs("button",{onClick:()=>w(!k),className:`flex items-center gap-2 md:gap-4 px-2 md:px-4 py-1 md:py-3 border-2 md:border-4 border-black shadow-[2px_2px_0_0_rgba(0,0,0,1)] transition-all active:shadow-none active:translate-x-0.5 active:translate-y-0.5 h-full ${dt?"bg-white text-black":"bg-black text-white"}`,children:[Y.jsx("span",{className:"text-[7px] md:text-[10px] font-black uppercase tracking-widest leading-none",children:T.displayName?.split(" ")[0]||"Member"}),T.photoURL&&Y.jsx("img",{src:T.photoURL,className:"w-5 h-5 md:w-8 md:h-8 grayscale border border-current",alt:"u"})]}),k&&Y.jsxs("div",{className:`absolute right-0 mt-2 w-48 md:w-64 border-4 border-black p-4 md:p-6 z-50 shadow-[6px_6px_0_0_rgba(0,0,0,1)] flex flex-col gap-4 animate-in fade-in slide-in-from-top-2 duration-200 ${dt?"bg-[#111] text-white":"bg-white text-black"}`,children:[Y.jsxs("div",{className:"flex flex-col border-b-2 border-black/10 pb-3",children:[Y.jsx("span",{className:"text-[8px] font-black uppercase opacity-40 mb-1 tracking-widest",children:"Identity_"}),Y.jsx("span",{className:"text-[9px] md:text-[12px] font-bold truncate lowercase",children:T.email})]}),Y.jsx("button",{onClick:qt,className:"w-full bg-red-500 text-white text-[10px] md:text-xs font-black uppercase py-2 md:py-3 border-2 md:border-black shadow-[3px_3px_0_0_rgba(0,0,0,1)] hover:shadow-none hover:translate-x-0.5 hover:translate-y-0.5 transition-all text-center",children:"Sign_Out_"})]})]}):Y.jsx("button",{onClick:xt,className:`border-2 md:border-4 border-black px-2 md:px-6 py-1 md:py-3 text-[8px] md:text-xs font-black uppercase shadow-[2px_2px_0_0_rgba(0,0,0,1)] flex items-center justify-center ${dt?"bg-white text-black":"bg-black text-white"}`,children:"LOGIN"})]})]}),Y.jsx("div",{className:`filters-container ${Qt?"filters-active mt-8":""}`,children:Y.jsxs("div",{className:"flex flex-col gap-6 p-1 border-t-4 border-black pt-6 animate-in fade-in duration-500",children:[Y.jsx("div",{className:`flex border-4 border-black shadow-[6px_6px_0_0_rgba(0,0,0,1)] max-w-xl ${dt?"bg-black border-white":"bg-white"}`,children:Y.jsx("input",{type:"text",placeholder:"SEARCH / #TAGS...",className:"bg-transparent p-3 text-sm font-bold outline-none flex-grow uppercase font-mono placeholder:opacity-30",value:vt,onChange:G=>Et(G.target.value)})}),Y.jsx("div",{className:"flex flex-wrap gap-2 md:gap-4 text-[10px] md:text-[12px] font-black uppercase",children:["all","blog","art"].map(G=>Y.jsx("button",{onClick:()=>pt(G),className:`border-2 md:border-4 border-black px-3 py-1 md:px-4 md:py-2 transition-all shadow-[2px_2px_0_0_rgba(0,0,0,1)] ${et===G?dt?"bg-white text-black":"bg-black text-white":dt?"bg-[#222] text-white":"bg-white text-black"}`,children:G==="all"?"Everything":G==="blog"?"Text":"Visual"},G))})]})})]}),Y.jsx("div",{className:"flex-grow flex flex-col",children:v==="admin"?Y.jsx("div",{className:"bg-[#f0f0f0] min-h-screen flex flex-col p-4 md:p-20 items-center text-black",children:Y.jsxs("div",{className:"max-w-4xl w-full space-y-12",children:[Y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[Y.jsxs("div",{className:"bg-white border-4 border-black p-4 shadow-[5px_5px_0_0_rgba(0,0,0,1)] flex flex-col justify-between h-32",children:[Y.jsx("span",{className:"text-[10px] font-black uppercase opacity-40",children:"ENTRIES_"}),Y.jsx("span",{className:"text-4xl font-black italic tracking-tighter",children:s.length})]}),Y.jsxs("div",{className:"bg-white border-4 border-black p-4 shadow-[5px_5px_0_0_rgba(0,0,0,1)] flex flex-col justify-between h-32",children:[Y.jsx("span",{className:"text-[10px] font-black uppercase opacity-40",children:"IMPACT_"}),Y.jsx("span",{className:"text-4xl font-black italic tracking-tighter text-pink-400",children:s.reduce((G,ct)=>G+(ct.likes||0),0)})]})]}),Y.jsxs("div",{className:"bg-white border-4 md:border-[10px] border-black p-6 md:p-10 shadow-[20px_20px_0_0_rgba(0,0,0,1)]",children:[Y.jsxs("div",{className:"flex justify-between items-center border-b-4 border-black pb-4 mb-8",children:[Y.jsx("h2",{className:"text-2xl md:text-5xl font-black italic tracking-tighter uppercase underline decoration-yellow-300 underline-offset-4 font-mono",children:"Input_Terminal"}),Y.jsx("button",{onClick:()=>y("grid"),className:"text-[10px] font-black bg-black text-white px-4 py-2 border-2 border-black",children:"X"})]}),Y.jsxs("form",{onSubmit:St,className:"space-y-8 font-mono text-black",children:[Y.jsxs("div",{className:"flex border-4 border-black shadow-[6px_6px_0_0_rgba(0,0,0,1)]",children:[Y.jsx("button",{type:"button",onClick:()=>lt({...Z,type:"blog"}),className:`flex-1 py-4 font-black uppercase ${Z.type==="blog"?"bg-black text-white":"bg-white"}`,children:"Text"}),Y.jsx("button",{type:"button",onClick:()=>lt({...Z,type:"art"}),className:`flex-1 py-4 font-black uppercase ${Z.type==="art"?"bg-black text-white":"bg-white"}`,children:"Visual"})]}),Y.jsxs("div",{className:"space-y-4",children:[Y.jsx("input",{type:"text",placeholder:"TITLE",className:"w-full bg-transparent border-b-4 border-black p-2 text-xl font-black outline-none",value:Z.title,onChange:G=>lt({...Z,title:G.target.value})}),Z.type==="art"&&Y.jsx("input",{type:"text",placeholder:"IMAGE_URL",className:"w-full bg-transparent border-b-4 border-black p-2 text-lg font-black outline-none",value:Z.src,onChange:G=>lt({...Z,src:G.target.value})}),Y.jsx("input",{type:"text",placeholder:"TAGS (comma separated, e.g. #raw, #analog)",className:"w-full bg-transparent border-b-4 border-black p-2 text-lg font-black outline-none",value:Z.tags,onChange:G=>lt({...Z,tags:G.target.value})}),Y.jsx("textarea",{className:"w-full bg-white border-4 border-black p-4 h-64 text-xl font-bold outline-none focus:bg-yellow-50 resize-none",placeholder:"CONTENT...",value:Z.content,onChange:G=>lt({...Z,content:G.target.value})})]}),Y.jsx("button",{type:"submit",className:"w-full bg-black text-white py-6 font-black text-3xl uppercase italic tracking-tighter hover:bg-yellow-300 transition-all shadow-[10px_10px_0_0_rgba(0,0,0,1)]",children:"PUSH_"})]})]})]})}):Y.jsx("main",{className:"p-4 md:p-12 mb-10 block flex-grow",children:Y.jsx("div",{className:"columns-2 md:columns-3 lg:columns-4 xl:columns-5 gap-4 md:gap-8 max-w-[1700px] mx-auto space-y-4 md:space-y-8",children:N.map(G=>Y.jsxs("div",{onClick:()=>g(G),className:`break-inside-avoid border-2 md:border-4 border-black group cursor-pointer transition-all mb-4 md:mb-8 fade-in-entry shadow-[4px_4px_0_0_rgba(0,0,0,1)] md:shadow-[8px_8px_0_0_rgba(0,0,0,1)] hover:shadow-none hover:translate-x-1 hover:translate-y-1 relative ${G.type==="art"?"bg-black p-0.5":"p-4 md:p-8"} ${G.isTitle?dt?"bg-[#222] text-white border-l-[8px]":"bg-white border-l-[15px]":G.type==="blog"?"bg-yellow-300 text-black":""}`,children:[Mi&&Y.jsxs("div",{className:"absolute -top-3 -right-3 flex gap-1 z-10",children:[Y.jsx("button",{onClick:ct=>{ct.stopPropagation(),I(G.id),x(G.content)},className:"bg-blue-500 text-white w-7 h-7 border-2 border-black flex items-center justify-center hover:bg-black transition-colors shadow-[2px_2px_0_0_rgba(0,0,0,1)]",children:""}),Y.jsx("button",{onClick:ct=>pe(ct,G.id),className:"bg-red-500 text-white w-7 h-7 border-2 border-black flex items-center justify-center hover:bg-black transition-colors shadow-[2px_2px_0_0_rgba(0,0,0,1)]",children:""})]}),G.type==="blog"?Y.jsxs("div",{className:"space-y-2 text-black",children:[A===G.id?Y.jsxs("div",{onClick:ct=>ct.stopPropagation(),className:"space-y-2",children:[Y.jsx("textarea",{value:V,onChange:ct=>x(ct.target.value),className:"w-full p-2 text-xs font-bold border-2 border-black bg-white text-black min-h-[100px]"}),Y.jsx("button",{onClick:ct=>Dt(ct,G.id,V),className:"bg-black text-white px-2 py-1 text-[10px] font-black uppercase",children:"Save"})]}):Y.jsx("p",{className:`font-black uppercase tracking-tighter leading-tight ${G.isTitle?"text-lg md:text-3xl italic":"text-[9px] md:text-[12px] line-clamp-[10]"} ${G.isTitle&&dt?"text-white":""}`,children:G.isTitle?`"${G.content}"`:G.content}),Y.jsxs("div",{className:"flex justify-between items-end pt-2",children:[Y.jsxs("button",{onClick:ct=>Jt(ct,G.id),className:`flex items-center gap-1 text-[8px] md:text-[10px] font-black border border-black px-1 transition-all ${G.likedBy?.includes(T?.uid)?"bg-pink-300 text-black shadow-none translate-x-0.5 translate-y-0.5":"bg-pink-200 hover:bg-pink-300 text-black shadow-[2px_2px_0_0_rgba(0,0,0,1)]"}`,children:[Y.jsx("svg",{className:`w-2 h-2 ${G.likedBy?.includes(T?.uid)?"text-red-600":"text-red-500"} fill-current`,viewBox:"0 0 20 20",children:Y.jsx("path",{d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z"})}),G.likes||0]}),Y.jsx("span",{className:"text-[7px] md:text-[9px] font-black opacity-30 italic",children:G.date})]})]}):Y.jsxs("div",{className:"relative overflow-hidden",children:[Y.jsx("img",{src:G.src,alt:G.title,className:"w-full h-auto grayscale group-hover:grayscale-0 transition-all duration-700 block"}),Y.jsx("div",{className:"absolute top-2 left-2 bg-white text-black border-2 border-black px-2 py-0.5 text-[7px] md:text-[9px] font-black uppercase italic shadow-[2px_2px_0_0_rgba(0,0,0,1)]",children:G.title}),Y.jsxs("button",{onClick:ct=>Jt(ct,G.id),className:`absolute bottom-2 right-2 border-2 border-black px-1 flex items-center gap-1 text-[8px] font-black shadow-[2px_2px_0_0_rgba(0,0,0,1)] ${G.likedBy?.includes(T?.uid)?"bg-pink-300 text-black shadow-none":"bg-pink-200 text-black shadow-[2px_2px_0_0_rgba(0,0,0,1)]"}`,children:[Y.jsx("svg",{className:`w-2 h-2 ${G.likedBy?.includes(T?.uid)?"text-red-600":"text-red-500"} fill-current`,viewBox:"0 0 20 20",children:Y.jsx("path",{d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z"})}),G.likes||0]})]})]},G.id))})})}),v==="grid"&&Y.jsxs("footer",{className:"w-full px-6 py-4 flex flex-col md:flex-row justify-between items-center opacity-40 hover:opacity-100 transition-opacity duration-500 border-t border-black/10 text-[9px] md:text-[10px] gap-4 font-mono text-black",children:[Y.jsxs("div",{className:"flex gap-6 uppercase font-bold tracking-widest text-black",children:[Y.jsx("a",{href:"https://instagram.com/gieltemolder",target:"_blank",className:"hover:underline text-black",children:"Instagram"}),Y.jsx("a",{href:"mailto:gielmolder@gmail.com",className:"hover:underline text-black",children:"Contact"}),Y.jsx("span",{className:"text-black",children:"Exposure Therapy Archive"})]}),Y.jsxs("div",{className:"flex items-center gap-6 tabular-nums tracking-tighter text-black",children:[Y.jsx("div",{children:W.toLocaleTimeString("nl-NL",{hour12:!1})}),Y.jsxs("div",{className:"bg-black text-white px-2 py-1 flex items-center gap-2 border border-white/20",children:[Y.jsx("span",{className:"animate-pulse w-1 h-1 bg-yellow-300 rounded-full"}),Y.jsx("span",{className:"font-black uppercase tracking-tighter text-white",children:"NODE_01"})]})]})]}),d&&Y.jsx("div",{className:"fixed inset-0 bg-black/98 z-50 flex items-center justify-center p-2 md:p-12 backdrop-blur-2xl animate-in fade-in duration-300",onClick:()=>g(null),onTouchStart:nt,onTouchMove:st,onTouchEnd:yt,children:Y.jsxs("div",{className:`w-full max-w-4xl max-h-[90vh] overflow-y-auto border-4 md:border-[10px] border-black p-6 md:p-12 relative shadow-[20px_20px_0_0_rgba(0,0,0,1)] font-mono ${dt?"bg-[#111] text-white shadow-white/5":"bg-white text-black"}`,onClick:G=>G.stopPropagation(),children:[Y.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-4 mb-10 border-b-4 md:border-b-8 border-black pb-8",children:[Y.jsxs("div",{className:"flex-grow pr-10 text-black",children:[Y.jsx("h2",{className:`text-3xl md:text-6xl font-black uppercase italic tracking-tighter underline underline-offset-4 decoration-yellow-300 leading-none mb-4 ${dt?"text-white":"text-black"}`,children:String(d.title||(d.isTitle?"Manifesto":"Entry"))}),Y.jsx("div",{className:"flex flex-wrap gap-2 text-white",children:d.tags?.split(",").map(G=>Y.jsx("span",{className:"text-[10px] font-black uppercase bg-black px-2 py-0.5 text-white",children:G.trim()},G))})]}),Y.jsxs("div",{className:"flex flex-wrap gap-2 flex-shrink-0",children:[Y.jsx("button",{onClick:()=>ur(d),className:"bg-sky-200 text-black px-4 py-2 font-black text-xs border-2 border-black hover:bg-sky-300 transition-all shadow-[3px_3px_0_0_rgba(0,0,0,1)]",children:"SHARE"}),Y.jsxs("button",{onClick:()=>Jt(null,d.id),className:`px-4 py-2 border-2 border-black font-black flex items-center gap-2 transition-all ${d.likedBy?.includes(T?.uid)?"bg-pink-300 text-black shadow-none":"bg-pink-200 text-black hover:bg-pink-300 shadow-[3px_3px_0_0_rgba(0,0,0,1)]"}`,children:[Y.jsx("svg",{className:`w-4 h-4 ${d.likedBy?.includes(T?.uid)?"text-red-600":"text-red-500"} fill-current`,viewBox:"0 0 20 20",children:Y.jsx("path",{d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z"})}),d.likes||0]}),Y.jsx("button",{onClick:()=>g(null),className:"bg-black text-white px-6 py-2 font-black text-xs border-2 border-black hover:bg-yellow-300 hover:text-black uppercase shadow-[3px_3px_0_0_rgba(0,0,0,1)] transition-all",children:"Close_"})]})]}),Y.jsxs("div",{className:"space-y-12 text-black",children:[d.type==="art"&&Y.jsx("div",{className:"border-4 md:border-8 border-black p-1 bg-black shadow-[15px_15px_0_0_rgba(0,0,0,0.2)]",children:Y.jsx("img",{src:d.src,className:"w-full h-auto grayscale hover:grayscale-0 transition-all duration-1000 border-2 border-white",alt:"Art Large"})}),Y.jsx("div",{className:`text-xl md:text-3xl leading-snug font-black text-justify whitespace-pre-wrap tracking-tighter uppercase selection:bg-yellow-300 ${dt?"text-white":"text-black"}`,children:d.content}),Y.jsxs("div",{className:"mt-20 border-t-8 border-black pt-12 text-black",children:[Y.jsx("h3",{className:`text-2xl md:text-4xl font-black uppercase italic mb-10 underline decoration-pink-300 underline-offset-8 ${dt?"text-white":"text-black"}`,children:"Responses_"}),Y.jsx("div",{className:"space-y-6 mb-12",children:i.length===0?Y.jsx("p",{className:"text-xs font-bold opacity-30 italic text-black",children:"No signals yet..."}):i.map(G=>Y.jsxs("div",{className:`p-4 border-4 border-black flex gap-4 ${G.isAdmin?"bg-yellow-300 text-black":dt?"bg-[#222]":"bg-white text-black"} shadow-[6px_6px_0_0_rgba(0,0,0,1)]`,children:[G.userPhoto&&Y.jsx("img",{src:G.userPhoto,className:"w-10 h-10 border-2 border-black grayscale",alt:"av"}),Y.jsxs("div",{className:"flex-grow",children:[Y.jsxs("div",{className:"flex justify-between items-start mb-2",children:[Y.jsxs("span",{className:"text-[10px] font-black uppercase opacity-50",children:[G.userName," // ",G.isAdmin?"ADMIN":"USER"]}),Y.jsxs("button",{onClick:()=>Vi(G.id),className:"text-[10px] font-black border border-black/20 px-2 flex items-center gap-1 hover:bg-pink-100 transition-colors",children:[Y.jsx("svg",{className:"w-2 h-2 text-red-500 fill-current",viewBox:"0 0 20 20",children:Y.jsx("path",{d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z"})}),G.likes||0]})]}),Y.jsx("p",{className:`text-sm md:text-xl font-bold tracking-tight leading-tight uppercase ${dt?"text-white":"text-black"}`,children:G.text})]})]},G.id))}),T?Y.jsxs("form",{onSubmit:cr,className:"flex flex-col gap-4",children:[Y.jsx("textarea",{value:O,onChange:G=>K(G.target.value),placeholder:"ENTER RESPONSE...",className:`w-full border-4 border-black p-4 text-lg md:text-2xl font-bold focus:bg-pink-50 focus:text-black outline-none shadow-[8px_8px_0_0_rgba(0,0,0,1)] ${dt?"bg-[#222] text-white":"bg-white text-black"}`}),Y.jsx("button",{type:"submit",className:"bg-black text-white py-4 md:py-6 font-black uppercase text-xl md:text-3xl italic tracking-tighter hover:bg-pink-300 hover:text-black transition-all shadow-[10px_10px_0_0_rgba(0,0,0,1)]",children:"Push_Response_"})]}):Y.jsx("button",{onClick:xt,className:"w-full border-4 border-dashed border-black p-10 text-xl font-black uppercase hover:bg-yellow-300 transition-colors text-black",children:"LOGIN_TO_SIGNAL_"})]})]})]})})]})}MA.createRoot(document.getElementById("root")).render(Y.jsx(ne.StrictMode,{children:Y.jsx(YC,{})}));
