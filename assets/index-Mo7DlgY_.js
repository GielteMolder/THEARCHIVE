(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var bd={exports:{}},pl={};var O_;function Eb(){if(O_)return pl;O_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return pl.Fragment=t,pl.jsx=i,pl.jsxs=i,pl}var V_;function Tb(){return V_||(V_=1,bd.exports=Eb()),bd.exports}var Z=Tb(),Sd={exports:{}},Et={};var x_;function Ab(){if(x_)return Et;x_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),V=Symbol.iterator;function F(O){return O===null||typeof O!="object"?null:(O=V&&O[V]||O["@@iterator"],typeof O=="function"?O:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,et={};function dt(O,Y,nt){this.props=O,this.context=Y,this.refs=et,this.updater=nt||$}dt.prototype.isReactComponent={},dt.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},dt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function gt(){}gt.prototype=dt.prototype;function _t(O,Y,nt){this.props=O,this.context=Y,this.refs=et,this.updater=nt||$}var wt=_t.prototype=new gt;wt.constructor=_t,it(wt,dt.prototype),wt.isPureReactComponent=!0;var Gt=Array.isArray;function kt(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function I(O,Y,nt){var at=nt.ref;return{$$typeof:s,type:O,key:Y,ref:at!==void 0?at:null,props:nt}}function x(O,Y){return I(O.type,Y,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function k(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(nt){return Y[nt]})}var w=/\/+/g;function J(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):Y.toString(36)}function At(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(kt,kt):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function q(O,Y,nt,at,yt){var Rt=typeof O;(Rt==="undefined"||Rt==="boolean")&&(O=null);var Lt=!1;if(O===null)Lt=!0;else switch(Rt){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(O.$$typeof){case s:case t:Lt=!0;break;case A:return Lt=O._init,q(Lt(O._payload),Y,nt,at,yt)}}if(Lt)return yt=yt(O),Lt=at===""?"."+J(O,0):at,Gt(yt)?(nt="",Lt!=null&&(nt=Lt.replace(w,"$&/")+"/"),q(yt,Y,nt,"",function(ts){return ts})):yt!=null&&(D(yt)&&(yt=x(yt,nt+(yt.key==null||O&&O.key===yt.key?"":(""+yt.key).replace(w,"$&/")+"/")+Lt)),Y.push(yt)),1;Lt=0;var De=at===""?".":at+":";if(Gt(O))for(var se=0;se<O.length;se++)at=O[se],Rt=De+J(at,se),Lt+=q(at,Y,nt,Rt,yt);else if(se=F(O),typeof se=="function")for(O=se.call(O),se=0;!(at=O.next()).done;)at=at.value,Rt=De+J(at,se++),Lt+=q(at,Y,nt,Rt,yt);else if(Rt==="object"){if(typeof O.then=="function")return q(At(O),Y,nt,at,yt);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function tt(O,Y,nt){if(O==null)return O;var at=[],yt=0;return q(O,at,"","",function(Rt){return Y.call(nt,Rt,yt++)}),at}function ut(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(nt){(O._status===0||O._status===-1)&&(O._status=1,O._result=nt)},function(nt){(O._status===0||O._status===-1)&&(O._status=2,O._result=nt)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var zt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Qt={map:tt,forEach:function(O,Y,nt){tt(O,function(){Y.apply(this,arguments)},nt)},count:function(O){var Y=0;return tt(O,function(){Y++}),Y},toArray:function(O){return tt(O,function(Y){return Y})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Et.Activity=S,Et.Children=Qt,Et.Component=dt,Et.Fragment=i,Et.Profiler=l,Et.PureComponent=_t,Et.StrictMode=a,Et.Suspense=v,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Et.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},Et.cache=function(O){return function(){return O.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(O,Y,nt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var at=it({},O.props),yt=O.key;if(Y!=null)for(Rt in Y.key!==void 0&&(yt=""+Y.key),Y)!b.call(Y,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&Y.ref===void 0||(at[Rt]=Y[Rt]);var Rt=arguments.length-2;if(Rt===1)at.children=nt;else if(1<Rt){for(var Lt=Array(Rt),De=0;De<Rt;De++)Lt[De]=arguments[De+2];at.children=Lt}return I(O.type,yt,at)},Et.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Et.createElement=function(O,Y,nt){var at,yt={},Rt=null;if(Y!=null)for(at in Y.key!==void 0&&(Rt=""+Y.key),Y)b.call(Y,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(yt[at]=Y[at]);var Lt=arguments.length-2;if(Lt===1)yt.children=nt;else if(1<Lt){for(var De=Array(Lt),se=0;se<Lt;se++)De[se]=arguments[se+2];yt.children=De}if(O&&O.defaultProps)for(at in Lt=O.defaultProps,Lt)yt[at]===void 0&&(yt[at]=Lt[at]);return I(O,Rt,yt)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(O){return{$$typeof:g,render:O}},Et.isValidElement=D,Et.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:ut}},Et.memo=function(O,Y){return{$$typeof:y,type:O,compare:Y===void 0?null:Y}},Et.startTransition=function(O){var Y=C.T,nt={};C.T=nt;try{var at=O(),yt=C.S;yt!==null&&yt(nt,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(kt,zt)}catch(Rt){zt(Rt)}finally{Y!==null&&nt.types!==null&&(Y.types=nt.types),C.T=Y}},Et.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Et.use=function(O){return C.H.use(O)},Et.useActionState=function(O,Y,nt){return C.H.useActionState(O,Y,nt)},Et.useCallback=function(O,Y){return C.H.useCallback(O,Y)},Et.useContext=function(O){return C.H.useContext(O)},Et.useDebugValue=function(){},Et.useDeferredValue=function(O,Y){return C.H.useDeferredValue(O,Y)},Et.useEffect=function(O,Y){return C.H.useEffect(O,Y)},Et.useEffectEvent=function(O){return C.H.useEffectEvent(O)},Et.useId=function(){return C.H.useId()},Et.useImperativeHandle=function(O,Y,nt){return C.H.useImperativeHandle(O,Y,nt)},Et.useInsertionEffect=function(O,Y){return C.H.useInsertionEffect(O,Y)},Et.useLayoutEffect=function(O,Y){return C.H.useLayoutEffect(O,Y)},Et.useMemo=function(O,Y){return C.H.useMemo(O,Y)},Et.useOptimistic=function(O,Y){return C.H.useOptimistic(O,Y)},Et.useReducer=function(O,Y,nt){return C.H.useReducer(O,Y,nt)},Et.useRef=function(O){return C.H.useRef(O)},Et.useState=function(O){return C.H.useState(O)},Et.useSyncExternalStore=function(O,Y,nt){return C.H.useSyncExternalStore(O,Y,nt)},Et.useTransition=function(){return C.H.useTransition()},Et.version="19.2.3",Et}var M_;function mm(){return M_||(M_=1,Sd.exports=Ab()),Sd.exports}var Ue=mm(),wd={exports:{}},gl={},Rd={exports:{}},Id={};var k_;function bb(){return k_||(k_=1,(function(s){function t(q,tt){var ut=q.length;q.push(tt);t:for(;0<ut;){var zt=ut-1>>>1,Qt=q[zt];if(0<l(Qt,tt))q[zt]=tt,q[ut]=Qt,ut=zt;else break t}}function i(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var tt=q[0],ut=q.pop();if(ut!==tt){q[0]=ut;t:for(var zt=0,Qt=q.length,O=Qt>>>1;zt<O;){var Y=2*(zt+1)-1,nt=q[Y],at=Y+1,yt=q[at];if(0>l(nt,ut))at<Qt&&0>l(yt,nt)?(q[zt]=yt,q[at]=ut,zt=at):(q[zt]=nt,q[Y]=ut,zt=Y);else if(at<Qt&&0>l(yt,ut))q[zt]=yt,q[at]=ut,zt=at;else break t}}return tt}function l(q,tt){var ut=q.sortIndex-tt.sortIndex;return ut!==0?ut:q.id-tt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var v=[],y=[],A=1,S=null,V=3,F=!1,$=!1,it=!1,et=!1,dt=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,_t=typeof setImmediate<"u"?setImmediate:null;function wt(q){for(var tt=i(y);tt!==null;){if(tt.callback===null)a(y);else if(tt.startTime<=q)a(y),tt.sortIndex=tt.expirationTime,t(v,tt);else break;tt=i(y)}}function Gt(q){if(it=!1,wt(q),!$)if(i(v)!==null)$=!0,kt||(kt=!0,k());else{var tt=i(y);tt!==null&&At(Gt,tt.startTime-q)}}var kt=!1,C=-1,b=5,I=-1;function x(){return et?!0:!(s.unstable_now()-I<b)}function D(){if(et=!1,kt){var q=s.unstable_now();I=q;var tt=!0;try{t:{$=!1,it&&(it=!1,gt(C),C=-1),F=!0;var ut=V;try{e:{for(wt(q),S=i(v);S!==null&&!(S.expirationTime>q&&x());){var zt=S.callback;if(typeof zt=="function"){S.callback=null,V=S.priorityLevel;var Qt=zt(S.expirationTime<=q);if(q=s.unstable_now(),typeof Qt=="function"){S.callback=Qt,wt(q),tt=!0;break e}S===i(v)&&a(v),wt(q)}else a(v);S=i(v)}if(S!==null)tt=!0;else{var O=i(y);O!==null&&At(Gt,O.startTime-q),tt=!1}}break t}finally{S=null,V=ut,F=!1}tt=void 0}}finally{tt?k():kt=!1}}}var k;if(typeof _t=="function")k=function(){_t(D)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,J=w.port2;w.port1.onmessage=D,k=function(){J.postMessage(null)}}else k=function(){dt(D,0)};function At(q,tt){C=dt(function(){q(s.unstable_now())},tt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(q){q.callback=null},s.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<q?Math.floor(1e3/q):5},s.unstable_getCurrentPriorityLevel=function(){return V},s.unstable_next=function(q){switch(V){case 1:case 2:case 3:var tt=3;break;default:tt=V}var ut=V;V=tt;try{return q()}finally{V=ut}},s.unstable_requestPaint=function(){et=!0},s.unstable_runWithPriority=function(q,tt){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ut=V;V=q;try{return tt()}finally{V=ut}},s.unstable_scheduleCallback=function(q,tt,ut){var zt=s.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?zt+ut:zt):ut=zt,q){case 1:var Qt=-1;break;case 2:Qt=250;break;case 5:Qt=1073741823;break;case 4:Qt=1e4;break;default:Qt=5e3}return Qt=ut+Qt,q={id:A++,callback:tt,priorityLevel:q,startTime:ut,expirationTime:Qt,sortIndex:-1},ut>zt?(q.sortIndex=ut,t(y,q),i(v)===null&&q===i(y)&&(it?(gt(C),C=-1):it=!0,At(Gt,ut-zt))):(q.sortIndex=Qt,t(v,q),$||F||($=!0,kt||(kt=!0,k()))),q},s.unstable_shouldYield=x,s.unstable_wrapCallback=function(q){var tt=V;return function(){var ut=V;V=tt;try{return q.apply(this,arguments)}finally{V=ut}}}})(Id)),Id}var U_;function Sb(){return U_||(U_=1,Rd.exports=bb()),Rd.exports}var Cd={exports:{}},Ke={};var L_;function wb(){if(L_)return Ke;L_=1;var s=mm();function t(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(v,y,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:v,containerInfo:y,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ke.createPortal=function(v,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(v,y,null,A)},Ke.flushSync=function(v){var y=d.T,A=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=y,a.p=A,a.d.f()}},Ke.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(v,y))},Ke.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Ke.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var A=y.as,S=g(A,y.crossOrigin),V=typeof y.integrity=="string"?y.integrity:void 0,F=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?a.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:V,fetchPriority:F}):A==="script"&&a.d.X(v,{crossOrigin:S,integrity:V,fetchPriority:F,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ke.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=g(y.as,y.crossOrigin);a.d.M(v,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(v)},Ke.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,S=g(A,y.crossOrigin);a.d.L(v,A,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ke.preloadModule=function(v,y){if(typeof v=="string")if(y){var A=g(y.as,y.crossOrigin);a.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(v)},Ke.requestFormReset=function(v){a.d.r(v)},Ke.unstable_batchedUpdates=function(v,y){return v(y)},Ke.useFormState=function(v,y,A){return d.H.useFormState(v,y,A)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.2.3",Ke}var P_;function Rb(){if(P_)return Cd.exports;P_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Cd.exports=wb(),Cd.exports}var z_;function Ib(){if(z_)return gl;z_=1;var s=Sb(),t=mm(),i=Rb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return v(h),e;if(f===o)return v(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===r){p=!0,r=h,o=f;break}if(E===o){p=!0,o=h,r=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===r){p=!0,r=f,o=h;break}if(E===o){p=!0,o=f,r=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,V=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),et=Symbol.for("react.strict_mode"),dt=Symbol.for("react.profiler"),gt=Symbol.for("react.consumer"),_t=Symbol.for("react.context"),wt=Symbol.for("react.forward_ref"),Gt=Symbol.for("react.suspense"),kt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function J(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case it:return"Fragment";case dt:return"Profiler";case et:return"StrictMode";case Gt:return"Suspense";case kt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case $:return"Portal";case _t:return e.displayName||"Context";case gt:return(e._context.displayName||"Context")+".Consumer";case wt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:J(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return J(e(n))}catch{}}return null}var At=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},zt=[],Qt=-1;function O(e){return{current:e}}function Y(e){0>Qt||(e.current=zt[Qt],zt[Qt]=null,Qt--)}function nt(e,n){Qt++,zt[Qt]=e.current,e.current=n}var at=O(null),yt=O(null),Rt=O(null),Lt=O(null);function De(e,n){switch(nt(Rt,n),nt(yt,e),nt(at,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?t_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=t_(n),e=e_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(at),nt(at,e)}function se(){Y(at),Y(yt),Y(Rt)}function ts(e){e.memoizedState!==null&&nt(Lt,e);var n=at.current,r=e_(n,e.type);n!==r&&(nt(yt,e),nt(at,r))}function Fs(e){yt.current===e&&(Y(at),Y(yt)),Lt.current===e&&(Y(Lt),hl._currentValue=ut)}var Qs,Ys;function ti(e){if(Qs===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Qs=n&&n[1]||"",Ys=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qs+e+Ys}var co=!1;function es(e,n){if(!e||co)return"";co=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(j){var z=j}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(j){z=j}e.call(Q.prototype)}}else{try{throw Error()}catch(j){z=j}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(j){if(j&&z&&typeof j.stack=="string")return[j.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var R=p.split(`
`),P=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===P.length)for(o=R.length-1,h=P.length-1;1<=o&&0<=h&&R[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==P[h]){var H=`
`+R[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=h);break}}}finally{co=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?ti(r):""}function ho(e,n){switch(e.tag){case 26:case 27:case 5:return ti(e.type);case 16:return ti("Lazy");case 13:return e.child!==n&&n!==null?ti("Suspense Fallback"):ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return es(e.type,!1);case 11:return es(e.type.render,!1);case 1:return es(e.type,!0);case 31:return ti("Activity");default:return""}}function fo(e){try{var n="",r=null;do n+=ho(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ge=Object.prototype.hasOwnProperty,Ne=s.unstable_scheduleCallback,nr=s.unstable_cancelCallback,Sh=s.unstable_shouldYield,Zl=s.unstable_requestPaint,We=s.unstable_now,ns=s.unstable_getCurrentPriorityLevel,mo=s.unstable_ImmediatePriority,po=s.unstable_UserBlockingPriority,ir=s.unstable_NormalPriority,wh=s.unstable_LowPriority,$l=s.unstable_IdlePriority,Wl=s.log,tu=s.unstable_setDisableYieldValue,Un=null,ze=null;function An(e){if(typeof Wl=="function"&&tu(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Un,e)}catch{}}var he=Math.clz32?Math.clz32:nu,eu=Math.log,Ks=Math.LN2;function nu(e){return e>>>=0,e===0?32:31-(eu(e)/Ks|0)|0}var ei=256,is=262144,ye=4194304;function ni(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ii(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ni(o):(p&=E,p!==0?h=ni(p):r||(r=E&~e,r!==0&&(h=ni(r))))):(E=o&~f,E!==0?h=ni(E):p!==0?h=ni(p):r||(r=o&~e,r!==0&&(h=ni(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Ln(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Rh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iu(){var e=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),e}function ri(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function rs(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ih(e,n,r,o,h,f){var p=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,P=e.hiddenUpdates;for(r=p&~r;0<r;){var H=31-he(r),Q=1<<H;E[H]=0,R[H]=-1;var z=P[H];if(z!==null)for(P[H]=null,H=0;H<z.length;H++){var j=z[H];j!==null&&(j.lane&=-536870913)}r&=~Q}o!==0&&ss(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function ss(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-he(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function go(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-he(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function yo(e,n){var r=n&-n;return r=(r&42)!==0?1:as(r),(r&(e.suspendedLanes|n))!==0?0:r}function as(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Di(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ru(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:S_(e.type))}function Pn(e,n){var r=tt.p;try{return tt.p=e,n()}finally{tt.p=r}}var zn=Math.random().toString(36).slice(2),_e="__reactFiber$"+zn,xe="__reactProps$"+zn,si="__reactContainer$"+zn,Xs="__reactEvents$"+zn,Ch="__reactListeners$"+zn,su="__reactHandles$"+zn,au="__reactResources$"+zn,ai="__reactMarker$"+zn;function Js(e){delete e[_e],delete e[xe],delete e[Xs],delete e[Ch],delete e[su]}function oi(e){var n=e[_e];if(n)return n;for(var r=e.parentNode;r;){if(n=r[si]||r[_e]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=l_(e);e!==null;){if(r=e[_e])return r;e=l_(e)}return n}e=r,r=e.parentNode}return null}function bn(e){if(e=e[_e]||e[si]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function fn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function li(e){var n=e[au];return n||(n=e[au]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ve(e){e[ai]=!0}var _o=new Set,vo={};function ui(e,n){ci(e,n),ci(e+"Capture",n)}function ci(e,n){for(vo[e]=n,e=0;e<n.length;e++)_o.add(n[e])}var Eo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),To={},Ao={};function ou(e){return ge.call(Ao,e)?!0:ge.call(To,e)?!1:Eo.test(e)?Ao[e]=!0:(To[e]=!0,!1)}function Zs(e,n,r){if(ou(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function dn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Ee(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function Me(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function bo(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Yt(e){if(!e._valueTracker){var n=rr(e)?"checked":"value";e._valueTracker=bo(e,n,""+e[n])}}function os(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=rr(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function hi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ls=/[\n"\\]/g;function nn(e){return e.replace(ls,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function $s(e,n,r,o,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Me(n)):e.value!==""+Me(n)&&(e.value=""+Me(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?So(e,p,Me(n)):r!=null?So(e,p,Me(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Me(E):e.removeAttribute("name")}function lu(e,n,r,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Yt(e);return}r=r!=null?""+Me(r):"",n=n!=null?""+Me(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Yt(e)}function So(e,n,r){n==="number"&&hi(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function sr(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Me(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function uu(e,n,r){if(n!=null&&(n=""+Me(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Me(r):""}function ar(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(At(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Me(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Yt(e)}function rn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wo(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||cu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Ro(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&wo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&wo(e,f,n[f])}function Ws(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),or=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ta(e){return or.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Bn(){}var Io=null;function Sn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var lr=null,fi=null;function us(e){var n=bn(e);if(n&&(e=n.stateNode)){var r=e[xe]||null;t:switch(e=n.stateNode,n.type){case"input":if($s(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[xe]||null;if(!h)throw Error(a(90));$s(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&os(o)}break t;case"textarea":uu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&sr(e,!!r.multiple,n,!1)}}}var ea=!1;function ur(e,n,r){if(ea)return e(n,r);ea=!0;try{var o=e(n);return o}finally{if(ea=!1,(lr!==null||fi!==null)&&(rc(),lr&&(n=lr,e=fi,fi=lr=null,us(n),e)))for(n=0;n<e.length;n++)us(e[n])}}function jn(e,n){var r=e.stateNode;if(r===null)return null;var o=r[xe]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cs=!1;if(wn)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){cs=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{cs=!1}var di=null,Co=null,hs=null;function Do(){if(hs)return hs;var e,n=Co,r=n.length,o,h="value"in di?di.value:di.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var p=r-e;for(o=1;o<=p&&n[r-o]===h[f-o];o++);return hs=h.slice(e,1<o?1-o:void 0)}function fs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ni(){return!0}function qn(){return!1}function Be(e){function n(r,o,h,f,p){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ni:qn,this.isPropagationStopped=qn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),n}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=Be(Oi),cr=S({},Oi,{view:0,detail:0}),No=Be(cr),hr,na,pi,ia=S({},cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pi&&(pi&&e.type==="mousemove"?(hr=e.screenX-pi.screenX,na=e.screenY-pi.screenY):na=hr=0,pi=e),hr)},movementY:function(e){return"movementY"in e?e.movementY:na}}),Oo=Be(ia),ds=S({},ia,{dataTransfer:0}),fu=Be(ds),du=S({},cr,{relatedTarget:0}),ms=Be(du),Vo=S({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),mu=Be(Vo),ra=S({},Oi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pu=Be(ra),gu=S({},Oi,{data:0}),gi=Be(gu),yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=vu[e])?!!n[e]:!1}function fr(){return Eu}var tn=S({},cr,{key:function(e){if(e.key){var n=yu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=fs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_u[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fr,charCode:function(e){return e.type==="keypress"?fs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tu=Be(tn),Au=S({},ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vi=Be(Au),u=S({},cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fr}),m=Be(u),_=S({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Be(_),U=S({},ia,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Be(U),W=S({},Oi,{newState:0,oldState:0}),bt=Be(W),fe=[9,13,27,32],qt=wn&&"CompositionEvent"in window,ae=null;wn&&"documentMode"in document&&(ae=document.documentMode);var Rn=wn&&"TextEvent"in window&&!ae,yi=wn&&(!qt||ae&&8<ae&&11>=ae),Hn=" ",Gn=!1;function ps(e,n){switch(e){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var aa=!1;function GT(e,n){switch(e){case"compositionend":return sa(n);case"keypress":return n.which!==32?null:(Gn=!0,Hn);case"textInput":return e=n.data,e===Hn&&Gn?null:e;default:return null}}function FT(e,n){if(aa)return e==="compositionend"||!qt&&ps(e,n)?(e=Do(),hs=Co=di=null,aa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return yi&&n.locale!=="ko"?null:n.data;default:return null}}var QT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!QT[e.type]:n==="textarea"}function fp(e,n,r,o){lr?fi?fi.push(o):fi=[o]:lr=o,n=hc(n,"onChange"),0<n.length&&(r=new mi("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var xo=null,Mo=null;function YT(e){Ky(e,0)}function bu(e){var n=fn(e);if(os(n))return e}function dp(e,n){if(e==="change")return n}var mp=!1;if(wn){var Dh;if(wn){var Nh="oninput"in document;if(!Nh){var pp=document.createElement("div");pp.setAttribute("oninput","return;"),Nh=typeof pp.oninput=="function"}Dh=Nh}else Dh=!1;mp=Dh&&(!document.documentMode||9<document.documentMode)}function gp(){xo&&(xo.detachEvent("onpropertychange",yp),Mo=xo=null)}function yp(e){if(e.propertyName==="value"&&bu(Mo)){var n=[];fp(n,Mo,e,Sn(e)),ur(YT,n)}}function KT(e,n,r){e==="focusin"?(gp(),xo=n,Mo=r,xo.attachEvent("onpropertychange",yp)):e==="focusout"&&gp()}function XT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bu(Mo)}function JT(e,n){if(e==="click")return bu(n)}function ZT(e,n){if(e==="input"||e==="change")return bu(n)}function $T(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var mn=typeof Object.is=="function"?Object.is:$T;function ko(e,n){if(mn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!ge.call(n,h)||!mn(e[h],n[h]))return!1}return!0}function _p(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vp(e,n){var r=_p(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=_p(r)}}function Ep(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Ep(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Tp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=hi(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=hi(e.document)}return n}function Oh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var WT=wn&&"documentMode"in document&&11>=document.documentMode,oa=null,Vh=null,Uo=null,xh=!1;function Ap(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;xh||oa==null||oa!==hi(o)||(o=oa,"selectionStart"in o&&Oh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Uo&&ko(Uo,o)||(Uo=o,o=hc(Vh,"onSelect"),0<o.length&&(n=new mi("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=oa)))}function gs(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var la={animationend:gs("Animation","AnimationEnd"),animationiteration:gs("Animation","AnimationIteration"),animationstart:gs("Animation","AnimationStart"),transitionrun:gs("Transition","TransitionRun"),transitionstart:gs("Transition","TransitionStart"),transitioncancel:gs("Transition","TransitionCancel"),transitionend:gs("Transition","TransitionEnd")},Mh={},bp={};wn&&(bp=document.createElement("div").style,"AnimationEvent"in window||(delete la.animationend.animation,delete la.animationiteration.animation,delete la.animationstart.animation),"TransitionEvent"in window||delete la.transitionend.transition);function ys(e){if(Mh[e])return Mh[e];if(!la[e])return e;var n=la[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in bp)return Mh[e]=n[r];return e}var Sp=ys("animationend"),wp=ys("animationiteration"),Rp=ys("animationstart"),tA=ys("transitionrun"),eA=ys("transitionstart"),nA=ys("transitioncancel"),Ip=ys("transitionend"),Cp=new Map,kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kh.push("scrollEnd");function Fn(e,n){Cp.set(e,n),ui(n,[e])}var Su=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},In=[],ua=0,Uh=0;function wu(){for(var e=ua,n=Uh=ua=0;n<e;){var r=In[n];In[n++]=null;var o=In[n];In[n++]=null;var h=In[n];In[n++]=null;var f=In[n];if(In[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Dp(r,h,f)}}function Ru(e,n,r,o){In[ua++]=e,In[ua++]=n,In[ua++]=r,In[ua++]=o,Uh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Lh(e,n,r,o){return Ru(e,n,r,o),Iu(e)}function _s(e,n){return Ru(e,null,null,n),Iu(e)}function Dp(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-he(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Iu(e){if(50<rl)throw rl=0,Yf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ca={};function iA(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,n,r,o){return new iA(e,n,r,o)}function Ph(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xi(e,n){var r=e.alternate;return r===null?(r=pn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Np(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Cu(e,n,r,o,h,f){var p=0;if(o=e,typeof e=="function")Ph(e)&&(p=1);else if(typeof e=="string")p=lb(e,r,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=pn(31,r,n,h),e.elementType=I,e.lanes=f,e;case it:return vs(r.children,h,f,n);case et:p=8,h|=24;break;case dt:return e=pn(12,r,n,h|2),e.elementType=dt,e.lanes=f,e;case Gt:return e=pn(13,r,n,h),e.elementType=Gt,e.lanes=f,e;case kt:return e=pn(19,r,n,h),e.elementType=kt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _t:p=10;break t;case gt:p=9;break t;case wt:p=11;break t;case C:p=14;break t;case b:p=16,o=null;break t}p=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=pn(p,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function vs(e,n,r,o){return e=pn(7,e,o,n),e.lanes=r,e}function zh(e,n,r){return e=pn(6,e,null,n),e.lanes=r,e}function Op(e){var n=pn(18,null,null,0);return n.stateNode=e,n}function Bh(e,n,r){return n=pn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Vp=new WeakMap;function Cn(e,n){if(typeof e=="object"&&e!==null){var r=Vp.get(e);return r!==void 0?r:(n={value:e,source:n,stack:fo(n)},Vp.set(e,n),n)}return{value:e,source:n,stack:fo(n)}}var ha=[],fa=0,Du=null,Lo=0,Dn=[],Nn=0,dr=null,_i=1,vi="";function Mi(e,n){ha[fa++]=Lo,ha[fa++]=Du,Du=e,Lo=n}function xp(e,n,r){Dn[Nn++]=_i,Dn[Nn++]=vi,Dn[Nn++]=dr,dr=e;var o=_i;e=vi;var h=32-he(o)-1;o&=~(1<<h),r+=1;var f=32-he(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,_i=1<<32-he(n)+h|r<<h|o,vi=f+e}else _i=1<<f|r<<h|o,vi=e}function jh(e){e.return!==null&&(Mi(e,1),xp(e,1,0))}function qh(e){for(;e===Du;)Du=ha[--fa],ha[fa]=null,Lo=ha[--fa],ha[fa]=null;for(;e===dr;)dr=Dn[--Nn],Dn[Nn]=null,vi=Dn[--Nn],Dn[Nn]=null,_i=Dn[--Nn],Dn[Nn]=null}function Mp(e,n){Dn[Nn++]=_i,Dn[Nn++]=vi,Dn[Nn++]=dr,_i=n.id,vi=n.overflow,dr=e}var je=null,ne=null,Ut=!1,mr=null,On=!1,Hh=Error(a(519));function pr(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Po(Cn(n,e)),Hh}function kp(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[_e]=e,n[xe]=o,r){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(r=0;r<al.length;r++)Dt(al[r],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),lu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),ar(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||$y(n.textContent,r)?(o.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),o.onScroll!=null&&Dt("scroll",n),o.onScrollEnd!=null&&Dt("scrollend",n),o.onClick!=null&&(n.onclick=Bn),n=!0):n=!1,n||pr(e,!0)}function Up(e){for(je=e.return;je;)switch(je.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:je=je.return}}function da(e){if(e!==je)return!1;if(!Ut)return Up(e),Ut=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||ld(e.type,e.memoizedProps)),r=!r),r&&ne&&pr(e),Up(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ne=o_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ne=o_(e)}else n===27?(n=ne,Dr(e.type)?(e=dd,dd=null,ne=e):ne=n):ne=je?xn(e.stateNode.nextSibling):null;return!0}function Es(){ne=je=null,Ut=!1}function Gh(){var e=mr;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),mr=null),e}function Po(e){mr===null?mr=[e]:mr.push(e)}var Fh=O(null),Ts=null,ki=null;function gr(e,n,r){nt(Fh,n._currentValue),n._currentValue=r}function Ui(e){e._currentValue=Fh.current,Y(Fh)}function Qh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function Yh(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Qh(f.return,r,e),o||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),Qh(p,r,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function ma(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;mn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===Lt.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(hl):e=[hl])}h=h.return}e!==null&&Yh(n,e,r,o),n.flags|=262144}function Nu(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function As(e){Ts=e,ki=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return Lp(Ts,e)}function Ou(e,n){return Ts===null&&As(e),Lp(e,n)}function Lp(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},ki===null){if(e===null)throw Error(a(308));ki=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ki=ki.next=n;return r}var rA=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},sA=s.unstable_scheduleCallback,aA=s.unstable_NormalPriority,Te={$$typeof:_t,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kh(){return{controller:new rA,data:new Map,refCount:0}}function zo(e){e.refCount--,e.refCount===0&&sA(aA,function(){e.controller.abort()})}var Bo=null,Xh=0,pa=0,ga=null;function oA(e,n){if(Bo===null){var r=Bo=[];Xh=0,pa=Wf(),ga={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Xh++,n.then(Pp,Pp),n}function Pp(){if(--Xh===0&&Bo!==null){ga!==null&&(ga.status="fulfilled");var e=Bo;Bo=null,pa=0,ga=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function lA(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var zp=q.S;q.S=function(e,n){Ay=We(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&oA(e,n),zp!==null&&zp(e,n)};var bs=O(null);function Jh(){var e=bs.current;return e!==null?e:te.pooledCache}function Vu(e,n){n===null?nt(bs,bs.current):nt(bs,n.pool)}function Bp(){var e=Jh();return e===null?null:{parent:Te._currentValue,pool:e}}var ya=Error(a(460)),Zh=Error(a(474)),xu=Error(a(542)),Mu={then:function(){}};function jp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function qp(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Bn,Bn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Gp(e),e;default:if(typeof n.status=="string")n.then(Bn,Bn);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Gp(e),e}throw ws=n,ya}}function Ss(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(ws=r,ya):r}}var ws=null;function Hp(){if(ws===null)throw Error(a(459));var e=ws;return ws=null,e}function Gp(e){if(e===ya||e===xu)throw Error(a(483))}var _a=null,jo=0;function ku(e){var n=jo;return jo+=1,_a===null&&(_a=[]),qp(_a,e,n)}function qo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Uu(e,n){throw n.$$typeof===V?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Fp(e){function n(M,N){if(e){var L=M.deletions;L===null?(M.deletions=[N],M.flags|=16):L.push(N)}}function r(M,N){if(!e)return null;for(;N!==null;)n(M,N),N=N.sibling;return null}function o(M){for(var N=new Map;M!==null;)M.key!==null?N.set(M.key,M):N.set(M.index,M),M=M.sibling;return N}function h(M,N){return M=xi(M,N),M.index=0,M.sibling=null,M}function f(M,N,L){return M.index=L,e?(L=M.alternate,L!==null?(L=L.index,L<N?(M.flags|=67108866,N):L):(M.flags|=67108866,N)):(M.flags|=1048576,N)}function p(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function E(M,N,L,G){return N===null||N.tag!==6?(N=zh(L,M.mode,G),N.return=M,N):(N=h(N,L),N.return=M,N)}function R(M,N,L,G){var ct=L.type;return ct===it?H(M,N,L.props.children,G,L.key):N!==null&&(N.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&Ss(ct)===N.type)?(N=h(N,L.props),qo(N,L),N.return=M,N):(N=Cu(L.type,L.key,L.props,null,M.mode,G),qo(N,L),N.return=M,N)}function P(M,N,L,G){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=Bh(L,M.mode,G),N.return=M,N):(N=h(N,L.children||[]),N.return=M,N)}function H(M,N,L,G,ct){return N===null||N.tag!==7?(N=vs(L,M.mode,G,ct),N.return=M,N):(N=h(N,L),N.return=M,N)}function Q(M,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=zh(""+N,M.mode,L),N.return=M,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case F:return L=Cu(N.type,N.key,N.props,null,M.mode,L),qo(L,N),L.return=M,L;case $:return N=Bh(N,M.mode,L),N.return=M,N;case b:return N=Ss(N),Q(M,N,L)}if(At(N)||k(N))return N=vs(N,M.mode,L,null),N.return=M,N;if(typeof N.then=="function")return Q(M,ku(N),L);if(N.$$typeof===_t)return Q(M,Ou(M,N),L);Uu(M,N)}return null}function z(M,N,L,G){var ct=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ct!==null?null:E(M,N,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case F:return L.key===ct?R(M,N,L,G):null;case $:return L.key===ct?P(M,N,L,G):null;case b:return L=Ss(L),z(M,N,L,G)}if(At(L)||k(L))return ct!==null?null:H(M,N,L,G,null);if(typeof L.then=="function")return z(M,N,ku(L),G);if(L.$$typeof===_t)return z(M,N,Ou(M,L),G);Uu(M,L)}return null}function j(M,N,L,G,ct){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return M=M.get(L)||null,E(N,M,""+G,ct);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case F:return M=M.get(G.key===null?L:G.key)||null,R(N,M,G,ct);case $:return M=M.get(G.key===null?L:G.key)||null,P(N,M,G,ct);case b:return G=Ss(G),j(M,N,L,G,ct)}if(At(G)||k(G))return M=M.get(L)||null,H(N,M,G,ct,null);if(typeof G.then=="function")return j(M,N,L,ku(G),ct);if(G.$$typeof===_t)return j(M,N,L,Ou(N,G),ct);Uu(N,G)}return null}function ot(M,N,L,G){for(var ct=null,Bt=null,lt=N,It=N=0,Ot=null;lt!==null&&It<L.length;It++){lt.index>It?(Ot=lt,lt=null):Ot=lt.sibling;var jt=z(M,lt,L[It],G);if(jt===null){lt===null&&(lt=Ot);break}e&&lt&&jt.alternate===null&&n(M,lt),N=f(jt,N,It),Bt===null?ct=jt:Bt.sibling=jt,Bt=jt,lt=Ot}if(It===L.length)return r(M,lt),Ut&&Mi(M,It),ct;if(lt===null){for(;It<L.length;It++)lt=Q(M,L[It],G),lt!==null&&(N=f(lt,N,It),Bt===null?ct=lt:Bt.sibling=lt,Bt=lt);return Ut&&Mi(M,It),ct}for(lt=o(lt);It<L.length;It++)Ot=j(lt,M,It,L[It],G),Ot!==null&&(e&&Ot.alternate!==null&&lt.delete(Ot.key===null?It:Ot.key),N=f(Ot,N,It),Bt===null?ct=Ot:Bt.sibling=Ot,Bt=Ot);return e&&lt.forEach(function(Mr){return n(M,Mr)}),Ut&&Mi(M,It),ct}function ft(M,N,L,G){if(L==null)throw Error(a(151));for(var ct=null,Bt=null,lt=N,It=N=0,Ot=null,jt=L.next();lt!==null&&!jt.done;It++,jt=L.next()){lt.index>It?(Ot=lt,lt=null):Ot=lt.sibling;var Mr=z(M,lt,jt.value,G);if(Mr===null){lt===null&&(lt=Ot);break}e&&lt&&Mr.alternate===null&&n(M,lt),N=f(Mr,N,It),Bt===null?ct=Mr:Bt.sibling=Mr,Bt=Mr,lt=Ot}if(jt.done)return r(M,lt),Ut&&Mi(M,It),ct;if(lt===null){for(;!jt.done;It++,jt=L.next())jt=Q(M,jt.value,G),jt!==null&&(N=f(jt,N,It),Bt===null?ct=jt:Bt.sibling=jt,Bt=jt);return Ut&&Mi(M,It),ct}for(lt=o(lt);!jt.done;It++,jt=L.next())jt=j(lt,M,It,jt.value,G),jt!==null&&(e&&jt.alternate!==null&&lt.delete(jt.key===null?It:jt.key),N=f(jt,N,It),Bt===null?ct=jt:Bt.sibling=jt,Bt=jt);return e&&lt.forEach(function(vb){return n(M,vb)}),Ut&&Mi(M,It),ct}function Wt(M,N,L,G){if(typeof L=="object"&&L!==null&&L.type===it&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case F:t:{for(var ct=L.key;N!==null;){if(N.key===ct){if(ct=L.type,ct===it){if(N.tag===7){r(M,N.sibling),G=h(N,L.props.children),G.return=M,M=G;break t}}else if(N.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&Ss(ct)===N.type){r(M,N.sibling),G=h(N,L.props),qo(G,L),G.return=M,M=G;break t}r(M,N);break}else n(M,N);N=N.sibling}L.type===it?(G=vs(L.props.children,M.mode,G,L.key),G.return=M,M=G):(G=Cu(L.type,L.key,L.props,null,M.mode,G),qo(G,L),G.return=M,M=G)}return p(M);case $:t:{for(ct=L.key;N!==null;){if(N.key===ct)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){r(M,N.sibling),G=h(N,L.children||[]),G.return=M,M=G;break t}else{r(M,N);break}else n(M,N);N=N.sibling}G=Bh(L,M.mode,G),G.return=M,M=G}return p(M);case b:return L=Ss(L),Wt(M,N,L,G)}if(At(L))return ot(M,N,L,G);if(k(L)){if(ct=k(L),typeof ct!="function")throw Error(a(150));return L=ct.call(L),ft(M,N,L,G)}if(typeof L.then=="function")return Wt(M,N,ku(L),G);if(L.$$typeof===_t)return Wt(M,N,Ou(M,L),G);Uu(M,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(r(M,N.sibling),G=h(N,L),G.return=M,M=G):(r(M,N),G=zh(L,M.mode,G),G.return=M,M=G),p(M)):r(M,N)}return function(M,N,L,G){try{jo=0;var ct=Wt(M,N,L,G);return _a=null,ct}catch(lt){if(lt===ya||lt===xu)throw lt;var Bt=pn(29,lt,null,M.mode);return Bt.lanes=G,Bt.return=M,Bt}}}var Rs=Fp(!0),Qp=Fp(!1),yr=!1;function $h(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _r(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function vr(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ht&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Iu(e),Dp(e,null,r),n}return Ru(e,o,n,r),Iu(e)}function Ho(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,go(e,r)}}function tf(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var ef=!1;function Go(){if(ef){var e=ga;if(e!==null)throw e}}function Fo(e,n,r,o){ef=!1;var h=e.updateQueue;yr=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,P=R.next;R.next=null,p===null?f=P:p.next=P,p=R;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==p&&(E===null?H.firstBaseUpdate=P:E.next=P,H.lastBaseUpdate=R))}if(f!==null){var Q=h.baseState;p=0,H=P=R=null,E=f;do{var z=E.lane&-536870913,j=z!==E.lane;if(j?(Nt&z)===z:(o&z)===z){z!==0&&z===pa&&(ef=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,ft=E;z=n;var Wt=r;switch(ft.tag){case 1:if(ot=ft.payload,typeof ot=="function"){Q=ot.call(Wt,Q,z);break t}Q=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=ft.payload,z=typeof ot=="function"?ot.call(Wt,Q,z):ot,z==null)break t;Q=S({},Q,z);break t;case 2:yr=!0}}z=E.callback,z!==null&&(e.flags|=64,j&&(e.flags|=8192),j=h.callbacks,j===null?h.callbacks=[z]:j.push(z))}else j={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(P=H=j,R=Q):H=H.next=j,p|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;j=E,E=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);H===null&&(R=Q),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=H,f===null&&(h.shared.lanes=0),Sr|=p,e.lanes=p,e.memoizedState=Q}}function Yp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Kp(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Yp(r[e],n)}var va=O(null),Lu=O(0);function Xp(e,n){e=Fi,nt(Lu,e),nt(va,n),Fi=e|n.baseLanes}function nf(){nt(Lu,Fi),nt(va,va.current)}function rf(){Fi=Lu.current,Y(va),Y(Lu)}var gn=O(null),Vn=null;function Er(e){var n=e.alternate;nt(de,de.current&1),nt(gn,e),Vn===null&&(n===null||va.current!==null||n.memoizedState!==null)&&(Vn=e)}function sf(e){nt(de,de.current),nt(gn,e),Vn===null&&(Vn=e)}function Jp(e){e.tag===22?(nt(de,de.current),nt(gn,e),Vn===null&&(Vn=e)):Tr()}function Tr(){nt(de,de.current),nt(gn,gn.current)}function yn(e){Y(gn),Vn===e&&(Vn=null),Y(de)}var de=O(0);function Pu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||hd(r)||fd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Li=0,St=null,Zt=null,Ae=null,zu=!1,Ea=!1,Is=!1,Bu=0,Qo=0,Ta=null,uA=0;function ue(){throw Error(a(321))}function af(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!mn(e[r],n[r]))return!1;return!0}function of(e,n,r,o,h,f){return Li=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=e===null||e.memoizedState===null?xg:Af,Is=!1,f=r(o,h),Is=!1,Ea&&(f=$p(n,r,o,h)),Zp(e),f}function Zp(e){q.H=Xo;var n=Zt!==null&&Zt.next!==null;if(Li=0,Ae=Zt=St=null,zu=!1,Qo=0,Ta=null,n)throw Error(a(300));e===null||be||(e=e.dependencies,e!==null&&Nu(e)&&(be=!0))}function $p(e,n,r,o){St=e;var h=0;do{if(Ea&&(Ta=null),Qo=0,Ea=!1,25<=h)throw Error(a(301));if(h+=1,Ae=Zt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=Mg,f=n(r,o)}while(Ea);return f}function cA(){var e=q.H,n=e.useState()[0];return n=typeof n.then=="function"?Yo(n):n,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(St.flags|=1024),n}function lf(){var e=Bu!==0;return Bu=0,e}function uf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function cf(e){if(zu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}zu=!1}Li=0,Ae=Zt=St=null,Ea=!1,Qo=Bu=0,Ta=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?St.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function me(){if(Zt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var n=Ae===null?St.memoizedState:Ae.next;if(n!==null)Ae=n,Zt=e;else{if(e===null)throw St.alternate===null?Error(a(467)):Error(a(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Ae===null?St.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yo(e){var n=Qo;return Qo+=1,Ta===null&&(Ta=[]),e=qp(Ta,e,n),n=St,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?xg:Af),e}function qu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Yo(e);if(e.$$typeof===_t)return qe(e)}throw Error(a(438,String(e)))}function hf(e){var n=null,r=St.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=St.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=ju(),St.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=x;return n.index++,r}function Pi(e,n){return typeof n=="function"?n(e):n}function Hu(e){var n=me();return ff(n,Zt,e)}function ff(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,R=null,P=n,H=!1;do{var Q=P.lane&-536870913;if(Q!==P.lane?(Nt&Q)===Q:(Li&Q)===Q){var z=P.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Q===pa&&(H=!0);else if((Li&z)===z){P=P.next,z===pa&&(H=!0);continue}else Q={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=Q,p=f):R=R.next=Q,St.lanes|=z,Sr|=z;Q=P.action,Is&&r(f,Q),f=P.hasEagerState?P.eagerState:r(f,Q)}else z={lane:Q,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=z,p=f):R=R.next=z,St.lanes|=Q,Sr|=Q;P=P.next}while(P!==null&&P!==n);if(R===null?p=f:R.next=E,!mn(f,e.memoizedState)&&(be=!0,H&&(r=ga,r!==null)))throw r;e.memoizedState=f,e.baseState=p,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function df(e){var n=me(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);mn(f,n.memoizedState)||(be=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function Wp(e,n,r){var o=St,h=me(),f=Ut;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!mn((Zt||h).memoizedState,r);if(p&&(h.memoizedState=r,be=!0),h=h.queue,gf(ng.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||Ae!==null&&Ae.memoizedState.tag&1){if(o.flags|=2048,Aa(9,{destroy:void 0},eg.bind(null,o,h,r,n),null),te===null)throw Error(a(349));f||(Li&127)!==0||tg(o,n,r)}return r}function tg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=St.updateQueue,n===null?(n=ju(),St.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function eg(e,n,r,o){n.value=r,n.getSnapshot=o,ig(n)&&rg(e)}function ng(e,n,r){return r(function(){ig(n)&&rg(e)})}function ig(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!mn(e,r)}catch{return!0}}function rg(e){var n=_s(e,2);n!==null&&un(n,e,2)}function mf(e){var n=en();if(typeof e=="function"){var r=e;if(e=r(),Is){An(!0);try{r()}finally{An(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:e},n}function sg(e,n,r,o){return e.baseState=r,ff(e,Zt,typeof o=="function"?o:Pi)}function hA(e,n,r,o,h){if(Qu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};q.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,ag(n,f)):(f.next=r.next,n.pending=r.next=f)}}function ag(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=q.T,p={};q.T=p;try{var E=r(h,o),R=q.S;R!==null&&R(p,E),og(e,n,E)}catch(P){pf(e,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),q.T=f}}else try{f=r(h,o),og(e,n,f)}catch(P){pf(e,n,P)}}function og(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){lg(e,n,o)},function(o){return pf(e,n,o)}):lg(e,n,r)}function lg(e,n,r){n.status="fulfilled",n.value=r,ug(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,ag(e,r)))}function pf(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,ug(n),n=n.next;while(n!==o)}e.action=null}function ug(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function cg(e,n){return n}function hg(e,n){if(Ut){var r=te.formState;if(r!==null){t:{var o=St;if(Ut){if(ne){e:{for(var h=ne,f=On;h.nodeType!==8;){if(!f){h=null;break e}if(h=xn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ne=xn(h.nextSibling),o=h.data==="F!";break t}}pr(o)}o=!1}o&&(n=r[0])}}return r=en(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cg,lastRenderedState:n},r.queue=o,r=Ng.bind(null,St,o),o.dispatch=r,o=mf(!1),f=Tf.bind(null,St,!1,o.queue),o=en(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=hA.bind(null,St,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function fg(e){var n=me();return dg(n,Zt,e)}function dg(e,n,r){if(n=ff(e,n,cg)[0],e=Hu(Pi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Yo(n)}catch(p){throw p===ya?xu:p}else o=n;n=me();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(St.flags|=2048,Aa(9,{destroy:void 0},fA.bind(null,h,r),null)),[o,f,e]}function fA(e,n){e.action=n}function mg(e){var n=me(),r=Zt;if(r!==null)return dg(n,r,e);me(),n=n.memoizedState,r=me();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Aa(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=St.updateQueue,n===null&&(n=ju(),St.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function pg(){return me().memoizedState}function Gu(e,n,r,o){var h=en();St.flags|=e,h.memoizedState=Aa(1|n,{destroy:void 0},r,o===void 0?null:o)}function Fu(e,n,r,o){var h=me();o=o===void 0?null:o;var f=h.memoizedState.inst;Zt!==null&&o!==null&&af(o,Zt.memoizedState.deps)?h.memoizedState=Aa(n,f,r,o):(St.flags|=e,h.memoizedState=Aa(1|n,f,r,o))}function gg(e,n){Gu(8390656,8,e,n)}function gf(e,n){Fu(2048,8,e,n)}function dA(e){St.flags|=4;var n=St.updateQueue;if(n===null)n=ju(),St.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function yg(e){var n=me().memoizedState;return dA({ref:n,nextImpl:e}),function(){if((Ht&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function _g(e,n){return Fu(4,2,e,n)}function vg(e,n){return Fu(4,4,e,n)}function Eg(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Tg(e,n,r){r=r!=null?r.concat([e]):null,Fu(4,4,Eg.bind(null,n,e),r)}function yf(){}function Ag(e,n){var r=me();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&af(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function bg(e,n){var r=me();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&af(n,o[1]))return o[0];if(o=e(),Is){An(!0);try{e()}finally{An(!1)}}return r.memoizedState=[o,n],o}function _f(e,n,r){return r===void 0||(Li&1073741824)!==0&&(Nt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=Sy(),St.lanes|=e,Sr|=e,r)}function Sg(e,n,r,o){return mn(r,n)?r:va.current!==null?(e=_f(e,r,o),mn(e,n)||(be=!0),e):(Li&42)===0||(Li&1073741824)!==0&&(Nt&261930)===0?(be=!0,e.memoizedState=r):(e=Sy(),St.lanes|=e,Sr|=e,n)}function wg(e,n,r,o,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var p=q.T,E={};q.T=E,Tf(e,!1,n,r);try{var R=h(),P=q.S;if(P!==null&&P(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var H=lA(R,o);Ko(e,n,H,En(e))}else Ko(e,n,o,En(e))}catch(Q){Ko(e,n,{then:function(){},status:"rejected",reason:Q},En())}finally{tt.p=f,p!==null&&E.types!==null&&(p.types=E.types),q.T=p}}function mA(){}function vf(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=Rg(e).queue;wg(e,h,n,ut,r===null?mA:function(){return Ig(e),r(o)})}function Rg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:ut},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Ig(e){var n=Rg(e);n.next===null&&(n=e.alternate.memoizedState),Ko(e,n.next.queue,{},En())}function Ef(){return qe(hl)}function Cg(){return me().memoizedState}function Dg(){return me().memoizedState}function pA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=En();e=_r(r);var o=vr(n,e,r);o!==null&&(un(o,n,r),Ho(o,n,r)),n={cache:Kh()},e.payload=n;return}n=n.return}}function gA(e,n,r){var o=En();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Qu(e)?Og(n,r):(r=Lh(e,n,r,o),r!==null&&(un(r,e,o),Vg(r,n,o)))}function Ng(e,n,r){var o=En();Ko(e,n,r,o)}function Ko(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Qu(e))Og(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,r);if(h.hasEagerState=!0,h.eagerState=E,mn(E,p))return Ru(e,n,h,0),te===null&&wu(),!1}catch{}if(r=Lh(e,n,h,o),r!==null)return un(r,e,o),Vg(r,n,o),!0}return!1}function Tf(e,n,r,o){if(o={lane:2,revertLane:Wf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Qu(e)){if(n)throw Error(a(479))}else n=Lh(e,r,o,2),n!==null&&un(n,e,2)}function Qu(e){var n=e.alternate;return e===St||n!==null&&n===St}function Og(e,n){Ea=zu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Vg(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,go(e,r)}}var Xo={readContext:qe,use:qu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Xo.useEffectEvent=ue;var xg={readContext:qe,use:qu,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:gg,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Gu(4194308,4,Eg.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Gu(4194308,4,e,n)},useInsertionEffect:function(e,n){Gu(4,2,e,n)},useMemo:function(e,n){var r=en();n=n===void 0?null:n;var o=e();if(Is){An(!0);try{e()}finally{An(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=en();if(r!==void 0){var h=r(n);if(Is){An(!0);try{r(n)}finally{An(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=gA.bind(null,St,e),[o.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=mf(e);var n=e.queue,r=Ng.bind(null,St,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:yf,useDeferredValue:function(e,n){var r=en();return _f(r,e,n)},useTransition:function(){var e=mf(!1);return e=wg.bind(null,St,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=St,h=en();if(Ut){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),te===null)throw Error(a(349));(Nt&127)!==0||tg(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,gg(ng.bind(null,o,f,e),[e]),o.flags|=2048,Aa(9,{destroy:void 0},eg.bind(null,o,f,r,n),null),r},useId:function(){var e=en(),n=te.identifierPrefix;if(Ut){var r=vi,o=_i;r=(o&~(1<<32-he(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Bu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=uA++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Ef,useFormState:hg,useActionState:hg,useOptimistic:function(e){var n=en();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Tf.bind(null,St,!0,r),r.dispatch=n,[e,n]},useMemoCache:hf,useCacheRefresh:function(){return en().memoizedState=pA.bind(null,St)},useEffectEvent:function(e){var n=en(),r={impl:e};return n.memoizedState=r,function(){if((Ht&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Af={readContext:qe,use:qu,useCallback:Ag,useContext:qe,useEffect:gf,useImperativeHandle:Tg,useInsertionEffect:_g,useLayoutEffect:vg,useMemo:bg,useReducer:Hu,useRef:pg,useState:function(){return Hu(Pi)},useDebugValue:yf,useDeferredValue:function(e,n){var r=me();return Sg(r,Zt.memoizedState,e,n)},useTransition:function(){var e=Hu(Pi)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Yo(e),n]},useSyncExternalStore:Wp,useId:Cg,useHostTransitionStatus:Ef,useFormState:fg,useActionState:fg,useOptimistic:function(e,n){var r=me();return sg(r,Zt,e,n)},useMemoCache:hf,useCacheRefresh:Dg};Af.useEffectEvent=yg;var Mg={readContext:qe,use:qu,useCallback:Ag,useContext:qe,useEffect:gf,useImperativeHandle:Tg,useInsertionEffect:_g,useLayoutEffect:vg,useMemo:bg,useReducer:df,useRef:pg,useState:function(){return df(Pi)},useDebugValue:yf,useDeferredValue:function(e,n){var r=me();return Zt===null?_f(r,e,n):Sg(r,Zt.memoizedState,e,n)},useTransition:function(){var e=df(Pi)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Yo(e),n]},useSyncExternalStore:Wp,useId:Cg,useHostTransitionStatus:Ef,useFormState:mg,useActionState:mg,useOptimistic:function(e,n){var r=me();return Zt!==null?sg(r,Zt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:hf,useCacheRefresh:Dg};Mg.useEffectEvent=yg;function bf(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:S({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Sf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=En(),h=_r(o);h.payload=n,r!=null&&(h.callback=r),n=vr(e,h,o),n!==null&&(un(n,e,o),Ho(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=En(),h=_r(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=vr(e,h,o),n!==null&&(un(n,e,o),Ho(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=En(),o=_r(r);o.tag=2,n!=null&&(o.callback=n),n=vr(e,o,r),n!==null&&(un(n,e,r),Ho(n,e,r))}};function kg(e,n,r,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!ko(r,o)||!ko(h,f):!0}function Ug(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&Sf.enqueueReplaceState(n,n.state,null)}function Cs(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=S({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function Lg(e){Su(e)}function Pg(e){console.error(e)}function zg(e){Su(e)}function Yu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Bg(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function wf(e,n,r){return r=_r(r),r.tag=3,r.payload={element:null},r.callback=function(){Yu(e,n)},r}function jg(e){return e=_r(e),e.tag=3,e}function qg(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Bg(n,r,o)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Bg(n,r,o),typeof h!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function yA(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&ma(n,r,h,!0),r=gn.current,r!==null){switch(r.tag){case 31:case 13:return Vn===null?sc():r.alternate===null&&ce===0&&(ce=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Mu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Jf(e,o,h)),!1;case 22:return r.flags|=65536,o===Mu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Jf(e,o,h)),!1}throw Error(a(435,r.tag))}return Jf(e,o,h),sc(),!1}if(Ut)return n=gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Hh&&(e=Error(a(422),{cause:o}),Po(Cn(e,r)))):(o!==Hh&&(n=Error(a(423),{cause:o}),Po(Cn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Cn(o,r),h=wf(e.stateNode,o,h),tf(e,h),ce!==4&&(ce=2)),!1;var f=Error(a(520),{cause:o});if(f=Cn(f,r),il===null?il=[f]:il.push(f),ce!==4&&(ce=2),n===null)return!0;o=Cn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=wf(r.stateNode,o,e),tf(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(wr===null||!wr.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=jg(h),qg(h,e,r,o),tf(r,h),!1}r=r.return}while(r!==null);return!1}var Rf=Error(a(461)),be=!1;function He(e,n,r,o){n.child=e===null?Qp(n,null,r,o):Rs(n,e.child,r,o)}function Hg(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return As(n),o=of(e,n,r,p,f,h),E=lf(),e!==null&&!be?(uf(e,n,h),zi(e,n,h)):(Ut&&E&&jh(n),n.flags|=1,He(e,n,o,h),n.child)}function Gg(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Ph(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Fg(e,n,f,o,h)):(e=Cu(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Mf(e,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:ko,r(p,o)&&e.ref===n.ref)return zi(e,n,h)}return n.flags|=1,e=xi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Fg(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(ko(f,o)&&e.ref===n.ref)if(be=!1,n.pendingProps=o=f,Mf(e,h))(e.flags&131072)!==0&&(be=!0);else return n.lanes=e.lanes,zi(e,n,h)}return If(e,n,r,o,h)}function Qg(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Yg(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vu(n,f!==null?f.cachePool:null),f!==null?Xp(n,f):nf(),Jp(n);else return o=n.lanes=536870912,Yg(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Vu(n,f.cachePool),Xp(n,f),Tr(),n.memoizedState=null):(e!==null&&Vu(n,null),nf(),Tr());return He(e,n,h,r),n.child}function Jo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Yg(e,n,r,o,h){var f=Jh();return f=f===null?null:{parent:Te._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Vu(n,null),nf(),Jp(n),e!==null&&ma(e,n,o,!0),n.childLanes=h,null}function Ku(e,n){return n=Ju({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Kg(e,n,r){return Rs(n,e.child,null,r),e=Ku(n,n.pendingProps),e.flags|=2,yn(n),n.memoizedState=null,e}function _A(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ut){if(o.mode==="hidden")return e=Ku(n,o),n.lanes=536870912,Jo(null,e);if(sf(n),(e=ne)?(e=a_(e,On),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:dr!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},r=Op(e),r.return=n,n.child=r,je=n,ne=null)):e=null,e===null)throw pr(n);return n.lanes=536870912,null}return Ku(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(sf(n),h)if(n.flags&256)n.flags&=-257,n=Kg(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(be||ma(e,n,r,!1),h=(r&e.childLanes)!==0,be||h){if(o=te,o!==null&&(p=yo(o,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,_s(e,p),un(o,e,p),Rf;sc(),n=Kg(e,n,r)}else e=f.treeContext,ne=xn(p.nextSibling),je=n,Ut=!0,mr=null,On=!1,e!==null&&Mp(n,e),n=Ku(n,o),n.flags|=4096;return n}return e=xi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Xu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function If(e,n,r,o,h){return As(n),r=of(e,n,r,o,void 0,h),o=lf(),e!==null&&!be?(uf(e,n,h),zi(e,n,h)):(Ut&&o&&jh(n),n.flags|=1,He(e,n,r,h),n.child)}function Xg(e,n,r,o,h,f){return As(n),n.updateQueue=null,r=$p(n,o,r,h),Zp(e),o=lf(),e!==null&&!be?(uf(e,n,f),zi(e,n,f)):(Ut&&o&&jh(n),n.flags|=1,He(e,n,r,f),n.child)}function Jg(e,n,r,o,h){if(As(n),n.stateNode===null){var f=ca,p=r.contextType;typeof p=="object"&&p!==null&&(f=qe(p)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Sf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},$h(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?qe(p):ca,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(bf(n,r,p,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Sf.enqueueReplaceState(f,f.state,null),Fo(n,o,f,h),Go(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Cs(r,E);f.props=R;var P=f.context,H=r.contextType;p=ca,typeof H=="object"&&H!==null&&(p=qe(H));var Q=r.getDerivedStateFromProps;H=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==p)&&Ug(n,f,o,p),yr=!1;var z=n.memoizedState;f.state=z,Fo(n,o,f,h),Go(),P=n.memoizedState,E||z!==P||yr?(typeof Q=="function"&&(bf(n,r,Q,o),P=n.memoizedState),(R=yr||kg(n,r,R,o,z,P,p))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=p,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Wh(e,n),p=n.memoizedProps,H=Cs(r,p),f.props=H,Q=n.pendingProps,z=f.context,P=r.contextType,R=ca,typeof P=="object"&&P!==null&&(R=qe(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Q||z!==R)&&Ug(n,f,o,R),yr=!1,z=n.memoizedState,f.state=z,Fo(n,o,f,h),Go();var j=n.memoizedState;p!==Q||z!==j||yr||e!==null&&e.dependencies!==null&&Nu(e.dependencies)?(typeof E=="function"&&(bf(n,r,E,o),j=n.memoizedState),(H=yr||kg(n,r,H,o,z,j,R)||e!==null&&e.dependencies!==null&&Nu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,j,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,j,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=R,o=H):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Xu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Rs(n,e.child,null,h),n.child=Rs(n,null,r,h)):He(e,n,r,h),n.memoizedState=f.state,e=n.child):e=zi(e,n,h),e}function Zg(e,n,r,o){return Es(),n.flags|=256,He(e,n,r,o),n.child}var Cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Df(e){return{baseLanes:e,cachePool:Bp()}}function Nf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=vn),e}function $g(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(de.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ut){if(h?Er(n):Tr(),(e=ne)?(e=a_(e,On),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:dr!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},r=Op(e),r.return=n,n.child=r,je=n,ne=null)):e=null,e===null)throw pr(n);return fd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Tr(),h=n.mode,E=Ju({mode:"hidden",children:E},h),o=vs(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Df(r),o.childLanes=Nf(e,p,r),n.memoizedState=Cf,Jo(null,o)):(Er(n),Of(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Er(n),n.flags&=-257,n=Vf(e,n,r)):n.memoizedState!==null?(Tr(),n.child=e.child,n.flags|=128,n=null):(Tr(),E=o.fallback,h=n.mode,o=Ju({mode:"visible",children:o.children},h),E=vs(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Rs(n,e.child,null,r),o=n.child,o.memoizedState=Df(r),o.childLanes=Nf(e,p,r),n.memoizedState=Cf,n=Jo(null,o));else if(Er(n),fd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var P=p.dgst;p=P,o=Error(a(419)),o.stack="",o.digest=p,Po({value:o,source:null,stack:null}),n=Vf(e,n,r)}else if(be||ma(e,n,r,!1),p=(r&e.childLanes)!==0,be||p){if(p=te,p!==null&&(o=yo(p,r),o!==0&&o!==R.retryLane))throw R.retryLane=o,_s(e,o),un(p,e,o),Rf;hd(E)||sc(),n=Vf(e,n,r)}else hd(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,ne=xn(E.nextSibling),je=n,Ut=!0,mr=null,On=!1,e!==null&&Mp(n,e),n=Of(n,o.children),n.flags|=4096);return n}return h?(Tr(),E=o.fallback,h=n.mode,R=e.child,P=R.sibling,o=xi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,P!==null?E=xi(P,E):(E=vs(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Jo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Df(r):(h=E.cachePool,h!==null?(R=Te._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Bp(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=Nf(e,p,r),n.memoizedState=Cf,Jo(e.child,o)):(Er(n),r=e.child,e=r.sibling,r=xi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=r,n.memoizedState=null,r)}function Of(e,n){return n=Ju({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ju(e,n){return e=pn(22,e,null,n),e.lanes=0,e}function Vf(e,n,r){return Rs(n,e.child,null,r),e=Of(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Wg(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Qh(e.return,n,r)}function xf(e,n,r,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function ty(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=de.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,nt(de,p),He(e,n,o,r),o=Ut?Lo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wg(e,r,n);else if(e.tag===19)Wg(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Pu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),xf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Pu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}xf(n,!0,r,null,f,o);break;case"together":xf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function zi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Sr|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(ma(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=xi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=xi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Mf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Nu(e)))}function vA(e,n,r){switch(n.tag){case 3:De(n,n.stateNode.containerInfo),gr(n,Te,e.memoizedState.cache),Es();break;case 27:case 5:ts(n);break;case 4:De(n,n.stateNode.containerInfo);break;case 10:gr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,sf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Er(n),n.flags|=128,null):(r&n.child.childLanes)!==0?$g(e,n,r):(Er(n),e=zi(e,n,r),e!==null?e.sibling:null);Er(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(ma(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return ty(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(de,de.current),o)break;return null;case 22:return n.lanes=0,Qg(e,n,r,n.pendingProps);case 24:gr(n,Te,e.memoizedState.cache)}return zi(e,n,r)}function ey(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)be=!0;else{if(!Mf(e,r)&&(n.flags&128)===0)return be=!1,vA(e,n,r);be=(e.flags&131072)!==0}else be=!1,Ut&&(n.flags&1048576)!==0&&xp(n,Lo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Ss(n.elementType),n.type=e,typeof e=="function")Ph(e)?(o=Cs(e,o),n.tag=1,n=Jg(null,n,e,o,r)):(n.tag=0,n=If(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===wt){n.tag=11,n=Hg(null,n,e,o,r);break t}else if(h===C){n.tag=14,n=Gg(null,n,e,o,r);break t}}throw n=J(e)||e,Error(a(306,n,""))}}return n;case 0:return If(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Cs(o,n.pendingProps),Jg(e,n,o,h,r);case 3:t:{if(De(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Wh(e,n),Fo(n,o,null,r);var p=n.memoizedState;if(o=p.cache,gr(n,Te,o),o!==f.cache&&Yh(n,[Te],r,!0),Go(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Zg(e,n,o,r);break t}else if(o!==h){h=Cn(Error(a(424)),n),Po(h),n=Zg(e,n,o,r);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ne=xn(e.firstChild),je=n,Ut=!0,mr=null,On=!0,r=Qp(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Es(),o===h){n=zi(e,n,r);break t}He(e,n,o,r)}n=n.child}return n;case 26:return Xu(e,n),e===null?(r=f_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ut||(r=n.type,e=n.pendingProps,o=fc(Rt.current).createElement(r),o[_e]=n,o[xe]=e,Ge(o,r,e),ve(o),n.stateNode=o):n.memoizedState=f_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ts(n),e===null&&Ut&&(o=n.stateNode=u_(n.type,n.pendingProps,Rt.current),je=n,On=!0,h=ne,Dr(n.type)?(dd=h,ne=xn(o.firstChild)):ne=h),He(e,n,n.pendingProps.children,r),Xu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ut&&((h=o=ne)&&(o=XA(o,n.type,n.pendingProps,On),o!==null?(n.stateNode=o,je=n,ne=xn(o.firstChild),On=!1,h=!0):h=!1),h||pr(n)),ts(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,ld(h,f)?o=null:p!==null&&ld(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=of(e,n,cA,null,null,r),hl._currentValue=h),Xu(e,n),He(e,n,o,r),n.child;case 6:return e===null&&Ut&&((e=r=ne)&&(r=JA(r,n.pendingProps,On),r!==null?(n.stateNode=r,je=n,ne=null,e=!0):e=!1),e||pr(n)),null;case 13:return $g(e,n,r);case 4:return De(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Rs(n,null,o,r):He(e,n,o,r),n.child;case 11:return Hg(e,n,n.type,n.pendingProps,r);case 7:return He(e,n,n.pendingProps,r),n.child;case 8:return He(e,n,n.pendingProps.children,r),n.child;case 12:return He(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,gr(n,n.type,o.value),He(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,As(n),h=qe(h),o=o(h),n.flags|=1,He(e,n,o,r),n.child;case 14:return Gg(e,n,n.type,n.pendingProps,r);case 15:return Fg(e,n,n.type,n.pendingProps,r);case 19:return ty(e,n,r);case 31:return _A(e,n,r);case 22:return Qg(e,n,r,n.pendingProps);case 24:return As(n),o=qe(Te),e===null?(h=Jh(),h===null&&(h=te,f=Kh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},$h(n),gr(n,Te,h)):((e.lanes&r)!==0&&(Wh(e,n),Fo(n,null,null,r),Go()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),gr(n,Te,o)):(o=f.cache,gr(n,Te,o),o!==h.cache&&Yh(n,[Te],r,!0))),He(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Bi(e){e.flags|=4}function kf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Cy())e.flags|=8192;else throw ws=Mu,Zh}else e.flags&=-16777217}function ny(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!y_(n))if(Cy())e.flags|=8192;else throw ws=Mu,Zh}function Zu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?iu():536870912,e.lanes|=n,Ra|=n)}function Zo(e,n){if(!Ut)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ie(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function EA(e,n,r){var o=n.pendingProps;switch(qh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ui(Te),se(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(da(n)?Bi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Gh())),ie(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Bi(n),f!==null?(ie(n),ny(n,f)):(ie(n),kf(n,h,null,o,r))):f?f!==e.memoizedState?(Bi(n),ie(n),ny(n,f)):(ie(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Bi(n),ie(n),kf(n,h,e,o,r)),null;case 27:if(Fs(n),r=Rt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ie(n),null}e=at.current,da(n)?kp(n):(e=u_(h,o,r),n.stateNode=e,Bi(n))}return ie(n),null;case 5:if(Fs(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ie(n),null}if(f=at.current,da(n))kp(n);else{var p=fc(Rt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[_e]=n,f[xe]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Ge(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Bi(n)}}return ie(n),kf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=Rt.current,da(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=je,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[_e]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||$y(e.nodeValue,r)),e||pr(n,!0)}else e=fc(e).createTextNode(o),e[_e]=n,n.stateNode=e}return ie(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=da(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[_e]=n}else Es(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),e=!1}else r=Gh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ie(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=da(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[_e]=n}else Es(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),h=!1}else h=Gh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Zu(n,n.updateQueue),ie(n),null);case 4:return se(),e===null&&id(n.stateNode.containerInfo),ie(n),null;case 10:return Ui(n.type),ie(n),null;case 19:if(Y(de),o=n.memoizedState,o===null)return ie(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Zo(o,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Pu(e),f!==null){for(n.flags|=128,Zo(o,!1),e=f.updateQueue,n.updateQueue=e,Zu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Np(r,e),r=r.sibling;return nt(de,de.current&1|2),Ut&&Mi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&We()>nc&&(n.flags|=128,h=!0,Zo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Pu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Zu(n,e),Zo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ut)return ie(n),null}else 2*We()-o.renderingStartTime>nc&&r!==536870912&&(n.flags|=128,h=!0,Zo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=We(),e.sibling=null,r=de.current,nt(de,h?r&1|2:r&1),Ut&&Mi(n,o.treeForkCount),e):(ie(n),null);case 22:case 23:return yn(n),rf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),r=n.updateQueue,r!==null&&Zu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&Y(bs),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ui(Te),ie(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function TA(e,n){switch(qh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ui(Te),se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Fs(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(a(340));Es()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(yn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Es()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(de),null;case 4:return se(),null;case 10:return Ui(n.type),null;case 22:case 23:return yn(n),rf(),e!==null&&Y(bs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ui(Te),null;case 25:return null;default:return null}}function iy(e,n){switch(qh(n),n.tag){case 3:Ui(Te),se();break;case 26:case 27:case 5:Fs(n);break;case 4:se();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:Y(de);break;case 10:Ui(n.type);break;case 22:case 23:yn(n),rf(),e!==null&&Y(bs);break;case 24:Ui(Te)}}function $o(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,p=r.inst;o=f(),p.destroy=o}r=r.next}while(r!==h)}}catch(E){Xt(n,n.return,E)}}function Ar(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var R=r,P=E;try{P()}catch(H){Xt(h,R,H)}}}o=o.next}while(o!==f)}}catch(H){Xt(n,n.return,H)}}function ry(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Kp(n,r)}catch(o){Xt(e,e.return,o)}}}function sy(e,n,r){r.props=Cs(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Xt(e,n,o)}}function Wo(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){Xt(e,n,h)}}function Ei(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Xt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Xt(e,n,h)}else r.current=null}function ay(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Xt(e,e.return,h)}}function Uf(e,n,r){try{var o=e.stateNode;HA(o,e.type,r,n),o[xe]=n}catch(h){Xt(e,e.return,h)}}function oy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Dr(e.type)||e.tag===4}function Lf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||oy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Dr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Bn));else if(o!==4&&(o===27&&Dr(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Pf(e,n,r),e=e.sibling;e!==null;)Pf(e,n,r),e=e.sibling}function $u(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Dr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for($u(e,n,r),e=e.sibling;e!==null;)$u(e,n,r),e=e.sibling}function ly(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ge(n,o,r),n[_e]=e,n[xe]=r}catch(f){Xt(e,e.return,f)}}var ji=!1,Se=!1,zf=!1,uy=typeof WeakSet=="function"?WeakSet:Set,ke=null;function AA(e,n){if(e=e.containerInfo,ad=vc,e=Tp(e),Oh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var p=0,E=-1,R=-1,P=0,H=0,Q=e,z=null;e:for(;;){for(var j;Q!==r||h!==0&&Q.nodeType!==3||(E=p+h),Q!==f||o!==0&&Q.nodeType!==3||(R=p+o),Q.nodeType===3&&(p+=Q.nodeValue.length),(j=Q.firstChild)!==null;)z=Q,Q=j;for(;;){if(Q===e)break e;if(z===r&&++P===h&&(E=p),z===f&&++H===o&&(R=p),(j=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=j}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(od={focusedElem:e,selectionRange:r},vc=!1,ke=n;ke!==null;)if(n=ke,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ke=e;else for(;ke!==null;){switch(n=ke,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var ot=Cs(r.type,h);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ft){Xt(r,r.return,ft)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)cd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":cd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,ke=e;break}ke=n.return}}function cy(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Hi(e,r),o&4&&$o(5,r);break;case 1:if(Hi(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(p){Xt(r,r.return,p)}else{var h=Cs(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Xt(r,r.return,p)}}o&64&&ry(r),o&512&&Wo(r,r.return);break;case 3:if(Hi(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Kp(e,n)}catch(p){Xt(r,r.return,p)}}break;case 27:n===null&&o&4&&ly(r);case 26:case 5:Hi(e,r),n===null&&o&4&&ay(r),o&512&&Wo(r,r.return);break;case 12:Hi(e,r);break;case 31:Hi(e,r),o&4&&dy(e,r);break;case 13:Hi(e,r),o&4&&my(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=OA.bind(null,r),ZA(e,r))));break;case 22:if(o=r.memoizedState!==null||ji,!o){n=n!==null&&n.memoizedState!==null||Se,h=ji;var f=Se;ji=o,(Se=n)&&!f?Gi(e,r,(r.subtreeFlags&8772)!==0):Hi(e,r),ji=h,Se=f}break;case 30:break;default:Hi(e,r)}}function hy(e){var n=e.alternate;n!==null&&(e.alternate=null,hy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Js(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,sn=!1;function qi(e,n,r){for(r=r.child;r!==null;)fy(e,n,r),r=r.sibling}function fy(e,n,r){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Un,r)}catch{}switch(r.tag){case 26:Se||Ei(r,n),qi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Se||Ei(r,n);var o=oe,h=sn;Dr(r.type)&&(oe=r.stateNode,sn=!1),qi(e,n,r),ll(r.stateNode),oe=o,sn=h;break;case 5:Se||Ei(r,n);case 6:if(o=oe,h=sn,oe=null,qi(e,n,r),oe=o,sn=h,oe!==null)if(sn)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(r.stateNode)}catch(f){Xt(r,n,f)}else try{oe.removeChild(r.stateNode)}catch(f){Xt(r,n,f)}break;case 18:oe!==null&&(sn?(e=oe,r_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Ma(e)):r_(oe,r.stateNode));break;case 4:o=oe,h=sn,oe=r.stateNode.containerInfo,sn=!0,qi(e,n,r),oe=o,sn=h;break;case 0:case 11:case 14:case 15:Ar(2,r,n),Se||Ar(4,r,n),qi(e,n,r);break;case 1:Se||(Ei(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&sy(r,n,o)),qi(e,n,r);break;case 21:qi(e,n,r);break;case 22:Se=(o=Se)||r.memoizedState!==null,qi(e,n,r),Se=o;break;default:qi(e,n,r)}}function dy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ma(e)}catch(r){Xt(n,n.return,r)}}}function my(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ma(e)}catch(r){Xt(n,n.return,r)}}function bA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new uy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new uy),n;default:throw Error(a(435,e.tag))}}function Wu(e,n){var r=bA(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=VA.bind(null,e,o);o.then(h,h)}})}function an(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Dr(E.type)){oe=E.stateNode,sn=!1;break t}break;case 5:oe=E.stateNode,sn=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,sn=!0;break t}E=E.return}if(oe===null)throw Error(a(160));fy(f,p,h),oe=null,sn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)py(n,e),n=n.sibling}var Qn=null;function py(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(n,e),on(e),o&4&&(Ar(3,e,e.return),$o(3,e),Ar(5,e,e.return));break;case 1:an(n,e),on(e),o&512&&(Se||r===null||Ei(r,r.return)),o&64&&ji&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=Qn;if(an(n,e),on(e),o&512&&(Se||r===null||Ei(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ai]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ge(f,o,r),f[_e]=e,ve(f),o=f;break t;case"link":var p=p_("link","href",h).get(o+(r.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,r),h.head.appendChild(f);break;case"meta":if(p=p_("meta","content",h).get(o+(r.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[_e]=e,ve(f),o=f}e.stateNode=o}else g_(h,e.type,e.stateNode);else e.stateNode=m_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?g_(h,e.type,e.stateNode):m_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Uf(e,e.memoizedProps,r.memoizedProps)}break;case 27:an(n,e),on(e),o&512&&(Se||r===null||Ei(r,r.return)),r!==null&&o&4&&Uf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(an(n,e),on(e),o&512&&(Se||r===null||Ei(r,r.return)),e.flags&32){h=e.stateNode;try{rn(h,"")}catch(ot){Xt(e,e.return,ot)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Uf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(zf=!0);break;case 6:if(an(n,e),on(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(ot){Xt(e,e.return,ot)}}break;case 3:if(pc=null,h=Qn,Qn=dc(n.containerInfo),an(n,e),Qn=h,on(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Ma(n.containerInfo)}catch(ot){Xt(e,e.return,ot)}zf&&(zf=!1,gy(e));break;case 4:o=Qn,Qn=dc(e.stateNode.containerInfo),an(n,e),on(e),Qn=o;break;case 12:an(n,e),on(e);break;case 31:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Wu(e,o)));break;case 13:an(n,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ec=We()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Wu(e,o)));break;case 22:h=e.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,P=ji,H=Se;if(ji=P||h,Se=H||R,an(n,e),Se=H,ji=P,on(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||R||ji||Se||Ds(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=R.stateNode;var Q=R.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ot){Xt(R,R.return,ot)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(ot){Xt(R,R.return,ot)}}}else if(n.tag===18){if(r===null){R=n;try{var j=R.stateNode;h?s_(j,!0):s_(R.stateNode,!1)}catch(ot){Xt(R,R.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Wu(e,r))));break;case 19:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Wu(e,o)));break;case 30:break;case 21:break;default:an(n,e),on(e)}}function on(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(oy(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Lf(e);$u(e,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(rn(p,""),r.flags&=-33);var E=Lf(e);$u(e,E,p);break;case 3:case 4:var R=r.stateNode.containerInfo,P=Lf(e);Pf(e,P,R);break;default:throw Error(a(161))}}catch(H){Xt(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function gy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;gy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Hi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)cy(e,n.alternate,n),n=n.sibling}function Ds(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ar(4,n,n.return),Ds(n);break;case 1:Ei(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&sy(n,n.return,r),Ds(n);break;case 27:ll(n.stateNode);case 26:case 5:Ei(n,n.return),Ds(n);break;case 22:n.memoizedState===null&&Ds(n);break;case 30:Ds(n);break;default:Ds(n)}e=e.sibling}}function Gi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Gi(h,f,r),$o(4,f);break;case 1:if(Gi(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Xt(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Yp(R[h],E)}catch(P){Xt(o,o.return,P)}}r&&p&64&&ry(f),Wo(f,f.return);break;case 27:ly(f);case 26:case 5:Gi(h,f,r),r&&o===null&&p&4&&ay(f),Wo(f,f.return);break;case 12:Gi(h,f,r);break;case 31:Gi(h,f,r),r&&p&4&&dy(h,f);break;case 13:Gi(h,f,r),r&&p&4&&my(h,f);break;case 22:f.memoizedState===null&&Gi(h,f,r),Wo(f,f.return);break;case 30:break;default:Gi(h,f,r)}n=n.sibling}}function Bf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&zo(r))}function jf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zo(e))}function Yn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)yy(e,n,r,o),n=n.sibling}function yy(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Yn(e,n,r,o),h&2048&&$o(9,n);break;case 1:Yn(e,n,r,o);break;case 3:Yn(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zo(e)));break;case 12:if(h&2048){Yn(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Xt(n,n.return,R)}}else Yn(e,n,r,o);break;case 31:Yn(e,n,r,o);break;case 13:Yn(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Yn(e,n,r,o):tl(e,n):f._visibility&2?Yn(e,n,r,o):(f._visibility|=2,ba(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Bf(p,n);break;case 24:Yn(e,n,r,o),h&2048&&jf(n.alternate,n);break;default:Yn(e,n,r,o)}}function ba(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=r,R=o,P=p.flags;switch(p.tag){case 0:case 11:case 15:ba(f,p,E,R,h),$o(8,p);break;case 23:break;case 22:var H=p.stateNode;p.memoizedState!==null?H._visibility&2?ba(f,p,E,R,h):tl(f,p):(H._visibility|=2,ba(f,p,E,R,h)),h&&P&2048&&Bf(p.alternate,p);break;case 24:ba(f,p,E,R,h),h&&P&2048&&jf(p.alternate,p);break;default:ba(f,p,E,R,h)}n=n.sibling}}function tl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:tl(r,o),h&2048&&Bf(o.alternate,o);break;case 24:tl(r,o),h&2048&&jf(o.alternate,o);break;default:tl(r,o)}n=n.sibling}}var el=8192;function Sa(e,n,r){if(e.subtreeFlags&el)for(e=e.child;e!==null;)_y(e,n,r),e=e.sibling}function _y(e,n,r){switch(e.tag){case 26:Sa(e,n,r),e.flags&el&&e.memoizedState!==null&&ub(r,Qn,e.memoizedState,e.memoizedProps);break;case 5:Sa(e,n,r);break;case 3:case 4:var o=Qn;Qn=dc(e.stateNode.containerInfo),Sa(e,n,r),Qn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=el,el=16777216,Sa(e,n,r),el=o):Sa(e,n,r));break;default:Sa(e,n,r)}}function vy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function nl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];ke=o,Ty(o,e)}vy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ey(e),e=e.sibling}function Ey(e){switch(e.tag){case 0:case 11:case 15:nl(e),e.flags&2048&&Ar(9,e,e.return);break;case 3:nl(e);break;case 12:nl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,tc(e)):nl(e);break;default:nl(e)}}function tc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];ke=o,Ty(o,e)}vy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ar(8,n,n.return),tc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,tc(n));break;default:tc(n)}e=e.sibling}}function Ty(e,n){for(;ke!==null;){var r=ke;switch(r.tag){case 0:case 11:case 15:Ar(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:zo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,ke=o;else t:for(r=e;ke!==null;){o=ke;var h=o.sibling,f=o.return;if(hy(o),o===r){ke=null;break t}if(h!==null){h.return=f,ke=h;break t}ke=f}}}var SA={getCacheForType:function(e){var n=qe(Te),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return qe(Te).controller.signal}},wA=typeof WeakMap=="function"?WeakMap:Map,Ht=0,te=null,Ct=null,Nt=0,Kt=0,_n=null,br=!1,wa=!1,qf=!1,Fi=0,ce=0,Sr=0,Ns=0,Hf=0,vn=0,Ra=0,il=null,ln=null,Gf=!1,ec=0,Ay=0,nc=1/0,ic=null,wr=null,Oe=0,Rr=null,Ia=null,Qi=0,Ff=0,Qf=null,by=null,rl=0,Yf=null;function En(){return(Ht&2)!==0&&Nt!==0?Nt&-Nt:q.T!==null?Wf():ru()}function Sy(){if(vn===0)if((Nt&536870912)===0||Ut){var e=is;is<<=1,(is&3932160)===0&&(is=262144),vn=e}else vn=536870912;return e=gn.current,e!==null&&(e.flags|=32),vn}function un(e,n,r){(e===te&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Ca(e,0),Ir(e,Nt,vn,!1)),rs(e,r),((Ht&2)===0||e!==te)&&(e===te&&((Ht&2)===0&&(Ns|=r),ce===4&&Ir(e,Nt,vn,!1)),Ti(e))}function wy(e,n,r){if((Ht&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Ln(e,n),h=o?CA(e,n):Xf(e,n,!0),f=o;do{if(h===0){wa&&!o&&Ir(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!RA(r)){h=Xf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=il;var R=E.current.memoizedState.isDehydrated;if(R&&(Ca(E,p).flags|=256),p=Xf(E,p,!1),p!==2){if(qf&&!R){E.errorRecoveryDisabledLanes|=f,Ns|=f,h=4;break t}f=ln,ln=h,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Ca(e,0),Ir(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ir(o,n,vn,!br);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ec+300-We(),10<h)){if(Ir(o,n,vn,!br),ii(o,0,!0)!==0)break t;Qi=n,o.timeoutHandle=n_(Ry.bind(null,o,r,ln,ic,Gf,n,vn,Ns,Ra,br,f,"Throttled",-0,0),h);break t}Ry(o,r,ln,ic,Gf,n,vn,Ns,Ra,br,f,null,-0,0)}}break}while(!0);Ti(e)}function Ry(e,n,r,o,h,f,p,E,R,P,H,Q,z,j){if(e.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},_y(n,f,Q);var ot=(f&62914560)===f?ec-We():(f&4194048)===f?Ay-We():0;if(ot=cb(Q,ot),ot!==null){Qi=f,e.cancelPendingCommit=ot(My.bind(null,e,n,f,r,o,h,p,E,R,H,Q,null,z,j)),Ir(e,f,p,!P);return}}My(e,n,f,r,o,h,p,E,R)}function RA(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!mn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ir(e,n,r,o){n&=~Hf,n&=~Ns,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-he(h),p=1<<f;o[f]=-1,h&=~p}r!==0&&ss(e,r,n)}function rc(){return(Ht&6)===0?(sl(0),!1):!0}function Kf(){if(Ct!==null){if(Kt===0)var e=Ct.return;else e=Ct,ki=Ts=null,cf(e),_a=null,jo=0,e=Ct;for(;e!==null;)iy(e.alternate,e),e=e.return;Ct=null}}function Ca(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,QA(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Qi=0,Kf(),te=e,Ct=r=xi(e.current,null),Nt=n,Kt=0,_n=null,br=!1,wa=Ln(e,n),qf=!1,Ra=vn=Hf=Ns=Sr=ce=0,ln=il=null,Gf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-he(o),f=1<<h;n|=e[h],o&=~f}return Fi=n,wu(),r}function Iy(e,n){St=null,q.H=Xo,n===ya||n===xu?(n=Hp(),Kt=3):n===Zh?(n=Hp(),Kt=4):Kt=n===Rf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,Ct===null&&(ce=1,Yu(e,Cn(n,e.current)))}function Cy(){var e=gn.current;return e===null?!0:(Nt&4194048)===Nt?Vn===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?e===Vn:!1}function Dy(){var e=q.H;return q.H=Xo,e===null?Xo:e}function Ny(){var e=q.A;return q.A=SA,e}function sc(){ce=4,br||(Nt&4194048)!==Nt&&gn.current!==null||(wa=!0),(Sr&134217727)===0&&(Ns&134217727)===0||te===null||Ir(te,Nt,vn,!1)}function Xf(e,n,r){var o=Ht;Ht|=2;var h=Dy(),f=Ny();(te!==e||Nt!==n)&&(ic=null,Ca(e,n)),n=!1;var p=ce;t:do try{if(Kt!==0&&Ct!==null){var E=Ct,R=_n;switch(Kt){case 8:Kf(),p=6;break t;case 3:case 2:case 9:case 6:gn.current===null&&(n=!0);var P=Kt;if(Kt=0,_n=null,Da(e,E,R,P),r&&wa){p=0;break t}break;default:P=Kt,Kt=0,_n=null,Da(e,E,R,P)}}IA(),p=ce;break}catch(H){Iy(e,H)}while(!0);return n&&e.shellSuspendCounter++,ki=Ts=null,Ht=o,q.H=h,q.A=f,Ct===null&&(te=null,Nt=0,wu()),p}function IA(){for(;Ct!==null;)Oy(Ct)}function CA(e,n){var r=Ht;Ht|=2;var o=Dy(),h=Ny();te!==e||Nt!==n?(ic=null,nc=We()+500,Ca(e,n)):wa=Ln(e,n);t:do try{if(Kt!==0&&Ct!==null){n=Ct;var f=_n;e:switch(Kt){case 1:Kt=0,_n=null,Da(e,n,f,1);break;case 2:case 9:if(jp(f)){Kt=0,_n=null,Vy(n);break}n=function(){Kt!==2&&Kt!==9||te!==e||(Kt=7),Ti(e)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:jp(f)?(Kt=0,_n=null,Vy(n)):(Kt=0,_n=null,Da(e,n,f,7));break;case 5:var p=null;switch(Ct.tag){case 26:p=Ct.memoizedState;case 5:case 27:var E=Ct;if(p?y_(p):E.stateNode.complete){Kt=0,_n=null;var R=E.sibling;if(R!==null)Ct=R;else{var P=E.return;P!==null?(Ct=P,ac(P)):Ct=null}break e}}Kt=0,_n=null,Da(e,n,f,5);break;case 6:Kt=0,_n=null,Da(e,n,f,6);break;case 8:Kf(),ce=6;break t;default:throw Error(a(462))}}DA();break}catch(H){Iy(e,H)}while(!0);return ki=Ts=null,q.H=o,q.A=h,Ht=r,Ct!==null?0:(te=null,Nt=0,wu(),ce)}function DA(){for(;Ct!==null&&!Sh();)Oy(Ct)}function Oy(e){var n=ey(e.alternate,e,Fi);e.memoizedProps=e.pendingProps,n===null?ac(e):Ct=n}function Vy(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Xg(r,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=Xg(r,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:cf(n);default:iy(r,n),n=Ct=Np(n,Fi),n=ey(r,n,Fi)}e.memoizedProps=e.pendingProps,n===null?ac(e):Ct=n}function Da(e,n,r,o){ki=Ts=null,cf(n),_a=null,jo=0;var h=n.return;try{if(yA(e,h,n,r,Nt)){ce=1,Yu(e,Cn(r,e.current)),Ct=null;return}}catch(f){if(h!==null)throw Ct=h,f;ce=1,Yu(e,Cn(r,e.current)),Ct=null;return}n.flags&32768?(Ut||o===1?e=!0:wa||(Nt&536870912)!==0?e=!1:(br=e=!0,(o===2||o===9||o===3||o===6)&&(o=gn.current,o!==null&&o.tag===13&&(o.flags|=16384))),xy(n,e)):ac(n)}function ac(e){var n=e;do{if((n.flags&32768)!==0){xy(n,br);return}e=n.return;var r=EA(n.alternate,n,Fi);if(r!==null){Ct=r;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=e}while(n!==null);ce===0&&(ce=5)}function xy(e,n){do{var r=TA(e.alternate,e);if(r!==null){r.flags&=32767,Ct=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=r}while(e!==null);ce=6,Ct=null}function My(e,n,r,o,h,f,p,E,R){e.cancelPendingCommit=null;do oc();while(Oe!==0);if((Ht&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Uh,Ih(e,r,f,p,E,R),e===te&&(Ct=te=null,Nt=0),Ia=n,Rr=e,Qi=r,Ff=f,Qf=h,by=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,xA(ir,function(){return zy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,h=tt.p,tt.p=2,p=Ht,Ht|=4;try{AA(e,n,r)}finally{Ht=p,tt.p=h,q.T=o}}Oe=1,ky(),Uy(),Ly()}}function ky(){if(Oe===1){Oe=0;var e=Rr,n=Ia,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=q.T,q.T=null;var o=tt.p;tt.p=2;var h=Ht;Ht|=4;try{py(n,e);var f=od,p=Tp(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Ep(E.ownerDocument.documentElement,E)){if(R!==null&&Oh(E)){var P=R.start,H=R.end;if(H===void 0&&(H=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(H,E.value.length);else{var Q=E.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var j=z.getSelection(),ot=E.textContent.length,ft=Math.min(R.start,ot),Wt=R.end===void 0?ft:Math.min(R.end,ot);!j.extend&&ft>Wt&&(p=Wt,Wt=ft,ft=p);var M=vp(E,ft),N=vp(E,Wt);if(M&&N&&(j.rangeCount!==1||j.anchorNode!==M.node||j.anchorOffset!==M.offset||j.focusNode!==N.node||j.focusOffset!==N.offset)){var L=Q.createRange();L.setStart(M.node,M.offset),j.removeAllRanges(),ft>Wt?(j.addRange(L),j.extend(N.node,N.offset)):(L.setEnd(N.node,N.offset),j.addRange(L))}}}}for(Q=[],j=E;j=j.parentNode;)j.nodeType===1&&Q.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var G=Q[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}vc=!!ad,od=ad=null}finally{Ht=h,tt.p=o,q.T=r}}e.current=n,Oe=2}}function Uy(){if(Oe===2){Oe=0;var e=Rr,n=Ia,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=q.T,q.T=null;var o=tt.p;tt.p=2;var h=Ht;Ht|=4;try{cy(e,n.alternate,n)}finally{Ht=h,tt.p=o,q.T=r}}Oe=3}}function Ly(){if(Oe===4||Oe===3){Oe=0,Zl();var e=Rr,n=Ia,r=Qi,o=by;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,Ia=Rr=null,Py(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(wr=null),Di(r),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Un,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=q.T,h=tt.p,tt.p=2,q.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{q.T=n,tt.p=h}}(Qi&3)!==0&&oc(),Ti(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===Yf?rl++:(rl=0,Yf=e):rl=0,sl(0)}}function Py(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,zo(n)))}function oc(){return ky(),Uy(),Ly(),zy()}function zy(){if(Oe!==5)return!1;var e=Rr,n=Ff;Ff=0;var r=Di(Qi),o=q.T,h=tt.p;try{tt.p=32>r?32:r,q.T=null,r=Qf,Qf=null;var f=Rr,p=Qi;if(Oe=0,Ia=Rr=null,Qi=0,(Ht&6)!==0)throw Error(a(331));var E=Ht;if(Ht|=4,Ey(f.current),yy(f,f.current,p,r),Ht=E,sl(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Un,f)}catch{}return!0}finally{tt.p=h,q.T=o,Py(e,n)}}function By(e,n,r){n=Cn(r,n),n=wf(e.stateNode,n,2),e=vr(e,n,2),e!==null&&(rs(e,2),Ti(e))}function Xt(e,n,r){if(e.tag===3)By(e,e,r);else for(;n!==null;){if(n.tag===3){By(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(wr===null||!wr.has(o))){e=Cn(r,e),r=jg(2),o=vr(n,r,2),o!==null&&(qg(r,o,n,e),rs(o,2),Ti(o));break}}n=n.return}}function Jf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new wA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(qf=!0,h.add(r),e=NA.bind(null,e,n,r),n.then(e,e))}function NA(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,te===e&&(Nt&r)===r&&(ce===4||ce===3&&(Nt&62914560)===Nt&&300>We()-ec?(Ht&2)===0&&Ca(e,0):Hf|=r,Ra===Nt&&(Ra=0)),Ti(e)}function jy(e,n){n===0&&(n=iu()),e=_s(e,n),e!==null&&(rs(e,n),Ti(e))}function OA(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),jy(e,r)}function VA(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),jy(e,r)}function xA(e,n){return Ne(e,n)}var lc=null,Na=null,Zf=!1,uc=!1,$f=!1,Cr=0;function Ti(e){e!==Na&&e.next===null&&(Na===null?lc=Na=e:Na=Na.next=e),uc=!0,Zf||(Zf=!0,kA())}function sl(e,n){if(!$f&&uc){$f=!0;do for(var r=!1,o=lc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-he(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Fy(o,f))}else f=Nt,f=ii(o,o===te?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Ln(o,f)||(r=!0,Fy(o,f));o=o.next}while(r);$f=!1}}function MA(){qy()}function qy(){uc=Zf=!1;var e=0;Cr!==0&&FA()&&(e=Cr);for(var n=We(),r=null,o=lc;o!==null;){var h=o.next,f=Hy(o,n);f===0?(o.next=null,r===null?lc=h:r.next=h,h===null&&(Na=r)):(r=o,(e!==0||(f&3)!==0)&&(uc=!0)),o=h}Oe!==0&&Oe!==5||sl(e),Cr!==0&&(Cr=0)}function Hy(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-he(f),E=1<<p,R=h[p];R===-1?((E&r)===0||(E&o)!==0)&&(h[p]=Rh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=te,r=Nt,r=ii(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&nr(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Ln(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&nr(o),Di(r)){case 2:case 8:r=po;break;case 32:r=ir;break;case 268435456:r=$l;break;default:r=ir}return o=Gy.bind(null,e),r=Ne(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&nr(o),e.callbackPriority=2,e.callbackNode=null,2}function Gy(e,n){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(oc()&&e.callbackNode!==r)return null;var o=Nt;return o=ii(e,e===te?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(wy(e,o,n),Hy(e,We()),e.callbackNode!=null&&e.callbackNode===r?Gy.bind(null,e):null)}function Fy(e,n){if(oc())return null;wy(e,n,!0)}function kA(){YA(function(){(Ht&6)!==0?Ne(mo,MA):qy()})}function Wf(){if(Cr===0){var e=pa;e===0&&(e=ei,ei<<=1,(ei&261888)===0&&(ei=256)),Cr=e}return Cr}function Qy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ta(""+e)}function Yy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function UA(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=Qy((h[xe]||null).action),p=o.submitter;p&&(n=(n=p[xe]||null)?Qy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new mi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Cr!==0){var R=p?Yy(h,p):new FormData(h);vf(r,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=p?Yy(h,p):new FormData(h),vf(r,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var td=0;td<kh.length;td++){var ed=kh[td],LA=ed.toLowerCase(),PA=ed[0].toUpperCase()+ed.slice(1);Fn(LA,"on"+PA)}Fn(Sp,"onAnimationEnd"),Fn(wp,"onAnimationIteration"),Fn(Rp,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(tA,"onTransitionRun"),Fn(eA,"onTransitionStart"),Fn(nA,"onTransitionCancel"),Fn(Ip,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(al));function Ky(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],R=E.instance,P=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(H){Su(H)}h.currentTarget=null,f=R}else for(p=0;p<o.length;p++){if(E=o[p],R=E.instance,P=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(H){Su(H)}h.currentTarget=null,f=R}}}}function Dt(e,n){var r=n[Xs];r===void 0&&(r=n[Xs]=new Set);var o=e+"__bubble";r.has(o)||(Xy(n,e,2,!1),r.add(o))}function nd(e,n,r){var o=0;n&&(o|=4),Xy(r,e,o,n)}var cc="_reactListening"+Math.random().toString(36).slice(2);function id(e){if(!e[cc]){e[cc]=!0,_o.forEach(function(r){r!=="selectionchange"&&(zA.has(r)||nd(r,!1,e),nd(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[cc]||(n[cc]=!0,nd("selectionchange",!1,n))}}function Xy(e,n,r,o){switch(S_(n)){case 2:var h=db;break;case 8:h=mb;break;default:h=_d}r=h.bind(null,n,r,e),h=void 0,!cs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function rd(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=oi(E),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){o=f=p;continue t}E=E.parentNode}}o=o.return}ur(function(){var P=f,H=Sn(r),Q=[];t:{var z=Cp.get(e);if(z!==void 0){var j=mi,ot=e;switch(e){case"keypress":if(fs(r)===0)break t;case"keydown":case"keyup":j=Tu;break;case"focusin":ot="focus",j=ms;break;case"focusout":ot="blur",j=ms;break;case"beforeblur":case"afterblur":j=ms;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Oo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=m;break;case Sp:case wp:case Rp:j=mu;break;case Ip:j=T;break;case"scroll":case"scrollend":j=No;break;case"wheel":j=B;break;case"copy":case"cut":case"paste":j=pu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Vi;break;case"toggle":case"beforetoggle":j=bt}var ft=(n&4)!==0,Wt=!ft&&(e==="scroll"||e==="scrollend"),M=ft?z!==null?z+"Capture":null:z;ft=[];for(var N=P,L;N!==null;){var G=N;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||M===null||(G=jn(N,M),G!=null&&ft.push(ol(N,G,L))),Wt)break;N=N.return}0<ft.length&&(z=new j(z,ot,null,r,H),Q.push({event:z,listeners:ft}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",z&&r!==Io&&(ot=r.relatedTarget||r.fromElement)&&(oi(ot)||ot[si]))break t;if((j||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,j?(ot=r.relatedTarget||r.toElement,j=P,ot=ot?oi(ot):null,ot!==null&&(Wt=c(ot),ft=ot.tag,ot!==Wt||ft!==5&&ft!==27&&ft!==6)&&(ot=null)):(j=null,ot=P),j!==ot)){if(ft=Oo,G="onMouseLeave",M="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(ft=Vi,G="onPointerLeave",M="onPointerEnter",N="pointer"),Wt=j==null?z:fn(j),L=ot==null?z:fn(ot),z=new ft(G,N+"leave",j,r,H),z.target=Wt,z.relatedTarget=L,G=null,oi(H)===P&&(ft=new ft(M,N+"enter",ot,r,H),ft.target=L,ft.relatedTarget=Wt,G=ft),Wt=G,j&&ot)e:{for(ft=BA,M=j,N=ot,L=0,G=M;G;G=ft(G))L++;G=0;for(var ct=N;ct;ct=ft(ct))G++;for(;0<L-G;)M=ft(M),L--;for(;0<G-L;)N=ft(N),G--;for(;L--;){if(M===N||N!==null&&M===N.alternate){ft=M;break e}M=ft(M),N=ft(N)}ft=null}else ft=null;j!==null&&Jy(Q,z,j,ft,!1),ot!==null&&Wt!==null&&Jy(Q,Wt,ot,ft,!0)}}t:{if(z=P?fn(P):window,j=z.nodeName&&z.nodeName.toLowerCase(),j==="select"||j==="input"&&z.type==="file")var Bt=dp;else if(hp(z))if(mp)Bt=ZT;else{Bt=XT;var lt=KT}else j=z.nodeName,!j||j.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&Ws(P.elementType)&&(Bt=dp):Bt=JT;if(Bt&&(Bt=Bt(e,P))){fp(Q,Bt,r,H);break t}lt&&lt(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&So(z,"number",z.value)}switch(lt=P?fn(P):window,e){case"focusin":(hp(lt)||lt.contentEditable==="true")&&(oa=lt,Vh=P,Uo=null);break;case"focusout":Uo=Vh=oa=null;break;case"mousedown":xh=!0;break;case"contextmenu":case"mouseup":case"dragend":xh=!1,Ap(Q,r,H);break;case"selectionchange":if(WT)break;case"keydown":case"keyup":Ap(Q,r,H)}var It;if(qt)t:{switch(e){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else aa?ps(e,r)&&(Ot="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ot="onCompositionStart");Ot&&(yi&&r.locale!=="ko"&&(aa||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&aa&&(It=Do()):(di=H,Co="value"in di?di.value:di.textContent,aa=!0)),lt=hc(P,Ot),0<lt.length&&(Ot=new gi(Ot,e,null,r,H),Q.push({event:Ot,listeners:lt}),It?Ot.data=It:(It=sa(r),It!==null&&(Ot.data=It)))),(It=Rn?GT(e,r):FT(e,r))&&(Ot=hc(P,"onBeforeInput"),0<Ot.length&&(lt=new gi("onBeforeInput","beforeinput",null,r,H),Q.push({event:lt,listeners:Ot}),lt.data=It)),UA(Q,e,P,r,H)}Ky(Q,n)})}function ol(e,n,r){return{instance:e,listener:n,currentTarget:r}}function hc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=jn(e,r),h!=null&&o.unshift(ol(e,h,f)),h=jn(e,n),h!=null&&o.push(ol(e,h,f))),e.tag===3)return o;e=e.return}return[]}function BA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Jy(e,n,r,o,h){for(var f=n._reactName,p=[];r!==null&&r!==o;){var E=r,R=E.alternate,P=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||P===null||(R=P,h?(P=jn(r,f),P!=null&&p.unshift(ol(r,P,R))):h||(P=jn(r,f),P!=null&&p.push(ol(r,P,R)))),r=r.return}p.length!==0&&e.push({event:n,listeners:p})}var jA=/\r\n?/g,qA=/\u0000|\uFFFD/g;function Zy(e){return(typeof e=="string"?e:""+e).replace(jA,`
`).replace(qA,"")}function $y(e,n){return n=Zy(n),Zy(e)===n}function $t(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||rn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&rn(e,""+o);break;case"className":dn(e,"class",o);break;case"tabIndex":dn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(e,r,o);break;case"style":Ro(e,o,f);break;case"data":if(n!=="object"){dn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ta(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&$t(e,n,"name",h.name,h,null),$t(e,n,"formEncType",h.formEncType,h,null),$t(e,n,"formMethod",h.formMethod,h,null),$t(e,n,"formTarget",h.formTarget,h,null)):($t(e,n,"encType",h.encType,h,null),$t(e,n,"method",h.method,h,null),$t(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ta(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Bn);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=ta(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),Zs(e,"popover",o);break;case"xlinkActuate":Ee(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ee(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ee(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ee(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ee(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ee(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Zs(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=hu.get(r)||r,Zs(e,r,o))}}function sd(e,n,r,o,h,f){switch(r){case"style":Ro(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?rn(e,o):(typeof o=="number"||typeof o=="bigint")&&rn(e,""+o);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vo.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[xe]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):Zs(e,r,o)}}}function Ge(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$t(e,n,f,p,r,null)}}h&&$t(e,n,"srcSet",r.srcSet,r,null),o&&$t(e,n,"src",r.src,r,null);return;case"input":Dt("invalid",e);var E=f=p=h=null,R=null,P=null;for(o in r)if(r.hasOwnProperty(o)){var H=r[o];if(H!=null)switch(o){case"name":h=H;break;case"type":p=H;break;case"checked":R=H;break;case"defaultChecked":P=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:$t(e,n,o,H,r,null)}}lu(e,f,E,R,P,p,h,!1);return;case"select":Dt("invalid",e),o=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:$t(e,n,h,E,r,null)}n=f,r=p,e.multiple=!!o,n!=null?sr(e,!!o,n,!1):r!=null&&sr(e,!!o,r,!0);return;case"textarea":Dt("invalid",e),f=h=o=null;for(p in r)if(r.hasOwnProperty(p)&&(E=r[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:$t(e,n,p,E,r,null)}ar(e,o,h,f);return;case"option":for(R in r)r.hasOwnProperty(R)&&(o=r[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":$t(e,n,R,o,r,null));return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(o=0;o<al.length;o++)Dt(al[o],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(o=r[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$t(e,n,P,o,r,null)}return;default:if(Ws(n)){for(H in r)r.hasOwnProperty(H)&&(o=r[H],o!==void 0&&sd(e,n,H,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&$t(e,n,E,o,r,null))}function HA(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,R=null,P=null,H=null;for(j in r){var Q=r[j];if(r.hasOwnProperty(j)&&Q!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":R=Q;default:o.hasOwnProperty(j)||$t(e,n,j,null,o,Q)}}for(var z in o){var j=o[z];if(Q=r[z],o.hasOwnProperty(z)&&(j!=null||Q!=null))switch(z){case"type":f=j;break;case"name":h=j;break;case"checked":P=j;break;case"defaultChecked":H=j;break;case"value":p=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:j!==Q&&$t(e,n,z,j,o,Q)}}$s(e,p,E,R,P,H,f,h);return;case"select":j=p=E=z=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":j=R;default:o.hasOwnProperty(f)||$t(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=r[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==R&&$t(e,n,h,f,o,R)}n=E,r=p,o=j,z!=null?sr(e,!!r,z,!1):!!o!=!!r&&(n!=null?sr(e,!!r,n,!0):sr(e,!!r,r?[]:"",!1));return;case"textarea":j=z=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$t(e,n,E,null,o,h)}for(p in o)if(h=o[p],f=r[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&$t(e,n,p,h,o,f)}uu(e,z,j);return;case"option":for(var ot in r)z=r[ot],r.hasOwnProperty(ot)&&z!=null&&!o.hasOwnProperty(ot)&&(ot==="selected"?e.selected=!1:$t(e,n,ot,null,o,z));for(R in o)z=o[R],j=r[R],o.hasOwnProperty(R)&&z!==j&&(z!=null||j!=null)&&(R==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":$t(e,n,R,z,o,j));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in r)z=r[ft],r.hasOwnProperty(ft)&&z!=null&&!o.hasOwnProperty(ft)&&$t(e,n,ft,null,o,z);for(P in o)if(z=o[P],j=r[P],o.hasOwnProperty(P)&&z!==j&&(z!=null||j!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:$t(e,n,P,z,o,j)}return;default:if(Ws(n)){for(var Wt in r)z=r[Wt],r.hasOwnProperty(Wt)&&z!==void 0&&!o.hasOwnProperty(Wt)&&sd(e,n,Wt,void 0,o,z);for(H in o)z=o[H],j=r[H],!o.hasOwnProperty(H)||z===j||z===void 0&&j===void 0||sd(e,n,H,z,o,j);return}}for(var M in r)z=r[M],r.hasOwnProperty(M)&&z!=null&&!o.hasOwnProperty(M)&&$t(e,n,M,null,o,z);for(Q in o)z=o[Q],j=r[Q],!o.hasOwnProperty(Q)||z===j||z==null&&j==null||$t(e,n,Q,z,o,j)}function Wy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function GA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&Wy(p)){for(p=0,E=h.responseEnd,o+=1;o<r.length;o++){var R=r[o],P=R.startTime;if(P>E)break;var H=R.transferSize,Q=R.initiatorType;H&&Wy(Q)&&(R=R.responseEnd,p+=H*(R<E?1:(E-P)/(R-P)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ad=null,od=null;function fc(e){return e.nodeType===9?e:e.ownerDocument}function t_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function e_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function ld(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ud=null;function FA(){var e=window.event;return e&&e.type==="popstate"?e===ud?!1:(ud=e,!0):(ud=null,!1)}var n_=typeof setTimeout=="function"?setTimeout:void 0,QA=typeof clearTimeout=="function"?clearTimeout:void 0,i_=typeof Promise=="function"?Promise:void 0,YA=typeof queueMicrotask=="function"?queueMicrotask:typeof i_<"u"?function(e){return i_.resolve(null).then(e).catch(KA)}:n_;function KA(e){setTimeout(function(){throw e})}function Dr(e){return e==="head"}function r_(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),Ma(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")ll(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,ll(r);for(var f=r.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[ai]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&ll(e.ownerDocument.body);r=h}while(r);Ma(n)}function s_(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function cd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":cd(r),Js(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function XA(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ai])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=xn(e.nextSibling),e===null)break}return null}function JA(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=xn(e.nextSibling),e===null))return null;return e}function a_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=xn(e.nextSibling),e===null))return null;return e}function hd(e){return e.data==="$?"||e.data==="$~"}function fd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ZA(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function xn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var dd=null;function o_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return xn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function l_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function u_(e,n,r){switch(n=fc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ll(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Js(e)}var Mn=new Map,c_=new Set;function dc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Yi=tt.d;tt.d={f:$A,r:WA,D:tb,C:eb,L:nb,m:ib,X:sb,S:rb,M:ab};function $A(){var e=Yi.f(),n=rc();return e||n}function WA(e){var n=bn(e);n!==null&&n.tag===5&&n.type==="form"?Ig(n):Yi.r(e)}var Oa=typeof document>"u"?null:document;function h_(e,n,r){var o=Oa;if(o&&typeof n=="string"&&n){var h=nn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),c_.has(h)||(c_.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ge(n,"link",e),ve(n),o.head.appendChild(n)))}}function tb(e){Yi.D(e),h_("dns-prefetch",e,null)}function eb(e,n){Yi.C(e,n),h_("preconnect",e,n)}function nb(e,n,r){Yi.L(e,n,r);var o=Oa;if(o&&e&&n){var h='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+nn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+nn(r.imageSizes)+'"]')):h+='[href="'+nn(e)+'"]';var f=h;switch(n){case"style":f=Va(e);break;case"script":f=xa(e)}Mn.has(f)||(e=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Mn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ul(f))||n==="script"&&o.querySelector(cl(f))||(n=o.createElement("link"),Ge(n,"link",e),ve(n),o.head.appendChild(n)))}}function ib(e,n){Yi.m(e,n);var r=Oa;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+nn(o)+'"][href="'+nn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=xa(e)}if(!Mn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Mn.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(cl(f)))return}o=r.createElement("link"),Ge(o,"link",e),ve(o),r.head.appendChild(o)}}}function rb(e,n,r){Yi.S(e,n,r);var o=Oa;if(o&&e){var h=li(o).hoistableStyles,f=Va(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(ul(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Mn.get(f))&&md(e,r);var R=p=o.createElement("link");ve(R),Ge(R,"link",e),R._p=new Promise(function(P,H){R.onload=P,R.onerror=H}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,mc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function sb(e,n){Yi.X(e,n);var r=Oa;if(r&&e){var o=li(r).hoistableScripts,h=xa(e),f=o.get(h);f||(f=r.querySelector(cl(h)),f||(e=S({src:e,async:!0},n),(n=Mn.get(h))&&pd(e,n),f=r.createElement("script"),ve(f),Ge(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function ab(e,n){Yi.M(e,n);var r=Oa;if(r&&e){var o=li(r).hoistableScripts,h=xa(e),f=o.get(h);f||(f=r.querySelector(cl(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Mn.get(h))&&pd(e,n),f=r.createElement("script"),ve(f),Ge(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function f_(e,n,r,o){var h=(h=Rt.current)?dc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Va(r.href),r=li(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Va(r.href);var f=li(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(ul(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Mn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Mn.set(e,r),f||ob(h,e,r,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=xa(r),r=li(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Va(e){return'href="'+nn(e)+'"'}function ul(e){return'link[rel="stylesheet"]['+e+"]"}function d_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function ob(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ge(n,"link",r),ve(n),e.head.appendChild(n))}function xa(e){return'[src="'+nn(e)+'"]'}function cl(e){return"script[async]"+e}function m_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+nn(r.href)+'"]');if(o)return n.instance=o,ve(o),o;var h=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ve(o),Ge(o,"style",h),mc(o,r.precedence,e),n.instance=o;case"stylesheet":h=Va(r.href);var f=e.querySelector(ul(h));if(f)return n.state.loading|=4,n.instance=f,ve(f),f;o=d_(r),(h=Mn.get(h))&&md(o,h),f=(e.ownerDocument||e).createElement("link"),ve(f);var p=f;return p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),Ge(f,"link",o),n.state.loading|=4,mc(f,r.precedence,e),n.instance=f;case"script":return f=xa(r.src),(h=e.querySelector(cl(f)))?(n.instance=h,ve(h),h):(o=r,(h=Mn.get(f))&&(o=S({},r),pd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ve(h),Ge(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,mc(o,r.precedence,e));return n.instance}function mc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function md(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function pd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var pc=null;function p_(e,n,r){if(pc===null){var o=new Map,h=pc=new Map;h.set(r,o)}else h=pc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[ai]||f[_e]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function g_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function lb(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function y_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ub(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Va(o.href),f=n.querySelector(ul(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=gc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,ve(f);return}f=n.ownerDocument||n,o=d_(o),(h=Mn.get(h))&&md(o,h),f=f.createElement("link"),ve(f);var p=f;p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),Ge(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=gc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var gd=0;function cb(e,n){return e.stylesheets&&e.count===0&&_c(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&_c(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&gd===0&&(gd=62500*GA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&_c(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>gd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_c(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var yc=null;function _c(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,yc=new Map,n.forEach(hb,e),yc=null,gc.call(e))}function hb(e,n){if(!(n.state.loading&4)){var r=yc.get(e);if(r)var o=r.get(null);else{r=new Map,yc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),o=p)}o&&r.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||o,f===o&&r.set(null,h),r.set(p,h),this.count++,o=gc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var hl={$$typeof:_t,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function fb(e,n,r,o,h,f,p,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function __(e,n,r,o,h,f,p,E,R,P,H,Q){return e=new fb(e,n,r,p,R,P,H,Q,E),n=1,f===!0&&(n|=24),f=pn(3,null,null,n),e.current=f,f.stateNode=e,n=Kh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},$h(f),e}function v_(e){return e?(e=ca,e):ca}function E_(e,n,r,o,h,f){h=v_(h),o.context===null?o.context=h:o.pendingContext=h,o=_r(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=vr(e,o,n),r!==null&&(un(r,e,n),Ho(r,e,n))}function T_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function yd(e,n){T_(e,n),(e=e.alternate)&&T_(e,n)}function A_(e){if(e.tag===13||e.tag===31){var n=_s(e,67108864);n!==null&&un(n,e,67108864),yd(e,67108864)}}function b_(e){if(e.tag===13||e.tag===31){var n=En();n=as(n);var r=_s(e,n);r!==null&&un(r,e,n),yd(e,n)}}var vc=!0;function db(e,n,r,o){var h=q.T;q.T=null;var f=tt.p;try{tt.p=2,_d(e,n,r,o)}finally{tt.p=f,q.T=h}}function mb(e,n,r,o){var h=q.T;q.T=null;var f=tt.p;try{tt.p=8,_d(e,n,r,o)}finally{tt.p=f,q.T=h}}function _d(e,n,r,o){if(vc){var h=vd(o);if(h===null)rd(e,n,o,Ec,r),w_(e,o);else if(gb(h,e,n,r,o))o.stopPropagation();else if(w_(e,o),n&4&&-1<pb.indexOf(e)){for(;h!==null;){var f=bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=ni(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var R=1<<31-he(p);E.entanglements[1]|=R,p&=~R}Ti(f),(Ht&6)===0&&(nc=We()+500,sl(0))}}break;case 31:case 13:E=_s(f,2),E!==null&&un(E,f,2),rc(),yd(f,2)}if(f=vd(o),f===null&&rd(e,n,o,Ec,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else rd(e,n,o,null,r)}}function vd(e){return e=Sn(e),Ed(e)}var Ec=null;function Ed(e){if(Ec=null,e=oi(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=g(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ec=e,null}function S_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ns()){case mo:return 2;case po:return 8;case ir:case wh:return 32;case $l:return 268435456;default:return 32}default:return 32}}var Td=!1,Nr=null,Or=null,Vr=null,fl=new Map,dl=new Map,xr=[],pb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function w_(e,n){switch(e){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":fl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(n.pointerId)}}function ml(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=bn(n),n!==null&&A_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function gb(e,n,r,o,h){switch(n){case"focusin":return Nr=ml(Nr,e,n,r,o,h),!0;case"dragenter":return Or=ml(Or,e,n,r,o,h),!0;case"mouseover":return Vr=ml(Vr,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return fl.set(f,ml(fl.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,dl.set(f,ml(dl.get(f)||null,e,n,r,o,h)),!0}return!1}function R_(e){var n=oi(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Pn(e.priority,function(){b_(r)});return}}else if(n===31){if(n=g(r),n!==null){e.blockedOn=n,Pn(e.priority,function(){b_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=vd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Io=o,r.target.dispatchEvent(o),Io=null}else return n=bn(r),n!==null&&A_(n),e.blockedOn=r,!1;n.shift()}return!0}function I_(e,n,r){Tc(e)&&r.delete(n)}function yb(){Td=!1,Nr!==null&&Tc(Nr)&&(Nr=null),Or!==null&&Tc(Or)&&(Or=null),Vr!==null&&Tc(Vr)&&(Vr=null),fl.forEach(I_),dl.forEach(I_)}function Ac(e,n){e.blockedOn===n&&(e.blockedOn=null,Td||(Td=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,yb)))}var bc=null;function C_(e){bc!==e&&(bc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){bc===e&&(bc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Ed(o||r)===null)continue;break}var f=bn(r);f!==null&&(e.splice(n,3),n-=3,vf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Ma(e){function n(R){return Ac(R,e)}Nr!==null&&Ac(Nr,e),Or!==null&&Ac(Or,e),Vr!==null&&Ac(Vr,e),fl.forEach(n),dl.forEach(n);for(var r=0;r<xr.length;r++){var o=xr[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<xr.length&&(r=xr[0],r.blockedOn===null);)R_(r),r.blockedOn===null&&xr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],p=h[xe]||null;if(typeof f=="function")p||C_(r);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[xe]||null)E=p.formAction;else if(Ed(h)!==null)continue}else E=p.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),C_(r)}}}function D_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ad(e){this._internalRoot=e}Sc.prototype.render=Ad.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=En();E_(r,o,e,n,null,null)},Sc.prototype.unmount=Ad.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;E_(e.current,2,null,e,null,null),rc(),n[si]=null}};function Sc(e){this._internalRoot=e}Sc.prototype.unstable_scheduleHydration=function(e){if(e){var n=ru();e={blockedOn:null,target:e,priority:n};for(var r=0;r<xr.length&&n!==0&&n<xr[r].priority;r++);xr.splice(r,0,e),r===0&&R_(e)}};var N_=t.version;if(N_!=="19.2.3")throw Error(a(527,N_,"19.2.3"));tt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var _b={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{Un=wc.inject(_b),ze=wc}catch{}}return gl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=Lg,f=Pg,p=zg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=__(e,1,!1,null,null,r,o,null,h,f,p,D_),e[si]=n.current,id(e),new Ad(n)},gl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=Lg,p=Pg,E=zg,R=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=__(e,1,!0,n,r??null,o,h,R,f,p,E,D_),n.context=v_(null),r=n.current,o=En(),o=as(o),h=_r(o),h.callback=null,vr(r,h,o),r=o,n.current.lanes=r,rs(n,r),Ti(n),e[si]=n.current,id(e),new Sc(n)},gl.version="19.2.3",gl}var B_;function Cb(){if(B_)return wd.exports;B_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),wd.exports=Ib(),wd.exports}var Db=Cb();const Nb=()=>{};var j_={};const TE=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},Ob=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],g=s[i++],v=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},AE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,v=l+2<s.length,y=v?s[l+2]:0,A=c>>2,S=(c&3)<<4|g>>4;let V=(g&15)<<2|y>>6,F=y&63;v||(F=64,d||(V=64)),a.push(i[A],i[S],i[V],i[F])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(TE(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):Ob(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const S=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||g==null||y==null||S==null)throw new Vb;const V=c<<2|g>>4;if(a.push(V),y!==64){const F=g<<4&240|y>>2;if(a.push(F),S!==64){const $=y<<6&192|S;a.push($)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Vb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xb=function(s){const t=TE(s);return AE.encodeByteArray(t,!0)},Hc=function(s){return xb(s).replace(/\./g,"")},bE=function(s){try{return AE.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Mb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const kb=()=>Mb().__FIREBASE_DEFAULTS__,Ub=()=>{if(typeof process>"u"||typeof j_>"u")return;const s=j_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Lb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&bE(s[1]);return t&&JSON.parse(t)},ah=()=>{try{return Nb()||kb()||Ub()||Lb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},SE=s=>ah()?.emulatorHosts?.[s],Pb=s=>{const t=SE(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},wE=()=>ah()?.config,RE=s=>ah()?.[`_${s}`];class zb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function no(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function IE(s){return(await fetch(s,{credentials:"include"})).ok}function Bb(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Hc(JSON.stringify(i)),Hc(JSON.stringify(d)),""].join(".")}const Al={};function jb(){const s={prod:[],emulator:[]};for(const t of Object.keys(Al))Al[t]?s.emulator.push(t):s.prod.push(t);return s}function qb(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let q_=!1;function CE(s,t){if(typeof window>"u"||typeof document>"u"||!no(window.location.host)||Al[s]===t||Al[s]||q_)return;Al[s]=t;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",c=jb().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function g(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function v(V,F){V.setAttribute("width","24"),V.setAttribute("id",F),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function y(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{q_=!0,d()},V}function A(V,F){V.setAttribute("id",F),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function S(){const V=qb(a),F=i("text"),$=document.getElementById(F)||document.createElement("span"),it=i("learnmore"),et=document.getElementById(it)||document.createElement("a"),dt=i("preprendIcon"),gt=document.getElementById(dt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const _t=V.element;g(_t),A(et,it);const wt=y();v(gt,dt),_t.append(gt,$,et,wt),document.body.appendChild(_t)}c?($.innerText="Preview backend disconnected.",gt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(gt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function $e(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Hb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function Gb(){const s=ah()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Fb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Qb(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Yb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Kb(){const s=$e();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function Xb(){return!Gb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jb(){try{return typeof indexedDB=="object"}catch{return!1}}function Zb(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const $b="FirebaseError";class er extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=$b,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zl.prototype.create)}}class zl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?Wb(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new er(l,g,a)}}function Wb(s,t){return s.replace(t1,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const t1=/\{\$([^}]+)}/g;function e1(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Ls(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(H_(c)&&H_(d)){if(!Ls(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function H_(s){return s!==null&&typeof s=="object"}function Bl(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function n1(s,t){const i=new i1(s,t);return i.subscribe.bind(i)}class i1{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");r1(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Dd),l.error===void 0&&(l.error=Dd),l.complete===void 0&&(l.complete=Dd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function r1(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Dd(){}function Pe(s){return s&&s._delegate?s._delegate:s}class Ps{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Os="[DEFAULT]";class s1{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new zb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(o1(t))try{this.getOrInitializeService({instanceIdentifier:Os})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Os){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Os){return this.instances.has(t)}getOptions(t=Os){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:a1(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Os){return this.component?this.component.multipleInstances?t:Os:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function a1(s){return s===Os?void 0:s}function o1(s){return s.instantiationMode==="EAGER"}class l1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new s1(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Vt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Vt||(Vt={}));const u1={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},c1=Vt.INFO,h1={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},f1=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=h1[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class pm{constructor(t){this.name=t,this._logLevel=c1,this._logHandler=f1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?u1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const d1=(s,t)=>t.some(i=>s instanceof i);let G_,F_;function m1(){return G_||(G_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function p1(){return F_||(F_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DE=new WeakMap,qd=new WeakMap,NE=new WeakMap,Nd=new WeakMap,gm=new WeakMap;function g1(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Br(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&DE.set(i,s)}).catch(()=>{}),gm.set(t,s),t}function y1(s){if(qd.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});qd.set(s,t)}let Hd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return qd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||NE.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Br(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function _1(s){Hd=s(Hd)}function v1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Od(this),t,...i);return NE.set(a,t.sort?t.sort():[t]),Br(a)}:p1().includes(s)?function(...t){return s.apply(Od(this),t),Br(DE.get(this))}:function(...t){return Br(s.apply(Od(this),t))}}function E1(s){return typeof s=="function"?v1(s):(s instanceof IDBTransaction&&y1(s),d1(s,m1())?new Proxy(s,Hd):s)}function Br(s){if(s instanceof IDBRequest)return g1(s);if(Nd.has(s))return Nd.get(s);const t=E1(s);return t!==s&&(Nd.set(s,t),gm.set(t,s)),t}const Od=s=>gm.get(s);function T1(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),g=Br(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Br(d.result),v.oldVersion,v.newVersion,Br(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{c&&v.addEventListener("close",()=>c()),l&&v.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const A1=["get","getKey","getAll","getAllKeys","count"],b1=["put","add","delete","clear"],Vd=new Map;function Q_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Vd.get(t))return Vd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=b1.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||A1.includes(i)))return;const c=async function(d,...g){const v=this.transaction(d,l?"readwrite":"readonly");let y=v.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),l&&v.done]))[0]};return Vd.set(t,c),c}_1(s=>({...s,get:(t,i,a)=>Q_(t,i)||s.get(t,i,a),has:(t,i)=>!!Q_(t,i)||s.has(t,i)}));class S1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(w1(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function w1(s){return s.getComponent()?.type==="VERSION"}const Gd="@firebase/app",Y_="0.14.7";const Zi=new pm("@firebase/app"),R1="@firebase/app-compat",I1="@firebase/analytics-compat",C1="@firebase/analytics",D1="@firebase/app-check-compat",N1="@firebase/app-check",O1="@firebase/auth",V1="@firebase/auth-compat",x1="@firebase/database",M1="@firebase/data-connect",k1="@firebase/database-compat",U1="@firebase/functions",L1="@firebase/functions-compat",P1="@firebase/installations",z1="@firebase/installations-compat",B1="@firebase/messaging",j1="@firebase/messaging-compat",q1="@firebase/performance",H1="@firebase/performance-compat",G1="@firebase/remote-config",F1="@firebase/remote-config-compat",Q1="@firebase/storage",Y1="@firebase/storage-compat",K1="@firebase/firestore",X1="@firebase/ai",J1="@firebase/firestore-compat",Z1="firebase",$1="12.8.0";const Fd="[DEFAULT]",W1={[Gd]:"fire-core",[R1]:"fire-core-compat",[C1]:"fire-analytics",[I1]:"fire-analytics-compat",[N1]:"fire-app-check",[D1]:"fire-app-check-compat",[O1]:"fire-auth",[V1]:"fire-auth-compat",[x1]:"fire-rtdb",[M1]:"fire-data-connect",[k1]:"fire-rtdb-compat",[U1]:"fire-fn",[L1]:"fire-fn-compat",[P1]:"fire-iid",[z1]:"fire-iid-compat",[B1]:"fire-fcm",[j1]:"fire-fcm-compat",[q1]:"fire-perf",[H1]:"fire-perf-compat",[G1]:"fire-rc",[F1]:"fire-rc-compat",[Q1]:"fire-gcs",[Y1]:"fire-gcs-compat",[K1]:"fire-fst",[J1]:"fire-fst-compat",[X1]:"fire-vertex","fire-js":"fire-js",[Z1]:"fire-js-all"};const Gc=new Map,tS=new Map,Qd=new Map;function K_(s,t){try{s.container.addComponent(t)}catch(i){Zi.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Qa(s){const t=s.name;if(Qd.has(t))return Zi.debug(`There were multiple attempts to register component ${t}.`),!1;Qd.set(t,s);for(const i of Gc.values())K_(i,s);for(const i of tS.values())K_(i,s);return!0}function ym(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Kn(s){return s==null?!1:s.settings!==void 0}const eS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jr=new zl("app","Firebase",eS);class nS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}}const io=$1;function OE(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:Fd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw jr.create("bad-app-name",{appName:String(l)});if(i||(i=wE()),!i)throw jr.create("no-options");const c=Gc.get(l);if(c){if(Ls(i,c.options)&&Ls(a,c.config))return c;throw jr.create("duplicate-app",{appName:l})}const d=new l1(l);for(const v of Qd.values())d.addComponent(v);const g=new nS(i,a,d);return Gc.set(l,g),g}function VE(s=Fd){const t=Gc.get(s);if(!t&&s===Fd&&wE())return OE();if(!t)throw jr.create("no-app",{appName:s});return t}function qr(s,t,i){let a=W1[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Zi.warn(d.join(" "));return}Qa(new Ps(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const iS="firebase-heartbeat-database",rS=1,Cl="firebase-heartbeat-store";let xd=null;function xE(){return xd||(xd=T1(iS,rS,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Cl)}catch(i){console.warn(i)}}}}).catch(s=>{throw jr.create("idb-open",{originalErrorMessage:s.message})})),xd}async function sS(s){try{const i=(await xE()).transaction(Cl),a=await i.objectStore(Cl).get(ME(s));return await i.done,a}catch(t){if(t instanceof er)Zi.warn(t.message);else{const i=jr.create("idb-get",{originalErrorMessage:t?.message});Zi.warn(i.message)}}}async function X_(s,t){try{const a=(await xE()).transaction(Cl,"readwrite");await a.objectStore(Cl).put(t,ME(s)),await a.done}catch(i){if(i instanceof er)Zi.warn(i.message);else{const a=jr.create("idb-set",{originalErrorMessage:i?.message});Zi.warn(a.message)}}}function ME(s){return`${s.name}!${s.options.appId}`}const aS=1024,oS=30;class lS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new cS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=J_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>oS){const l=hS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Zi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=J_(),{heartbeatsToSend:i,unsentEntries:a}=uS(this._heartbeatsCache.heartbeats),l=Hc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Zi.warn(t),""}}}function J_(){return new Date().toISOString().substring(0,10)}function uS(s,t=aS){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),Z_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Z_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class cS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jb()?Zb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await sS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return X_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return X_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Z_(s){return Hc(JSON.stringify({version:2,heartbeats:s})).length}function hS(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function fS(s){Qa(new Ps("platform-logger",t=>new S1(t),"PRIVATE")),Qa(new Ps("heartbeat",t=>new lS(t),"PRIVATE")),qr(Gd,Y_,s),qr(Gd,Y_,"esm2020"),qr("fire-js","")}fS("");var dS="firebase",mS="12.8.0";qr(dS,mS,"app");var $_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Hr,kE;(function(){var s;function t(C,b){function I(){}I.prototype=b.prototype,C.F=b.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(x,D,k){for(var w=Array(arguments.length-2),J=2;J<arguments.length;J++)w[J-2]=arguments[J];return b.prototype[D].apply(x,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,b,I){I||(I=0);const x=Array(16);if(typeof b=="string")for(var D=0;D<16;++D)x[D]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(D=0;D<16;++D)x[D]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=C.g[0],I=C.g[1],D=C.g[2];let k=C.g[3],w;w=b+(k^I&(D^k))+x[0]+3614090360&4294967295,b=I+(w<<7&4294967295|w>>>25),w=k+(D^b&(I^D))+x[1]+3905402710&4294967295,k=b+(w<<12&4294967295|w>>>20),w=D+(I^k&(b^I))+x[2]+606105819&4294967295,D=k+(w<<17&4294967295|w>>>15),w=I+(b^D&(k^b))+x[3]+3250441966&4294967295,I=D+(w<<22&4294967295|w>>>10),w=b+(k^I&(D^k))+x[4]+4118548399&4294967295,b=I+(w<<7&4294967295|w>>>25),w=k+(D^b&(I^D))+x[5]+1200080426&4294967295,k=b+(w<<12&4294967295|w>>>20),w=D+(I^k&(b^I))+x[6]+2821735955&4294967295,D=k+(w<<17&4294967295|w>>>15),w=I+(b^D&(k^b))+x[7]+4249261313&4294967295,I=D+(w<<22&4294967295|w>>>10),w=b+(k^I&(D^k))+x[8]+1770035416&4294967295,b=I+(w<<7&4294967295|w>>>25),w=k+(D^b&(I^D))+x[9]+2336552879&4294967295,k=b+(w<<12&4294967295|w>>>20),w=D+(I^k&(b^I))+x[10]+4294925233&4294967295,D=k+(w<<17&4294967295|w>>>15),w=I+(b^D&(k^b))+x[11]+2304563134&4294967295,I=D+(w<<22&4294967295|w>>>10),w=b+(k^I&(D^k))+x[12]+1804603682&4294967295,b=I+(w<<7&4294967295|w>>>25),w=k+(D^b&(I^D))+x[13]+4254626195&4294967295,k=b+(w<<12&4294967295|w>>>20),w=D+(I^k&(b^I))+x[14]+2792965006&4294967295,D=k+(w<<17&4294967295|w>>>15),w=I+(b^D&(k^b))+x[15]+1236535329&4294967295,I=D+(w<<22&4294967295|w>>>10),w=b+(D^k&(I^D))+x[1]+4129170786&4294967295,b=I+(w<<5&4294967295|w>>>27),w=k+(I^D&(b^I))+x[6]+3225465664&4294967295,k=b+(w<<9&4294967295|w>>>23),w=D+(b^I&(k^b))+x[11]+643717713&4294967295,D=k+(w<<14&4294967295|w>>>18),w=I+(k^b&(D^k))+x[0]+3921069994&4294967295,I=D+(w<<20&4294967295|w>>>12),w=b+(D^k&(I^D))+x[5]+3593408605&4294967295,b=I+(w<<5&4294967295|w>>>27),w=k+(I^D&(b^I))+x[10]+38016083&4294967295,k=b+(w<<9&4294967295|w>>>23),w=D+(b^I&(k^b))+x[15]+3634488961&4294967295,D=k+(w<<14&4294967295|w>>>18),w=I+(k^b&(D^k))+x[4]+3889429448&4294967295,I=D+(w<<20&4294967295|w>>>12),w=b+(D^k&(I^D))+x[9]+568446438&4294967295,b=I+(w<<5&4294967295|w>>>27),w=k+(I^D&(b^I))+x[14]+3275163606&4294967295,k=b+(w<<9&4294967295|w>>>23),w=D+(b^I&(k^b))+x[3]+4107603335&4294967295,D=k+(w<<14&4294967295|w>>>18),w=I+(k^b&(D^k))+x[8]+1163531501&4294967295,I=D+(w<<20&4294967295|w>>>12),w=b+(D^k&(I^D))+x[13]+2850285829&4294967295,b=I+(w<<5&4294967295|w>>>27),w=k+(I^D&(b^I))+x[2]+4243563512&4294967295,k=b+(w<<9&4294967295|w>>>23),w=D+(b^I&(k^b))+x[7]+1735328473&4294967295,D=k+(w<<14&4294967295|w>>>18),w=I+(k^b&(D^k))+x[12]+2368359562&4294967295,I=D+(w<<20&4294967295|w>>>12),w=b+(I^D^k)+x[5]+4294588738&4294967295,b=I+(w<<4&4294967295|w>>>28),w=k+(b^I^D)+x[8]+2272392833&4294967295,k=b+(w<<11&4294967295|w>>>21),w=D+(k^b^I)+x[11]+1839030562&4294967295,D=k+(w<<16&4294967295|w>>>16),w=I+(D^k^b)+x[14]+4259657740&4294967295,I=D+(w<<23&4294967295|w>>>9),w=b+(I^D^k)+x[1]+2763975236&4294967295,b=I+(w<<4&4294967295|w>>>28),w=k+(b^I^D)+x[4]+1272893353&4294967295,k=b+(w<<11&4294967295|w>>>21),w=D+(k^b^I)+x[7]+4139469664&4294967295,D=k+(w<<16&4294967295|w>>>16),w=I+(D^k^b)+x[10]+3200236656&4294967295,I=D+(w<<23&4294967295|w>>>9),w=b+(I^D^k)+x[13]+681279174&4294967295,b=I+(w<<4&4294967295|w>>>28),w=k+(b^I^D)+x[0]+3936430074&4294967295,k=b+(w<<11&4294967295|w>>>21),w=D+(k^b^I)+x[3]+3572445317&4294967295,D=k+(w<<16&4294967295|w>>>16),w=I+(D^k^b)+x[6]+76029189&4294967295,I=D+(w<<23&4294967295|w>>>9),w=b+(I^D^k)+x[9]+3654602809&4294967295,b=I+(w<<4&4294967295|w>>>28),w=k+(b^I^D)+x[12]+3873151461&4294967295,k=b+(w<<11&4294967295|w>>>21),w=D+(k^b^I)+x[15]+530742520&4294967295,D=k+(w<<16&4294967295|w>>>16),w=I+(D^k^b)+x[2]+3299628645&4294967295,I=D+(w<<23&4294967295|w>>>9),w=b+(D^(I|~k))+x[0]+4096336452&4294967295,b=I+(w<<6&4294967295|w>>>26),w=k+(I^(b|~D))+x[7]+1126891415&4294967295,k=b+(w<<10&4294967295|w>>>22),w=D+(b^(k|~I))+x[14]+2878612391&4294967295,D=k+(w<<15&4294967295|w>>>17),w=I+(k^(D|~b))+x[5]+4237533241&4294967295,I=D+(w<<21&4294967295|w>>>11),w=b+(D^(I|~k))+x[12]+1700485571&4294967295,b=I+(w<<6&4294967295|w>>>26),w=k+(I^(b|~D))+x[3]+2399980690&4294967295,k=b+(w<<10&4294967295|w>>>22),w=D+(b^(k|~I))+x[10]+4293915773&4294967295,D=k+(w<<15&4294967295|w>>>17),w=I+(k^(D|~b))+x[1]+2240044497&4294967295,I=D+(w<<21&4294967295|w>>>11),w=b+(D^(I|~k))+x[8]+1873313359&4294967295,b=I+(w<<6&4294967295|w>>>26),w=k+(I^(b|~D))+x[15]+4264355552&4294967295,k=b+(w<<10&4294967295|w>>>22),w=D+(b^(k|~I))+x[6]+2734768916&4294967295,D=k+(w<<15&4294967295|w>>>17),w=I+(k^(D|~b))+x[13]+1309151649&4294967295,I=D+(w<<21&4294967295|w>>>11),w=b+(D^(I|~k))+x[4]+4149444226&4294967295,b=I+(w<<6&4294967295|w>>>26),w=k+(I^(b|~D))+x[11]+3174756917&4294967295,k=b+(w<<10&4294967295|w>>>22),w=D+(b^(k|~I))+x[2]+718787259&4294967295,D=k+(w<<15&4294967295|w>>>17),w=I+(k^(D|~b))+x[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+k&4294967295}a.prototype.v=function(C,b){b===void 0&&(b=C.length);const I=b-this.blockSize,x=this.C;let D=this.h,k=0;for(;k<b;){if(D==0)for(;k<=I;)l(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<b;)if(x[D++]=C.charCodeAt(k++),D==this.blockSize){l(this,x),D=0;break}}else for(;k<b;)if(x[D++]=C[k++],D==this.blockSize){l(this,x),D=0;break}}this.h=D,this.o+=b},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,I=0;I<4;++I)for(let x=0;x<32;x+=8)C[b++]=this.g[I]>>>x&255;return C};function c(C,b){var I=g;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=b(C)}function d(C,b){this.h=b;const I=[];let x=!0;for(let D=C.length-1;D>=0;D--){const k=C[D]|0;x&&k==b||(I[D]=k,x=!1)}this.g=I}var g={};function v(C){return-128<=C&&C<128?c(C,function(b){return new d([b|0],b<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return et(y(-C));const b=[];let I=1;for(let x=0;C>=I;x++)b[x]=C/I|0,I*=4294967296;return new d(b,0)}function A(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return et(A(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(b,8));let x=S;for(let k=0;k<C.length;k+=8){var D=Math.min(8,C.length-k);const w=parseInt(C.substring(k,k+D),b);D<8?(D=y(Math.pow(b,D)),x=x.j(D).add(y(w))):(x=x.j(I),x=x.add(y(w)))}return x}var S=v(0),V=v(1),F=v(16777216);s=d.prototype,s.m=function(){if(it(this))return-et(this).m();let C=0,b=1;for(let I=0;I<this.g.length;I++){const x=this.i(I);C+=(x>=0?x:4294967296+x)*b,b*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if($(this))return"0";if(it(this))return"-"+et(this).toString(C);const b=y(Math.pow(C,6));var I=this;let x="";for(;;){const D=wt(I,b).g;I=dt(I,D.j(b));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=D,$(I))return k+x;for(;k.length<6;)k="0"+k;x=k+x}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function $(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function it(C){return C.h==-1}s.l=function(C){return C=dt(this,C),it(C)?-1:$(C)?0:1};function et(C){const b=C.g.length,I=[];for(let x=0;x<b;x++)I[x]=~C.g[x];return new d(I,~C.h).add(V)}s.abs=function(){return it(this)?et(this):this},s.add=function(C){const b=Math.max(this.g.length,C.g.length),I=[];let x=0;for(let D=0;D<=b;D++){let k=x+(this.i(D)&65535)+(C.i(D)&65535),w=(k>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);x=w>>>16,k&=65535,w&=65535,I[D]=w<<16|k}return new d(I,I[I.length-1]&-2147483648?-1:0)};function dt(C,b){return C.add(et(b))}s.j=function(C){if($(this)||$(C))return S;if(it(this))return it(C)?et(this).j(et(C)):et(et(this).j(C));if(it(C))return et(this.j(et(C)));if(this.l(F)<0&&C.l(F)<0)return y(this.m()*C.m());const b=this.g.length+C.g.length,I=[];for(var x=0;x<2*b;x++)I[x]=0;for(x=0;x<this.g.length;x++)for(let D=0;D<C.g.length;D++){const k=this.i(x)>>>16,w=this.i(x)&65535,J=C.i(D)>>>16,At=C.i(D)&65535;I[2*x+2*D]+=w*At,gt(I,2*x+2*D),I[2*x+2*D+1]+=k*At,gt(I,2*x+2*D+1),I[2*x+2*D+1]+=w*J,gt(I,2*x+2*D+1),I[2*x+2*D+2]+=k*J,gt(I,2*x+2*D+2)}for(C=0;C<b;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=b;C<2*b;C++)I[C]=0;return new d(I,0)};function gt(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function _t(C,b){this.g=C,this.h=b}function wt(C,b){if($(b))throw Error("division by zero");if($(C))return new _t(S,S);if(it(C))return b=wt(et(C),b),new _t(et(b.g),et(b.h));if(it(b))return b=wt(C,et(b)),new _t(et(b.g),b.h);if(C.g.length>30){if(it(C)||it(b))throw Error("slowDivide_ only works with positive integers.");for(var I=V,x=b;x.l(C)<=0;)I=Gt(I),x=Gt(x);var D=kt(I,1),k=kt(x,1);for(x=kt(x,2),I=kt(I,2);!$(x);){var w=k.add(x);w.l(C)<=0&&(D=D.add(I),k=w),x=kt(x,1),I=kt(I,1)}return b=dt(C,D.j(b)),new _t(D,b)}for(D=S;C.l(b)>=0;){for(I=Math.max(1,Math.floor(C.m()/b.m())),x=Math.ceil(Math.log(I)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),k=y(I),w=k.j(b);it(w)||w.l(C)>0;)I-=x,k=y(I),w=k.j(b);$(k)&&(k=V),D=D.add(k),C=dt(C,w)}return new _t(D,C)}s.B=function(C){return wt(this,C).h},s.and=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let x=0;x<b;x++)I[x]=this.i(x)&C.i(x);return new d(I,this.h&C.h)},s.or=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let x=0;x<b;x++)I[x]=this.i(x)|C.i(x);return new d(I,this.h|C.h)},s.xor=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let x=0;x<b;x++)I[x]=this.i(x)^C.i(x);return new d(I,this.h^C.h)};function Gt(C){const b=C.g.length+1,I=[];for(let x=0;x<b;x++)I[x]=C.i(x)<<1|C.i(x-1)>>>31;return new d(I,C.h)}function kt(C,b){const I=b>>5;b%=32;const x=C.g.length-I,D=[];for(let k=0;k<x;k++)D[k]=b>0?C.i(k+I)>>>b|C.i(k+I+1)<<32-b:C.i(k+I);return new d(D,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,kE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,Hr=d}).apply(typeof $_<"u"?$_:typeof self<"u"?self:typeof window<"u"?window:{});var Rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var UE,_l,LE,xc,Yd,PE,zE,BE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rc=="object"&&Rc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var _=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in _))break t;_=_[U]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var _=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&_.push([T,m[T]]);return _}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function A(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,U,B){for(var W=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)W[bt-2]=arguments[bt];return m.prototype[U].apply(T,W)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function $(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var _=typeof U;if(_=_!="object"?_:U?Array.isArray(U)?"array":_:"null",_=="array"||_=="object"&&typeof U.length=="number"){_=u.length||0;const B=U.length||0;u.length=_+B;for(let W=0;W<B;W++)u[_+W]=U[W]}else u.push(U)}}class it{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function et(u){d.setTimeout(()=>{throw u},0)}function dt(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class gt{constructor(){this.h=this.g=null}add(m,_){const T=_t.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var _t=new it(()=>new wt,u=>u.reset());class wt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Gt,kt=!1,C=new gt,b=()=>{const u=Promise.resolve(void 0);Gt=()=>{u.then(I)}};function I(){for(var u;u=dt();){try{u.h.call(u.g)}catch(_){et(_)}var m=_t;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}kt=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function J(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(J,D),J.prototype.init=function(u,m){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&J.Z.h.call(this)},J.prototype.h=function(){J.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var At="closure_listenable_"+(Math.random()*1e6|0),q=0;function tt(u,m,_,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=U,this.key=++q,this.da=this.fa=!1}function ut(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function zt(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function Qt(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function O(u){const m={};for(const _ in u)m[_]=u[_];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let _,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(_ in T)u[_]=T[_];for(let B=0;B<Y.length;B++)_=Y[B],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,_,T,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const W=Rt(u,m,T,U);return W>-1?(m=u[W],_||(m.fa=!1)):(m=new tt(m,this.src,B,!!T,U),m.fa=_,u.push(m)),m};function yt(u,m){const _=m.type;if(_ in u.g){var T=u.g[_],U=Array.prototype.indexOf.call(T,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(T,U,1),B&&(ut(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Rt(u,m,_,T){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!_&&B.ha==T)return U}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),De={};function se(u,m,_,T,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)se(u,m[B],_,T,U);return null}return _=fo(_),u&&u[At]?u.J(m,_,g(T)?!!T.capture:!1,U):ts(u,m,_,!1,T,U)}function ts(u,m,_,T,U,B){if(!m)throw Error("Invalid event type");const W=g(U)?!!U.capture:!!U;let bt=es(u);if(bt||(u[Lt]=bt=new at(u)),_=bt.add(m,_,T,W,B),_.proxy)return _;if(T=Fs(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)k||(U=W),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(ti(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Fs(){function u(_){return m.call(u.src,u.listener,_)}const m=co;return u}function Qs(u,m,_,T,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)Qs(u,m[B],_,T,U);else T=g(T)?!!T.capture:!!T,_=fo(_),u&&u[At]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],_=Rt(m,_,T,U),_>-1&&(ut(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=es(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Rt(m,_,T,U)),(_=u>-1?m[u]:null)&&Ys(_))}function Ys(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[At])yt(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(ti(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=es(m))?(yt(_,u),_.h==0&&(_.src=null,m[Lt]=null)):ut(u)}}}function ti(u){return u in De?De[u]:De[u]="on"+u}function co(u,m){if(u.da)u=!0;else{m=new J(m,this);const _=u.listener,T=u.ha||u.src;u.fa&&Ys(u),u=_.call(T,m)}return u}function es(u){return u=u[Lt],u instanceof at?u:null}var ho="__closure_events_fn_"+(Math.random()*1e9>>>0);function fo(u){return typeof u=="function"?u:(u[ho]||(u[ho]=function(m){return u.handleEvent(m)}),u[ho])}function ge(){x.call(this),this.i=new at(this),this.M=this,this.G=null}S(ge,x),ge.prototype[At]=!0,ge.prototype.removeEventListener=function(u,m,_,T){Qs(this,u,m,_,T)};function Ne(u,m){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var U=m;m=new D(T,u),nt(m,U)}U=!0;let B,W;if(_)for(W=_.length-1;W>=0;W--)B=m.g=_[W],U=nr(B,T,!0,m)&&U;if(B=m.g=u,U=nr(B,T,!0,m)&&U,U=nr(B,T,!1,m)&&U,_)for(W=0;W<_.length;W++)B=m.g=_[W],U=nr(B,T,!1,m)&&U}ge.prototype.N=function(){if(ge.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let T=0;T<_.length;T++)ut(_[T]);delete u.g[m],u.h--}}this.G=null},ge.prototype.J=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},ge.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function nr(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const W=m[B];if(W&&!W.da&&W.capture==_){const bt=W.listener,fe=W.ha||W.src;W.fa&&yt(u.i,W),U=bt.call(fe,T)!==!1&&U}}return U&&!T.defaultPrevented}function Sh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Zl(u){u.g=Sh(()=>{u.g=null,u.i&&(u.i=!1,Zl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class We extends x{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Zl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ns(u){x.call(this),this.h=u,this.g={}}S(ns,x);var mo=[];function po(u){zt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Ys(m)},u),u.g={}}ns.prototype.N=function(){ns.Z.N.call(this),po(this)},ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ir=d.JSON.stringify,wh=d.JSON.parse,$l=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Wl(){}function tu(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){D.call(this,"d")}S(ze,D);function An(){D.call(this,"c")}S(An,D);var he={},eu=null;function Ks(){return eu=eu||new ge}he.Ia="serverreachability";function nu(u){D.call(this,he.Ia,u)}S(nu,D);function ei(u){const m=Ks();Ne(m,new nu(m))}he.STAT_EVENT="statevent";function is(u,m){D.call(this,he.STAT_EVENT,u),this.stat=m}S(is,D);function ye(u){const m=Ks();Ne(m,new is(m,u))}he.Ja="timingevent";function ni(u,m){D.call(this,he.Ja,u),this.size=m}S(ni,D);function ii(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ln(){this.g=!0}Ln.prototype.ua=function(){this.g=!1};function Rh(u,m,_,T,U,B){u.info(function(){if(u.g)if(B){var W="",bt=B.split("&");for(let qt=0;qt<bt.length;qt++){var fe=bt[qt].split("=");if(fe.length>1){const ae=fe[0];fe=fe[1];const Rn=ae.split("_");W=Rn.length>=2&&Rn[1]=="type"?W+(ae+"="+fe+"&"):W+(ae+"=redacted&")}}}else W=null;else W=B;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+_+`
`+W})}function iu(u,m,_,T,U,B,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+_+`
`+B+" "+W})}function ri(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ih(u,_)+(T?" "+T:"")})}function rs(u,m){u.info(function(){return"TIMEOUT: "+m})}Ln.prototype.info=function(){};function Ih(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var _=B[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let W=1;W<T.length;W++)T[W]=""}}}}return ir(B)}catch{return m}}var ss={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},go={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},yo;function as(){}S(as,Wl),as.prototype.g=function(){return new XMLHttpRequest},yo=new as;function Di(u){return encodeURIComponent(String(u))}function ru(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function Pn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.S=T||1,this.V=new ns(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zn}function zn(){this.i=null,this.g="",this.h=!1}var _e={},xe={};function si(u,m,_){u.M=1,u.A=os(Ee(m)),u.u=_,u.R=!0,Xs(u,null)}function Xs(u,m){u.F=Date.now(),ai(u),u.B=Ee(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Ws(_.i,"t",T),u.C=0,_=u.j.L,u.h=new zn,u.g=vu(u.j,_?m:null,!u.u),u.P>0&&(u.O=new We(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(mo[0]=U.toString()),U=mo);for(let B=0;B<U.length;B++){const W=se(_,U[B],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ei(),Rh(u.i,u.v,u.B,u.l,u.S,u.u)}Pn.prototype.ba=function(u){u=u.target;const m=this.O;m&&qn(u)==3?m.j():this.Y(u)},Pn.prototype.Y=function(u){try{if(u==this.g)t:{const bt=qn(this.g),fe=this.g.ya(),qt=this.g.ca();if(!(bt<3)&&(bt!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||bt!=4||fe==7||(fe==8||qt<=0?ei(3):ei(2)),oi(this);var m=this.g.ca();this.X=m;var _=Ch(this);if(this.o=m==200,iu(this.i,this.v,this.B,this.l,this.S,bt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)ri(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,u);else{this.o=!1,this.m=3,ye(12),fn(this),bn(this);break t}}if(this.R){u=!0;let ae;for(;!this.K&&this.C<_.length;)if(ae=au(this,_),ae==xe){bt==4&&(this.m=4,ye(14),u=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==_e){this.m=4,ye(15),ri(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else ri(this.i,this.l,ae,null),li(this,ae);if(su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||_.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)ri(this.i,this.l,_,"[Invalid Chunked Response]"),fn(this),bn(this);else if(_.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Vo(W),W.P=!0,ye(11))}}else ri(this.i,this.l,_,null),li(this,_);bt==4&&fn(this),this.o&&!this.K&&(bt==4?pu(this.j,this):(this.o=!1,ai(this)))}else Oi(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),fn(this),bn(this)}}}catch{}};function Ch(u){if(!su(u))return u.g.la();const m=Be(u.g);if(m==="")return"";let _="";const T=m.length,U=qn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return fn(u),bn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,_+=u.h.i.decode(m[B],{stream:!(U&&B==T-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function su(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function au(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?xe:(_=Number(m.substring(_,T)),isNaN(_)?_e:(T+=1,T+_>m.length?xe:(m=m.slice(T,T+_),u.C=T+_,m)))}Pn.prototype.cancel=function(){this.K=!0,fn(this)};function ai(u){u.T=Date.now()+u.H,Js(u,u.H)}function Js(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ii(y(u.aa,u),m)}function oi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Pn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(rs(this.i,this.B),this.M!=2&&(ei(),ye(17)),fn(this),this.m=2,bn(this)):Js(this,this.T-u)};function bn(u){u.j.I==0||u.K||pu(u.j,u)}function fn(u){oi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,po(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function li(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||ci(_.h,u))){if(!u.L&&ci(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)ra(_),hr(_);else break t;ms(_),ye(18)}}else _.xa=U[1],0<_.xa-_.K&&U[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ii(y(_.Va,_),6e3));ui(_.h)<=1&&_.ta&&(_.ta=void 0)}else gi(_,11)}else if((u.L||_.g==u)&&ra(_),!w(m))for(U=_.Ba.g.parse(m),m=0;m<U.length;m++){let qt=U[m];const ae=qt[0];if(!(ae<=_.K))if(_.K=ae,qt=qt[1],_.I==2)if(qt[0]=="c"){_.M=qt[1],_.ba=qt[2];const Rn=qt[3];Rn!=null&&(_.ka=Rn,_.j.info("VER="+_.ka));const yi=qt[4];yi!=null&&(_.za=yi,_.j.info("SVER="+_.za));const Hn=qt[5];Hn!=null&&typeof Hn=="number"&&Hn>0&&(T=1.5*Hn,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Gn=u.g;if(Gn){const ps=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ps){var B=T.h;B.g||ps.indexOf("spdy")==-1&&ps.indexOf("quic")==-1&&ps.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Eo(B,B.h),B.h=null))}if(T.G){const sa=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;sa&&(T.wa=sa,Yt(T.J,T.G,sa))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var W=u;if(T.na=_u(T,T.L?T.ba:null,T.W),W.L){To(T.h,W);var bt=W,fe=T.O;fe&&(bt.H=fe),bt.D&&(oi(bt),ai(bt)),T.g=W}else du(T);_.i.length>0&&pi(_)}else qt[0]!="stop"&&qt[0]!="close"||gi(_,7);else _.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?gi(_,7):No(_):qt[0]!="noop"&&_.l&&_.l.qa(qt),_.A=0)}}ei(4)}catch{}}var ve=class{constructor(u,m){this.g=u,this.map=m}};function _o(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ui(u){return u.h?1:u.g?u.g.size:0}function ci(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Eo(u,m){u.g?u.g.add(m):u.h=m}function To(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}_o.prototype.cancel=function(){if(this.i=Ao(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ao(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return F(u.i)}var ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zs(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let U,B=null;T>=0?(U=u[_].substring(0,T),B=u[_].substring(T+1)):U=u[_],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof dn?(this.l=u.l,Me(this,u.j),this.o=u.o,this.g=u.g,rr(this,u.u),this.h=u.h,bo(this,hu(u.i)),this.m=u.m):u&&(m=String(u).match(ou))?(this.l=!1,Me(this,m[1]||"",!0),this.o=hi(m[2]||""),this.g=hi(m[3]||"",!0),rr(this,m[4]),this.h=hi(m[5]||"",!0),bo(this,m[6]||"",!0),this.m=hi(m[7]||"")):(this.l=!1,this.i=new ar(null,this.l))}dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ls(m,$s,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ls(m,$s,!0),"@"),u.push(Di(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(ls(_,_.charAt(0)=="/"?So:lu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",ls(_,uu)),u.join("")},dn.prototype.resolve=function(u){const m=Ee(this);let _=!!u.j;_?Me(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var T=u.h;if(_)rr(m,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let W=0;W<U.length;){const bt=U[W++];bt=="."?T&&W==U.length&&B.push(""):bt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&W==U.length&&B.push("")):(B.push(bt),T=!0)}T=B.join("/")}else T=U}return _?m.h=T:_=u.i.toString()!=="",_?bo(m,hu(u.i)):_=!!u.m,_&&(m.m=u.m),m};function Ee(u){return new dn(u)}function Me(u,m,_){u.j=_?hi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function rr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function bo(u,m,_){m instanceof ar?(u.i=m,ta(u.i,u.l)):(_||(m=ls(m,sr)),u.i=new ar(m,u.l))}function Yt(u,m,_){u.i.set(m,_)}function os(u){return Yt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function hi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ls(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var $s=/[#\/\?@]/g,lu=/[#\?:]/g,So=/[#\?]/g,sr=/[#\?@]/g,uu=/#/g;function ar(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function rn(u){u.g||(u.g=new Map,u.h=0,u.i&&Zs(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}s=ar.prototype,s.add=function(u,m){rn(this),this.i=null,u=or(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function cu(u,m){rn(u),m=or(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function wo(u,m){return rn(u),m=or(u,m),u.g.has(m)}s.forEach=function(u,m){rn(this),this.g.forEach(function(_,T){_.forEach(function(U){u.call(m,U,T,this)},this)},this)};function Ro(u,m){rn(u);let _=[];if(typeof m=="string")wo(u,m)&&(_=_.concat(u.g.get(or(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}s.set=function(u,m){return rn(this),this.i=null,u=or(this,u),wo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Ro(this,u),u.length>0?String(u[0]):m):m};function Ws(u,m,_){cu(u,m),_.length>0&&(u.i=null,u.g.set(or(u,m),F(_)),u.h+=_.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var _=m[T];const U=Di(_);_=Ro(this,_);for(let B=0;B<_.length;B++){let W=U;_[B]!==""&&(W+="="+Di(_[B])),u.push(W)}}return this.i=u.join("&")};function hu(u){const m=new ar;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function or(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ta(u,m){m&&!u.j&&(rn(u),u.i=null,u.g.forEach(function(_,T){const U=T.toLowerCase();T!=U&&(cu(this,T),Ws(this,U,_))},u)),u.j=m}function Bn(u,m){const _=new Ln;if(d.Image){const T=new Image;T.onload=A(Sn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Sn,_,"TestLoadImage: error",!1,m,T),T.onabort=A(Sn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Sn,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Io(u,m){const _=new Ln,T=new AbortController,U=setTimeout(()=>{T.abort(),Sn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(U),B.ok?Sn(_,"TestPingServer: ok",!0,m):Sn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Sn(_,"TestPingServer: error",!1,m)})}function Sn(u,m,_,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(_)}catch{}}function lr(){this.g=new $l}function fi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(fi,Wl),fi.prototype.g=function(){return new us(this.i,this.h)};function us(u,m){ge.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(us,ge),s=us.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,jn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ur(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ea(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ea(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ur(this):jn(this),this.readyState==3&&ea(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,ur(this))},s.Na=function(u){this.g&&(this.response=u,ur(this))},s.ga=function(){this.g&&ur(this)};function ur(u){u.readyState=4,u.l=null,u.j=null,u.B=null,jn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(us.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function wn(u){let m="";return zt(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function cs(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=wn(_),typeof u=="string"?_!=null&&Di(_):Yt(u,m,_))}function Jt(u){ge.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Jt,ge);var di=/^https?$/i,Co=["POST","PUT"];s=Jt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():yo.g(),this.g.onreadystatechange=V(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){hs(this,B);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)_.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())_.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Co,m,void 0)>=0)||T||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,W]of _)this.g.setRequestHeader(B,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){hs(this,B)}};function hs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Do(u),Ni(u)}function Do(u){u.A||(u.A=!0,Ne(u,"complete"),Ne(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ne(this,"complete"),Ne(this,"abort"),Ni(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ni(this,!0)),Jt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?fs(this):this.Xa())},s.Xa=function(){fs(this)};function fs(u){if(u.h&&typeof c<"u"){if(u.v&&qn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ne(u,"readystatechange"),qn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=B===0){let W=String(u.D).match(ou)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),T=!di.test(W?W.toLowerCase():"")}_=T}if(_)Ne(u,"complete"),Ne(u,"success");else{u.o=6;try{var U=qn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Do(u)}}finally{Ni(u)}}}}function Ni(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||Ne(u,"ready");try{_.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function qn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return qn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),wh(m)}};function Be(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Oi(u){const m={};u=(u.g&&qn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var _=ru(u[T]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const B=m[U]||[];m[U]=B,B.push(_)}Qt(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function cr(u){this.za=0,this.i=[],this.j=new Ln,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mi("baseRetryDelayMs",5e3,u),this.Za=mi("retryDelaySeedMs",1e4,u),this.Ta=mi("forwardChannelMaxRetries",2,u),this.va=mi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new _o(u&&u.concurrentRequestLimit),this.Ba=new lr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=cr.prototype,s.ka=8,s.I=1,s.connect=function(u,m,_,T){ye(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=_u(this,null,this.W),pi(this)};function No(u){if(na(u),u.I==3){var m=u.V++,_=Ee(u.J);if(Yt(_,"SID",u.M),Yt(_,"RID",m),Yt(_,"TYPE","terminate"),ds(u,_),m=new Pn(u,u.j,m),m.M=2,m.A=os(Ee(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=vu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ai(m)}yu(u)}function hr(u){u.g&&(Vo(u),u.g.cancel(),u.g=null)}function na(u){hr(u),u.v&&(d.clearTimeout(u.v),u.v=null),ra(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function pi(u){if(!vo(u.h)&&!u.m){u.m=!0;var m=u.Ea;Gt||b(),kt||(Gt(),kt=!0),C.add(m,u),u.D=0}}function ia(u,m){return ui(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ii(y(u.Ea,u,m),gu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Pn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),nt(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=fu(this,U,m),_=Ee(this.J),Yt(_,"RID",u),Yt(_,"CVER",22),this.G&&Yt(_,"X-HTTP-Session-Id",this.G),ds(this,_),B&&(this.R?m="headers="+Di(wn(B))+"&"+m:this.u&&cs(_,this.u,B)),Eo(this.h,U),this.Ra&&Yt(_,"TYPE","init"),this.S?(Yt(_,"$req",m),Yt(_,"SID","null"),U.U=!0,si(U,_,null)):si(U,_,m),this.I=2}}else this.I==3&&(u?Oo(this,u):this.i.length==0||vo(this.h)||Oo(this))};function Oo(u,m){var _;m?_=m.l:_=u.V++;const T=Ee(u.J);Yt(T,"SID",u.M),Yt(T,"RID",_),Yt(T,"AID",u.K),ds(u,T),u.u&&u.o&&cs(T,u.u,u.o),_=new Pn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=fu(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Eo(u.h,_),si(_,T,m)}function ds(u,m){u.H&&zt(u.H,function(_,T){Yt(m,T,_)}),u.l&&zt({},function(_,T){Yt(m,T,_)})}function fu(u,m,_){_=Math.min(u.i.length,_);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var U=u.i;let bt=-1;for(;;){const fe=["count="+_];bt==-1?_>0?(bt=U[0].g,fe.push("ofs="+bt)):bt=0:fe.push("ofs="+bt);let qt=!0;for(let ae=0;ae<_;ae++){var B=U[ae].g;const Rn=U[ae].map;if(B-=bt,B<0)bt=Math.max(0,U[ae].g-100),qt=!1;else try{B="req"+B+"_"||"";try{var W=Rn instanceof Map?Rn:Object.entries(Rn);for(const[yi,Hn]of W){let Gn=Hn;g(Hn)&&(Gn=ir(Hn)),fe.push(B+yi+"="+encodeURIComponent(Gn))}}catch(yi){throw fe.push(B+"type="+encodeURIComponent("_badmap")),yi}}catch{T&&T(Rn)}}if(qt){W=fe.join("&");break t}}W=void 0}return u=u.i.splice(0,_),m.G=u,W}function du(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Gt||b(),kt||(Gt(),kt=!0),C.add(m,u),u.A=0}}function ms(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ii(y(u.Da,u),gu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,mu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ii(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),hr(this),mu(this))};function Vo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function mu(u){u.g=new Pn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ee(u.na);Yt(m,"RID","rpc"),Yt(m,"SID",u.M),Yt(m,"AID",u.K),Yt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Yt(m,"TO",u.ia),Yt(m,"TYPE","xmlhttp"),ds(u,m),u.u&&u.o&&cs(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=os(Ee(m)),_.u=null,_.R=!0,Xs(_,u)}s.Va=function(){this.C!=null&&(this.C=null,hr(this),ms(this),ye(19))};function ra(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function pu(u,m){var _=null;if(u.g==m){ra(u),Vo(u),u.g=null;var T=2}else if(ci(u.h,m))_=m.G,To(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=Ks(),Ne(T,new ni(T,_)),pi(u)}else du(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&ia(u,m)||T==2&&ms(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),U){case 1:gi(u,5);break;case 4:gi(u,10);break;case 3:gi(u,6);break;default:gi(u,2)}}}function gu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function gi(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),T=u.Ua;const U=!T;T=new dn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Me(T,"https"),os(T),U?Bn(T.toString(),_):Io(T.toString(),_)}else ye(2);u.I=0,u.l&&u.l.pa(m),yu(u),na(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function yu(u){if(u.I=0,u.ja=[],u.l){const m=Ao(u.h);(m.length!=0||u.i.length!=0)&&($(u.ja,m),$(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function _u(u,m,_){var T=_ instanceof dn?Ee(_):new dn(_);if(T.g!="")m&&(T.g=m+"."+T.g),rr(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new dn(null);T&&Me(B,T),m&&(B.g=m),U&&rr(B,U),_&&(B.h=_),T=B}return _=u.G,m=u.wa,_&&m&&Yt(T,_,m),Yt(T,"VER",u.ka),ds(u,T),T}function vu(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Jt(new fi({ab:_})):new Jt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}s=Eu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function fr(){}fr.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){ge.call(this),this.g=new cr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Vi(this)}S(tn,ge),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){No(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=ir(u),u=_);m.i.push(new ve(m.Ya++,u)),m.I==3&&pi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,No(this.g),delete this.g,tn.Z.N.call(this)};function Tu(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Tu,ze);function Au(){An.call(this),this.status=1}S(Au,An);function Vi(u){this.g=u}S(Vi,Eu),Vi.prototype.ra=function(){Ne(this.g,"a")},Vi.prototype.qa=function(u){Ne(this.g,new Tu(u))},Vi.prototype.pa=function(u){Ne(this.g,new Au)},Vi.prototype.oa=function(){Ne(this.g,"b")},fr.prototype.createWebChannel=fr.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,BE=function(){return new fr},zE=function(){return Ks()},PE=he,Yd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ss.NO_ERROR=0,ss.TIMEOUT=8,ss.HTTP_ERROR=6,xc=ss,go.COMPLETE="complete",LE=go,tu.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",ge.prototype.listen=ge.prototype.J,_l=tu,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,UE=Jt}).apply(typeof Rc<"u"?Rc:typeof self<"u"?self:typeof window<"u"?window:{});class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");let ro="12.8.0";function pS(s){ro=s}const zs=new pm("@firebase/firestore");function Ua(){return zs.logLevel}function st(s,...t){if(zs.logLevel<=Vt.DEBUG){const i=t.map(_m);zs.debug(`Firestore (${ro}): ${s}`,...i)}}function $i(s,...t){if(zs.logLevel<=Vt.ERROR){const i=t.map(_m);zs.error(`Firestore (${ro}): ${s}`,...i)}}function Ya(s,...t){if(zs.logLevel<=Vt.WARN){const i=t.map(_m);zs.warn(`Firestore (${ro}): ${s}`,...i)}}function _m(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function mt(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,jE(s,a,i)}function jE(s,t,i){let a=`FIRESTORE (${ro}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw $i(a),new Error(a)}function Ft(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||jE(t,l,a)}function Tt(s,t){return s}const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends er{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ms{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class qE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class gS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Je.UNAUTHENTICATED)))}shutdown(){}}class yS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class _S{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ft(this.o===void 0,42304);let a=this.i;const l=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new Ms;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ms,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=c;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},g=v=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ms)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ft(typeof a.accessToken=="string",31837,{l:a}),new qE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class vS{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class ES{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new vS(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class W_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TS{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ft(this.o===void 0,3512);const a=c=>{c.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new W_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new W_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function AS(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class vm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=AS(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function xt(s,t){return s<t?-1:s>t?1:0}function Kd(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=t.charAt(a);if(l!==c)return Md(l)===Md(c)?xt(l,c):Md(l)?1:-1}return xt(s.length,t.length)}const bS=55296,SS=57343;function Md(s){const t=s.charCodeAt(0);return t>=bS&&t<=SS}function Ka(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const tv="__name__";class Ai{constructor(t,i,a){i===void 0?i=0:i>t.length&&mt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&mt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ai.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ai?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ai.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return xt(t.length,i.length)}static compareSegments(t,i){const a=Ai.isNumericId(t),l=Ai.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ai.extractNumericId(t).compare(Ai.extractNumericId(i)):Kd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Hr.fromString(t.substring(4,t.length-2))}}class ee extends Ai{construct(t,i,a){return new ee(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new rt(K.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ee(i)}static emptyPath(){return new ee([])}}const wS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Ai{construct(t,i,a){return new Qe(t,i,a)}static isValidIdentifier(t){return wS.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tv}static keyField(){return new Qe([tv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new rt(K.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new rt(K.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new rt(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new rt(K.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}class ht{constructor(t){this.path=t}static fromPath(t){return new ht(ee.fromString(t))}static fromName(t){return new ht(ee.fromString(t).popFirst(5))}static empty(){return new ht(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ee.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new ee(t.slice()))}}function HE(s,t,i){if(!i)throw new rt(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function RS(s,t,i,a){if(t===!0&&a===!0)throw new rt(K.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function ev(s){if(!ht.isDocumentKey(s))throw new rt(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function nv(s){if(ht.isDocumentKey(s))throw new rt(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function GE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function oh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":mt(12329,{type:typeof s})}function Gr(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new rt(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=oh(s);throw new rt(K.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Ie(s,t){const i={typeString:s};return t&&(i.value=t),i}function jl(s,t){if(!GE(s))throw new rt(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new rt(K.INVALID_ARGUMENT,i);return!0}const iv=-62135596800,rv=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*rv);return new re(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new rt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<iv)throw new rt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rv}_compareTo(t){return this.seconds===t.seconds?xt(this.nanoseconds,t.nanoseconds):xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(jl(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-iv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Ie("string",re._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new re(0,0))}static max(){return new vt(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Dl=-1;function IS(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=vt.fromTimestamp(a===1e9?new re(i+1,0):new re(i,a));return new Qr(l,ht.empty(),t)}function CS(s){return new Qr(s.readTime,s.key,Dl)}class Qr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Qr(vt.min(),ht.empty(),Dl)}static max(){return new Qr(vt.max(),ht.empty(),Dl)}}function DS(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=ht.comparator(s.documentKey,t.documentKey),i!==0?i:xt(s.largestBatchId,t.largestBatchId))}const NS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function so(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==NS)throw s;st("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(v=>a(v)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let g=0;for(let v=0;v<c;v++){const y=v;i(t[y]).next((A=>{d[y]=A,++g,g===c&&a(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function VS(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ao(s){return s.name==="IndexedDbTransactionError"}class lh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}lh.ce=-1;const Em=-1;function uh(s){return s==null}function Fc(s){return s===0&&1/s==-1/0}function xS(s){return typeof s=="number"&&Number.isInteger(s)&&!Fc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const FE="";function MS(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=sv(t)),t=kS(s.get(i),t);return sv(t)}function kS(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case FE:i+="";break;default:i+=c}}return i}function sv(s){return s+FE+""}function av(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function $r(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function QE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class le{constructor(t,i){this.comparator=t,this.root=i||Fe.EMPTY}insert(t,i){return new le(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ic(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ic(this.root,t,this.comparator,!0)}}class Ic{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fe{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Fe.RED,this.left=l??Fe.EMPTY,this.right=c??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Fe(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Fe.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw mt(27949);return t+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw mt(57766)}get value(){throw mt(16141)}get color(){throw mt(16727)}get left(){throw mt(29726)}get right(){throw mt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Fe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new ov(this.data.getIterator())}getIteratorFrom(t){return new ov(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class ov{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Tn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new Tn([])}unionWith(t){let i=new Ve(Qe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Tn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ka(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class YE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ye{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new YE("Invalid base64 string: "+c):c}})(t);return new Ye(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ye(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const US=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(s){if(Ft(!!s,39018),typeof s=="string"){let t=0;const i=US.exec(s);if(Ft(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:pe(s.seconds),nanos:pe(s.nanos)}}function pe(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Kr(s){return typeof s=="string"?Ye.fromBase64String(s):Ye.fromUint8Array(s)}const KE="server_timestamp",XE="__type__",JE="__previous_value__",ZE="__local_write_time__";function Tm(s){return(s?.mapValue?.fields||{})[XE]?.stringValue===KE}function ch(s){const t=s.mapValue.fields[JE];return Tm(t)?ch(t):t}function Nl(s){const t=Yr(s.mapValue.fields[ZE].timestampValue);return new re(t.seconds,t.nanos)}class LS{constructor(t,i,a,l,c,d,g,v,y,A,S){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=A,this.apiKey=S}}const Qc="(default)";class Ol{constructor(t,i){this.projectId=t,this.database=i||Qc}static empty(){return new Ol("","")}get isDefaultDatabase(){return this.database===Qc}isEqual(t){return t instanceof Ol&&t.projectId===this.projectId&&t.database===this.database}}function PS(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new rt(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ol(s.options.projectId,t)}const $E="__type__",zS="__max__",Cc={mapValue:{}},WE="__vector__",Yc="value";function Xr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Tm(s)?4:jS(s)?9007199254740991:BS(s)?10:11:mt(28295,{value:s})}function Ii(s,t){if(s===t)return!0;const i=Xr(s);if(i!==Xr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Nl(s).isEqual(Nl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Yr(l.timestampValue),g=Yr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return Kr(l.bytesValue).isEqual(Kr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return pe(l.geoPointValue.latitude)===pe(c.geoPointValue.latitude)&&pe(l.geoPointValue.longitude)===pe(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return pe(l.integerValue)===pe(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=pe(l.doubleValue),g=pe(c.doubleValue);return d===g?Fc(d)===Fc(g):isNaN(d)&&isNaN(g)}return!1})(s,t);case 9:return Ka(s.arrayValue.values||[],t.arrayValue.values||[],Ii);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(av(d)!==av(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!Ii(d[v],g[v])))return!1;return!0})(s,t);default:return mt(52216,{left:s})}}function Vl(s,t){return(s.values||[]).find((i=>Ii(i,t)))!==void 0}function Xa(s,t){if(s===t)return 0;const i=Xr(s),a=Xr(t);if(i!==a)return xt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return xt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=pe(c.integerValue||c.doubleValue),v=pe(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(s,t);case 3:return lv(s.timestampValue,t.timestampValue);case 4:return lv(Nl(s),Nl(t));case 5:return Kd(s.stringValue,t.stringValue);case 6:return(function(c,d){const g=Kr(c),v=Kr(d);return g.compareTo(v)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),v=d.split("/");for(let y=0;y<g.length&&y<v.length;y++){const A=xt(g[y],v[y]);if(A!==0)return A}return xt(g.length,v.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=xt(pe(c.latitude),pe(d.latitude));return g!==0?g:xt(pe(c.longitude),pe(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return uv(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},v=d.fields||{},y=g[Yc]?.arrayValue,A=v[Yc]?.arrayValue,S=xt(y?.values?.length||0,A?.values?.length||0);return S!==0?S:uv(y,A)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Cc.mapValue&&d===Cc.mapValue)return 0;if(c===Cc.mapValue)return 1;if(d===Cc.mapValue)return-1;const g=c.fields||{},v=Object.keys(g),y=d.fields||{},A=Object.keys(y);v.sort(),A.sort();for(let S=0;S<v.length&&S<A.length;++S){const V=Kd(v[S],A[S]);if(V!==0)return V;const F=Xa(g[v[S]],y[A[S]]);if(F!==0)return F}return xt(v.length,A.length)})(s.mapValue,t.mapValue);default:throw mt(23264,{he:i})}}function lv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return xt(s,t);const i=Yr(s),a=Yr(t),l=xt(i.seconds,a.seconds);return l!==0?l:xt(i.nanos,a.nanos)}function uv(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Xa(i[l],a[l]);if(c)return c}return xt(i.length,a.length)}function Ja(s){return Xd(s)}function Xd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=Yr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Kr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ht.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=Xd(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${Xd(i.fields[d])}`;return l+"}"})(s.mapValue):mt(61005,{value:s})}function Mc(s){switch(Xr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ch(s);return t?16+Mc(t):16;case 5:return 2*s.stringValue.length;case 6:return Kr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Mc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return $r(a.fields,((c,d)=>{l+=c.length+Mc(d)})),l})(s.mapValue);default:throw mt(13486,{value:s})}}function cv(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function Jd(s){return!!s&&"integerValue"in s}function Am(s){return!!s&&"arrayValue"in s}function hv(s){return!!s&&"nullValue"in s}function fv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function kc(s){return!!s&&"mapValue"in s}function BS(s){return(s?.mapValue?.fields||{})[$E]?.stringValue===WE}function bl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return $r(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=bl(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=bl(s.arrayValue.values[i]);return t}return{...s}}function jS(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===zS}class hn{constructor(t){this.value=t}static empty(){return new hn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!kc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=bl(i)}setAll(t){let i=Qe.emptyPath(),a={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=bl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());kc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ii(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];kc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){$r(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new hn(bl(this.value))}}function t0(s){const t=[];return $r(s.fields,((i,a)=>{const l=new Qe([i]);if(kc(a)){const c=t0(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Tn(t)}class Ze{constructor(t,i,a,l,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Ze(t,0,vt.min(),vt.min(),vt.min(),hn.empty(),0)}static newFoundDocument(t,i,a,l){return new Ze(t,1,i,vt.min(),a,l,0)}static newNoDocument(t,i){return new Ze(t,2,i,vt.min(),vt.min(),hn.empty(),0)}static newUnknownDocument(t,i){return new Ze(t,3,i,vt.min(),vt.min(),hn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Kc{constructor(t,i){this.position=t,this.inclusive=i}}function dv(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=ht.comparator(ht.fromName(d.referenceValue),i.key):a=Xa(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function mv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ii(s.position[i],t.position[i]))return!1;return!0}class xl{constructor(t,i="asc"){this.field=t,this.dir=i}}function qS(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class e0{}class Re extends e0{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new GS(t,i,a):i==="array-contains"?new YS(t,a):i==="in"?new KS(t,a):i==="not-in"?new XS(t,a):i==="array-contains-any"?new JS(t,a):new Re(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new FS(t,a):new QS(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Xa(i,this.value)):i!==null&&Xr(this.value)===Xr(i)&&this.matchesComparison(Xa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends e0{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Wn(t,i)}matches(t){return n0(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function n0(s){return s.op==="and"}function i0(s){return HS(s)&&n0(s)}function HS(s){for(const t of s.filters)if(t instanceof Wn)return!1;return!0}function Zd(s){if(s instanceof Re)return s.field.canonicalString()+s.op.toString()+Ja(s.value);if(i0(s))return s.filters.map((t=>Zd(t))).join(",");{const t=s.filters.map((i=>Zd(i))).join(",");return`${s.op}(${t})`}}function r0(s,t){return s instanceof Re?(function(a,l){return l instanceof Re&&a.op===l.op&&a.field.isEqual(l.field)&&Ii(a.value,l.value)})(s,t):s instanceof Wn?(function(a,l){return l instanceof Wn&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,g)=>c&&r0(d,l.filters[g])),!0):!1})(s,t):void mt(19439)}function s0(s){return s instanceof Re?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ja(i.value)}`})(s):s instanceof Wn?(function(i){return i.op.toString()+" {"+i.getFilters().map(s0).join(" ,")+"}"})(s):"Filter"}class GS extends Re{constructor(t,i,a){super(t,i,a),this.key=ht.fromName(a.referenceValue)}matches(t){const i=ht.comparator(t.key,this.key);return this.matchesComparison(i)}}class FS extends Re{constructor(t,i){super(t,"in",i),this.keys=a0("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class QS extends Re{constructor(t,i){super(t,"not-in",i),this.keys=a0("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function a0(s,t){return(t.arrayValue?.values||[]).map((i=>ht.fromName(i.referenceValue)))}class YS extends Re{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Am(i)&&Vl(i.arrayValue,this.value)}}class KS extends Re{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Vl(this.value.arrayValue,i)}}class XS extends Re{constructor(t,i){super(t,"not-in",i)}matches(t){if(Vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Vl(this.value.arrayValue,i)}}class JS extends Re{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Am(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Vl(this.value.arrayValue,a)))}}class ZS{constructor(t,i=null,a=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function pv(s,t=null,i=[],a=[],l=null,c=null,d=null){return new ZS(s,t,i,a,l,c,d)}function bm(s){const t=Tt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>Zd(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),uh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Ja(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Ja(a))).join(",")),t.Te=i}return t.Te}function Sm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!qS(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!r0(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!mv(s.startAt,t.startAt)&&mv(s.endAt,t.endAt)}function $d(s){return ht.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class oo{constructor(t,i=null,a=[],l=[],c=null,d="F",g=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function $S(s,t,i,a,l,c,d,g){return new oo(s,t,i,a,l,c,d,g)}function wm(s){return new oo(s)}function gv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function WS(s){return ht.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function o0(s){return s.collectionGroup!==null}function Sl(s){const t=Tt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ve(Qe.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new xl(c,a))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new xl(Qe.keyField(),a))}return t.Ie}function bi(s){const t=Tt(s);return t.Ee||(t.Ee=tw(t,Sl(s))),t.Ee}function tw(s,t){if(s.limitType==="F")return pv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new xl(l.field,c)}));const i=s.endAt?new Kc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Kc(s.startAt.position,s.startAt.inclusive):null;return pv(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function Wd(s,t){const i=s.filters.concat([t]);return new oo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function ew(s,t){const i=s.explicitOrderBy.concat([t]);return new oo(s.path,s.collectionGroup,i,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function tm(s,t,i){return new oo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function hh(s,t){return Sm(bi(s),bi(t))&&s.limitType===t.limitType}function l0(s){return`${bm(bi(s))}|lt:${s.limitType}`}function La(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>s0(l))).join(", ")}]`),uh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Ja(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Ja(l))).join(",")),`Target(${a})`})(bi(s))}; limitType=${s.limitType})`}function fh(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ht.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of Sl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,g,v){const y=dv(d,g,v);return d.inclusive?y<=0:y<0})(a.startAt,Sl(a),l)||a.endAt&&!(function(d,g,v){const y=dv(d,g,v);return d.inclusive?y>=0:y>0})(a.endAt,Sl(a),l))})(s,t)}function nw(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function u0(s){return(t,i)=>{let a=!1;for(const l of Sl(s)){const c=iw(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function iw(s,t,i){const a=s.field.isKeyField()?ht.comparator(t.key,i.key):(function(c,d,g){const v=d.data.field(c),y=g.data.field(c);return v!==null&&y!==null?Xa(v,y):mt(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return mt(19790,{direction:s.dir})}}class qs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){$r(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return QE(this.inner)}size(){return this.innerSize}}const rw=new le(ht.comparator);function Wi(){return rw}const c0=new le(ht.comparator);function vl(...s){let t=c0;for(const i of s)t=t.insert(i.key,i);return t}function h0(s){let t=c0;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Vs(){return wl()}function f0(){return wl()}function wl(){return new qs((s=>s.toString()),((s,t)=>s.isEqual(t)))}const sw=new le(ht.comparator),aw=new Ve(ht.comparator);function Mt(...s){let t=aw;for(const i of s)t=t.add(i);return t}const ow=new Ve(xt);function lw(){return ow}function Rm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fc(t)?"-0":t}}function d0(s){return{integerValue:""+s}}function m0(s,t){return xS(t)?d0(t):Rm(s,t)}class dh{constructor(){this._=void 0}}function uw(s,t,i){return s instanceof Ml?(function(l,c){const d={fields:{[XE]:{stringValue:KE},[ZE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Tm(c)&&(c=ch(c)),c&&(d.fields[JE]=c),{mapValue:d}})(i,t):s instanceof kl?g0(s,t):s instanceof Ul?y0(s,t):(function(l,c){const d=p0(l,c),g=yv(d)+yv(l.Ae);return Jd(d)&&Jd(l.Ae)?d0(g):Rm(l.serializer,g)})(s,t)}function cw(s,t,i){return s instanceof kl?g0(s,t):s instanceof Ul?y0(s,t):i}function p0(s,t){return s instanceof Ll?(function(a){return Jd(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Ml extends dh{}class kl extends dh{constructor(t){super(),this.elements=t}}function g0(s,t){const i=_0(t);for(const a of s.elements)i.some((l=>Ii(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ul extends dh{constructor(t){super(),this.elements=t}}function y0(s,t){let i=_0(t);for(const a of s.elements)i=i.filter((l=>!Ii(l,a)));return{arrayValue:{values:i}}}class Ll extends dh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function yv(s){return pe(s.integerValue||s.doubleValue)}function _0(s){return Am(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class v0{constructor(t,i){this.field=t,this.transform=i}}function hw(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof kl&&l instanceof kl||a instanceof Ul&&l instanceof Ul?Ka(a.elements,l.elements,Ii):a instanceof Ll&&l instanceof Ll?Ii(a.Ae,l.Ae):a instanceof Ml&&l instanceof Ml})(s.transform,t.transform)}class fw{constructor(t,i){this.version=t,this.transformResults=i}}class Jn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Jn}static exists(t){return new Jn(void 0,t)}static updateTime(t){return new Jn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Uc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class mh{}function E0(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Im(s.key,Jn.none()):new ql(s.key,s.data,Jn.none());{const i=s.data,a=hn.empty();let l=new Ve(Qe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Wr(s.key,a,new Tn(l.toArray()),Jn.none())}}function dw(s,t,i){s instanceof ql?(function(l,c,d){const g=l.value.clone(),v=vv(l.fieldTransforms,c,d.transformResults);g.setAll(v),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,i):s instanceof Wr?(function(l,c,d){if(!Uc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=vv(l.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(T0(l)),v.setAll(g),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Rl(s,t,i,a){return s instanceof ql?(function(c,d,g,v){if(!Uc(c.precondition,d))return g;const y=c.value.clone(),A=Ev(c.fieldTransforms,v,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,i,a):s instanceof Wr?(function(c,d,g,v){if(!Uc(c.precondition,d))return g;const y=Ev(c.fieldTransforms,v,d),A=d.data;return A.setAll(T0(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,t,i,a):(function(c,d,g){return Uc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,t,i)}function mw(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=p0(a.transform,l||null);c!=null&&(i===null&&(i=hn.empty()),i.set(a.field,c))}return i||null}function _v(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Ka(a,l,((c,d)=>hw(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class ql extends mh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Wr extends mh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function T0(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function vv(s,t,i){const a=new Map;Ft(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,g=t.data.field(c.field);a.set(c.field,cw(d,g,i[l]))}return a}function Ev(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,uw(c,d,t))}return a}class Im extends mh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pw extends mh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class gw{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&dw(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Rl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Rl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=f0();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const v=E0(d,g);v!==null&&a.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(vt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Mt())}isEqual(t){return this.batchId===t.batchId&&Ka(this.mutations,t.mutations,((i,a)=>_v(i,a)))&&Ka(this.baseMutations,t.baseMutations,((i,a)=>_v(i,a)))}}class Cm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Ft(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return sw})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Cm(t,i,a,l)}}class yw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class _w{constructor(t,i){this.count=t,this.unchangedNames=i}}var we,Pt;function vw(s){switch(s){case K.OK:return mt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return mt(15467,{code:s})}}function A0(s){if(s===void 0)return $i("GRPC error has no .code"),K.UNKNOWN;switch(s){case we.OK:return K.OK;case we.CANCELLED:return K.CANCELLED;case we.UNKNOWN:return K.UNKNOWN;case we.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case we.INTERNAL:return K.INTERNAL;case we.UNAVAILABLE:return K.UNAVAILABLE;case we.UNAUTHENTICATED:return K.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case we.NOT_FOUND:return K.NOT_FOUND;case we.ALREADY_EXISTS:return K.ALREADY_EXISTS;case we.PERMISSION_DENIED:return K.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case we.ABORTED:return K.ABORTED;case we.OUT_OF_RANGE:return K.OUT_OF_RANGE;case we.UNIMPLEMENTED:return K.UNIMPLEMENTED;case we.DATA_LOSS:return K.DATA_LOSS;default:return mt(39323,{code:s})}}(Pt=we||(we={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function Ew(){return new TextEncoder}const Tw=new Hr([4294967295,4294967295],0);function Tv(s){const t=Ew().encode(s),i=new kE;return i.update(t),new Uint8Array(i.digest())}function Av(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Hr([i,a],0),new Hr([l,c],0)]}class Dm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new El(`Invalid padding: ${i}`);if(a<0)throw new El(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new El(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new El(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Hr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Hr.fromNumber(a)));return l.compare(Tw)===1&&(l=new Hr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Tv(t),[a,l]=Av(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Dm(c,l,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=Tv(t),[a,l]=Av(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class El extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ph{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Hl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new ph(vt.min(),l,new le(xt),Wi(),Mt())}}class Hl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Hl(a,i,Mt(),Mt(),Mt())}}class Lc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=l}}class b0{constructor(t,i){this.targetId=t,this.Ce=i}}class S0{constructor(t,i,a=Ye.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class bv{constructor(){this.ve=0,this.Fe=Sv(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Mt(),i=Mt(),a=Mt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:mt(38017,{changeType:c})}})),new Hl(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=Sv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Aw{constructor(t){this.Ge=t,this.ze=new Map,this.je=Wi(),this.He=Dc(),this.Je=Dc(),this.Ze=new le(xt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:mt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if($d(c))if(a===0){const d=new ht(c.path);this.et(i,d,Ze.newNoDocument(d,vt.min()))}else Ft(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),v=g?this.ct(g,t,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=Kr(a).toUint8Array()}catch(v){if(v instanceof YE)return Ya("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new Dm(d,l,c)}catch(v){return Ya(v instanceof El?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&$d(g.target)){const v=new ht(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Ze.newNoDocument(v,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Mt();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new ph(t,i,this.Ze,this.je,a);return this.je=Wi(),this.He=Dc(),this.Je=Dc(),this.Ze=new le(xt),l}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new bv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Ve(xt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Ve(xt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||st("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new bv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Dc(){return new le(ht.comparator)}function Sv(){return new le(ht.comparator)}const bw={asc:"ASCENDING",desc:"DESCENDING"},Sw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ww={and:"AND",or:"OR"};class Rw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function em(s,t){return s.useProto3Json||uh(t)?t:{value:t}}function Xc(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function w0(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function Iw(s,t){return Xc(s,t.toTimestamp())}function Si(s){return Ft(!!s,49232),vt.fromTimestamp((function(i){const a=Yr(i);return new re(a.seconds,a.nanos)})(s))}function Nm(s,t){return nm(s,t).canonicalString()}function nm(s,t){const i=(function(l){return new ee(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function R0(s){const t=ee.fromString(s);return Ft(O0(t),10190,{key:t.toString()}),t}function im(s,t){return Nm(s.databaseId,t.path)}function kd(s,t){const i=R0(t);if(i.get(1)!==s.databaseId.projectId)throw new rt(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new rt(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ht(C0(i))}function I0(s,t){return Nm(s.databaseId,t)}function Cw(s){const t=R0(s);return t.length===4?ee.emptyPath():C0(t)}function rm(s){return new ee(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function C0(s){return Ft(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function wv(s,t,i){return{name:im(s,t),fields:i.value.mapValue.fields}}function Dw(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:mt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?(Ft(A===void 0||typeof A=="string",58123),Ye.fromBase64String(A||"")):(Ft(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Ye.fromUint8Array(A||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const A=y.code===void 0?K.UNKNOWN:A0(y.code);return new rt(A,y.message||"")})(d);i=new S0(a,l,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=kd(s,a.document.name),c=Si(a.document.updateTime),d=a.document.createTime?Si(a.document.createTime):vt.min(),g=new hn({mapValue:{fields:a.document.fields}}),v=Ze.newFoundDocument(l,c,d,g),y=a.targetIds||[],A=a.removedTargetIds||[];i=new Lc(y,A,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=kd(s,a.document),c=a.readTime?Si(a.readTime):vt.min(),d=Ze.newNoDocument(l,c),g=a.removedTargetIds||[];i=new Lc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=kd(s,a.document),c=a.removedTargetIds||[];i=new Lc([],c,l,null)}else{if(!("filter"in t))return mt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new _w(l,c),g=a.targetId;i=new b0(g,d)}}return i}function Nw(s,t){let i;if(t instanceof ql)i={update:wv(s,t.key,t.value)};else if(t instanceof Im)i={delete:im(s,t.key)};else if(t instanceof Wr)i={update:wv(s,t.key,t.data),updateMask:zw(t.fieldMask)};else{if(!(t instanceof pw))return mt(16599,{dt:t.type});i={verify:im(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof Ml)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof kl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ul)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Ll)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw mt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Iw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:mt(27497)})(s,t.precondition)),i}function Ow(s,t){return s&&s.length>0?(Ft(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Si(l.updateTime):Si(c);return d.isEqual(vt.min())&&(d=Si(c)),new fw(d,l.transformResults||[])})(i,t)))):[]}function Vw(s,t){return{documents:[I0(s,t.path)]}}function xw(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=I0(s,l);const c=(function(y){if(y.length!==0)return N0(Wn.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((A=>(function(V){return{field:Pa(V.field),direction:Uw(V.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=em(s,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function Mw(s){let t=Cw(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Ft(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const V=D0(S);return V instanceof Wn&&i0(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((V=>(function($){return new xl(za($.field),(function(et){switch(et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(V)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let V;return V=typeof S=="object"?S.value:S,uh(V)?null:V})(i.limit));let v=null;i.startAt&&(v=(function(S){const V=!!S.before,F=S.values||[];return new Kc(F,V)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const V=!S.before,F=S.values||[];return new Kc(F,V)})(i.endAt)),$S(t,l,d,c,g,"F",v,y)}function kw(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function D0(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=za(i.unaryFilter.field);return Re.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=za(i.unaryFilter.field);return Re.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=za(i.unaryFilter.field);return Re.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=za(i.unaryFilter.field);return Re.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mt(61313);default:return mt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Re.create(za(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mt(58110);default:return mt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Wn.create(i.compositeFilter.filters.map((a=>D0(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return mt(1026)}})(i.compositeFilter.op))})(s):mt(30097,{filter:s})}function Uw(s){return bw[s]}function Lw(s){return Sw[s]}function Pw(s){return ww[s]}function Pa(s){return{fieldPath:s.canonicalString()}}function za(s){return Qe.fromServerFormat(s.fieldPath)}function N0(s){return s instanceof Re?(function(i){if(i.op==="=="){if(fv(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NAN"}};if(hv(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(fv(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NOT_NAN"}};if(hv(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pa(i.field),op:Lw(i.op),value:i.value}}})(s):s instanceof Wn?(function(i){const a=i.getFilters().map((l=>N0(l)));return a.length===1?a[0]:{compositeFilter:{op:Pw(i.op),filters:a}}})(s):mt(54877,{filter:s})}function zw(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function O0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function V0(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class zr{constructor(t,i,a,l,c=vt.min(),d=vt.min(),g=Ye.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(t){return new zr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Bw{constructor(t){this.yt=t}}function jw(s){const t=Mw({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?tm(t,t.limit,"L"):t}class qw{constructor(){this.Sn=new Hw}addToCollectionParentIndex(t,i){return this.Sn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(Qr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(Qr.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class Hw{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Ve(ee.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Ve(ee.comparator)).toArray()}}const Rv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},x0=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(x0,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class Za{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Za(0)}static ar(){return new Za(-1)}}const Iv="LruGarbageCollector",Gw=1048576;function Cv([s,t],[i,a]){const l=xt(s,i);return l===0?xt(t,a):l}class Fw{constructor(t){this.Pr=t,this.buffer=new Ve(Cv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Cv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Qw{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){st(Iv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ao(i)?st(Iv,"Ignoring IndexedDB error during garbage collection: ",i):await so(i)}await this.Ar(3e5)}))}}class Yw{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(lh.ce);const a=new Fw(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Rv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Rv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,l,c,d,g,v,y;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(a=S,g=Date.now(),this.removeTargets(t,a,i)))).next((S=>(c=S,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(y=Date.now(),Ua()<=Vt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(v-g)+`ms
	Removed ${S} documents in `+(y-v)+`ms
Total Duration: ${y-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function Kw(s,t){return new Yw(s,t)}class Xw{constructor(){this.changes=new qs((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Jw{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class Zw{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Rl(a.mutation,l,Tn.empty(),re.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Mt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Mt()){const l=Vs();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=vl();return c.forEach(((g,v)=>{d=d.insert(g,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Vs();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Mt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,l){let c=Wi();const d=wl(),g=(function(){return wl()})();return i.forEach(((v,y)=>{const A=a.get(y.key);l.has(y.key)&&(A===void 0||A.mutation instanceof Wr)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),Rl(A.mutation,y,A.mutation.getFieldMask(),re.now())):d.set(y.key,Tn.empty())})),this.recalculateAndSaveOverlays(t,c).next((v=>(v.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>g.set(y,new Jw(A,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=wl();let l=new le(((d,g)=>d-g)),c=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let A=a.get(v)||Tn.empty();A=g.applyToLocalView(y,A),a.set(v,A);const S=(l.get(g.batchId)||Mt()).add(v);l=l.insert(g.batchId,S)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),y=v.key,A=v.value,S=f0();A.forEach((V=>{if(!c.has(V)){const F=E0(i.get(V),a.get(V));F!==null&&S.set(V,F),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,S))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return WS(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):o0(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve(Vs());let g=Dl,v=c;return d.next((y=>X.forEach(y,((A,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(A)?X.resolve():this.remoteDocumentCache.getEntry(t,A).next((V=>{v=v.insert(A,V)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,v,y,Mt()))).next((A=>({batchId:g,changes:h0(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ht(i)).next((a=>{let l=vl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=vl();return this.indexManager.getCollectionParents(t,c).next((g=>X.forEach(g,(v=>{const y=(function(S,V){return new oo(V,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((A=>{A.forEach(((S,V)=>{d=d.insert(S,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((v,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,Ze.newInvalidDocument(A)))}));let g=vl();return d.forEach(((v,y)=>{const A=c.get(v);A!==void 0&&Rl(A.mutation,y,Tn.empty(),re.now()),fh(i,y)&&(g=g.insert(v,y))})),g}))}}class $w{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Si(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:jw(l.bundledQuery),readTime:Si(l.readTime)}})(i)),X.resolve()}}class Ww{constructor(){this.overlays=new le(ht.comparator),this.Lr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Vs();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.bt(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=Vs(),c=i.length+1,d=new ht(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>a&&l.set(v.getKey(),v)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new le(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let A=c.get(y.largestBatchId);A===null&&(A=Vs(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const g=Vs(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,A)=>g.set(y,A))),!(g.size()>=l)););return X.resolve(g)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new yw(i,a));let c=this.Lr.get(i);c===void 0&&(c=Mt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class tR{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Om{constructor(){this.kr=new Ve(Le.Kr),this.qr=new Ve(Le.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new Le(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new Le(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new ht(new ee([])),a=new Le(i,t),l=new Le(i,t+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new ht(new ee([])),a=new Le(i,t),l=new Le(i,t+1);let c=Mt();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Le(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Le{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return ht.comparator(t.key,i.key)||xt(t.Hr,i.Hr)}static Ur(t,i){return xt(t.Hr,i.Hr)||ht.comparator(t.key,i.key)}}class eR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ve(Le.Kr)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new gw(c,i,a,l);this.mutationQueue.push(d);for(const g of l)this.Jr=this.Jr.add(new Le(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Em:this.Yn-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Le(i,0),l=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const g=this.Zr(d.Hr);c.push(g)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ve(xt);return i.forEach((l=>{const c=new Le(l,0),d=new Le(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{a=a.add(g.Hr)}))})),X.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;ht.isDocumentKey(c)||(c=c.child(""));const d=new Le(new ht(c),0);let g=new Ve(xt);return this.Jr.forEachWhile((v=>{const y=v.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(g=g.add(v.Hr)),!0)}),d),X.resolve(this.Yr(g))}Yr(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ft(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return X.forEach(i.mutations,(l=>{const c=new Le(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new Le(i,0),l=this.Jr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class nR{constructor(t){this.ti=t,this.docs=(function(){return new le(ht.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(t,i){let a=Wi();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Ze.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=Wi();const d=i.path,g=new ht(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:y,value:{document:A}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||DS(CS(A),a)<=0||(l.has(A.key)||fh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){mt(9500)}ni(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new iR(this)}getSize(t){return X.resolve(this.size)}}class iR extends Xw{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class rR{constructor(t){this.persistence=t,this.ri=new qs((i=>bm(i)),Sm),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.ii=0,this.si=new Om,this.targetCount=0,this.oi=Za._r()}forEachTarget(t,i){return this.ri.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),X.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new Za(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.lr(i),X.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),X.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this.si.containsKey(i))}}class M0{constructor(t,i){this._i={},this.overlays={},this.ai=new lh(0),this.ui=!1,this.ui=!0,this.ci=new tR,this.referenceDelegate=t(this),this.li=new rR(this),this.indexManager=new qw,this.remoteDocumentCache=(function(l){return new nR(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new Bw(i),this.Pi=new $w(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Ww,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new eR(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){st("MemoryPersistence","Starting transaction:",t);const l=new sR(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return X.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class sR extends OS{constructor(t){super(),this.currentSequenceNumber=t}}class Vm{constructor(t){this.persistence=t,this.Ri=new Om,this.Ai=null}static Vi(t){return new Vm(t)}get di(){if(this.Ai)return this.Ai;throw mt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(a=>{const l=ht.fromPath(a);return this.mi(t,l).next((c=>{c||i.removeEntry(l,vt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class Jc{constructor(t,i){this.persistence=t,this.fi=new qs((a=>MS(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=Kw(this,i)}static Vi(t,i){return new Jc(t,i)}Ti(){}Ii(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return X.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((g=>{g||(a++,c.removeEntry(d,vt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Mc(t.data.value)),i}wr(t,i,a){return X.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class xm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=l}static Es(t,i){let a=Mt(),l=Mt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new xm(t,i.fromCache,a,l)}}class aR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class oR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Xb()?8:VS($e())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new aR;return this.ys(t,i,d).next((g=>{if(c.result=g,this.As)return this.ws(t,i,d,g.size)}))})).next((()=>c.result))}ws(t,i,a,l){return a.documentReadCount<this.Vs?(Ua()<=Vt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",La(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(Ua()<=Vt.DEBUG&&st("QueryEngine","Query:",La(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(Ua()<=Vt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",La(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,bi(i))):X.resolve())}gs(t,i){if(gv(i))return X.resolve(null);let a=bi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=tm(i,null,"F"),a=bi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Mt(...c);return this.fs.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((v=>{const y=this.bs(i,g);return this.Ss(i,y,d,v.readTime)?this.gs(t,tm(i,null,"F")):this.Ds(t,y,i,v)}))))})))))}ps(t,i,a,l){return gv(i)||l.isEqual(vt.min())?X.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?X.resolve(null):(Ua()<=Vt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),La(i)),this.Ds(t,d,i,IS(l,Dl)).next((g=>g)))}))}bs(t,i){let a=new Ve(u0(t));return i.forEach(((l,c)=>{fh(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,a){return Ua()<=Vt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",La(i)),this.fs.getDocumentsMatchingQuery(t,i,Qr.min(),a)}Ds(t,i,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Mm="LocalStore",lR=3e8;class uR{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new le(xt),this.Fs=new qs((c=>bm(c)),Sm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Zw(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function cR(s,t,i,a){return new uR(s,t,i,a)}async function k0(s,t){const i=Tt(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let v=Mt();for(const y of l){d.push(y.batchId);for(const A of y.mutations)v=v.add(A.key)}for(const y of c){g.push(y.batchId);for(const A of y.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(a,v).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function hR(s,t){const i=Tt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,v,y,A){const S=y.batch,V=S.keys();let F=X.resolve();return V.forEach(($=>{F=F.next((()=>A.getEntry(v,$))).next((it=>{const et=y.docVersions.get($);Ft(et!==null,48541),it.version.compareTo(et)<0&&(S.applyToRemoteDocument(it,y),it.isValidDocument()&&(it.setReadTime(y.commitVersion),A.addEntry(it)))}))})),F.next((()=>g.mutationQueue.removeMutationBatch(v,S)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let v=Mt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(v=v.add(g.batch.mutations[y].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function U0(s){const t=Tt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function fR(s,t){const i=Tt(s),a=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const g=[];t.targetChanges.forEach(((A,S)=>{const V=l.get(S);if(!V)return;g.push(i.li.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.li.addMatchingKeys(c,A.addedDocuments,S))));let F=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?F=F.withResumeToken(Ye.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):A.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(A.resumeToken,a)),l=l.insert(S,F),(function(it,et,dt){return it.resumeToken.approximateByteSize()===0||et.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=lR?!0:dt.addedDocuments.size+dt.modifiedDocuments.size+dt.removedDocuments.size>0})(V,F,A)&&g.push(i.li.updateTargetData(c,F))}));let v=Wi(),y=Mt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),g.push(dR(c,d,t.documentUpdates).next((A=>{v=A.Bs,y=A.Ls}))),!a.isEqual(vt.min())){const A=i.li.getLastRemoteSnapshotVersion(c).next((S=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(A)}return X.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,y))).next((()=>v))})).then((c=>(i.vs=l,c)))}function dR(s,t,i){let a=Mt(),l=Mt();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=Wi();return i.forEach(((g,v)=>{const y=c.get(g);v.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),v.isNoDocument()&&v.version.isEqual(vt.min())?(t.removeEntry(g,v.readTime),d=d.insert(g,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(v),d=d.insert(g,v)):st(Mm,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",v.version)})),{Bs:d,Ls:l}}))}function mR(s,t){const i=Tt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Em),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function pR(s,t){const i=Tt(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new zr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function sm(s,t,i){const a=Tt(s),l=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!ao(d))throw d;st(Mm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function Dv(s,t,i){const a=Tt(s);let l=vt.min(),c=Mt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,A){const S=Tt(v),V=S.Fs.get(A);return V!==void 0?X.resolve(S.vs.get(V)):S.li.getTargetData(y,A)})(a,d,bi(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,g.targetId).next((v=>{c=v}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:vt.min(),i?c:Mt()))).next((g=>(gR(a,nw(t),g),{documents:g,ks:c})))))}function gR(s,t,i){let a=s.Ms.get(t)||vt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(t,a)}class Nv{constructor(){this.activeTargetIds=lw()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class yR{constructor(){this.vo=new Nv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Nv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class _R{Mo(t){}shutdown(){}}const Ov="ConnectivityMonitor";class Vv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){st(Ov,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){st(Ov,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Nc=null;function am(){return Nc===null?Nc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Nc++,"0x"+Nc.toString(16)}const Ud="RestConnection",vR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class ER{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===Qc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,c){const d=am(),g=this.Qo(t,i.toUriEncodedString());st(Ud,`Sending RPC '${t}' ${d}:`,g,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,l,c);const{host:y}=new URL(g),A=no(y);return this.zo(t,g,v,a,A).then((S=>(st(Ud,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw Ya(Ud,`RPC '${t}' ${d} failed with error: `,S,"url: ",g,"request:",a),S}))}jo(t,i,a,l,c,d){return this.Wo(t,i,a,l,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ro})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const a=vR[t];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class TR{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Xe="WebChannelConnection",yl=(s,t,i)=>{s.listen(t,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Ba extends ER{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Ba.c_){const t=zE();yl(t,PE.STAT_EVENT,(i=>{i.stat===Yd.PROXY?st(Xe,"STAT_EVENT: detected buffering proxy"):i.stat===Yd.NOPROXY&&st(Xe,"STAT_EVENT: detected no buffering proxy")})),Ba.c_=!0}}zo(t,i,a,l,c){const d=am();return new Promise(((g,v)=>{const y=new UE;y.setWithCredentials(!0),y.listenOnce(LE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case xc.NO_ERROR:const S=y.getResponseJson();st(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),g(S);break;case xc.TIMEOUT:st(Xe,`RPC '${t}' ${d} timed out`),v(new rt(K.DEADLINE_EXCEEDED,"Request time out"));break;case xc.HTTP_ERROR:const V=y.getStatus();if(st(Xe,`RPC '${t}' ${d} failed with status:`,V,"response text:",y.getResponseText()),V>0){let F=y.getResponseJson();Array.isArray(F)&&(F=F[0]);const $=F?.error;if($&&$.status&&$.message){const it=(function(dt){const gt=dt.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(gt)>=0?gt:K.UNKNOWN})($.status);v(new rt(it,$.message))}else v(new rt(K.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new rt(K.UNAVAILABLE,"Connection failed."));break;default:mt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{st(Xe,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);st(Xe,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",A,a,15)}))}T_(t,i,a){const l=am(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,a),g.encodeInitMessageHeaders=!0;const y=c.join("");st(Xe,`Creating RPC '${t}' stream ${l}: ${y}`,g);const A=d.createWebChannel(y,g);this.I_(A);let S=!1,V=!1;const F=new TR({Ho:$=>{V?st(Xe,`Not sending because RPC '${t}' stream ${l} is closed:`,$):(S||(st(Xe,`Opening RPC '${t}' stream ${l} transport.`),A.open(),S=!0),st(Xe,`RPC '${t}' stream ${l} sending:`,$),A.send($))},Jo:()=>A.close()});return yl(A,_l.EventType.OPEN,(()=>{V||(st(Xe,`RPC '${t}' stream ${l} transport opened.`),F.i_())})),yl(A,_l.EventType.CLOSE,(()=>{V||(V=!0,st(Xe,`RPC '${t}' stream ${l} transport closed`),F.o_(),this.E_(A))})),yl(A,_l.EventType.ERROR,($=>{V||(V=!0,Ya(Xe,`RPC '${t}' stream ${l} transport errored. Name:`,$.name,"Message:",$.message),F.o_(new rt(K.UNAVAILABLE,"The operation could not be completed")))})),yl(A,_l.EventType.MESSAGE,($=>{if(!V){const it=$.data[0];Ft(!!it,16349);const et=it,dt=et?.error||et[0]?.error;if(dt){st(Xe,`RPC '${t}' stream ${l} received error:`,dt);const gt=dt.status;let _t=(function(kt){const C=we[kt];if(C!==void 0)return A0(C)})(gt),wt=dt.message;_t===void 0&&(_t=K.INTERNAL,wt="Unknown error status: "+gt+" with message "+dt.message),V=!0,F.o_(new rt(_t,wt)),A.close()}else st(Xe,`RPC '${t}' stream ${l} received:`,it),F.__(it)}})),Ba.u_(),setTimeout((()=>{F.s_()}),0),F}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return BE()}}function AR(s){return new Ba(s)}function Ld(){return typeof document<"u"?document:null}function gh(s){return new Rw(s,!0)}Ba.c_=!1;class L0{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&st("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const xv="PersistentStream";class P0{constructor(t,i,a,l,c,d,g,v){this.Ci=t,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new L0(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?($i(i.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new rt(K.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return st(xv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(st(xv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class bR extends P0{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Dw(this.serializer,t),a=(function(c){if(!("targetChange"in c))return vt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?Si(d.readTime):vt.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=rm(this.serializer),i.addTarget=(function(c,d){let g;const v=d.target;if(g=$d(v)?{documents:Vw(c,v)}:{query:xw(c,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=w0(c,d.resumeToken);const y=em(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(vt.min())>0){g.readTime=Xc(c,d.snapshotVersion.toTimestamp());const y=em(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const a=kw(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=rm(this.serializer),i.removeTarget=t,this.K_(i)}}class SR extends P0{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Ow(t.writeResults,t.commitTime),a=Si(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=rm(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>Nw(this.serializer,a)))};this.K_(i)}}class wR{}class RR extends wR{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new rt(K.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,nm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new rt(K.UNKNOWN,c.toString())}))}jo(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(t,nm(i,a),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(K.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function IR(s,t,i,a){return new RR(s,t,i,a)}class CR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($i(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Bs="RemoteStore";class DR{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{Hs(this)&&(st(Bs,"Restarting streams for network reachability change."),await(async function(v){const y=Tt(v);y.Ea.add(4),await Gl(y),y.Va.set("Unknown"),y.Ea.delete(4),await yh(y)})(this))}))})),this.Va=new CR(a,l)}}async function yh(s){if(Hs(s))for(const t of s.Ra)await t(!0)}async function Gl(s){for(const t of s.Ra)await t(!1)}function z0(s,t){const i=Tt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Pm(i)?Lm(i):lo(i).O_()&&Um(i,t))}function km(s,t){const i=Tt(s),a=lo(i);i.Ia.delete(t),a.O_()&&B0(i,t),i.Ia.size===0&&(a.O_()?a.L_():Hs(i)&&i.Va.set("Unknown"))}function Um(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}lo(s).Z_(t)}function B0(s,t){s.da.$e(t),lo(s).X_(t)}function Lm(s){s.da=new Aw({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),lo(s).start(),s.Va.ua()}function Pm(s){return Hs(s)&&!lo(s).x_()&&s.Ia.size>0}function Hs(s){return Tt(s).Ea.size===0}function j0(s){s.da=void 0}async function NR(s){s.Va.set("Online")}async function OR(s){s.Ia.forEach(((t,i)=>{Um(s,t)}))}async function VR(s,t){j0(s),Pm(s)?(s.Va.ha(t),Lm(s)):s.Va.set("Unknown")}async function xR(s,t,i){if(s.Va.set("Online"),t instanceof S0&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.da.removeTarget(g))})(s,t)}catch(a){st(Bs,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Zc(s,a)}else if(t instanceof Lc?s.da.Xe(t):t instanceof b0?s.da.st(t):s.da.tt(t),!i.isEqual(vt.min()))try{const a=await U0(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(v.resumeToken,d))}})),g.targetMismatches.forEach(((v,y)=>{const A=c.Ia.get(v);if(!A)return;c.Ia.set(v,A.withResumeToken(Ye.EMPTY_BYTE_STRING,A.snapshotVersion)),B0(c,v);const S=new zr(A.target,v,y,A.sequenceNumber);Um(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){st(Bs,"Failed to raise snapshot:",a),await Zc(s,a)}}async function Zc(s,t,i){if(!ao(t))throw t;s.Ea.add(1),await Gl(s),s.Va.set("Offline"),i||(i=()=>U0(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{st(Bs,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await yh(s)}))}function q0(s,t){return t().catch((i=>Zc(s,i,t)))}async function _h(s){const t=Tt(s),i=Jr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Em;for(;MR(t);)try{const l=await mR(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,kR(t,l)}catch(l){await Zc(t,l)}H0(t)&&G0(t)}function MR(s){return Hs(s)&&s.Ta.length<10}function kR(s,t){s.Ta.push(t);const i=Jr(s);i.O_()&&i.Y_&&i.ea(t.mutations)}function H0(s){return Hs(s)&&!Jr(s).x_()&&s.Ta.length>0}function G0(s){Jr(s).start()}async function UR(s){Jr(s).ra()}async function LR(s){const t=Jr(s);for(const i of s.Ta)t.ea(i.mutations)}async function PR(s,t,i){const a=s.Ta.shift(),l=Cm.from(a,t,i);await q0(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await _h(s)}async function zR(s,t){t&&Jr(s).Y_&&await(async function(a,l){if((function(d){return vw(d)&&d!==K.ABORTED})(l.code)){const c=a.Ta.shift();Jr(a).B_(),await q0(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await _h(a)}})(s,t),H0(s)&&G0(s)}async function Mv(s,t){const i=Tt(s);i.asyncQueue.verifyOperationInProgress(),st(Bs,"RemoteStore received new credentials");const a=Hs(i);i.Ea.add(3),await Gl(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await yh(i)}async function BR(s,t){const i=Tt(s);t?(i.Ea.delete(2),await yh(i)):t||(i.Ea.add(2),await Gl(i),i.Va.set("Unknown"))}function lo(s){return s.ma||(s.ma=(function(i,a,l){const c=Tt(i);return c.sa(),new bR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:NR.bind(null,s),Yo:OR.bind(null,s),t_:VR.bind(null,s),J_:xR.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),Pm(s)?Lm(s):s.Va.set("Unknown")):(await s.ma.stop(),j0(s))}))),s.ma}function Jr(s){return s.fa||(s.fa=(function(i,a,l){const c=Tt(i);return c.sa(),new SR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:UR.bind(null,s),t_:zR.bind(null,s),ta:LR.bind(null,s),na:PR.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await _h(s)):(await s.fa.stop(),s.Ta.length>0&&(st(Bs,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class zm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,g=new zm(t,i,d,l,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(K.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bm(s,t){if($i("AsyncQueue",`${t}: ${s}`),ao(s))return new rt(K.UNAVAILABLE,`${t}: ${s}`);throw s}class ja{static emptySet(t){return new ja(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ht.comparator(i.key,a.key):(i,a)=>ht.comparator(i.key,a.key),this.keyedMap=vl(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof ja)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new ja;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class kv{constructor(){this.ga=new le(ht.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):mt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class $a{constructor(t,i,a,l,c,d,g,v,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new $a(t,i,ja.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&hh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class jR{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class qR{constructor(){this.queries=Uv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Tt(i),c=l.queries;l.queries=Uv(),c.forEach(((d,g)=>{for(const v of g.ba)v.onError(a)}))})(this,new rt(K.ABORTED,"Firestore shutting down"))}}function Uv(){return new qs((s=>l0(s)),hh)}async function HR(s,t){const i=Tt(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(a=2):(c=new jR,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=Bm(d,`Initialization of query '${La(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&jm(i)}async function GR(s,t){const i=Tt(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function FR(s,t){const i=Tt(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.ba)g.Fa(l)&&(a=!0);d.wa=l}}a&&jm(i)}function QR(s,t,i){const a=Tt(s),l=a.queries.get(t);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(t)}function jm(s){s.Ca.forEach((t=>{t.next()}))}var om,Lv;(Lv=om||(om={})).Ma="default",Lv.Cache="cache";class YR{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new $a(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=$a.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==om.Cache}}class F0{constructor(t){this.key=t}}class Q0{constructor(t){this.key=t}}class KR{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Mt(),this.mutatedKeys=Mt(),this.eu=u0(t),this.tu=new ja(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new kv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,S)=>{const V=l.get(A),F=fh(this.query,S)?S:null,$=!!V&&this.mutatedKeys.has(V.key),it=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let et=!1;V&&F?V.data.isEqual(F.data)?$!==it&&(a.track({type:3,doc:F}),et=!0):this.su(V,F)||(a.track({type:2,doc:F}),et=!0,(v&&this.eu(F,v)>0||y&&this.eu(F,y)<0)&&(g=!0)):!V&&F?(a.track({type:0,doc:F}),et=!0):V&&!F&&(a.track({type:1,doc:V}),et=!0,(v||y)&&(g=!0)),et&&(F?(d=d.add(F),c=it?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Ss:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,S)=>(function(F,$){const it=et=>{switch(et){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt(20277,{Vt:et})}};return it(F)-it($)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(a),l=l??!1;const g=i&&!l?this._u():[],v=this.Ya.size===0&&this.current&&!l?1:0,y=v!==this.Xa;return this.Xa=v,d.length!==0||y?{snapshot:new $a(this.query,t.tu,c,d,t.mutatedKeys,v===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new kv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Mt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new Q0(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new F0(a))})),i}cu(t){this.Za=t.ks,this.Ya=Mt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return $a.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const qm="SyncEngine";class XR{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class JR{constructor(t){this.key=t,this.hu=!1}}class ZR{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new qs((g=>l0(g)),hh),this.Iu=new Map,this.Eu=new Set,this.Ru=new le(ht.comparator),this.Au=new Map,this.Vu=new Om,this.du={},this.mu=new Map,this.fu=Za.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $R(s,t,i=!0){const a=$0(s);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await Y0(a,t,i,!0),l}async function WR(s,t){const i=$0(s);await Y0(i,t,!0,!1)}async function Y0(s,t,i,a){const l=await pR(s.localStore,bi(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await tI(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&z0(s.remoteStore,l),g}async function tI(s,t,i,a,l){s.pu=(S,V,F)=>(async function(it,et,dt,gt){let _t=et.view.ru(dt);_t.Ss&&(_t=await Dv(it.localStore,et.query,!1).then((({documents:C})=>et.view.ru(C,_t))));const wt=gt&&gt.targetChanges.get(et.targetId),Gt=gt&&gt.targetMismatches.get(et.targetId)!=null,kt=et.view.applyChanges(_t,it.isPrimaryClient,wt,Gt);return zv(it,et.targetId,kt.au),kt.snapshot})(s,S,V,F);const c=await Dv(s.localStore,t,!0),d=new KR(t,c.ks),g=d.ru(c.documents),v=Hl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),y=d.applyChanges(g,s.isPrimaryClient,v);zv(s,i,y.au);const A=new XR(t,i,d);return s.Tu.set(t,A),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),y.snapshot}async function eI(s,t,i){const a=Tt(s),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!hh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await sm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&km(a.remoteStore,l.targetId),lm(a,l.targetId)})).catch(so)):(lm(a,l.targetId),await sm(a.localStore,l.targetId,!0))}async function nI(s,t){const i=Tt(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),km(i.remoteStore,a.targetId))}async function iI(s,t,i){const a=cI(s);try{const l=await(function(d,g){const v=Tt(d),y=re.now(),A=g.reduce(((F,$)=>F.add($.key)),Mt());let S,V;return v.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let $=Wi(),it=Mt();return v.xs.getEntries(F,A).next((et=>{$=et,$.forEach(((dt,gt)=>{gt.isValidDocument()||(it=it.add(dt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(F,$))).next((et=>{S=et;const dt=[];for(const gt of g){const _t=mw(gt,S.get(gt.key).overlayedDocument);_t!=null&&dt.push(new Wr(gt.key,_t,t0(_t.value.mapValue),Jn.exists(!0)))}return v.mutationQueue.addMutationBatch(F,y,dt,g)})).next((et=>{V=et;const dt=et.applyToLocalDocumentSet(S,it);return v.documentOverlayCache.saveOverlays(F,et.batchId,dt)}))})).then((()=>({batchId:V.batchId,changes:h0(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,v){let y=d.du[d.currentUser.toKey()];y||(y=new le(xt)),y=y.insert(g,v),d.du[d.currentUser.toKey()]=y})(a,l.batchId,i),await Fl(a,l.changes),await _h(a.remoteStore)}catch(l){const c=Bm(l,"Failed to persist write");i.reject(c)}}async function K0(s,t){const i=Tt(s);try{const a=await fR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ft(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ft(d.hu,14607):l.removedDocuments.size>0&&(Ft(d.hu,42227),d.hu=!1))})),await Fl(i,a,t)}catch(a){await so(a)}}function Pv(s,t,i){const a=Tt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const v=Tt(d);v.onlineState=g;let y=!1;v.queries.forEach(((A,S)=>{for(const V of S.ba)V.va(g)&&(y=!0)})),y&&jm(v)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function rI(s,t,i){const a=Tt(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new le(ht.comparator);d=d.insert(c,Ze.newNoDocument(c,vt.min()));const g=Mt().add(c),v=new ph(vt.min(),new Map,new le(xt),d,g);await K0(a,v),a.Ru=a.Ru.remove(c),a.Au.delete(t),Hm(a)}else await sm(a.localStore,t,!1).then((()=>lm(a,t,i))).catch(so)}async function sI(s,t){const i=Tt(s),a=t.batch.batchId;try{const l=await hR(i.localStore,t);J0(i,a,null),X0(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Fl(i,l)}catch(l){await so(l)}}async function aI(s,t,i){const a=Tt(s);try{const l=await(function(d,g){const v=Tt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return v.mutationQueue.lookupMutationBatch(y,g).next((S=>(Ft(S!==null,37113),A=S.keys(),v.mutationQueue.removeMutationBatch(y,S)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,A,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>v.localDocuments.getDocuments(y,A)))}))})(a.localStore,t);J0(a,t,i),X0(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Fl(a,l)}catch(l){await so(l)}}function X0(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function J0(s,t,i){const a=Tt(s);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function lm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((a=>{s.Vu.containsKey(a)||Z0(s,a)}))}function Z0(s,t){s.Eu.delete(t.path.canonicalString());const i=s.Ru.get(t);i!==null&&(km(s.remoteStore,i),s.Ru=s.Ru.remove(t),s.Au.delete(i),Hm(s))}function zv(s,t,i){for(const a of i)a instanceof F0?(s.Vu.addReference(a.key,t),oI(s,a)):a instanceof Q0?(st(qm,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,t),s.Vu.containsKey(a.key)||Z0(s,a.key)):mt(19791,{wu:a})}function oI(s,t){const i=t.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(st(qm,"New document in limbo: "+i),s.Eu.add(a),Hm(s))}function Hm(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new ht(ee.fromString(t)),a=s.fu.next();s.Au.set(a,new JR(i)),s.Ru=s.Ru.insert(i,a),z0(s.remoteStore,new zr(bi(wm(i.path)),a,"TargetPurposeLimboResolution",lh.ce))}}async function Fl(s,t,i){const a=Tt(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,v)=>{d.push(a.pu(v,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(y){l.push(y);const A=xm.Es(v.targetId,y);c.push(A)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(v,y){const A=Tt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(y,(V=>X.forEach(V.Ts,(F=>A.persistence.referenceDelegate.addReference(S,V.targetId,F))).next((()=>X.forEach(V.Is,(F=>A.persistence.referenceDelegate.removeReference(S,V.targetId,F)))))))))}catch(S){if(!ao(S))throw S;st(Mm,"Failed to update sequence numbers: "+S)}for(const S of y){const V=S.targetId;if(!S.fromCache){const F=A.vs.get(V),$=F.snapshotVersion,it=F.withLastLimboFreeSnapshotVersion($);A.vs=A.vs.insert(V,it)}}})(a.localStore,c))}async function lI(s,t){const i=Tt(s);if(!i.currentUser.isEqual(t)){st(qm,"User change. New user:",t.toKey());const a=await k0(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((v=>{v.reject(new rt(K.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Fl(i,a.Ns)}}function uI(s,t){const i=Tt(s),a=i.Au.get(t);if(a&&a.hu)return Mt().add(a.key);{let l=Mt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function $0(s){const t=Tt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=K0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=uI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=rI.bind(null,t),t.Pu.J_=FR.bind(null,t.eventManager),t.Pu.yu=QR.bind(null,t.eventManager),t}function cI(s){const t=Tt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=sI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=aI.bind(null,t),t}class $c{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=gh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return cR(this.persistence,new oR,t.initialUser,this.serializer)}Cu(t){return new M0(Vm.Vi,this.serializer)}Du(t){return new yR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$c.provider={build:()=>new $c};class hI extends $c{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ft(this.persistence.referenceDelegate instanceof Jc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Qw(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new M0((a=>Jc.Vi(a,i)),this.serializer)}}class um{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Pv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=lI.bind(null,this.syncEngine),await BR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new qR})()}createDatastore(t){const i=gh(t.databaseInfo.databaseId),a=AR(t.databaseInfo);return IR(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,g){return new DR(a,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>Pv(this.syncEngine,i,0)),(function(){return Vv.v()?new Vv:new _R})())}createSyncEngine(t,i){return(function(l,c,d,g,v,y,A){const S=new ZR(l,c,d,g,v,y);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Tt(i);st(Bs,"RemoteStore shutting down."),a.Ea.add(5),await Gl(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}um.provider={build:()=>new um};class fI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):$i("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Zr="FirestoreClient";class dI{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=Je.UNAUTHENTICATED,this.clientId=vm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{st(Zr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(st(Zr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Bm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Pd(s,t){s.asyncQueue.verifyOperationInProgress(),st(Zr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await k0(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function Bv(s,t){s.asyncQueue.verifyOperationInProgress();const i=await mI(s);st(Zr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>Mv(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>Mv(t.remoteStore,l))),s._onlineComponents=t}async function mI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){st(Zr,"Using user provided OfflineComponentProvider");try{await Pd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===K.FAILED_PRECONDITION||l.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ya("Error using user provided cache. Falling back to memory cache: "+i),await Pd(s,new $c)}}else st(Zr,"Using default OfflineComponentProvider"),await Pd(s,new hI(void 0));return s._offlineComponents}async function W0(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(st(Zr,"Using user provided OnlineComponentProvider"),await Bv(s,s._uninitializedComponentsProvider._online)):(st(Zr,"Using default OnlineComponentProvider"),await Bv(s,new um))),s._onlineComponents}function pI(s){return W0(s).then((t=>t.syncEngine))}async function jv(s){const t=await W0(s),i=t.eventManager;return i.onListen=$R.bind(null,t.syncEngine),i.onUnlisten=eI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=WR.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=nI.bind(null,t.syncEngine),i}function gI(s,t,i,a){const l=new fI(a),c=new YR(t,l,i);return s.asyncQueue.enqueueAndForget((async()=>HR(await jv(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>GR(await jv(s),c)))}}function yI(s,t){const i=new Ms;return s.asyncQueue.enqueueAndForget((async()=>iI(await pI(s),t,i))),i.promise}function tT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const _I="ComponentProvider",qv=new Map;function vI(s,t,i,a,l){return new LS(s,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,tT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const eT="firestore.googleapis.com",Hv=!0;class Gv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new rt(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eT,this.ssl=Hv}else this.host=t.host,this.ssl=t.ssl??Hv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=x0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Gw)throw new rt(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}RS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new rt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new rt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new rt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class vh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new rt(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new gS;switch(a.type){case"firstParty":return new ES(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new rt(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=qv.get(i);a&&(st(_I,"Removing Datastore"),qv.delete(i),a.terminate())})(this),Promise.resolve()}}function EI(s,t,i,a={}){s=Gr(s,vh);const l=no(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${i}`;l&&(IE(`https://${g}`),CE("Firestore",!0)),c.host!==eT&&c.host!==g&&Ya("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:g,ssl:l,emulatorOptions:a};if(!Ls(v,d)&&(s._setSettings(v),a.mockUserToken)){let y,A;if(typeof a.mockUserToken=="string")y=a.mockUserToken,A=Je.MOCK_USER;else{y=Bb(a.mockUserToken,s._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new rt(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Je(S)}s._authCredentials=new yS(new qE(y,A))}}class Gs{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Gs(this.firestore,t,this._query)}}class Ce{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ce(this.firestore,t,this._key)}toJSON(){return{type:Ce._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(jl(i,Ce._jsonSchema))return new Ce(t,a||null,new ht(ee.fromString(i.referencePath)))}}Ce._jsonSchemaVersion="firestore/documentReference/1.0",Ce._jsonSchema={type:Ie("string",Ce._jsonSchemaVersion),referencePath:Ie("string")};class Fr extends Gs{constructor(t,i,a){super(t,i,wm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ce(this.firestore,null,new ht(t))}withConverter(t){return new Fr(this.firestore,t,this._path)}}function Oc(s,t,...i){if(s=Pe(s),HE("collection","path",t),s instanceof vh){const a=ee.fromString(t,...i);return nv(a),new Fr(s,null,a)}{if(!(s instanceof Ce||s instanceof Fr))throw new rt(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ee.fromString(t,...i));return nv(a),new Fr(s.firestore,null,a)}}function cm(s,t,...i){if(s=Pe(s),arguments.length===1&&(t=vm.newId()),HE("doc","path",t),s instanceof vh){const a=ee.fromString(t,...i);return ev(a),new Ce(s,null,new ht(a))}{if(!(s instanceof Ce||s instanceof Fr))throw new rt(K.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ee.fromString(t,...i));return ev(a),new Ce(s.firestore,s instanceof Fr?s.converter:null,new ht(a))}}const Fv="AsyncQueue";class Qv{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new L0(this,"async_queue_retry"),this._c=()=>{const a=Ld();a&&st(Fv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Ld();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Ld();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ms;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!ao(t))throw t;st(Fv,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,$i("INTERNAL UNHANDLED ERROR: ",Yv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=zm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&mt(47125,{Pc:Yv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Yv(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class Wa extends vh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new Qv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Qv(t),this._firestoreClient=void 0,await t}}}function TI(s,t){const i=typeof s=="object"?s:VE(),a=typeof s=="string"?s:Qc,l=ym(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=Pb("firestore");c&&EI(l,...c)}return l}function nT(s){if(s._terminated)throw new rt(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||AI(s),s._firestoreClient}function AI(s){const t=s._freezeSettings(),i=vI(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new dI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class kn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new kn(Ye.fromBase64String(t))}catch(i){throw new rt(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new kn(Ye.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(jl(t,kn._jsonSchema))return kn.fromBase64String(t.bytes)}}kn._jsonSchemaVersion="firestore/bytes/1.0",kn._jsonSchema={type:Ie("string",kn._jsonSchemaVersion),bytes:Ie("string")};class Gm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new rt(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Ql{constructor(t){this._methodName=t}}class wi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new rt(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new rt(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return xt(this._lat,t._lat)||xt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wi._jsonSchemaVersion}}static fromJSON(t){if(jl(t,wi._jsonSchema))return new wi(t.latitude,t.longitude)}}wi._jsonSchemaVersion="firestore/geoPoint/1.0",wi._jsonSchema={type:Ie("string",wi._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};class Zn{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Zn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(jl(t,Zn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Zn(t.vectorValues);throw new rt(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zn._jsonSchemaVersion="firestore/vectorValue/1.0",Zn._jsonSchema={type:Ie("string",Zn._jsonSchemaVersion),vectorValues:Ie("object")};const bI=/^__.*__$/;class SI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Wr(t,this.data,this.fieldMask,i,this.fieldTransforms):new ql(t,this.data,i,this.fieldTransforms)}}class iT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new Wr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function rT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt(40011,{dataSource:s})}}class Fm{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Fm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Wc(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(rT(this.dataSource)&&bI.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class wI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||gh(t)}createContext(t,i,a,l=!1){return new Fm({dataSource:t,methodName:i,targetDoc:a,path:Qe.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qm(s){const t=s._freezeSettings(),i=gh(s._databaseId);return new wI(s._databaseId,!!t.ignoreUndefinedProperties,i)}function RI(s,t,i,a,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,t,i,l);Xm("Data must be an object, but it was:",d,a);const g=sT(a,d);let v,y;if(c.merge)v=new Tn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const V=to(t,S,i);if(!d.contains(V))throw new rt(K.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);lT(A,V)||A.push(V)}v=new Tn(A),y=d.fieldTransforms.filter((S=>v.covers(S.field)))}else v=null,y=d.fieldTransforms;return new SI(new hn(g),v,y)}class Eh extends Ql{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Eh}}class Ym extends Ql{_toFieldTransform(t){return new v0(t.path,new Ml)}isEqual(t){return t instanceof Ym}}class Km extends Ql{constructor(t,i){super(t),this.Vc=i}_toFieldTransform(t){const i=new Ll(t.serializer,m0(t.serializer,this.Vc));return new v0(t.path,i)}isEqual(t){return t instanceof Km&&this.Vc===t.Vc}}function II(s,t,i,a){const l=s.createContext(1,t,i);Xm("Data must be an object, but it was:",l,a);const c=[],d=hn.empty();$r(a,((v,y)=>{const A=oT(t,v,i);y=Pe(y);const S=l.childContextForFieldPath(A);if(y instanceof Eh)c.push(A);else{const V=Yl(y,S);V!=null&&(c.push(A),d.set(A,V))}}));const g=new Tn(c);return new iT(d,g,l.fieldTransforms)}function CI(s,t,i,a,l,c){const d=s.createContext(1,t,i),g=[to(t,a,i)],v=[l];if(c.length%2!=0)throw new rt(K.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)g.push(to(t,c[V])),v.push(c[V+1]);const y=[],A=hn.empty();for(let V=g.length-1;V>=0;--V)if(!lT(y,g[V])){const F=g[V];let $=v[V];$=Pe($);const it=d.childContextForFieldPath(F);if($ instanceof Eh)y.push(F);else{const et=Yl($,it);et!=null&&(y.push(F),A.set(F,et))}}const S=new Tn(y);return new iT(A,S,d.fieldTransforms)}function DI(s,t,i,a=!1){return Yl(i,s.createContext(a?4:3,t))}function Yl(s,t){if(aT(s=Pe(s)))return Xm("Unsupported field value:",t,s),sT(s,t);if(s instanceof Ql)return(function(a,l){if(!rT(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const g of a){let v=Yl(g,l.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=Pe(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return m0(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=re.fromDate(a);return{timestampValue:Xc(l.serializer,c)}}if(a instanceof re){const c=new re(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Xc(l.serializer,c)}}if(a instanceof wi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof kn)return{bytesValue:w0(l.serializer,a._byteString)};if(a instanceof Ce){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Nm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Zn)return(function(d,g){const v=d instanceof Zn?d.toArray():d;return{mapValue:{fields:{[$E]:{stringValue:WE},[Yc]:{arrayValue:{values:v.map((A=>{if(typeof A!="number")throw g.createError("VectorValues must only contain numeric values.");return Rm(g.serializer,A)}))}}}}}})(a,l);if(V0(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${oh(a)}`)})(s,t)}function sT(s,t){const i={};return QE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):$r(s,((a,l)=>{const c=Yl(l,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function aT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof re||s instanceof wi||s instanceof kn||s instanceof Ce||s instanceof Ql||s instanceof Zn||V0(s))}function Xm(s,t,i){if(!aT(i)||!GE(i)){const a=oh(i);throw a==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+a)}}function to(s,t,i){if((t=Pe(t))instanceof Gm)return t._internalPath;if(typeof t=="string")return oT(s,t);throw Wc("Field path arguments must be of type string or ",s,!1,void 0,i)}const NI=new RegExp("[~\\*/\\[\\]]");function oT(s,t,i){if(t.search(NI)>=0)throw Wc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Gm(...t.split("."))._internalPath}catch{throw Wc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Wc(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${l}`),v+=")"),new rt(K.INVALID_ARGUMENT,g+s+v)}function lT(s,t){return s.some((i=>i.isEqual(t)))}class OI{convertValue(t,i="none"){switch(Xr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Kr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw mt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return $r(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Yc].arrayValue?.values?.map((a=>pe(a.doubleValue)));return new Zn(i)}convertGeoPoint(t){return new wi(pe(t.latitude),pe(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=ch(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Nl(t));default:return null}}convertTimestamp(t){const i=Yr(t);return new re(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ee.fromString(t);Ft(O0(a),9688,{name:t});const l=new Ol(a.get(1),a.get(3)),c=new ht(a.popFirst(5));return l.isEqual(i)||$i(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class uT extends OI{constructor(t){super(),this.firestore=t}convertBytes(t){return new kn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ce(this.firestore,null,i)}}function Kv(){return new Ym("serverTimestamp")}function VI(s){return new Km("increment",s)}const Xv="@firebase/firestore",Jv="4.10.0";function Zv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class cT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ce(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new xI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(to("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class xI extends cT{data(){return super.data()}}function MI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new rt(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jm{}class hT extends Jm{}function $v(s,t,...i){let a=[];t instanceof Jm&&a.push(t),a=a.concat(i),(function(c){const d=c.filter((v=>v instanceof $m)).length,g=c.filter((v=>v instanceof Zm)).length;if(d>1||d>0&&g>0)throw new rt(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)s=l._apply(s);return s}class Zm extends hT{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new Zm(t,i,a)}_apply(t){const i=this._parse(t);return fT(t._query,i),new Gs(t.firestore,t.converter,Wd(t._query,i))}_parse(t){const i=Qm(t.firestore);return(function(c,d,g,v,y,A,S){let V;if(y.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new rt(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){eE(S,A);const $=[];for(const it of S)$.push(tE(v,c,it));V={arrayValue:{values:$}}}else V=tE(v,c,S)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||eE(S,A),V=DI(g,d,S,A==="in"||A==="not-in");return Re.create(y,A,V)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class $m extends Jm{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new $m(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:Wn.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const g=c.getFlattenedFilters();for(const v of g)fT(d,v),d=Wd(d,v)})(t._query,i),new Gs(t.firestore,t.converter,Wd(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Wm extends hT{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new Wm(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new rt(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new rt(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new xl(c,d)})(t._query,this._field,this._direction);return new Gs(t.firestore,t.converter,ew(t._query,i))}}function Wv(s,t="asc"){const i=t,a=to("orderBy",s);return Wm._create(a,i)}function tE(s,t,i){if(typeof(i=Pe(i))=="string"){if(i==="")throw new rt(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!o0(t)&&i.indexOf("/")!==-1)throw new rt(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(ee.fromString(i));if(!ht.isDocumentKey(a))throw new rt(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return cv(s,new ht(a))}if(i instanceof Ce)return cv(s,i._key);throw new rt(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oh(i)}.`)}function eE(s,t){if(!Array.isArray(s)||s.length===0)throw new rt(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function fT(s,t){const i=(function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new rt(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rt(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}function kI(s,t,i){let a;return a=s?s.toFirestore(t):t,a}class Tl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ks extends cT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(to("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=ks._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ks._jsonSchemaVersion="firestore/documentSnapshot/1.0",ks._jsonSchema={type:Ie("string",ks._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class Pc extends ks{data(t={}){return super.data(t)}}class qa{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Tl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Pc(this._firestore,this._userDataWriter,a.key,a,new Tl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const v=new Pc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Tl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const v=new Pc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Tl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,A=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:UI(g.type),doc:v,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=qa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=vm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function UI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt(61501,{type:s})}}qa._jsonSchemaVersion="firestore/querySnapshot/1.0",qa._jsonSchema={type:Ie("string",qa._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};function LI(s,t,i,...a){s=Gr(s,Ce);const l=Gr(s.firestore,Wa),c=Qm(l);let d;return d=typeof(t=Pe(t))=="string"||t instanceof Gm?CI(c,"updateDoc",s._key,t,i,a):II(c,"updateDoc",s._key,t),tp(l,[d.toMutation(s._key,Jn.exists(!0))])}function PI(s){return tp(Gr(s.firestore,Wa),[new Im(s._key,Jn.none())])}function nE(s,t){const i=Gr(s.firestore,Wa),a=cm(s),l=kI(s.converter,t),c=Qm(s.firestore);return tp(i,[RI(c,"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,Jn.exists(!1))]).then((()=>a))}function iE(s,...t){s=Pe(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||Zv(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Zv(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,g;if(s instanceof Ce)d=Gr(s.firestore,Wa),g=wm(s._key.path),c={next:y=>{t[a]&&t[a](zI(d,s,y))},error:t[a+1],complete:t[a+2]};else{const y=Gr(s,Gs);d=Gr(y.firestore,Wa),g=y._query;const A=new uT(d);c={next:S=>{t[a]&&t[a](new qa(d,A,y,S))},error:t[a+1],complete:t[a+2]},MI(s._query)}const v=nT(d);return gI(v,g,l,c)}function tp(s,t){const i=nT(s);return yI(i,t)}function zI(s,t,i){const a=i.docs.get(t._key),l=new uT(s);return new ks(s,l,t._key,a,new Tl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){pS(io),Qa(new Ps("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new Wa(new _S(a.getProvider("auth-internal")),new TS(d,a.getProvider("app-check-internal")),PS(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),qr(Xv,Jv,t),qr(Xv,Jv,"esm2020")})();function dT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BI=dT,mT=new zl("auth","Firebase",dT());const th=new pm("@firebase/auth");function jI(s,...t){th.logLevel<=Vt.WARN&&th.warn(`Auth (${io}): ${s}`,...t)}function zc(s,...t){th.logLevel<=Vt.ERROR&&th.error(`Auth (${io}): ${s}`,...t)}function Ci(s,...t){throw np(s,...t)}function $n(s,...t){return np(s,...t)}function ep(s,t,i){const a={...BI(),[t]:i};return new zl("auth","Firebase",a).create(t,{appName:s.name})}function Us(s){return ep(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qI(s,t,i){const a=i;if(!(t instanceof a))throw a.name!==t.constructor.name&&Ci(s,"argument-error"),ep(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function np(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return mT.create(s,...t)}function pt(s,t,...i){if(!s)throw np(t,...i)}function Xi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw zc(t),new Error(t)}function tr(s,t){s||Xi(t)}function hm(){return typeof self<"u"&&self.location?.href||""}function HI(){return rE()==="http:"||rE()==="https:"}function rE(){return typeof self<"u"&&self.location?.protocol||null}function GI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HI()||Qb()||"connection"in navigator)?navigator.onLine:!0}function FI(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Kl{constructor(t,i){this.shortDelay=t,this.longDelay=i,tr(i>t,"Short delay should be less than long delay!"),this.isMobile=Hb()||Yb()}get(){return GI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ip(s,t){tr(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class pT{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const QI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const YI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],KI=new Kl(3e4,6e4);function rp(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function uo(s,t,i,a,l={}){return gT(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=Bl({key:s.config.apiKey,...d}).slice(1),v=await s._getAdditionalHeaders();v["Content-Type"]="application/json",s.languageCode&&(v["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:v,...c};return Fb()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&no(s.emulatorConfig.host)&&(y.credentials="include"),pT.fetch()(await yT(s,s.config.apiHost,i,g),y)})}async function gT(s,t,i){s._canInitEmulator=!1;const a={...QI,...t};try{const l=new JI(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Vc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[v,y]=g.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vc(s,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Vc(s,"email-already-in-use",d);if(v==="USER_DISABLED")throw Vc(s,"user-disabled",d);const A=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw ep(s,A,y);Ci(s,A)}}catch(l){if(l instanceof er)throw l;Ci(s,"network-request-failed",{message:String(l)})}}async function XI(s,t,i,a,l={}){const c=await uo(s,t,i,a,l);return"mfaPendingCredential"in c&&Ci(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function yT(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?ip(s.config,l):`${s.config.apiScheme}://${l}`;return YI.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class JI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a($n(this.auth,"network-request-failed")),KI.get())})}}function Vc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=$n(s,t,a);return l.customData._tokenResponse=i,l}async function ZI(s,t){return uo(s,"POST","/v1/accounts:delete",t)}async function eh(s,t){return uo(s,"POST","/v1/accounts:lookup",t)}function Il(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function $I(s,t=!1){const i=Pe(s),a=await i.getIdToken(t),l=sp(a);pt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Il(zd(l.auth_time)),issuedAtTime:Il(zd(l.iat)),expirationTime:Il(zd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function zd(s){return Number(s)*1e3}function sp(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return zc("JWT malformed, contained fewer than 3 sections"),null;try{const l=bE(i);return l?JSON.parse(l):(zc("Failed to decode base64 JWT payload"),null)}catch(l){return zc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function sE(s){const t=sp(s);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Pl(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof er&&WI(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function WI({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class t2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class fm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Il(this.lastLoginAt),this.creationTime=Il(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function nh(s){const t=s.auth,i=await s.getIdToken(),a=await Pl(s,eh(t,{idToken:i}));pt(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?_T(l.providerUserInfo):[],d=n2(s.providerData,c),g=s.isAnonymous,v=!(s.email&&l.passwordHash)&&!d?.length,y=g?v:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new fm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,A)}async function e2(s){const t=Pe(s);await nh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function n2(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function _T(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function i2(s,t){const i=await gT(s,{},async()=>{const a=Bl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await yT(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:g,body:a};return s.emulatorConfig&&no(s.emulatorConfig.host)&&(v.credentials="include"),pT.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function r2(s,t){return uo(s,"POST","/v2/accounts:revokeToken",rp(s,t))}class Ha{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):sE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const i=sE(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await i2(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ha;return a&&(pt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(pt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(pt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ha,this.toJSON())}_performRefresh(){return Xi("not implemented")}}function kr(s,t){pt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Xn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new t2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new fm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Pl(this,this.stsTokenManager.getToken(this.auth,t));return pt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return $I(this,t)}reload(){return e2(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Xn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await nh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(Us(this.auth));const t=await this.getIdToken();return await Pl(this,ZI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:V,isAnonymous:F,providerData:$,stsTokenManager:it}=i;pt(S&&it,t,"internal-error");const et=Ha.fromJSON(this.name,it);pt(typeof S=="string",t,"internal-error"),kr(a,t.name),kr(l,t.name),pt(typeof V=="boolean",t,"internal-error"),pt(typeof F=="boolean",t,"internal-error"),kr(c,t.name),kr(d,t.name),kr(g,t.name),kr(v,t.name),kr(y,t.name),kr(A,t.name);const dt=new Xn({uid:S,auth:t,email:l,emailVerified:V,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:et,createdAt:y,lastLoginAt:A});return $&&Array.isArray($)&&(dt.providerData=$.map(gt=>({...gt}))),v&&(dt._redirectEventId=v),dt}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ha;l.updateFromServerResponse(i);const c=new Xn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await nh(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];pt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?_T(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new Ha;g.updateFromIdToken(a);const v=new Xn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new fm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(v,y),v}}const aE=new Map;function Ji(s){tr(s instanceof Function,"Expected a class definition");let t=aE.get(s);return t?(tr(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,aE.set(s,t),t)}class vT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}vT.type="NONE";const oE=vT;function Bc(s,t,i){return`firebase:${s}:${t}:${i}`}class Ga{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Bc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Bc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await eh(this.auth,{idToken:t}).catch(()=>{});return i?Xn._fromGetAccountInfoResponse(this.auth,i,t):null}return Xn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ga(Ji(oE),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Ji(oE);const d=Bc(a,t.config.apiKey,t.name);let g=null;for(const y of i)try{const A=await y._get(d);if(A){let S;if(typeof A=="string"){const V=await eh(t,{idToken:A}).catch(()=>{});if(!V)break;S=await Xn._fromGetAccountInfoResponse(t,V,A)}else S=Xn._fromJSON(t,A);y!==c&&(g=S),c=y;break}}catch{}const v=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new Ga(c,t,a):(c=v[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Ga(c,t,a))}}function lE(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(bT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ET(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(wT(t))return"Blackberry";if(RT(t))return"Webos";if(TT(t))return"Safari";if((t.includes("chrome/")||AT(t))&&!t.includes("edge/"))return"Chrome";if(ST(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function ET(s=$e()){return/firefox\//i.test(s)}function TT(s=$e()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function AT(s=$e()){return/crios\//i.test(s)}function bT(s=$e()){return/iemobile/i.test(s)}function ST(s=$e()){return/android/i.test(s)}function wT(s=$e()){return/blackberry/i.test(s)}function RT(s=$e()){return/webos/i.test(s)}function ap(s=$e()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function s2(s=$e()){return ap(s)&&!!window.navigator?.standalone}function a2(){return Kb()&&document.documentMode===10}function IT(s=$e()){return ap(s)||ST(s)||RT(s)||wT(s)||/windows phone/i.test(s)||bT(s)}function CT(s,t=[]){let i;switch(s){case"Browser":i=lE($e());break;case"Worker":i=`${lE($e())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${io}/${a}`}class o2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const v=t(c);d(v)}catch(v){g(v)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function l2(s,t={}){return uo(s,"GET","/v2/passwordPolicy",rp(s,t))}const u2=6;class c2{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??u2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class h2{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uE(this),this.idTokenSubscription=new uE(this),this.beforeStateQueue=new o2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Ji(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ga.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await eh(this,{idToken:t}),a=await Xn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Kn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await nh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=FI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Kn(this.app))return Promise.reject(Us(this));const i=t?Pe(t):null;return i&&pt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(Us(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Kn(this.app)?Promise.reject(Us(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ji(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await l2(this),i=new c2(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new zl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await r2(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Ji(t)||this._popupRedirectResolver;pt(i,this,"argument-error"),this.redirectPersistenceManager=await Ga.create(this,[Ji(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,l);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=CT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&jI(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Th(s){return Pe(s)}class uE{constructor(t){this.auth=t,this.observer=null,this.addObserver=n1(i=>this.observer=i)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let op={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function f2(s){op=s}function d2(s){return op.loadJS(s)}function m2(){return op.gapiScript}function p2(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function g2(s,t){const i=ym(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Ls(c,t??{}))return l;Ci(l,"already-initialized")}return i.initialize({options:t})}function y2(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Ji);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function _2(s,t,i){const a=Th(s);pt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=DT(t),{host:d,port:g}=v2(t),v=g===null?"":`:${g}`,y={url:`${c}//${d}${v}/`},A=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){pt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),pt(Ls(y,a.config.emulator)&&Ls(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,no(d)?(IE(`${c}//${d}${v}`),CE("Auth",!0)):E2()}function DT(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function v2(s){const t=DT(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:cE(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:cE(d)}}}function cE(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function E2(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class NT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Xi("not implemented")}_getIdTokenResponse(t){return Xi("not implemented")}_linkToIdToken(t,i){return Xi("not implemented")}_getReauthenticationResolver(t){return Xi("not implemented")}}async function Fa(s,t){return XI(s,"POST","/v1/accounts:signInWithIdp",rp(s,t))}const T2="http://localhost";class js extends NT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new js(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Ci("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new js(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Fa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Fa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Fa(t,i)}buildRequest(){const t={requestUri:T2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Bl(i)}return t}}class lp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Xl extends lp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ur extends Xl{constructor(){super("facebook.com")}static credential(t){return js._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ur.credentialFromTaggedObject(t)}static credentialFromError(t){return Ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ur.credential(t.oauthAccessToken)}catch{return null}}}Ur.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ur.PROVIDER_ID="facebook.com";class Ki extends Xl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return js._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ki.credentialFromTaggedObject(t)}static credentialFromError(t){return Ki.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Ki.credential(i,a)}catch{return null}}}Ki.GOOGLE_SIGN_IN_METHOD="google.com";Ki.PROVIDER_ID="google.com";class Lr extends Xl{constructor(){super("github.com")}static credential(t){return js._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Lr.credentialFromTaggedObject(t)}static credentialFromError(t){return Lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Lr.credential(t.oauthAccessToken)}catch{return null}}}Lr.GITHUB_SIGN_IN_METHOD="github.com";Lr.PROVIDER_ID="github.com";class Pr extends Xl{constructor(){super("twitter.com")}static credential(t,i){return js._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Pr.credential(i,a)}catch{return null}}}Pr.TWITTER_SIGN_IN_METHOD="twitter.com";Pr.PROVIDER_ID="twitter.com";class eo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Xn._fromIdTokenResponse(t,a,l),d=hE(a);return new eo({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=hE(a);return new eo({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function hE(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class ih extends er{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,ih.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new ih(t,i,a,l)}}function OT(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ih._fromErrorAndOperation(s,c,t,a):c})}async function A2(s,t,i=!1){const a=await Pl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return eo._forOperation(s,"link",a)}async function b2(s,t,i=!1){const{auth:a}=s;if(Kn(a.app))return Promise.reject(Us(a));const l="reauthenticate";try{const c=await Pl(s,OT(a,l,t,s),i);pt(c.idToken,a,"internal-error");const d=sp(c.idToken);pt(d,a,"internal-error");const{sub:g}=d;return pt(s.uid===g,a,"user-mismatch"),eo._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ci(a,"user-mismatch"),c}}async function S2(s,t,i=!1){if(Kn(s.app))return Promise.reject(Us(s));const a="signIn",l=await OT(s,a,t),c=await eo._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}function w2(s,t,i,a){return Pe(s).onIdTokenChanged(t,i,a)}function R2(s,t,i){return Pe(s).beforeAuthStateChanged(t,i)}function I2(s,t,i,a){return Pe(s).onAuthStateChanged(t,i,a)}function C2(s){return Pe(s).signOut()}const rh="__sak";class VT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(rh,"1"),this.storage.removeItem(rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const D2=1e3,N2=10;class xT extends VT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);a2()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,N2):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},D2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}xT.type="LOCAL";const O2=xT;class MT extends VT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}MT.type="SESSION";const kT=MT;function V2(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Ah{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new Ah(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async y=>y(i.origin,c)),v=await V2(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ah.receivers=[];function up(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class x2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,v)=>{const y=up("",20);l.port1.start();const A=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const V=S;if(V.data.eventId===y)switch(V.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(V.data.response);break;default:clearTimeout(A),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ri(){return window}function M2(s){Ri().location.href=s}function UT(){return typeof Ri().WorkerGlobalScope<"u"&&typeof Ri().importScripts=="function"}async function k2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function U2(){return navigator?.serviceWorker?.controller||null}function L2(){return UT()?self:null}const LT="firebaseLocalStorageDb",P2=1,sh="firebaseLocalStorage",PT="fbase_key";class Jl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function bh(s,t){return s.transaction([sh],t?"readwrite":"readonly").objectStore(sh)}function z2(){const s=indexedDB.deleteDatabase(LT);return new Jl(s).toPromise()}function dm(){const s=indexedDB.open(LT,P2);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(sh,{keyPath:PT})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(sh)?t(a):(a.close(),await z2(),t(await dm()))})})}async function fE(s,t,i){const a=bh(s,!0).put({[PT]:t,value:i});return new Jl(a).toPromise()}async function B2(s,t){const i=bh(s,!1).get(t),a=await new Jl(i).toPromise();return a===void 0?null:a.value}function dE(s,t){const i=bh(s,!0).delete(t);return new Jl(i).toPromise()}const j2=800,q2=3;class zT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>q2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return UT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ah._getInstance(L2()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await k2(),!this.activeServiceWorker)return;this.sender=new x2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||U2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await dm();return await fE(t,rh,"1"),await dE(t,rh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>fE(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>B2(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>dE(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=bh(l,!1).getAll();return new Jl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),j2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zT.type="LOCAL";const H2=zT;new Kl(3e4,6e4);function BT(s,t){return t?Ji(t):(pt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class cp extends NT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Fa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Fa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Fa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function G2(s){return S2(s.auth,new cp(s),s.bypassAuthState)}function F2(s){const{auth:t,user:i}=s;return pt(i,t,"internal-error"),b2(i,new cp(s),s.bypassAuthState)}async function Q2(s){const{auth:t,user:i}=s;return pt(i,t,"internal-error"),A2(i,new cp(s),s.bypassAuthState)}class jT{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(v))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return G2;case"linkViaPopup":case"linkViaRedirect":return Q2;case"reauthViaPopup":case"reauthViaRedirect":return F2;default:Ci(this.auth,"internal-error")}}resolve(t){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Y2=new Kl(2e3,1e4);async function K2(s,t,i){if(Kn(s.app))return Promise.reject($n(s,"operation-not-supported-in-this-environment"));const a=Th(s);qI(s,t,lp);const l=BT(a,i);return new xs(a,"signInViaPopup",t,l).executeNotNull()}class xs extends jT{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,xs.currentPopupAction&&xs.currentPopupAction.cancel(),xs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){tr(this.filter.length===1,"Popup operations only handle one event");const t=up();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject($n(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject($n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xs.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($n(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Y2.get())};t()}}xs.currentPopupAction=null;const X2="pendingRedirect",jc=new Map;class J2 extends jT{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=jc.get(this.auth._key());if(!t){try{const a=await Z2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}jc.set(this.auth._key(),t)}return this.bypassAuthState||jc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Z2(s,t){const i=tC(t),a=W2(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function $2(s,t){jc.set(s._key(),t)}function W2(s){return Ji(s._redirectPersistence)}function tC(s){return Bc(X2,s.config.apiKey,s.name)}async function eC(s,t,i=!1){if(Kn(s.app))return Promise.reject(Us(s));const a=Th(s),l=BT(a,t),d=await new J2(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const nC=600*1e3;class iC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!rC(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!qT(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError($n(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=nC&&this.cachedEventUids.clear(),this.cachedEventUids.has(mE(t))}saveEventToCache(t){this.cachedEventUids.add(mE(t)),this.lastProcessedEventTime=Date.now()}}function mE(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function qT({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function rC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qT(s);default:return!1}}async function sC(s,t={}){return uo(s,"GET","/v1/projects",t)}const aC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oC=/^https?/;async function lC(s){if(s.config.emulator)return;const{authorizedDomains:t}=await sC(s);for(const i of t)try{if(uC(i))return}catch{}Ci(s,"unauthorized-domain")}function uC(s){const t=hm(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!oC.test(i))return!1;if(aC.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const cC=new Kl(3e4,6e4);function pE(){const s=Ri().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function hC(s){return new Promise((t,i)=>{function a(){pE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{pE(),i($n(s,"network-request-failed"))},timeout:cC.get()})}if(Ri().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ri().gapi?.load)a();else{const l=p2("iframefcb");return Ri()[l]=()=>{gapi.load?a():i($n(s,"network-request-failed"))},d2(`${m2()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw qc=null,t})}let qc=null;function fC(s){return qc=qc||hC(s),qc}const dC=new Kl(5e3,15e3),mC="__/auth/iframe",pC="emulator/auth/iframe",gC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _C(s){const t=s.config;pt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?ip(t,pC):`https://${s.config.authDomain}/${mC}`,a={apiKey:t.apiKey,appName:s.name,v:io},l=yC.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Bl(a).slice(1)}`}async function vC(s){const t=await fC(s),i=Ri().gapi;return pt(i,s,"internal-error"),t.open({where:document.body,url:_C(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gC,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=$n(s,"network-request-failed"),g=Ri().setTimeout(()=>{c(d)},dC.get());function v(){Ri().clearTimeout(g),l(a)}a.ping(v).then(v,()=>{c(d)})}))}const EC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TC=500,AC=600,bC="_blank",SC="http://localhost";class gE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wC(s,t,i,a=TC,l=AC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const v={...EC,width:a.toString(),height:l.toString(),top:c,left:d},y=$e().toLowerCase();i&&(g=AT(y)?bC:i),ET(y)&&(t=t||SC,v.scrollbars="yes");const A=Object.entries(v).reduce((V,[F,$])=>`${V}${F}=${$},`,"");if(s2(y)&&g!=="_self")return RC(t||"",g),new gE(null);const S=window.open(t||"",g,A);pt(S,s,"popup-blocked");try{S.focus()}catch{}return new gE(S)}function RC(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const IC="__/auth/handler",CC="emulator/auth/handler",DC=encodeURIComponent("fac");async function yE(s,t,i,a,l,c){pt(s.config.authDomain,s,"auth-domain-config-required"),pt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:io,eventId:l};if(t instanceof lp){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",e1(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(t instanceof Xl){const A=t.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const v=await s._getAppCheckToken(),y=v?`#${DC}=${encodeURIComponent(v)}`:"";return`${NC(s)}?${Bl(g).slice(1)}${y}`}function NC({config:s}){return s.emulator?ip(s,CC):`https://${s.authDomain}/${IC}`}const Bd="webStorageSupport";class OC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kT,this._completeRedirectFn=eC,this._overrideRedirectResult=$2}async _openPopup(t,i,a,l){tr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await yE(t,i,a,hm(),l);return wC(t,c,up())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await yE(t,i,a,hm(),l);return M2(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(tr(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await vC(t),a=new iC(t);return i.register("authEvent",l=>(pt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Bd,{type:Bd},l=>{const c=l?.[0]?.[Bd];c!==void 0&&i(!!c),Ci(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=lC(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return IT()||TT()||ap()}}const VC=OC;var _E="@firebase/auth",vE="1.12.0";class xC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function MC(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kC(s){Qa(new Ps("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;pt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CT(s)},y=new h2(a,l,c,v);return y2(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Qa(new Ps("auth-internal",t=>{const i=Th(t.getProvider("auth").getImmediate());return(a=>new xC(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),qr(_E,vE,MC(s)),qr(_E,vE,"esm2020")}const UC=300,LC=RE("authIdTokenMaxAge")||UC;let EE=null;const PC=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>LC)return;const l=i?.token;EE!==l&&(EE=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function zC(s=VE()){const t=ym(s,"auth");if(t.isInitialized())return t.getImmediate();const i=g2(s,{popupRedirectResolver:VC,persistence:[H2,O2,kT]}),a=RE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=PC(c.toString());R2(i,d,()=>d(i.currentUser)),w2(i,g=>d(g))}}const l=SE("auth");return l&&_2(i,`http://${l}`),i}function BC(){return document.getElementsByTagName("head")?.[0]??document}f2({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=$n("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",BC().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kC("Browser");const jC={apiKey:"AIzaSyCQyGS486-RohBd3FHBQENIhH0PSkInwBs",authDomain:"expothearchive.firebaseapp.com",projectId:"expothearchive",storageBucket:"expothearchive.firebasestorage.app",messagingSenderId:"18895439101",appId:"1:18895439101:web:c17f8c3e565147f7396a94"},HT=OE(jC),ka=TI(HT),jd=zC(HT),qC=new Ki;function HC(){const[s,t]=Ue.useState([]),[i,a]=Ue.useState([]),[l,c]=Ue.useState(!0),[d,g]=Ue.useState(null),[v,y]=Ue.useState("grid"),[A,S]=Ue.useState(null),[V,F]=Ue.useState(""),[$,it]=Ue.useState(new Date),[et,dt]=Ue.useState("all"),[gt,_t]=Ue.useState(""),[wt,Gt]=Ue.useState({type:"blog",content:"",title:"",src:"",isTitle:!1,sourceInfo:"",date:new Date().toLocaleDateString("nl-NL")});Ue.useEffect(()=>{const J=setInterval(()=>it(new Date),1e3);return()=>clearInterval(J)},[]),Ue.useEffect(()=>{const J=I2(jd,At=>S(At));return()=>J()},[]);const kt=async()=>{try{await K2(jd,qC)}catch(J){console.error(J)}},C=()=>C2(jd);Ue.useEffect(()=>{const J=$v(Oc(ka,"posts"),Wv("timestamp","desc")),At=iE(J,q=>{const tt=q.docs.map(ut=>({id:ut.id,...ut.data()}));t(tt),c(!1)});return()=>At()},[]);const b=Ue.useMemo(()=>s.filter(J=>{const At=et==="all"||J.type===et,q=J.content?.toLowerCase().includes(gt.toLowerCase())||J.title?.toLowerCase().includes(gt.toLowerCase())||J.sourceInfo?.toLowerCase().includes(gt.toLowerCase());return At&&q}),[s,et,gt]);Ue.useEffect(()=>{if(!d)return;const J=$v(Oc(ka,"posts",d.id,"comments"),Wv("timestamp","asc")),At=iE(J,q=>{const tt=q.docs.map(ut=>({id:ut.id,...ut.data()}));a(tt)});return()=>At()},[d]);const I=async J=>{if(J.preventDefault(),!!A)try{await nE(Oc(ka,"posts"),{...wt,timestamp:Kv(),authorEmail:A.email,likes:0}),Gt({type:"blog",content:"",title:"",src:"",isTitle:!1,sourceInfo:"",date:new Date().toLocaleDateString("nl-NL")}),y("grid")}catch(At){console.error(At)}},x=async(J,At)=>{if(J.stopPropagation(),!!window.confirm("Archiefstuk definitief vernietigen?"))try{await PI(cm(ka,"posts",At))}catch(q){console.error(q)}},D=async(J,At)=>{J.stopPropagation();try{const q=cm(ka,"posts",At);await LI(q,{likes:VI(1)})}catch(q){console.error(q)}},k=async J=>{if(J.preventDefault(),!(!V.trim()||!A||!d))try{await nE(Oc(ka,"posts",d.id,"comments"),{text:V,userName:A.displayName,userPhoto:A.photoURL,timestamp:Kv(),isAdmin:A.email.toLowerCase()==="gielmolder@gmail.com"}),F("")}catch(At){console.error(At)}};Ue.useEffect(()=>{const J=document.createElement("style");J.innerHTML=`
      ::-webkit-scrollbar { display: none; }
      body { 
        -ms-overflow-style: none; scrollbar-width: none; 
        overflow-y: scroll; background-color: #f0f0f0; margin: 0;
      }
      .fade-in-entry {
        animation: fadeIn 0.8s ease-out forwards;
        opacity: 0;
      }
      @keyframes fadeIn {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
      }
    `,document.head.appendChild(J)},[]);const w=A&&A.email&&A.email.toLowerCase()==="gielmolder@gmail.com";return Z.jsxs("div",{className:"min-h-screen text-[#1a1a1a] font-mono selection:bg-black selection:text-white flex flex-col",children:[v==="grid"&&Z.jsxs("header",{className:"p-4 md:p-10 border-b-8 border-black flex flex-col md:flex-row justify-between items-start md:items-center bg-white sticky top-0 z-40 shadow-[0_4px_0_0_rgba(0,0,0,1)] gap-6",children:[Z.jsxs("div",{className:"group cursor-default pr-4",children:[Z.jsx("h1",{className:"text-3xl md:text-6xl font-bold font-mono uppercase tracking-tighter italic leading-none break-words max-w-[200px] md:max-w-none",children:"The Archive"}),Z.jsx("p",{className:"text-[8px] md:text-xs font-bold font-mono bg-black text-white px-2 py-1 mt-2 inline-block uppercase tracking-widest",children:"Exposure Therapy // Giel te Molder"})]}),Z.jsxs("div",{className:"flex flex-col gap-4 w-full md:w-auto",children:[Z.jsxs("div",{className:"flex border-4 border-black bg-white shadow-[4px_4px_0_0_rgba(0,0,0,1)]",children:[Z.jsx("input",{type:"text",placeholder:"SEARCH_ARCHIVE...",className:"bg-transparent p-2 text-xs font-bold outline-none flex-grow md:w-64 uppercase",value:gt,onChange:J=>_t(J.target.value)}),Z.jsx("div",{className:"bg-black text-white p-2",children:Z.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),Z.jsx("div",{className:"flex gap-2 text-[10px] font-black uppercase",children:["all","blog","art"].map(J=>Z.jsx("button",{onClick:()=>dt(J),className:`border-2 border-black px-3 py-1 transition-colors ${et===J?"bg-black text-white":"bg-white hover:bg-yellow-300"}`,children:J==="all"?"Everything":J==="blog"?"Text":"Visual"},J))})]}),Z.jsxs("div",{className:"flex flex-col md:flex-row gap-2 md:gap-4 items-end md:items-center self-end md:self-auto",children:[w&&Z.jsx("button",{onClick:()=>y("admin"),className:"bg-yellow-300 border-2 md:border-4 border-black px-3 md:px-6 py-1 md:py-3 text-[10px] md:text-xs font-black uppercase shadow-[4px_4px_0_0_rgba(0,0,0,1)] hover:shadow-none hover:translate-x-1 hover:translate-y-1 transition-all",children:"+ ADD_ENTRY"}),A?Z.jsxs("div",{className:"flex items-center gap-2 md:gap-4 bg-black text-white p-1 md:p-2 pr-3 md:pr-6 border-2 md:border-4 border-black shadow-[4px_4px_0_0_rgba(0,0,0,0.2)]",children:[A.photoURL&&Z.jsx("img",{src:A.photoURL,className:"w-6 h-6 md:w-10 md:h-10 grayscale border border-white",alt:"u"}),Z.jsx("button",{onClick:C,className:"text-[8px] md:text-[10px] font-black underline uppercase hover:text-yellow-300",children:"Out_"})]}):Z.jsx("button",{onClick:kt,className:"border-2 md:border-4 border-black px-3 md:px-6 py-1 md:py-3 text-[10px] md:text-xs font-black uppercase shadow-[4px_4px_0_0_rgba(0,0,0,1)] hover:bg-yellow-300 transition-colors",children:"LOGIN_"})]})]}),Z.jsxs("div",{className:"flex-grow",children:[v==="admin"&&Z.jsx("div",{className:"min-h-[80vh] bg-[#f0f0f0] flex flex-col p-4 md:p-20 items-center justify-center animate-in fade-in slide-in-from-bottom duration-500",children:Z.jsxs("div",{className:"max-w-3xl mx-auto w-full space-y-8 bg-white border-4 md:border-[10px] border-black p-6 md:p-10 shadow-[10px_10px_0_0_rgba(0,0,0,1)] md:shadow-[25px_25px_0_0_rgba(0,0,0,1)]",children:[Z.jsxs("div",{className:"flex justify-between items-center border-b-4 border-black pb-4",children:[Z.jsx("h2",{className:"text-2xl md:text-5xl font-black italic tracking-tighter uppercase underline decoration-yellow-300 underline-offset-4 font-mono",children:"Input_Terminal"}),Z.jsx("button",{onClick:()=>y("grid"),className:"text-[10px] font-black bg-black text-white px-4 py-2 hover:bg-yellow-300 hover:text-black transition-all border-2 border-black",children:"X"})]}),Z.jsxs("form",{onSubmit:I,className:"space-y-6 md:space-y-12",children:[Z.jsxs("div",{className:"flex border-4 border-black shadow-[6px_6px_0_0_rgba(0,0,0,1)]",children:[Z.jsx("button",{type:"button",onClick:()=>Gt({...wt,type:"blog"}),className:`flex-1 py-3 md:py-6 font-black uppercase text-[10px] md:text-sm ${wt.type==="blog"?"bg-black text-white":"bg-white"}`,children:"Tekst"}),Z.jsx("button",{type:"button",onClick:()=>Gt({...wt,type:"art"}),className:`flex-1 py-3 md:py-6 font-black uppercase text-[10px] md:text-sm ${wt.type==="art"?"bg-black text-white":"bg-white"}`,children:"Beeld"})]}),Z.jsxs("div",{className:"space-y-4",children:[wt.type==="art"?Z.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[Z.jsx("input",{type:"text",placeholder:"NAAM_VAN_WERK",className:"w-full bg-transparent border-b-4 border-black p-2 text-lg font-black outline-none font-mono",value:wt.title,onChange:J=>Gt({...wt,title:J.target.value})}),Z.jsx("input",{type:"text",placeholder:"PAD (/art/filename.jpg)",className:"w-full bg-transparent border-b-4 border-black p-2 text-lg font-black outline-none font-mono",value:wt.src,onChange:J=>Gt({...wt,src:J.target.value})})]}):Z.jsxs("label",{className:"flex items-center gap-4 cursor-pointer p-4 border-4 border-black font-black uppercase text-[10px] bg-gray-50 shadow-[4px_4px_0_0_rgba(0,0,0,1)] font-mono",children:[Z.jsx("input",{type:"checkbox",checked:wt.isTitle,onChange:J=>Gt({...wt,isTitle:J.target.checked}),className:"w-6 h-6 accent-black"}),Z.jsx("span",{children:"Manifesto Modus"})]}),Z.jsx("textarea",{className:"w-full bg-white border-4 border-black p-4 h-64 md:h-96 text-lg font-bold outline-none focus:bg-yellow-50 resize-none font-mono",placeholder:"RAW_DATA_ENTRY...",value:wt.content,onChange:J=>Gt({...wt,content:J.target.value})})]}),Z.jsx("button",{type:"submit",className:"w-full bg-black text-white py-6 font-black text-2xl md:text-4xl uppercase italic tracking-tighter hover:bg-yellow-300 hover:text-black transition-all shadow-[10px_10px_0_0_rgba(0,0,0,1)] font-mono",children:"PUSH_TO_CLOUD_"})]})]})}),v==="grid"&&Z.jsx("main",{className:"p-4 md:p-12 mb-10",children:Z.jsx("div",{className:"columns-2 md:columns-3 lg:columns-4 xl:columns-5 gap-4 md:gap-8 max-w-[1700px] mx-auto space-y-4 md:space-y-8",children:b.map(J=>Z.jsxs("div",{onClick:()=>g(J),className:`
                    break-inside-avoid border-2 md:border-4 border-black group cursor-pointer transition-all mb-4 md:mb-8 fade-in-entry
                    shadow-[4px_4px_0_0_rgba(0,0,0,1)] md:shadow-[8px_8px_0_0_rgba(0,0,0,1)] hover:shadow-none hover:translate-x-1 hover:translate-y-1 relative
                    ${J.type==="art"?"bg-black p-0.5":"p-4 md:p-8"}
                    ${J.isTitle?"bg-white italic border-l-[8px] md:border-l-[15px]":J.type==="blog"?"bg-yellow-300":""}
                  `,children:[w&&Z.jsx("button",{onClick:At=>x(At,J.id),className:"absolute -top-2 -right-2 bg-red-500 text-white w-6 h-6 border-2 border-black z-10 flex items-center justify-center hover:bg-black transition-colors shadow-[2px_2px_0_0_rgba(0,0,0,1)]",children:Z.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),J.type==="blog"&&Z.jsxs("div",{className:"space-y-2 md:space-y-4",children:[Z.jsx("p",{className:`font-black tracking-tighter leading-tight uppercase ${J.isTitle?"text-lg md:text-3xl":"text-[9px] md:text-[12px] line-clamp-[10]"} font-mono`,children:J.isTitle?`"${J.content}"`:J.content}),Z.jsxs("div",{className:"flex justify-between items-end",children:[Z.jsxs("button",{onClick:At=>D(At,J.id),className:"flex items-center gap-1 text-[8px] md:text-[10px] font-black border border-black/20 px-1 hover:bg-white transition-colors",children:[Z.jsx("svg",{className:"w-2 h-2 text-red-500 fill-current",viewBox:"0 0 20 20",children:Z.jsx("path",{d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z"})}),J.likes||0]}),Z.jsx("div",{className:"text-[7px] md:text-[10px] font-black opacity-40 text-right uppercase italic underline underline-offset-4 font-mono",children:J.date})]})]}),J.type==="art"&&Z.jsxs("div",{className:"relative",children:[Z.jsx("img",{src:J.src,alt:J.title,className:"w-full h-auto grayscale group-hover:grayscale-0 transition-all duration-700 block",onError:At=>{At.target.src="https://via.placeholder.com/400?text=DATA_MISSING"}}),Z.jsx("div",{className:"absolute top-2 left-2 bg-white border-2 border-black px-2 py-0.5 text-[7px] md:text-[10px] font-black uppercase italic shadow-[3px_3px_0_0_rgba(0,0,0,1)] font-mono",children:J.title}),Z.jsxs("button",{onClick:At=>D(At,J.id),className:"absolute bottom-2 right-2 bg-white border-2 border-black px-1 flex items-center gap-1 text-[8px] font-black shadow-[2px_2px_0_0_rgba(0,0,0,1)]",children:[Z.jsx("svg",{className:"w-2 h-2 text-red-500 fill-current",viewBox:"0 0 20 20",children:Z.jsx("path",{d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z"})}),J.likes||0]})]})]},J.id))})})]}),v==="grid"&&Z.jsxs("footer",{className:"w-full px-6 py-4 flex flex-col md:flex-row justify-between items-center opacity-40 hover:opacity-100 transition-opacity duration-500 border-t border-black/10 text-[9px] md:text-[10px] gap-4 font-mono",children:[Z.jsxs("div",{className:"flex gap-6 uppercase font-bold tracking-widest",children:[Z.jsx("a",{href:"https://instagram.com/gieltemolder",target:"_blank",className:"hover:underline",children:"Instagram"}),Z.jsx("a",{href:"mailto:gielmolder@gmail.com",className:"hover:underline",children:"Contact"}),Z.jsx("span",{children:"Exposure Therapy Archive"})]}),Z.jsxs("div",{className:"flex items-center gap-6",children:[Z.jsx("div",{className:"font-mono tabular-nums tracking-tighter",children:$.toLocaleTimeString("nl-NL",{hour12:!1})}),Z.jsxs("div",{className:"bg-black text-white px-2 py-1 flex items-center gap-2",children:[Z.jsx("span",{className:"animate-pulse w-1 h-1 bg-yellow-300 rounded-full"}),Z.jsx("span",{className:"font-black uppercase tracking-tighter",children:"NODE_01"})]})]})]}),d&&Z.jsx("div",{className:"fixed inset-0 bg-black/95 z-50 flex items-center justify-center p-2 md:p-12 backdrop-blur-xl animate-in fade-in duration-300",onClick:()=>g(null),children:Z.jsxs("div",{className:"w-full max-w-3xl max-h-[90vh] overflow-y-auto bg-white border-4 md:border-[8px] border-black p-5 md:p-10 relative shadow-[10px_10px_0_0_rgba(0,0,0,1)] md:shadow-[20px_20px_0_0_rgba(20,20,20,1)] font-mono",onClick:J=>J.stopPropagation(),children:[Z.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-3 mb-6 md:mb-10 border-b-4 md:border-b-8 border-black pb-4 md:pb-8",children:[Z.jsx("h2",{className:"text-2xl md:text-5xl font-black uppercase italic tracking-tighter underline underline-offset-4 decoration-yellow-300 leading-tight font-mono",children:d.title||(d.isTitle?"Manifesto":"Entry")}),Z.jsxs("div",{className:"flex gap-2",children:[Z.jsxs("button",{onClick:()=>D(null,d.id),className:"bg-white text-black px-4 py-2 border-2 md:border-4 border-black font-black hover:bg-red-50 flex items-center gap-2",children:[Z.jsx("svg",{className:"w-4 h-4 text-red-500 fill-current",viewBox:"0 0 20 20",children:Z.jsx("path",{d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z"})}),d.likes||0]}),Z.jsx("button",{onClick:()=>g(null),className:"bg-black text-white px-5 py-2 md:px-8 md:py-3 font-black text-xs border-2 md:border-4 border-black hover:bg-yellow-300 hover:text-black transition-colors font-mono",children:"EXIT_"})]})]}),Z.jsxs("div",{className:"space-y-8 md:space-y-12",children:[d.type==="art"&&Z.jsx("div",{className:"border-4 md:border-8 border-black p-1 bg-black",children:Z.jsx("img",{src:d.src,className:"w-full h-auto grayscale hover:grayscale-0 transition-all duration-1000 border-2 md:border-4 border-white",alt:"Art"})}),Z.jsx("div",{className:"text-lg md:text-2xl leading-snug font-black text-black text-justify whitespace-pre-wrap tracking-tighter uppercase selection:bg-yellow-300 font-mono",children:d.content}),Z.jsxs("div",{className:"mt-12 md:mt-20 border-t-4 md:border-t-8 border-black pt-6 md:pt-10",children:[Z.jsx("h3",{className:"text-lg md:text-3xl font-black uppercase italic mb-6 underline font-mono",children:"Responses_"}),Z.jsx("div",{className:"space-y-3 md:space-y-6 mb-8 font-mono",children:i.length===0?Z.jsx("p",{className:"text-[10px] md:text-xs font-bold opacity-30 italic",children:"Nog geen reacties..."}):i.map(J=>Z.jsxs("div",{className:`p-3 border-2 border-black flex gap-3 ${J.isAdmin?"bg-yellow-300":"bg-white"} shadow-[3px_3px_0_0_rgba(0,0,0,1)]`,children:[J.userPhoto&&Z.jsx("img",{src:J.userPhoto,className:"w-7 h-7 md:w-10 md:h-10 border-2 border-black grayscale",alt:"av"}),Z.jsxs("div",{children:[Z.jsxs("p",{className:"text-[7px] md:text-[9px] font-black uppercase opacity-50 mb-1",children:[J.userName," // ",J.isAdmin?"ADMIN":"GEBRUIKER"]}),Z.jsx("p",{className:"text-xs md:text-lg font-bold tracking-tight leading-tight",children:J.text})]})]},J.id))}),A?Z.jsxs("form",{onSubmit:k,className:"flex flex-col gap-3",children:[Z.jsx("textarea",{value:V,onChange:J=>F(J.target.value),placeholder:"Schrijf je reactie...",className:"w-full border-4 border-black p-3 text-xs md:text-lg font-bold focus:bg-yellow-50 outline-none shadow-[4px_4px_0_0_rgba(0,0,0,1)] font-mono"}),Z.jsx("button",{type:"submit",className:"bg-black text-white py-3 md:py-4 font-black uppercase text-xs md:text-lg hover:bg-yellow-300 hover:text-black transition-all shadow-[6px_6px_0_0_rgba(0,0,0,1)] font-mono",children:"SEND_ENTRY"})]}):Z.jsx("button",{onClick:kt,className:"w-full border-4 border-dashed border-black p-4 md:p-8 text-[10px] md:text-lg font-black uppercase hover:bg-yellow-300 transition-colors font-mono",children:"LOGIN_OM_TE_REAGEREN_"})]})]})]})})]})}Db.createRoot(document.getElementById("root")).render(Z.jsx(Ue.StrictMode,{children:Z.jsx(HC,{})}));
